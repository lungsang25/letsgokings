var P0=t=>{throw TypeError(t)};var tp=(t,e,n)=>e.has(t)||P0("Cannot "+n);var U=(t,e,n)=>(tp(t,e,"read from private field"),n?n.call(t):e.get(t)),Te=(t,e,n)=>e.has(t)?P0("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),de=(t,e,n,r)=>(tp(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),Tt=(t,e,n)=>(tp(t,e,"access private method"),n);var ou=(t,e,n,r)=>({set _(s){de(t,e,s,n)},get _(){return U(t,e,r)}});function AN(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function Lx(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Vx={exports:{}},Ih={},jx={exports:{}},ge={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bc=Symbol.for("react.element"),RN=Symbol.for("react.portal"),PN=Symbol.for("react.fragment"),kN=Symbol.for("react.strict_mode"),NN=Symbol.for("react.profiler"),DN=Symbol.for("react.provider"),MN=Symbol.for("react.context"),ON=Symbol.for("react.forward_ref"),LN=Symbol.for("react.suspense"),VN=Symbol.for("react.memo"),jN=Symbol.for("react.lazy"),k0=Symbol.iterator;function FN(t){return t===null||typeof t!="object"?null:(t=k0&&t[k0]||t["@@iterator"],typeof t=="function"?t:null)}var Fx={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Ux=Object.assign,$x={};function Aa(t,e,n){this.props=t,this.context=e,this.refs=$x,this.updater=n||Fx}Aa.prototype.isReactComponent={};Aa.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Aa.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Bx(){}Bx.prototype=Aa.prototype;function Jg(t,e,n){this.props=t,this.context=e,this.refs=$x,this.updater=n||Fx}var Zg=Jg.prototype=new Bx;Zg.constructor=Jg;Ux(Zg,Aa.prototype);Zg.isPureReactComponent=!0;var N0=Array.isArray,zx=Object.prototype.hasOwnProperty,ey={current:null},Hx={key:!0,ref:!0,__self:!0,__source:!0};function Wx(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)zx.call(e,r)&&!Hx.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];s.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:bc,type:t,key:i,ref:o,props:s,_owner:ey.current}}function UN(t,e){return{$$typeof:bc,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function ty(t){return typeof t=="object"&&t!==null&&t.$$typeof===bc}function $N(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var D0=/\/+/g;function np(t,e){return typeof t=="object"&&t!==null&&t.key!=null?$N(""+t.key):e.toString(36)}function Bu(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case bc:case RN:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+np(o,0):r,N0(s)?(n="",t!=null&&(n=t.replace(D0,"$&/")+"/"),Bu(s,e,n,"",function(u){return u})):s!=null&&(ty(s)&&(s=UN(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(D0,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",N0(t))for(var a=0;a<t.length;a++){i=t[a];var l=r+np(i,a);o+=Bu(i,e,n,l,s)}else if(l=FN(t),typeof l=="function")for(t=l.call(t),a=0;!(i=t.next()).done;)i=i.value,l=r+np(i,a++),o+=Bu(i,e,n,l,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function au(t,e,n){if(t==null)return t;var r=[],s=0;return Bu(t,r,"","",function(i){return e.call(n,i,s++)}),r}function BN(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Ft={current:null},zu={transition:null},zN={ReactCurrentDispatcher:Ft,ReactCurrentBatchConfig:zu,ReactCurrentOwner:ey};function qx(){throw Error("act(...) is not supported in production builds of React.")}ge.Children={map:au,forEach:function(t,e,n){au(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return au(t,function(){e++}),e},toArray:function(t){return au(t,function(e){return e})||[]},only:function(t){if(!ty(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ge.Component=Aa;ge.Fragment=PN;ge.Profiler=NN;ge.PureComponent=Jg;ge.StrictMode=kN;ge.Suspense=LN;ge.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=zN;ge.act=qx;ge.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=Ux({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=ey.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)zx.call(e,l)&&!Hx.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:bc,type:t.type,key:s,ref:i,props:r,_owner:o}};ge.createContext=function(t){return t={$$typeof:MN,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:DN,_context:t},t.Consumer=t};ge.createElement=Wx;ge.createFactory=function(t){var e=Wx.bind(null,t);return e.type=t,e};ge.createRef=function(){return{current:null}};ge.forwardRef=function(t){return{$$typeof:ON,render:t}};ge.isValidElement=ty;ge.lazy=function(t){return{$$typeof:jN,_payload:{_status:-1,_result:t},_init:BN}};ge.memo=function(t,e){return{$$typeof:VN,type:t,compare:e===void 0?null:e}};ge.startTransition=function(t){var e=zu.transition;zu.transition={};try{t()}finally{zu.transition=e}};ge.unstable_act=qx;ge.useCallback=function(t,e){return Ft.current.useCallback(t,e)};ge.useContext=function(t){return Ft.current.useContext(t)};ge.useDebugValue=function(){};ge.useDeferredValue=function(t){return Ft.current.useDeferredValue(t)};ge.useEffect=function(t,e){return Ft.current.useEffect(t,e)};ge.useId=function(){return Ft.current.useId()};ge.useImperativeHandle=function(t,e,n){return Ft.current.useImperativeHandle(t,e,n)};ge.useInsertionEffect=function(t,e){return Ft.current.useInsertionEffect(t,e)};ge.useLayoutEffect=function(t,e){return Ft.current.useLayoutEffect(t,e)};ge.useMemo=function(t,e){return Ft.current.useMemo(t,e)};ge.useReducer=function(t,e,n){return Ft.current.useReducer(t,e,n)};ge.useRef=function(t){return Ft.current.useRef(t)};ge.useState=function(t){return Ft.current.useState(t)};ge.useSyncExternalStore=function(t,e,n){return Ft.current.useSyncExternalStore(t,e,n)};ge.useTransition=function(){return Ft.current.useTransition()};ge.version="18.3.1";jx.exports=ge;var y=jx.exports;const W=Lx(y),ny=AN({__proto__:null,default:W},[y]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var HN=y,WN=Symbol.for("react.element"),qN=Symbol.for("react.fragment"),GN=Object.prototype.hasOwnProperty,KN=HN.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,QN={key:!0,ref:!0,__self:!0,__source:!0};function Gx(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)GN.call(e,r)&&!QN.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:WN,type:t,key:i,ref:o,props:s,_owner:KN.current}}Ih.Fragment=qN;Ih.jsx=Gx;Ih.jsxs=Gx;Vx.exports=Ih;var f=Vx.exports,Kx={exports:{}},fn={},Qx={exports:{}},Yx={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(F,V){var q=F.length;F.push(V);e:for(;0<q;){var ee=q-1>>>1,X=F[ee];if(0<s(X,V))F[ee]=V,F[q]=X,q=ee;else break e}}function n(F){return F.length===0?null:F[0]}function r(F){if(F.length===0)return null;var V=F[0],q=F.pop();if(q!==V){F[0]=q;e:for(var ee=0,X=F.length,ce=X>>>1;ee<ce;){var ae=2*(ee+1)-1,Pe=F[ae],Ne=ae+1,he=F[Ne];if(0>s(Pe,q))Ne<X&&0>s(he,Pe)?(F[ee]=he,F[Ne]=q,ee=Ne):(F[ee]=Pe,F[ae]=q,ee=ae);else if(Ne<X&&0>s(he,q))F[ee]=he,F[Ne]=q,ee=Ne;else break e}}return V}function s(F,V){var q=F.sortIndex-V.sortIndex;return q!==0?q:F.id-V.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],d=1,h=null,p=3,g=!1,S=!1,E=!1,x=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function T(F){for(var V=n(u);V!==null;){if(V.callback===null)r(u);else if(V.startTime<=F)r(u),V.sortIndex=V.expirationTime,e(l,V);else break;V=n(u)}}function P(F){if(E=!1,T(F),!S)if(n(l)!==null)S=!0,Z(M);else{var V=n(u);V!==null&&oe(P,V.startTime-F)}}function M(F,V){S=!1,E&&(E=!1,v(b),b=-1),g=!0;var q=p;try{for(T(V),h=n(l);h!==null&&(!(h.expirationTime>V)||F&&!N());){var ee=h.callback;if(typeof ee=="function"){h.callback=null,p=h.priorityLevel;var X=ee(h.expirationTime<=V);V=t.unstable_now(),typeof X=="function"?h.callback=X:h===n(l)&&r(l),T(V)}else r(l);h=n(l)}if(h!==null)var ce=!0;else{var ae=n(u);ae!==null&&oe(P,ae.startTime-V),ce=!1}return ce}finally{h=null,p=q,g=!1}}var O=!1,I=null,b=-1,C=5,R=-1;function N(){return!(t.unstable_now()-R<C)}function D(){if(I!==null){var F=t.unstable_now();R=F;var V=!0;try{V=I(!0,F)}finally{V?k():(O=!1,I=null)}}else O=!1}var k;if(typeof _=="function")k=function(){_(D)};else if(typeof MessageChannel<"u"){var H=new MessageChannel,se=H.port2;H.port1.onmessage=D,k=function(){se.postMessage(null)}}else k=function(){x(D,0)};function Z(F){I=F,O||(O=!0,k())}function oe(F,V){b=x(function(){F(t.unstable_now())},V)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(F){F.callback=null},t.unstable_continueExecution=function(){S||g||(S=!0,Z(M))},t.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<F?Math.floor(1e3/F):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(F){switch(p){case 1:case 2:case 3:var V=3;break;default:V=p}var q=p;p=V;try{return F()}finally{p=q}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(F,V){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var q=p;p=F;try{return V()}finally{p=q}},t.unstable_scheduleCallback=function(F,V,q){var ee=t.unstable_now();switch(typeof q=="object"&&q!==null?(q=q.delay,q=typeof q=="number"&&0<q?ee+q:ee):q=ee,F){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=q+X,F={id:d++,callback:V,priorityLevel:F,startTime:q,expirationTime:X,sortIndex:-1},q>ee?(F.sortIndex=q,e(u,F),n(l)===null&&F===n(u)&&(E?(v(b),b=-1):E=!0,oe(P,q-ee))):(F.sortIndex=X,e(l,F),S||g||(S=!0,Z(M))),F},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(F){var V=p;return function(){var q=p;p=V;try{return F.apply(this,arguments)}finally{p=q}}}})(Yx);Qx.exports=Yx;var YN=Qx.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var XN=y,dn=YN;function z(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Xx=new Set,$l={};function no(t,e){ca(t,e),ca(t+"Capture",e)}function ca(t,e){for($l[t]=e,t=0;t<e.length;t++)Xx.add(e[t])}var Kr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),lm=Object.prototype.hasOwnProperty,JN=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,M0={},O0={};function ZN(t){return lm.call(O0,t)?!0:lm.call(M0,t)?!1:JN.test(t)?O0[t]=!0:(M0[t]=!0,!1)}function e2(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function t2(t,e,n,r){if(e===null||typeof e>"u"||e2(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Ut(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var Et={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Et[t]=new Ut(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Et[e]=new Ut(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Et[t]=new Ut(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Et[t]=new Ut(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Et[t]=new Ut(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Et[t]=new Ut(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Et[t]=new Ut(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Et[t]=new Ut(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Et[t]=new Ut(t,5,!1,t.toLowerCase(),null,!1,!1)});var ry=/[\-:]([a-z])/g;function sy(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(ry,sy);Et[e]=new Ut(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(ry,sy);Et[e]=new Ut(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(ry,sy);Et[e]=new Ut(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Et[t]=new Ut(t,1,!1,t.toLowerCase(),null,!1,!1)});Et.xlinkHref=new Ut("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Et[t]=new Ut(t,1,!1,t.toLowerCase(),null,!0,!0)});function iy(t,e,n,r){var s=Et.hasOwnProperty(e)?Et[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(t2(e,n,s,r)&&(n=null),r||s===null?ZN(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var ss=XN.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,lu=Symbol.for("react.element"),Io=Symbol.for("react.portal"),Co=Symbol.for("react.fragment"),oy=Symbol.for("react.strict_mode"),cm=Symbol.for("react.profiler"),Jx=Symbol.for("react.provider"),Zx=Symbol.for("react.context"),ay=Symbol.for("react.forward_ref"),um=Symbol.for("react.suspense"),dm=Symbol.for("react.suspense_list"),ly=Symbol.for("react.memo"),xs=Symbol.for("react.lazy"),eT=Symbol.for("react.offscreen"),L0=Symbol.iterator;function sl(t){return t===null||typeof t!="object"?null:(t=L0&&t[L0]||t["@@iterator"],typeof t=="function"?t:null)}var He=Object.assign,rp;function ml(t){if(rp===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);rp=e&&e[1]||""}return`
`+rp+t}var sp=!1;function ip(t,e){if(!t||sp)return"";sp=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{sp=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?ml(t):""}function n2(t){switch(t.tag){case 5:return ml(t.type);case 16:return ml("Lazy");case 13:return ml("Suspense");case 19:return ml("SuspenseList");case 0:case 2:case 15:return t=ip(t.type,!1),t;case 11:return t=ip(t.type.render,!1),t;case 1:return t=ip(t.type,!0),t;default:return""}}function hm(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Co:return"Fragment";case Io:return"Portal";case cm:return"Profiler";case oy:return"StrictMode";case um:return"Suspense";case dm:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Zx:return(t.displayName||"Context")+".Consumer";case Jx:return(t._context.displayName||"Context")+".Provider";case ay:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case ly:return e=t.displayName||null,e!==null?e:hm(t.type)||"Memo";case xs:e=t._payload,t=t._init;try{return hm(t(e))}catch{}}return null}function r2(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return hm(e);case 8:return e===oy?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Xs(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function tT(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function s2(t){var e=tT(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function cu(t){t._valueTracker||(t._valueTracker=s2(t))}function nT(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=tT(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function yd(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function fm(t,e){var n=e.checked;return He({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function V0(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Xs(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function rT(t,e){e=e.checked,e!=null&&iy(t,"checked",e,!1)}function pm(t,e){rT(t,e);var n=Xs(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?mm(t,e.type,n):e.hasOwnProperty("defaultValue")&&mm(t,e.type,Xs(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function j0(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function mm(t,e,n){(e!=="number"||yd(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var gl=Array.isArray;function jo(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Xs(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function gm(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(z(91));return He({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function F0(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(z(92));if(gl(n)){if(1<n.length)throw Error(z(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Xs(n)}}function sT(t,e){var n=Xs(e.value),r=Xs(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function U0(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function iT(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ym(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?iT(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var uu,oT=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(uu=uu||document.createElement("div"),uu.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=uu.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Bl(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Sl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},i2=["Webkit","ms","Moz","O"];Object.keys(Sl).forEach(function(t){i2.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Sl[e]=Sl[t]})});function aT(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Sl.hasOwnProperty(t)&&Sl[t]?(""+e).trim():e+"px"}function lT(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=aT(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var o2=He({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function vm(t,e){if(e){if(o2[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(z(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(z(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(z(61))}if(e.style!=null&&typeof e.style!="object")throw Error(z(62))}}function wm(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var _m=null;function cy(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Em=null,Fo=null,Uo=null;function $0(t){if(t=Ac(t)){if(typeof Em!="function")throw Error(z(280));var e=t.stateNode;e&&(e=kh(e),Em(t.stateNode,t.type,e))}}function cT(t){Fo?Uo?Uo.push(t):Uo=[t]:Fo=t}function uT(){if(Fo){var t=Fo,e=Uo;if(Uo=Fo=null,$0(t),e)for(t=0;t<e.length;t++)$0(e[t])}}function dT(t,e){return t(e)}function hT(){}var op=!1;function fT(t,e,n){if(op)return t(e,n);op=!0;try{return dT(t,e,n)}finally{op=!1,(Fo!==null||Uo!==null)&&(hT(),uT())}}function zl(t,e){var n=t.stateNode;if(n===null)return null;var r=kh(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(z(231,e,typeof n));return n}var xm=!1;if(Kr)try{var il={};Object.defineProperty(il,"passive",{get:function(){xm=!0}}),window.addEventListener("test",il,il),window.removeEventListener("test",il,il)}catch{xm=!1}function a2(t,e,n,r,s,i,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(d){this.onError(d)}}var bl=!1,vd=null,wd=!1,Tm=null,l2={onError:function(t){bl=!0,vd=t}};function c2(t,e,n,r,s,i,o,a,l){bl=!1,vd=null,a2.apply(l2,arguments)}function u2(t,e,n,r,s,i,o,a,l){if(c2.apply(this,arguments),bl){if(bl){var u=vd;bl=!1,vd=null}else throw Error(z(198));wd||(wd=!0,Tm=u)}}function ro(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function pT(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function B0(t){if(ro(t)!==t)throw Error(z(188))}function d2(t){var e=t.alternate;if(!e){if(e=ro(t),e===null)throw Error(z(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return B0(s),t;if(i===r)return B0(s),e;i=i.sibling}throw Error(z(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(z(189))}}if(n.alternate!==r)throw Error(z(190))}if(n.tag!==3)throw Error(z(188));return n.stateNode.current===n?t:e}function mT(t){return t=d2(t),t!==null?gT(t):null}function gT(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=gT(t);if(e!==null)return e;t=t.sibling}return null}var yT=dn.unstable_scheduleCallback,z0=dn.unstable_cancelCallback,h2=dn.unstable_shouldYield,f2=dn.unstable_requestPaint,Xe=dn.unstable_now,p2=dn.unstable_getCurrentPriorityLevel,uy=dn.unstable_ImmediatePriority,vT=dn.unstable_UserBlockingPriority,_d=dn.unstable_NormalPriority,m2=dn.unstable_LowPriority,wT=dn.unstable_IdlePriority,Ch=null,vr=null;function g2(t){if(vr&&typeof vr.onCommitFiberRoot=="function")try{vr.onCommitFiberRoot(Ch,t,void 0,(t.current.flags&128)===128)}catch{}}var Hn=Math.clz32?Math.clz32:w2,y2=Math.log,v2=Math.LN2;function w2(t){return t>>>=0,t===0?32:31-(y2(t)/v2|0)|0}var du=64,hu=4194304;function yl(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Ed(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=yl(a):(i&=o,i!==0&&(r=yl(i)))}else o=n&~s,o!==0?r=yl(o):i!==0&&(r=yl(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Hn(e),s=1<<n,r|=t[n],e&=~s;return r}function _2(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function E2(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-Hn(i),a=1<<o,l=s[o];l===-1?(!(a&n)||a&r)&&(s[o]=_2(a,e)):l<=e&&(t.expiredLanes|=a),i&=~a}}function Sm(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function _T(){var t=du;return du<<=1,!(du&4194240)&&(du=64),t}function ap(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Ic(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Hn(e),t[e]=n}function x2(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-Hn(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function dy(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Hn(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var Ae=0;function ET(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var xT,hy,TT,ST,bT,bm=!1,fu=[],js=null,Fs=null,Us=null,Hl=new Map,Wl=new Map,Ss=[],T2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function H0(t,e){switch(t){case"focusin":case"focusout":js=null;break;case"dragenter":case"dragleave":Fs=null;break;case"mouseover":case"mouseout":Us=null;break;case"pointerover":case"pointerout":Hl.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Wl.delete(e.pointerId)}}function ol(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=Ac(e),e!==null&&hy(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function S2(t,e,n,r,s){switch(e){case"focusin":return js=ol(js,t,e,n,r,s),!0;case"dragenter":return Fs=ol(Fs,t,e,n,r,s),!0;case"mouseover":return Us=ol(Us,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return Hl.set(i,ol(Hl.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Wl.set(i,ol(Wl.get(i)||null,t,e,n,r,s)),!0}return!1}function IT(t){var e=bi(t.target);if(e!==null){var n=ro(e);if(n!==null){if(e=n.tag,e===13){if(e=pT(n),e!==null){t.blockedOn=e,bT(t.priority,function(){TT(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Hu(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Im(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);_m=r,n.target.dispatchEvent(r),_m=null}else return e=Ac(n),e!==null&&hy(e),t.blockedOn=n,!1;e.shift()}return!0}function W0(t,e,n){Hu(t)&&n.delete(e)}function b2(){bm=!1,js!==null&&Hu(js)&&(js=null),Fs!==null&&Hu(Fs)&&(Fs=null),Us!==null&&Hu(Us)&&(Us=null),Hl.forEach(W0),Wl.forEach(W0)}function al(t,e){t.blockedOn===e&&(t.blockedOn=null,bm||(bm=!0,dn.unstable_scheduleCallback(dn.unstable_NormalPriority,b2)))}function ql(t){function e(s){return al(s,t)}if(0<fu.length){al(fu[0],t);for(var n=1;n<fu.length;n++){var r=fu[n];r.blockedOn===t&&(r.blockedOn=null)}}for(js!==null&&al(js,t),Fs!==null&&al(Fs,t),Us!==null&&al(Us,t),Hl.forEach(e),Wl.forEach(e),n=0;n<Ss.length;n++)r=Ss[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Ss.length&&(n=Ss[0],n.blockedOn===null);)IT(n),n.blockedOn===null&&Ss.shift()}var $o=ss.ReactCurrentBatchConfig,xd=!0;function I2(t,e,n,r){var s=Ae,i=$o.transition;$o.transition=null;try{Ae=1,fy(t,e,n,r)}finally{Ae=s,$o.transition=i}}function C2(t,e,n,r){var s=Ae,i=$o.transition;$o.transition=null;try{Ae=4,fy(t,e,n,r)}finally{Ae=s,$o.transition=i}}function fy(t,e,n,r){if(xd){var s=Im(t,e,n,r);if(s===null)yp(t,e,r,Td,n),H0(t,r);else if(S2(s,t,e,n,r))r.stopPropagation();else if(H0(t,r),e&4&&-1<T2.indexOf(t)){for(;s!==null;){var i=Ac(s);if(i!==null&&xT(i),i=Im(t,e,n,r),i===null&&yp(t,e,r,Td,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else yp(t,e,r,null,n)}}var Td=null;function Im(t,e,n,r){if(Td=null,t=cy(r),t=bi(t),t!==null)if(e=ro(t),e===null)t=null;else if(n=e.tag,n===13){if(t=pT(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Td=t,null}function CT(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(p2()){case uy:return 1;case vT:return 4;case _d:case m2:return 16;case wT:return 536870912;default:return 16}default:return 16}}var Ms=null,py=null,Wu=null;function AT(){if(Wu)return Wu;var t,e=py,n=e.length,r,s="value"in Ms?Ms.value:Ms.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return Wu=s.slice(t,1<r?1-r:void 0)}function qu(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function pu(){return!0}function q0(){return!1}function pn(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?pu:q0,this.isPropagationStopped=q0,this}return He(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=pu)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=pu)},persist:function(){},isPersistent:pu}),e}var Ra={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},my=pn(Ra),Cc=He({},Ra,{view:0,detail:0}),A2=pn(Cc),lp,cp,ll,Ah=He({},Cc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:gy,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ll&&(ll&&t.type==="mousemove"?(lp=t.screenX-ll.screenX,cp=t.screenY-ll.screenY):cp=lp=0,ll=t),lp)},movementY:function(t){return"movementY"in t?t.movementY:cp}}),G0=pn(Ah),R2=He({},Ah,{dataTransfer:0}),P2=pn(R2),k2=He({},Cc,{relatedTarget:0}),up=pn(k2),N2=He({},Ra,{animationName:0,elapsedTime:0,pseudoElement:0}),D2=pn(N2),M2=He({},Ra,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),O2=pn(M2),L2=He({},Ra,{data:0}),K0=pn(L2),V2={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},j2={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},F2={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function U2(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=F2[t])?!!e[t]:!1}function gy(){return U2}var $2=He({},Cc,{key:function(t){if(t.key){var e=V2[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=qu(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?j2[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:gy,charCode:function(t){return t.type==="keypress"?qu(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?qu(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),B2=pn($2),z2=He({},Ah,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Q0=pn(z2),H2=He({},Cc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:gy}),W2=pn(H2),q2=He({},Ra,{propertyName:0,elapsedTime:0,pseudoElement:0}),G2=pn(q2),K2=He({},Ah,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Q2=pn(K2),Y2=[9,13,27,32],yy=Kr&&"CompositionEvent"in window,Il=null;Kr&&"documentMode"in document&&(Il=document.documentMode);var X2=Kr&&"TextEvent"in window&&!Il,RT=Kr&&(!yy||Il&&8<Il&&11>=Il),Y0=" ",X0=!1;function PT(t,e){switch(t){case"keyup":return Y2.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function kT(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ao=!1;function J2(t,e){switch(t){case"compositionend":return kT(e);case"keypress":return e.which!==32?null:(X0=!0,Y0);case"textInput":return t=e.data,t===Y0&&X0?null:t;default:return null}}function Z2(t,e){if(Ao)return t==="compositionend"||!yy&&PT(t,e)?(t=AT(),Wu=py=Ms=null,Ao=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return RT&&e.locale!=="ko"?null:e.data;default:return null}}var eD={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function J0(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!eD[t.type]:e==="textarea"}function NT(t,e,n,r){cT(r),e=Sd(e,"onChange"),0<e.length&&(n=new my("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Cl=null,Gl=null;function tD(t){zT(t,0)}function Rh(t){var e=ko(t);if(nT(e))return t}function nD(t,e){if(t==="change")return e}var DT=!1;if(Kr){var dp;if(Kr){var hp="oninput"in document;if(!hp){var Z0=document.createElement("div");Z0.setAttribute("oninput","return;"),hp=typeof Z0.oninput=="function"}dp=hp}else dp=!1;DT=dp&&(!document.documentMode||9<document.documentMode)}function e_(){Cl&&(Cl.detachEvent("onpropertychange",MT),Gl=Cl=null)}function MT(t){if(t.propertyName==="value"&&Rh(Gl)){var e=[];NT(e,Gl,t,cy(t)),fT(tD,e)}}function rD(t,e,n){t==="focusin"?(e_(),Cl=e,Gl=n,Cl.attachEvent("onpropertychange",MT)):t==="focusout"&&e_()}function sD(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Rh(Gl)}function iD(t,e){if(t==="click")return Rh(e)}function oD(t,e){if(t==="input"||t==="change")return Rh(e)}function aD(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Qn=typeof Object.is=="function"?Object.is:aD;function Kl(t,e){if(Qn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!lm.call(e,s)||!Qn(t[s],e[s]))return!1}return!0}function t_(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function n_(t,e){var n=t_(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=t_(n)}}function OT(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?OT(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function LT(){for(var t=window,e=yd();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=yd(t.document)}return e}function vy(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function lD(t){var e=LT(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&OT(n.ownerDocument.documentElement,n)){if(r!==null&&vy(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=n_(n,i);var o=n_(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var cD=Kr&&"documentMode"in document&&11>=document.documentMode,Ro=null,Cm=null,Al=null,Am=!1;function r_(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Am||Ro==null||Ro!==yd(r)||(r=Ro,"selectionStart"in r&&vy(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Al&&Kl(Al,r)||(Al=r,r=Sd(Cm,"onSelect"),0<r.length&&(e=new my("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Ro)))}function mu(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Po={animationend:mu("Animation","AnimationEnd"),animationiteration:mu("Animation","AnimationIteration"),animationstart:mu("Animation","AnimationStart"),transitionend:mu("Transition","TransitionEnd")},fp={},VT={};Kr&&(VT=document.createElement("div").style,"AnimationEvent"in window||(delete Po.animationend.animation,delete Po.animationiteration.animation,delete Po.animationstart.animation),"TransitionEvent"in window||delete Po.transitionend.transition);function Ph(t){if(fp[t])return fp[t];if(!Po[t])return t;var e=Po[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in VT)return fp[t]=e[n];return t}var jT=Ph("animationend"),FT=Ph("animationiteration"),UT=Ph("animationstart"),$T=Ph("transitionend"),BT=new Map,s_="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function li(t,e){BT.set(t,e),no(e,[t])}for(var pp=0;pp<s_.length;pp++){var mp=s_[pp],uD=mp.toLowerCase(),dD=mp[0].toUpperCase()+mp.slice(1);li(uD,"on"+dD)}li(jT,"onAnimationEnd");li(FT,"onAnimationIteration");li(UT,"onAnimationStart");li("dblclick","onDoubleClick");li("focusin","onFocus");li("focusout","onBlur");li($T,"onTransitionEnd");ca("onMouseEnter",["mouseout","mouseover"]);ca("onMouseLeave",["mouseout","mouseover"]);ca("onPointerEnter",["pointerout","pointerover"]);ca("onPointerLeave",["pointerout","pointerover"]);no("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));no("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));no("onBeforeInput",["compositionend","keypress","textInput","paste"]);no("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));no("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));no("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var vl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),hD=new Set("cancel close invalid load scroll toggle".split(" ").concat(vl));function i_(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,u2(r,e,void 0,t),t.currentTarget=null}function zT(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;i_(s,a,u),i=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;i_(s,a,u),i=l}}}if(wd)throw t=Tm,wd=!1,Tm=null,t}function je(t,e){var n=e[Dm];n===void 0&&(n=e[Dm]=new Set);var r=t+"__bubble";n.has(r)||(HT(e,t,2,!1),n.add(r))}function gp(t,e,n){var r=0;e&&(r|=4),HT(n,t,r,e)}var gu="_reactListening"+Math.random().toString(36).slice(2);function Ql(t){if(!t[gu]){t[gu]=!0,Xx.forEach(function(n){n!=="selectionchange"&&(hD.has(n)||gp(n,!1,t),gp(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[gu]||(e[gu]=!0,gp("selectionchange",!1,e))}}function HT(t,e,n,r){switch(CT(e)){case 1:var s=I2;break;case 4:s=C2;break;default:s=fy}n=s.bind(null,e,n,t),s=void 0,!xm||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function yp(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=bi(a),o===null)return;if(l=o.tag,l===5||l===6){r=i=o;continue e}a=a.parentNode}}r=r.return}fT(function(){var u=i,d=cy(n),h=[];e:{var p=BT.get(t);if(p!==void 0){var g=my,S=t;switch(t){case"keypress":if(qu(n)===0)break e;case"keydown":case"keyup":g=B2;break;case"focusin":S="focus",g=up;break;case"focusout":S="blur",g=up;break;case"beforeblur":case"afterblur":g=up;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=G0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=P2;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=W2;break;case jT:case FT:case UT:g=D2;break;case $T:g=G2;break;case"scroll":g=A2;break;case"wheel":g=Q2;break;case"copy":case"cut":case"paste":g=O2;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=Q0}var E=(e&4)!==0,x=!E&&t==="scroll",v=E?p!==null?p+"Capture":null:p;E=[];for(var _=u,T;_!==null;){T=_;var P=T.stateNode;if(T.tag===5&&P!==null&&(T=P,v!==null&&(P=zl(_,v),P!=null&&E.push(Yl(_,P,T)))),x)break;_=_.return}0<E.length&&(p=new g(p,S,null,n,d),h.push({event:p,listeners:E}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",p&&n!==_m&&(S=n.relatedTarget||n.fromElement)&&(bi(S)||S[Qr]))break e;if((g||p)&&(p=d.window===d?d:(p=d.ownerDocument)?p.defaultView||p.parentWindow:window,g?(S=n.relatedTarget||n.toElement,g=u,S=S?bi(S):null,S!==null&&(x=ro(S),S!==x||S.tag!==5&&S.tag!==6)&&(S=null)):(g=null,S=u),g!==S)){if(E=G0,P="onMouseLeave",v="onMouseEnter",_="mouse",(t==="pointerout"||t==="pointerover")&&(E=Q0,P="onPointerLeave",v="onPointerEnter",_="pointer"),x=g==null?p:ko(g),T=S==null?p:ko(S),p=new E(P,_+"leave",g,n,d),p.target=x,p.relatedTarget=T,P=null,bi(d)===u&&(E=new E(v,_+"enter",S,n,d),E.target=T,E.relatedTarget=x,P=E),x=P,g&&S)t:{for(E=g,v=S,_=0,T=E;T;T=vo(T))_++;for(T=0,P=v;P;P=vo(P))T++;for(;0<_-T;)E=vo(E),_--;for(;0<T-_;)v=vo(v),T--;for(;_--;){if(E===v||v!==null&&E===v.alternate)break t;E=vo(E),v=vo(v)}E=null}else E=null;g!==null&&o_(h,p,g,E,!1),S!==null&&x!==null&&o_(h,x,S,E,!0)}}e:{if(p=u?ko(u):window,g=p.nodeName&&p.nodeName.toLowerCase(),g==="select"||g==="input"&&p.type==="file")var M=nD;else if(J0(p))if(DT)M=oD;else{M=sD;var O=rD}else(g=p.nodeName)&&g.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(M=iD);if(M&&(M=M(t,u))){NT(h,M,n,d);break e}O&&O(t,p,u),t==="focusout"&&(O=p._wrapperState)&&O.controlled&&p.type==="number"&&mm(p,"number",p.value)}switch(O=u?ko(u):window,t){case"focusin":(J0(O)||O.contentEditable==="true")&&(Ro=O,Cm=u,Al=null);break;case"focusout":Al=Cm=Ro=null;break;case"mousedown":Am=!0;break;case"contextmenu":case"mouseup":case"dragend":Am=!1,r_(h,n,d);break;case"selectionchange":if(cD)break;case"keydown":case"keyup":r_(h,n,d)}var I;if(yy)e:{switch(t){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Ao?PT(t,n)&&(b="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(b="onCompositionStart");b&&(RT&&n.locale!=="ko"&&(Ao||b!=="onCompositionStart"?b==="onCompositionEnd"&&Ao&&(I=AT()):(Ms=d,py="value"in Ms?Ms.value:Ms.textContent,Ao=!0)),O=Sd(u,b),0<O.length&&(b=new K0(b,t,null,n,d),h.push({event:b,listeners:O}),I?b.data=I:(I=kT(n),I!==null&&(b.data=I)))),(I=X2?J2(t,n):Z2(t,n))&&(u=Sd(u,"onBeforeInput"),0<u.length&&(d=new K0("onBeforeInput","beforeinput",null,n,d),h.push({event:d,listeners:u}),d.data=I))}zT(h,e)})}function Yl(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Sd(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=zl(t,n),i!=null&&r.unshift(Yl(t,i,s)),i=zl(t,e),i!=null&&r.push(Yl(t,i,s))),t=t.return}return r}function vo(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function o_(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,s?(l=zl(n,i),l!=null&&o.unshift(Yl(n,l,a))):s||(l=zl(n,i),l!=null&&o.push(Yl(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var fD=/\r\n?/g,pD=/\u0000|\uFFFD/g;function a_(t){return(typeof t=="string"?t:""+t).replace(fD,`
`).replace(pD,"")}function yu(t,e,n){if(e=a_(e),a_(t)!==e&&n)throw Error(z(425))}function bd(){}var Rm=null,Pm=null;function km(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Nm=typeof setTimeout=="function"?setTimeout:void 0,mD=typeof clearTimeout=="function"?clearTimeout:void 0,l_=typeof Promise=="function"?Promise:void 0,gD=typeof queueMicrotask=="function"?queueMicrotask:typeof l_<"u"?function(t){return l_.resolve(null).then(t).catch(yD)}:Nm;function yD(t){setTimeout(function(){throw t})}function vp(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),ql(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);ql(e)}function $s(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function c_(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Pa=Math.random().toString(36).slice(2),mr="__reactFiber$"+Pa,Xl="__reactProps$"+Pa,Qr="__reactContainer$"+Pa,Dm="__reactEvents$"+Pa,vD="__reactListeners$"+Pa,wD="__reactHandles$"+Pa;function bi(t){var e=t[mr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Qr]||n[mr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=c_(t);t!==null;){if(n=t[mr])return n;t=c_(t)}return e}t=n,n=t.parentNode}return null}function Ac(t){return t=t[mr]||t[Qr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function ko(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(z(33))}function kh(t){return t[Xl]||null}var Mm=[],No=-1;function ci(t){return{current:t}}function Fe(t){0>No||(t.current=Mm[No],Mm[No]=null,No--)}function Oe(t,e){No++,Mm[No]=t.current,t.current=e}var Js={},kt=ci(Js),Qt=ci(!1),Bi=Js;function ua(t,e){var n=t.type.contextTypes;if(!n)return Js;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Yt(t){return t=t.childContextTypes,t!=null}function Id(){Fe(Qt),Fe(kt)}function u_(t,e,n){if(kt.current!==Js)throw Error(z(168));Oe(kt,e),Oe(Qt,n)}function WT(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(z(108,r2(t)||"Unknown",s));return He({},n,r)}function Cd(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Js,Bi=kt.current,Oe(kt,t),Oe(Qt,Qt.current),!0}function d_(t,e,n){var r=t.stateNode;if(!r)throw Error(z(169));n?(t=WT(t,e,Bi),r.__reactInternalMemoizedMergedChildContext=t,Fe(Qt),Fe(kt),Oe(kt,t)):Fe(Qt),Oe(Qt,n)}var Fr=null,Nh=!1,wp=!1;function qT(t){Fr===null?Fr=[t]:Fr.push(t)}function _D(t){Nh=!0,qT(t)}function ui(){if(!wp&&Fr!==null){wp=!0;var t=0,e=Ae;try{var n=Fr;for(Ae=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Fr=null,Nh=!1}catch(s){throw Fr!==null&&(Fr=Fr.slice(t+1)),yT(uy,ui),s}finally{Ae=e,wp=!1}}return null}var Do=[],Mo=0,Ad=null,Rd=0,wn=[],_n=0,zi=null,Br=1,zr="";function _i(t,e){Do[Mo++]=Rd,Do[Mo++]=Ad,Ad=t,Rd=e}function GT(t,e,n){wn[_n++]=Br,wn[_n++]=zr,wn[_n++]=zi,zi=t;var r=Br;t=zr;var s=32-Hn(r)-1;r&=~(1<<s),n+=1;var i=32-Hn(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,Br=1<<32-Hn(e)+s|n<<s|r,zr=i+t}else Br=1<<i|n<<s|r,zr=t}function wy(t){t.return!==null&&(_i(t,1),GT(t,1,0))}function _y(t){for(;t===Ad;)Ad=Do[--Mo],Do[Mo]=null,Rd=Do[--Mo],Do[Mo]=null;for(;t===zi;)zi=wn[--_n],wn[_n]=null,zr=wn[--_n],wn[_n]=null,Br=wn[--_n],wn[_n]=null}var ln=null,an=null,Ue=!1,$n=null;function KT(t,e){var n=Sn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function h_(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,ln=t,an=$s(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,ln=t,an=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=zi!==null?{id:Br,overflow:zr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Sn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,ln=t,an=null,!0):!1;default:return!1}}function Om(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Lm(t){if(Ue){var e=an;if(e){var n=e;if(!h_(t,e)){if(Om(t))throw Error(z(418));e=$s(n.nextSibling);var r=ln;e&&h_(t,e)?KT(r,n):(t.flags=t.flags&-4097|2,Ue=!1,ln=t)}}else{if(Om(t))throw Error(z(418));t.flags=t.flags&-4097|2,Ue=!1,ln=t}}}function f_(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;ln=t}function vu(t){if(t!==ln)return!1;if(!Ue)return f_(t),Ue=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!km(t.type,t.memoizedProps)),e&&(e=an)){if(Om(t))throw QT(),Error(z(418));for(;e;)KT(t,e),e=$s(e.nextSibling)}if(f_(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(z(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){an=$s(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}an=null}}else an=ln?$s(t.stateNode.nextSibling):null;return!0}function QT(){for(var t=an;t;)t=$s(t.nextSibling)}function da(){an=ln=null,Ue=!1}function Ey(t){$n===null?$n=[t]:$n.push(t)}var ED=ss.ReactCurrentBatchConfig;function cl(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(z(309));var r=n.stateNode}if(!r)throw Error(z(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(z(284));if(!n._owner)throw Error(z(290,t))}return t}function wu(t,e){throw t=Object.prototype.toString.call(e),Error(z(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function p_(t){var e=t._init;return e(t._payload)}function YT(t){function e(v,_){if(t){var T=v.deletions;T===null?(v.deletions=[_],v.flags|=16):T.push(_)}}function n(v,_){if(!t)return null;for(;_!==null;)e(v,_),_=_.sibling;return null}function r(v,_){for(v=new Map;_!==null;)_.key!==null?v.set(_.key,_):v.set(_.index,_),_=_.sibling;return v}function s(v,_){return v=Ws(v,_),v.index=0,v.sibling=null,v}function i(v,_,T){return v.index=T,t?(T=v.alternate,T!==null?(T=T.index,T<_?(v.flags|=2,_):T):(v.flags|=2,_)):(v.flags|=1048576,_)}function o(v){return t&&v.alternate===null&&(v.flags|=2),v}function a(v,_,T,P){return _===null||_.tag!==6?(_=Ip(T,v.mode,P),_.return=v,_):(_=s(_,T),_.return=v,_)}function l(v,_,T,P){var M=T.type;return M===Co?d(v,_,T.props.children,P,T.key):_!==null&&(_.elementType===M||typeof M=="object"&&M!==null&&M.$$typeof===xs&&p_(M)===_.type)?(P=s(_,T.props),P.ref=cl(v,_,T),P.return=v,P):(P=Zu(T.type,T.key,T.props,null,v.mode,P),P.ref=cl(v,_,T),P.return=v,P)}function u(v,_,T,P){return _===null||_.tag!==4||_.stateNode.containerInfo!==T.containerInfo||_.stateNode.implementation!==T.implementation?(_=Cp(T,v.mode,P),_.return=v,_):(_=s(_,T.children||[]),_.return=v,_)}function d(v,_,T,P,M){return _===null||_.tag!==7?(_=ji(T,v.mode,P,M),_.return=v,_):(_=s(_,T),_.return=v,_)}function h(v,_,T){if(typeof _=="string"&&_!==""||typeof _=="number")return _=Ip(""+_,v.mode,T),_.return=v,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case lu:return T=Zu(_.type,_.key,_.props,null,v.mode,T),T.ref=cl(v,null,_),T.return=v,T;case Io:return _=Cp(_,v.mode,T),_.return=v,_;case xs:var P=_._init;return h(v,P(_._payload),T)}if(gl(_)||sl(_))return _=ji(_,v.mode,T,null),_.return=v,_;wu(v,_)}return null}function p(v,_,T,P){var M=_!==null?_.key:null;if(typeof T=="string"&&T!==""||typeof T=="number")return M!==null?null:a(v,_,""+T,P);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case lu:return T.key===M?l(v,_,T,P):null;case Io:return T.key===M?u(v,_,T,P):null;case xs:return M=T._init,p(v,_,M(T._payload),P)}if(gl(T)||sl(T))return M!==null?null:d(v,_,T,P,null);wu(v,T)}return null}function g(v,_,T,P,M){if(typeof P=="string"&&P!==""||typeof P=="number")return v=v.get(T)||null,a(_,v,""+P,M);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case lu:return v=v.get(P.key===null?T:P.key)||null,l(_,v,P,M);case Io:return v=v.get(P.key===null?T:P.key)||null,u(_,v,P,M);case xs:var O=P._init;return g(v,_,T,O(P._payload),M)}if(gl(P)||sl(P))return v=v.get(T)||null,d(_,v,P,M,null);wu(_,P)}return null}function S(v,_,T,P){for(var M=null,O=null,I=_,b=_=0,C=null;I!==null&&b<T.length;b++){I.index>b?(C=I,I=null):C=I.sibling;var R=p(v,I,T[b],P);if(R===null){I===null&&(I=C);break}t&&I&&R.alternate===null&&e(v,I),_=i(R,_,b),O===null?M=R:O.sibling=R,O=R,I=C}if(b===T.length)return n(v,I),Ue&&_i(v,b),M;if(I===null){for(;b<T.length;b++)I=h(v,T[b],P),I!==null&&(_=i(I,_,b),O===null?M=I:O.sibling=I,O=I);return Ue&&_i(v,b),M}for(I=r(v,I);b<T.length;b++)C=g(I,v,b,T[b],P),C!==null&&(t&&C.alternate!==null&&I.delete(C.key===null?b:C.key),_=i(C,_,b),O===null?M=C:O.sibling=C,O=C);return t&&I.forEach(function(N){return e(v,N)}),Ue&&_i(v,b),M}function E(v,_,T,P){var M=sl(T);if(typeof M!="function")throw Error(z(150));if(T=M.call(T),T==null)throw Error(z(151));for(var O=M=null,I=_,b=_=0,C=null,R=T.next();I!==null&&!R.done;b++,R=T.next()){I.index>b?(C=I,I=null):C=I.sibling;var N=p(v,I,R.value,P);if(N===null){I===null&&(I=C);break}t&&I&&N.alternate===null&&e(v,I),_=i(N,_,b),O===null?M=N:O.sibling=N,O=N,I=C}if(R.done)return n(v,I),Ue&&_i(v,b),M;if(I===null){for(;!R.done;b++,R=T.next())R=h(v,R.value,P),R!==null&&(_=i(R,_,b),O===null?M=R:O.sibling=R,O=R);return Ue&&_i(v,b),M}for(I=r(v,I);!R.done;b++,R=T.next())R=g(I,v,b,R.value,P),R!==null&&(t&&R.alternate!==null&&I.delete(R.key===null?b:R.key),_=i(R,_,b),O===null?M=R:O.sibling=R,O=R);return t&&I.forEach(function(D){return e(v,D)}),Ue&&_i(v,b),M}function x(v,_,T,P){if(typeof T=="object"&&T!==null&&T.type===Co&&T.key===null&&(T=T.props.children),typeof T=="object"&&T!==null){switch(T.$$typeof){case lu:e:{for(var M=T.key,O=_;O!==null;){if(O.key===M){if(M=T.type,M===Co){if(O.tag===7){n(v,O.sibling),_=s(O,T.props.children),_.return=v,v=_;break e}}else if(O.elementType===M||typeof M=="object"&&M!==null&&M.$$typeof===xs&&p_(M)===O.type){n(v,O.sibling),_=s(O,T.props),_.ref=cl(v,O,T),_.return=v,v=_;break e}n(v,O);break}else e(v,O);O=O.sibling}T.type===Co?(_=ji(T.props.children,v.mode,P,T.key),_.return=v,v=_):(P=Zu(T.type,T.key,T.props,null,v.mode,P),P.ref=cl(v,_,T),P.return=v,v=P)}return o(v);case Io:e:{for(O=T.key;_!==null;){if(_.key===O)if(_.tag===4&&_.stateNode.containerInfo===T.containerInfo&&_.stateNode.implementation===T.implementation){n(v,_.sibling),_=s(_,T.children||[]),_.return=v,v=_;break e}else{n(v,_);break}else e(v,_);_=_.sibling}_=Cp(T,v.mode,P),_.return=v,v=_}return o(v);case xs:return O=T._init,x(v,_,O(T._payload),P)}if(gl(T))return S(v,_,T,P);if(sl(T))return E(v,_,T,P);wu(v,T)}return typeof T=="string"&&T!==""||typeof T=="number"?(T=""+T,_!==null&&_.tag===6?(n(v,_.sibling),_=s(_,T),_.return=v,v=_):(n(v,_),_=Ip(T,v.mode,P),_.return=v,v=_),o(v)):n(v,_)}return x}var ha=YT(!0),XT=YT(!1),Pd=ci(null),kd=null,Oo=null,xy=null;function Ty(){xy=Oo=kd=null}function Sy(t){var e=Pd.current;Fe(Pd),t._currentValue=e}function Vm(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Bo(t,e){kd=t,xy=Oo=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Kt=!0),t.firstContext=null)}function An(t){var e=t._currentValue;if(xy!==t)if(t={context:t,memoizedValue:e,next:null},Oo===null){if(kd===null)throw Error(z(308));Oo=t,kd.dependencies={lanes:0,firstContext:t}}else Oo=Oo.next=t;return e}var Ii=null;function by(t){Ii===null?Ii=[t]:Ii.push(t)}function JT(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,by(e)):(n.next=s.next,s.next=n),e.interleaved=n,Yr(t,r)}function Yr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Ts=!1;function Iy(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ZT(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function qr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Bs(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,xe&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,Yr(t,n)}return s=r.interleaved,s===null?(e.next=e,by(r)):(e.next=s.next,s.next=e),r.interleaved=e,Yr(t,n)}function Gu(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,dy(t,n)}}function m_(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Nd(t,e,n,r){var s=t.updateQueue;Ts=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?i=u:o.next=u,o=l;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=u:a.next=u,d.lastBaseUpdate=l))}if(i!==null){var h=s.baseState;o=0,d=u=l=null,a=i;do{var p=a.lane,g=a.eventTime;if((r&p)===p){d!==null&&(d=d.next={eventTime:g,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var S=t,E=a;switch(p=e,g=n,E.tag){case 1:if(S=E.payload,typeof S=="function"){h=S.call(g,h,p);break e}h=S;break e;case 3:S.flags=S.flags&-65537|128;case 0:if(S=E.payload,p=typeof S=="function"?S.call(g,h,p):S,p==null)break e;h=He({},h,p);break e;case 2:Ts=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,p=s.effects,p===null?s.effects=[a]:p.push(a))}else g={eventTime:g,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(u=d=g,l=h):d=d.next=g,o|=p;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;p=a,a=p.next,p.next=null,s.lastBaseUpdate=p,s.shared.pending=null}}while(!0);if(d===null&&(l=h),s.baseState=l,s.firstBaseUpdate=u,s.lastBaseUpdate=d,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);Wi|=o,t.lanes=o,t.memoizedState=h}}function g_(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(z(191,s));s.call(r)}}}var Rc={},wr=ci(Rc),Jl=ci(Rc),Zl=ci(Rc);function Ci(t){if(t===Rc)throw Error(z(174));return t}function Cy(t,e){switch(Oe(Zl,e),Oe(Jl,t),Oe(wr,Rc),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:ym(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=ym(e,t)}Fe(wr),Oe(wr,e)}function fa(){Fe(wr),Fe(Jl),Fe(Zl)}function eS(t){Ci(Zl.current);var e=Ci(wr.current),n=ym(e,t.type);e!==n&&(Oe(Jl,t),Oe(wr,n))}function Ay(t){Jl.current===t&&(Fe(wr),Fe(Jl))}var Be=ci(0);function Dd(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var _p=[];function Ry(){for(var t=0;t<_p.length;t++)_p[t]._workInProgressVersionPrimary=null;_p.length=0}var Ku=ss.ReactCurrentDispatcher,Ep=ss.ReactCurrentBatchConfig,Hi=0,ze=null,at=null,pt=null,Md=!1,Rl=!1,ec=0,xD=0;function St(){throw Error(z(321))}function Py(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Qn(t[n],e[n]))return!1;return!0}function ky(t,e,n,r,s,i){if(Hi=i,ze=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Ku.current=t===null||t.memoizedState===null?ID:CD,t=n(r,s),Rl){i=0;do{if(Rl=!1,ec=0,25<=i)throw Error(z(301));i+=1,pt=at=null,e.updateQueue=null,Ku.current=AD,t=n(r,s)}while(Rl)}if(Ku.current=Od,e=at!==null&&at.next!==null,Hi=0,pt=at=ze=null,Md=!1,e)throw Error(z(300));return t}function Ny(){var t=ec!==0;return ec=0,t}function ur(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return pt===null?ze.memoizedState=pt=t:pt=pt.next=t,pt}function Rn(){if(at===null){var t=ze.alternate;t=t!==null?t.memoizedState:null}else t=at.next;var e=pt===null?ze.memoizedState:pt.next;if(e!==null)pt=e,at=t;else{if(t===null)throw Error(z(310));at=t,t={memoizedState:at.memoizedState,baseState:at.baseState,baseQueue:at.baseQueue,queue:at.queue,next:null},pt===null?ze.memoizedState=pt=t:pt=pt.next=t}return pt}function tc(t,e){return typeof e=="function"?e(t):e}function xp(t){var e=Rn(),n=e.queue;if(n===null)throw Error(z(311));n.lastRenderedReducer=t;var r=at,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,l=null,u=i;do{var d=u.lane;if((Hi&d)===d)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=h,o=r):l=l.next=h,ze.lanes|=d,Wi|=d}u=u.next}while(u!==null&&u!==i);l===null?o=r:l.next=a,Qn(r,e.memoizedState)||(Kt=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,ze.lanes|=i,Wi|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Tp(t){var e=Rn(),n=e.queue;if(n===null)throw Error(z(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);Qn(i,e.memoizedState)||(Kt=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function tS(){}function nS(t,e){var n=ze,r=Rn(),s=e(),i=!Qn(r.memoizedState,s);if(i&&(r.memoizedState=s,Kt=!0),r=r.queue,Dy(iS.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||pt!==null&&pt.memoizedState.tag&1){if(n.flags|=2048,nc(9,sS.bind(null,n,r,s,e),void 0,null),mt===null)throw Error(z(349));Hi&30||rS(n,e,s)}return s}function rS(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=ze.updateQueue,e===null?(e={lastEffect:null,stores:null},ze.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function sS(t,e,n,r){e.value=n,e.getSnapshot=r,oS(e)&&aS(t)}function iS(t,e,n){return n(function(){oS(e)&&aS(t)})}function oS(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Qn(t,n)}catch{return!0}}function aS(t){var e=Yr(t,1);e!==null&&Wn(e,t,1,-1)}function y_(t){var e=ur();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:tc,lastRenderedState:t},e.queue=t,t=t.dispatch=bD.bind(null,ze,t),[e.memoizedState,t]}function nc(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=ze.updateQueue,e===null?(e={lastEffect:null,stores:null},ze.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function lS(){return Rn().memoizedState}function Qu(t,e,n,r){var s=ur();ze.flags|=t,s.memoizedState=nc(1|e,n,void 0,r===void 0?null:r)}function Dh(t,e,n,r){var s=Rn();r=r===void 0?null:r;var i=void 0;if(at!==null){var o=at.memoizedState;if(i=o.destroy,r!==null&&Py(r,o.deps)){s.memoizedState=nc(e,n,i,r);return}}ze.flags|=t,s.memoizedState=nc(1|e,n,i,r)}function v_(t,e){return Qu(8390656,8,t,e)}function Dy(t,e){return Dh(2048,8,t,e)}function cS(t,e){return Dh(4,2,t,e)}function uS(t,e){return Dh(4,4,t,e)}function dS(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function hS(t,e,n){return n=n!=null?n.concat([t]):null,Dh(4,4,dS.bind(null,e,t),n)}function My(){}function fS(t,e){var n=Rn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Py(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function pS(t,e){var n=Rn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Py(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function mS(t,e,n){return Hi&21?(Qn(n,e)||(n=_T(),ze.lanes|=n,Wi|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Kt=!0),t.memoizedState=n)}function TD(t,e){var n=Ae;Ae=n!==0&&4>n?n:4,t(!0);var r=Ep.transition;Ep.transition={};try{t(!1),e()}finally{Ae=n,Ep.transition=r}}function gS(){return Rn().memoizedState}function SD(t,e,n){var r=Hs(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},yS(t))vS(e,n);else if(n=JT(t,e,n,r),n!==null){var s=Vt();Wn(n,t,r,s),wS(n,e,r)}}function bD(t,e,n){var r=Hs(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(yS(t))vS(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,Qn(a,o)){var l=e.interleaved;l===null?(s.next=s,by(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}n=JT(t,e,s,r),n!==null&&(s=Vt(),Wn(n,t,r,s),wS(n,e,r))}}function yS(t){var e=t.alternate;return t===ze||e!==null&&e===ze}function vS(t,e){Rl=Md=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function wS(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,dy(t,n)}}var Od={readContext:An,useCallback:St,useContext:St,useEffect:St,useImperativeHandle:St,useInsertionEffect:St,useLayoutEffect:St,useMemo:St,useReducer:St,useRef:St,useState:St,useDebugValue:St,useDeferredValue:St,useTransition:St,useMutableSource:St,useSyncExternalStore:St,useId:St,unstable_isNewReconciler:!1},ID={readContext:An,useCallback:function(t,e){return ur().memoizedState=[t,e===void 0?null:e],t},useContext:An,useEffect:v_,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Qu(4194308,4,dS.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Qu(4194308,4,t,e)},useInsertionEffect:function(t,e){return Qu(4,2,t,e)},useMemo:function(t,e){var n=ur();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=ur();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=SD.bind(null,ze,t),[r.memoizedState,t]},useRef:function(t){var e=ur();return t={current:t},e.memoizedState=t},useState:y_,useDebugValue:My,useDeferredValue:function(t){return ur().memoizedState=t},useTransition:function(){var t=y_(!1),e=t[0];return t=TD.bind(null,t[1]),ur().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=ze,s=ur();if(Ue){if(n===void 0)throw Error(z(407));n=n()}else{if(n=e(),mt===null)throw Error(z(349));Hi&30||rS(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,v_(iS.bind(null,r,i,t),[t]),r.flags|=2048,nc(9,sS.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=ur(),e=mt.identifierPrefix;if(Ue){var n=zr,r=Br;n=(r&~(1<<32-Hn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=ec++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=xD++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},CD={readContext:An,useCallback:fS,useContext:An,useEffect:Dy,useImperativeHandle:hS,useInsertionEffect:cS,useLayoutEffect:uS,useMemo:pS,useReducer:xp,useRef:lS,useState:function(){return xp(tc)},useDebugValue:My,useDeferredValue:function(t){var e=Rn();return mS(e,at.memoizedState,t)},useTransition:function(){var t=xp(tc)[0],e=Rn().memoizedState;return[t,e]},useMutableSource:tS,useSyncExternalStore:nS,useId:gS,unstable_isNewReconciler:!1},AD={readContext:An,useCallback:fS,useContext:An,useEffect:Dy,useImperativeHandle:hS,useInsertionEffect:cS,useLayoutEffect:uS,useMemo:pS,useReducer:Tp,useRef:lS,useState:function(){return Tp(tc)},useDebugValue:My,useDeferredValue:function(t){var e=Rn();return at===null?e.memoizedState=t:mS(e,at.memoizedState,t)},useTransition:function(){var t=Tp(tc)[0],e=Rn().memoizedState;return[t,e]},useMutableSource:tS,useSyncExternalStore:nS,useId:gS,unstable_isNewReconciler:!1};function Ln(t,e){if(t&&t.defaultProps){e=He({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function jm(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:He({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Mh={isMounted:function(t){return(t=t._reactInternals)?ro(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Vt(),s=Hs(t),i=qr(r,s);i.payload=e,n!=null&&(i.callback=n),e=Bs(t,i,s),e!==null&&(Wn(e,t,s,r),Gu(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Vt(),s=Hs(t),i=qr(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=Bs(t,i,s),e!==null&&(Wn(e,t,s,r),Gu(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Vt(),r=Hs(t),s=qr(n,r);s.tag=2,e!=null&&(s.callback=e),e=Bs(t,s,r),e!==null&&(Wn(e,t,r,n),Gu(e,t,r))}};function w_(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!Kl(n,r)||!Kl(s,i):!0}function _S(t,e,n){var r=!1,s=Js,i=e.contextType;return typeof i=="object"&&i!==null?i=An(i):(s=Yt(e)?Bi:kt.current,r=e.contextTypes,i=(r=r!=null)?ua(t,s):Js),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Mh,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function __(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Mh.enqueueReplaceState(e,e.state,null)}function Fm(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},Iy(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=An(i):(i=Yt(e)?Bi:kt.current,s.context=ua(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(jm(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&Mh.enqueueReplaceState(s,s.state,null),Nd(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function pa(t,e){try{var n="",r=e;do n+=n2(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function Sp(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Um(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var RD=typeof WeakMap=="function"?WeakMap:Map;function ES(t,e,n){n=qr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Vd||(Vd=!0,Ym=r),Um(t,e)},n}function xS(t,e,n){n=qr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){Um(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Um(t,e),typeof r!="function"&&(zs===null?zs=new Set([this]):zs.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function E_(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new RD;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=zD.bind(null,t,e,n),e.then(t,t))}function x_(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function T_(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=qr(-1,1),e.tag=2,Bs(n,e,1))),n.lanes|=1),t)}var PD=ss.ReactCurrentOwner,Kt=!1;function Ot(t,e,n,r){e.child=t===null?XT(e,null,n,r):ha(e,t.child,n,r)}function S_(t,e,n,r,s){n=n.render;var i=e.ref;return Bo(e,s),r=ky(t,e,n,r,i,s),n=Ny(),t!==null&&!Kt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Xr(t,e,s)):(Ue&&n&&wy(e),e.flags|=1,Ot(t,e,r,s),e.child)}function b_(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!By(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,TS(t,e,i,r,s)):(t=Zu(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Kl,n(o,r)&&t.ref===e.ref)return Xr(t,e,s)}return e.flags|=1,t=Ws(i,r),t.ref=e.ref,t.return=e,e.child=t}function TS(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(Kl(i,r)&&t.ref===e.ref)if(Kt=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(Kt=!0);else return e.lanes=t.lanes,Xr(t,e,s)}return $m(t,e,n,r,s)}function SS(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Oe(Vo,sn),sn|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Oe(Vo,sn),sn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,Oe(Vo,sn),sn|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,Oe(Vo,sn),sn|=r;return Ot(t,e,s,n),e.child}function bS(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function $m(t,e,n,r,s){var i=Yt(n)?Bi:kt.current;return i=ua(e,i),Bo(e,s),n=ky(t,e,n,r,i,s),r=Ny(),t!==null&&!Kt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Xr(t,e,s)):(Ue&&r&&wy(e),e.flags|=1,Ot(t,e,n,s),e.child)}function I_(t,e,n,r,s){if(Yt(n)){var i=!0;Cd(e)}else i=!1;if(Bo(e,s),e.stateNode===null)Yu(t,e),_S(e,n,r),Fm(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=An(u):(u=Yt(n)?Bi:kt.current,u=ua(e,u));var d=n.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&__(e,o,r,u),Ts=!1;var p=e.memoizedState;o.state=p,Nd(e,r,o,s),l=e.memoizedState,a!==r||p!==l||Qt.current||Ts?(typeof d=="function"&&(jm(e,n,d,r),l=e.memoizedState),(a=Ts||w_(e,n,a,r,p,l,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,ZT(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:Ln(e.type,a),o.props=u,h=e.pendingProps,p=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=An(l):(l=Yt(n)?Bi:kt.current,l=ua(e,l));var g=n.getDerivedStateFromProps;(d=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||p!==l)&&__(e,o,r,l),Ts=!1,p=e.memoizedState,o.state=p,Nd(e,r,o,s);var S=e.memoizedState;a!==h||p!==S||Qt.current||Ts?(typeof g=="function"&&(jm(e,n,g,r),S=e.memoizedState),(u=Ts||w_(e,n,u,r,p,S,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,S,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,S,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=S),o.props=r,o.state=S,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),r=!1)}return Bm(t,e,n,r,i,s)}function Bm(t,e,n,r,s,i){bS(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&d_(e,n,!1),Xr(t,e,i);r=e.stateNode,PD.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=ha(e,t.child,null,i),e.child=ha(e,null,a,i)):Ot(t,e,a,i),e.memoizedState=r.state,s&&d_(e,n,!0),e.child}function IS(t){var e=t.stateNode;e.pendingContext?u_(t,e.pendingContext,e.pendingContext!==e.context):e.context&&u_(t,e.context,!1),Cy(t,e.containerInfo)}function C_(t,e,n,r,s){return da(),Ey(s),e.flags|=256,Ot(t,e,n,r),e.child}var zm={dehydrated:null,treeContext:null,retryLane:0};function Hm(t){return{baseLanes:t,cachePool:null,transitions:null}}function CS(t,e,n){var r=e.pendingProps,s=Be.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),Oe(Be,s&1),t===null)return Lm(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Vh(o,r,0,null),t=ji(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=Hm(n),e.memoizedState=zm,t):Oy(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return kD(t,e,o,r,a,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Ws(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=Ws(a,i):(i=ji(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?Hm(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=zm,r}return i=t.child,t=i.sibling,r=Ws(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Oy(t,e){return e=Vh({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function _u(t,e,n,r){return r!==null&&Ey(r),ha(e,t.child,null,n),t=Oy(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function kD(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=Sp(Error(z(422))),_u(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=Vh({mode:"visible",children:r.children},s,0,null),i=ji(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&ha(e,t.child,null,o),e.child.memoizedState=Hm(o),e.memoizedState=zm,i);if(!(e.mode&1))return _u(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(z(419)),r=Sp(i,r,void 0),_u(t,e,o,r)}if(a=(o&t.childLanes)!==0,Kt||a){if(r=mt,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Yr(t,s),Wn(r,t,s,-1))}return $y(),r=Sp(Error(z(421))),_u(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=HD.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,an=$s(s.nextSibling),ln=e,Ue=!0,$n=null,t!==null&&(wn[_n++]=Br,wn[_n++]=zr,wn[_n++]=zi,Br=t.id,zr=t.overflow,zi=e),e=Oy(e,r.children),e.flags|=4096,e)}function A_(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Vm(t.return,e,n)}function bp(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function AS(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(Ot(t,e,r.children,n),r=Be.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&A_(t,n,e);else if(t.tag===19)A_(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Oe(Be,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&Dd(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),bp(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Dd(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}bp(e,!0,n,null,i);break;case"together":bp(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Yu(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Xr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Wi|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(z(153));if(e.child!==null){for(t=e.child,n=Ws(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Ws(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function ND(t,e,n){switch(e.tag){case 3:IS(e),da();break;case 5:eS(e);break;case 1:Yt(e.type)&&Cd(e);break;case 4:Cy(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;Oe(Pd,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Oe(Be,Be.current&1),e.flags|=128,null):n&e.child.childLanes?CS(t,e,n):(Oe(Be,Be.current&1),t=Xr(t,e,n),t!==null?t.sibling:null);Oe(Be,Be.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return AS(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Oe(Be,Be.current),r)break;return null;case 22:case 23:return e.lanes=0,SS(t,e,n)}return Xr(t,e,n)}var RS,Wm,PS,kS;RS=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Wm=function(){};PS=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,Ci(wr.current);var i=null;switch(n){case"input":s=fm(t,s),r=fm(t,r),i=[];break;case"select":s=He({},s,{value:void 0}),r=He({},r,{value:void 0}),i=[];break;case"textarea":s=gm(t,s),r=gm(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=bd)}vm(n,r);var o;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var a=s[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&($l.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var l=r[u];if(a=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&($l.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&je("scroll",t),i||a===l||(i=[])):(i=i||[]).push(u,l))}n&&(i=i||[]).push("style",n);var u=i;(e.updateQueue=u)&&(e.flags|=4)}};kS=function(t,e,n,r){n!==r&&(e.flags|=4)};function ul(t,e){if(!Ue)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function bt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function DD(t,e,n){var r=e.pendingProps;switch(_y(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return bt(e),null;case 1:return Yt(e.type)&&Id(),bt(e),null;case 3:return r=e.stateNode,fa(),Fe(Qt),Fe(kt),Ry(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(vu(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,$n!==null&&(Zm($n),$n=null))),Wm(t,e),bt(e),null;case 5:Ay(e);var s=Ci(Zl.current);if(n=e.type,t!==null&&e.stateNode!=null)PS(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(z(166));return bt(e),null}if(t=Ci(wr.current),vu(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[mr]=e,r[Xl]=i,t=(e.mode&1)!==0,n){case"dialog":je("cancel",r),je("close",r);break;case"iframe":case"object":case"embed":je("load",r);break;case"video":case"audio":for(s=0;s<vl.length;s++)je(vl[s],r);break;case"source":je("error",r);break;case"img":case"image":case"link":je("error",r),je("load",r);break;case"details":je("toggle",r);break;case"input":V0(r,i),je("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},je("invalid",r);break;case"textarea":F0(r,i),je("invalid",r)}vm(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&yu(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&yu(r.textContent,a,t),s=["children",""+a]):$l.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&je("scroll",r)}switch(n){case"input":cu(r),j0(r,i,!0);break;case"textarea":cu(r),U0(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=bd)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=iT(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[mr]=e,t[Xl]=r,RS(t,e,!1,!1),e.stateNode=t;e:{switch(o=wm(n,r),n){case"dialog":je("cancel",t),je("close",t),s=r;break;case"iframe":case"object":case"embed":je("load",t),s=r;break;case"video":case"audio":for(s=0;s<vl.length;s++)je(vl[s],t);s=r;break;case"source":je("error",t),s=r;break;case"img":case"image":case"link":je("error",t),je("load",t),s=r;break;case"details":je("toggle",t),s=r;break;case"input":V0(t,r),s=fm(t,r),je("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=He({},r,{value:void 0}),je("invalid",t);break;case"textarea":F0(t,r),s=gm(t,r),je("invalid",t);break;default:s=r}vm(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?lT(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&oT(t,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Bl(t,l):typeof l=="number"&&Bl(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&($l.hasOwnProperty(i)?l!=null&&i==="onScroll"&&je("scroll",t):l!=null&&iy(t,i,l,o))}switch(n){case"input":cu(t),j0(t,r,!1);break;case"textarea":cu(t),U0(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Xs(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?jo(t,!!r.multiple,i,!1):r.defaultValue!=null&&jo(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=bd)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return bt(e),null;case 6:if(t&&e.stateNode!=null)kS(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(z(166));if(n=Ci(Zl.current),Ci(wr.current),vu(e)){if(r=e.stateNode,n=e.memoizedProps,r[mr]=e,(i=r.nodeValue!==n)&&(t=ln,t!==null))switch(t.tag){case 3:yu(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&yu(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[mr]=e,e.stateNode=r}return bt(e),null;case 13:if(Fe(Be),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ue&&an!==null&&e.mode&1&&!(e.flags&128))QT(),da(),e.flags|=98560,i=!1;else if(i=vu(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(z(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(z(317));i[mr]=e}else da(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;bt(e),i=!1}else $n!==null&&(Zm($n),$n=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Be.current&1?lt===0&&(lt=3):$y())),e.updateQueue!==null&&(e.flags|=4),bt(e),null);case 4:return fa(),Wm(t,e),t===null&&Ql(e.stateNode.containerInfo),bt(e),null;case 10:return Sy(e.type._context),bt(e),null;case 17:return Yt(e.type)&&Id(),bt(e),null;case 19:if(Fe(Be),i=e.memoizedState,i===null)return bt(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)ul(i,!1);else{if(lt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Dd(t),o!==null){for(e.flags|=128,ul(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Oe(Be,Be.current&1|2),e.child}t=t.sibling}i.tail!==null&&Xe()>ma&&(e.flags|=128,r=!0,ul(i,!1),e.lanes=4194304)}else{if(!r)if(t=Dd(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),ul(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Ue)return bt(e),null}else 2*Xe()-i.renderingStartTime>ma&&n!==1073741824&&(e.flags|=128,r=!0,ul(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=Xe(),e.sibling=null,n=Be.current,Oe(Be,r?n&1|2:n&1),e):(bt(e),null);case 22:case 23:return Uy(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?sn&1073741824&&(bt(e),e.subtreeFlags&6&&(e.flags|=8192)):bt(e),null;case 24:return null;case 25:return null}throw Error(z(156,e.tag))}function MD(t,e){switch(_y(e),e.tag){case 1:return Yt(e.type)&&Id(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return fa(),Fe(Qt),Fe(kt),Ry(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Ay(e),null;case 13:if(Fe(Be),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(z(340));da()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Fe(Be),null;case 4:return fa(),null;case 10:return Sy(e.type._context),null;case 22:case 23:return Uy(),null;case 24:return null;default:return null}}var Eu=!1,Rt=!1,OD=typeof WeakSet=="function"?WeakSet:Set,Y=null;function Lo(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ke(t,e,r)}else n.current=null}function qm(t,e,n){try{n()}catch(r){Ke(t,e,r)}}var R_=!1;function LD(t,e){if(Rm=xd,t=LT(),vy(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,d=0,h=t,p=null;t:for(;;){for(var g;h!==n||s!==0&&h.nodeType!==3||(a=o+s),h!==i||r!==0&&h.nodeType!==3||(l=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(g=h.firstChild)!==null;)p=h,h=g;for(;;){if(h===t)break t;if(p===n&&++u===s&&(a=o),p===i&&++d===r&&(l=o),(g=h.nextSibling)!==null)break;h=p,p=h.parentNode}h=g}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Pm={focusedElem:t,selectionRange:n},xd=!1,Y=e;Y!==null;)if(e=Y,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Y=t;else for(;Y!==null;){e=Y;try{var S=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(S!==null){var E=S.memoizedProps,x=S.memoizedState,v=e.stateNode,_=v.getSnapshotBeforeUpdate(e.elementType===e.type?E:Ln(e.type,E),x);v.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var T=e.stateNode.containerInfo;T.nodeType===1?T.textContent="":T.nodeType===9&&T.documentElement&&T.removeChild(T.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(z(163))}}catch(P){Ke(e,e.return,P)}if(t=e.sibling,t!==null){t.return=e.return,Y=t;break}Y=e.return}return S=R_,R_=!1,S}function Pl(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&qm(e,n,i)}s=s.next}while(s!==r)}}function Oh(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Gm(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function NS(t){var e=t.alternate;e!==null&&(t.alternate=null,NS(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[mr],delete e[Xl],delete e[Dm],delete e[vD],delete e[wD])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function DS(t){return t.tag===5||t.tag===3||t.tag===4}function P_(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||DS(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Km(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=bd));else if(r!==4&&(t=t.child,t!==null))for(Km(t,e,n),t=t.sibling;t!==null;)Km(t,e,n),t=t.sibling}function Qm(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Qm(t,e,n),t=t.sibling;t!==null;)Qm(t,e,n),t=t.sibling}var yt=null,Un=!1;function gs(t,e,n){for(n=n.child;n!==null;)MS(t,e,n),n=n.sibling}function MS(t,e,n){if(vr&&typeof vr.onCommitFiberUnmount=="function")try{vr.onCommitFiberUnmount(Ch,n)}catch{}switch(n.tag){case 5:Rt||Lo(n,e);case 6:var r=yt,s=Un;yt=null,gs(t,e,n),yt=r,Un=s,yt!==null&&(Un?(t=yt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):yt.removeChild(n.stateNode));break;case 18:yt!==null&&(Un?(t=yt,n=n.stateNode,t.nodeType===8?vp(t.parentNode,n):t.nodeType===1&&vp(t,n),ql(t)):vp(yt,n.stateNode));break;case 4:r=yt,s=Un,yt=n.stateNode.containerInfo,Un=!0,gs(t,e,n),yt=r,Un=s;break;case 0:case 11:case 14:case 15:if(!Rt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&qm(n,e,o),s=s.next}while(s!==r)}gs(t,e,n);break;case 1:if(!Rt&&(Lo(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Ke(n,e,a)}gs(t,e,n);break;case 21:gs(t,e,n);break;case 22:n.mode&1?(Rt=(r=Rt)||n.memoizedState!==null,gs(t,e,n),Rt=r):gs(t,e,n);break;default:gs(t,e,n)}}function k_(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new OD),e.forEach(function(r){var s=WD.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Mn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:yt=a.stateNode,Un=!1;break e;case 3:yt=a.stateNode.containerInfo,Un=!0;break e;case 4:yt=a.stateNode.containerInfo,Un=!0;break e}a=a.return}if(yt===null)throw Error(z(160));MS(i,o,s),yt=null,Un=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(u){Ke(s,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)OS(e,t),e=e.sibling}function OS(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Mn(e,t),cr(t),r&4){try{Pl(3,t,t.return),Oh(3,t)}catch(E){Ke(t,t.return,E)}try{Pl(5,t,t.return)}catch(E){Ke(t,t.return,E)}}break;case 1:Mn(e,t),cr(t),r&512&&n!==null&&Lo(n,n.return);break;case 5:if(Mn(e,t),cr(t),r&512&&n!==null&&Lo(n,n.return),t.flags&32){var s=t.stateNode;try{Bl(s,"")}catch(E){Ke(t,t.return,E)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&rT(s,i),wm(a,o);var u=wm(a,i);for(o=0;o<l.length;o+=2){var d=l[o],h=l[o+1];d==="style"?lT(s,h):d==="dangerouslySetInnerHTML"?oT(s,h):d==="children"?Bl(s,h):iy(s,d,h,u)}switch(a){case"input":pm(s,i);break;case"textarea":sT(s,i);break;case"select":var p=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var g=i.value;g!=null?jo(s,!!i.multiple,g,!1):p!==!!i.multiple&&(i.defaultValue!=null?jo(s,!!i.multiple,i.defaultValue,!0):jo(s,!!i.multiple,i.multiple?[]:"",!1))}s[Xl]=i}catch(E){Ke(t,t.return,E)}}break;case 6:if(Mn(e,t),cr(t),r&4){if(t.stateNode===null)throw Error(z(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(E){Ke(t,t.return,E)}}break;case 3:if(Mn(e,t),cr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{ql(e.containerInfo)}catch(E){Ke(t,t.return,E)}break;case 4:Mn(e,t),cr(t);break;case 13:Mn(e,t),cr(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(jy=Xe())),r&4&&k_(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(Rt=(u=Rt)||d,Mn(e,t),Rt=u):Mn(e,t),cr(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(Y=t,d=t.child;d!==null;){for(h=Y=d;Y!==null;){switch(p=Y,g=p.child,p.tag){case 0:case 11:case 14:case 15:Pl(4,p,p.return);break;case 1:Lo(p,p.return);var S=p.stateNode;if(typeof S.componentWillUnmount=="function"){r=p,n=p.return;try{e=r,S.props=e.memoizedProps,S.state=e.memoizedState,S.componentWillUnmount()}catch(E){Ke(r,n,E)}}break;case 5:Lo(p,p.return);break;case 22:if(p.memoizedState!==null){D_(h);continue}}g!==null?(g.return=p,Y=g):D_(h)}d=d.sibling}e:for(d=null,h=t;;){if(h.tag===5){if(d===null){d=h;try{s=h.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=aT("display",o))}catch(E){Ke(t,t.return,E)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(E){Ke(t,t.return,E)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Mn(e,t),cr(t),r&4&&k_(t);break;case 21:break;default:Mn(e,t),cr(t)}}function cr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(DS(n)){var r=n;break e}n=n.return}throw Error(z(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Bl(s,""),r.flags&=-33);var i=P_(t);Qm(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=P_(t);Km(t,a,o);break;default:throw Error(z(161))}}catch(l){Ke(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function VD(t,e,n){Y=t,LS(t)}function LS(t,e,n){for(var r=(t.mode&1)!==0;Y!==null;){var s=Y,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||Eu;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||Rt;a=Eu;var u=Rt;if(Eu=o,(Rt=l)&&!u)for(Y=s;Y!==null;)o=Y,l=o.child,o.tag===22&&o.memoizedState!==null?M_(s):l!==null?(l.return=o,Y=l):M_(s);for(;i!==null;)Y=i,LS(i),i=i.sibling;Y=s,Eu=a,Rt=u}N_(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,Y=i):N_(t)}}function N_(t){for(;Y!==null;){var e=Y;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Rt||Oh(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Rt)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:Ln(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&g_(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}g_(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&ql(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(z(163))}Rt||e.flags&512&&Gm(e)}catch(p){Ke(e,e.return,p)}}if(e===t){Y=null;break}if(n=e.sibling,n!==null){n.return=e.return,Y=n;break}Y=e.return}}function D_(t){for(;Y!==null;){var e=Y;if(e===t){Y=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Y=n;break}Y=e.return}}function M_(t){for(;Y!==null;){var e=Y;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Oh(4,e)}catch(l){Ke(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(l){Ke(e,s,l)}}var i=e.return;try{Gm(e)}catch(l){Ke(e,i,l)}break;case 5:var o=e.return;try{Gm(e)}catch(l){Ke(e,o,l)}}}catch(l){Ke(e,e.return,l)}if(e===t){Y=null;break}var a=e.sibling;if(a!==null){a.return=e.return,Y=a;break}Y=e.return}}var jD=Math.ceil,Ld=ss.ReactCurrentDispatcher,Ly=ss.ReactCurrentOwner,bn=ss.ReactCurrentBatchConfig,xe=0,mt=null,nt=null,_t=0,sn=0,Vo=ci(0),lt=0,rc=null,Wi=0,Lh=0,Vy=0,kl=null,Gt=null,jy=0,ma=1/0,Vr=null,Vd=!1,Ym=null,zs=null,xu=!1,Os=null,jd=0,Nl=0,Xm=null,Xu=-1,Ju=0;function Vt(){return xe&6?Xe():Xu!==-1?Xu:Xu=Xe()}function Hs(t){return t.mode&1?xe&2&&_t!==0?_t&-_t:ED.transition!==null?(Ju===0&&(Ju=_T()),Ju):(t=Ae,t!==0||(t=window.event,t=t===void 0?16:CT(t.type)),t):1}function Wn(t,e,n,r){if(50<Nl)throw Nl=0,Xm=null,Error(z(185));Ic(t,n,r),(!(xe&2)||t!==mt)&&(t===mt&&(!(xe&2)&&(Lh|=n),lt===4&&bs(t,_t)),Xt(t,r),n===1&&xe===0&&!(e.mode&1)&&(ma=Xe()+500,Nh&&ui()))}function Xt(t,e){var n=t.callbackNode;E2(t,e);var r=Ed(t,t===mt?_t:0);if(r===0)n!==null&&z0(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&z0(n),e===1)t.tag===0?_D(O_.bind(null,t)):qT(O_.bind(null,t)),gD(function(){!(xe&6)&&ui()}),n=null;else{switch(ET(r)){case 1:n=uy;break;case 4:n=vT;break;case 16:n=_d;break;case 536870912:n=wT;break;default:n=_d}n=HS(n,VS.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function VS(t,e){if(Xu=-1,Ju=0,xe&6)throw Error(z(327));var n=t.callbackNode;if(zo()&&t.callbackNode!==n)return null;var r=Ed(t,t===mt?_t:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Fd(t,r);else{e=r;var s=xe;xe|=2;var i=FS();(mt!==t||_t!==e)&&(Vr=null,ma=Xe()+500,Vi(t,e));do try{$D();break}catch(a){jS(t,a)}while(!0);Ty(),Ld.current=i,xe=s,nt!==null?e=0:(mt=null,_t=0,e=lt)}if(e!==0){if(e===2&&(s=Sm(t),s!==0&&(r=s,e=Jm(t,s))),e===1)throw n=rc,Vi(t,0),bs(t,r),Xt(t,Xe()),n;if(e===6)bs(t,r);else{if(s=t.current.alternate,!(r&30)&&!FD(s)&&(e=Fd(t,r),e===2&&(i=Sm(t),i!==0&&(r=i,e=Jm(t,i))),e===1))throw n=rc,Vi(t,0),bs(t,r),Xt(t,Xe()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(z(345));case 2:Ei(t,Gt,Vr);break;case 3:if(bs(t,r),(r&130023424)===r&&(e=jy+500-Xe(),10<e)){if(Ed(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){Vt(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=Nm(Ei.bind(null,t,Gt,Vr),e);break}Ei(t,Gt,Vr);break;case 4:if(bs(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-Hn(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=Xe()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*jD(r/1960))-r,10<r){t.timeoutHandle=Nm(Ei.bind(null,t,Gt,Vr),r);break}Ei(t,Gt,Vr);break;case 5:Ei(t,Gt,Vr);break;default:throw Error(z(329))}}}return Xt(t,Xe()),t.callbackNode===n?VS.bind(null,t):null}function Jm(t,e){var n=kl;return t.current.memoizedState.isDehydrated&&(Vi(t,e).flags|=256),t=Fd(t,e),t!==2&&(e=Gt,Gt=n,e!==null&&Zm(e)),t}function Zm(t){Gt===null?Gt=t:Gt.push.apply(Gt,t)}function FD(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!Qn(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function bs(t,e){for(e&=~Vy,e&=~Lh,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Hn(e),r=1<<n;t[n]=-1,e&=~r}}function O_(t){if(xe&6)throw Error(z(327));zo();var e=Ed(t,0);if(!(e&1))return Xt(t,Xe()),null;var n=Fd(t,e);if(t.tag!==0&&n===2){var r=Sm(t);r!==0&&(e=r,n=Jm(t,r))}if(n===1)throw n=rc,Vi(t,0),bs(t,e),Xt(t,Xe()),n;if(n===6)throw Error(z(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Ei(t,Gt,Vr),Xt(t,Xe()),null}function Fy(t,e){var n=xe;xe|=1;try{return t(e)}finally{xe=n,xe===0&&(ma=Xe()+500,Nh&&ui())}}function qi(t){Os!==null&&Os.tag===0&&!(xe&6)&&zo();var e=xe;xe|=1;var n=bn.transition,r=Ae;try{if(bn.transition=null,Ae=1,t)return t()}finally{Ae=r,bn.transition=n,xe=e,!(xe&6)&&ui()}}function Uy(){sn=Vo.current,Fe(Vo)}function Vi(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,mD(n)),nt!==null)for(n=nt.return;n!==null;){var r=n;switch(_y(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Id();break;case 3:fa(),Fe(Qt),Fe(kt),Ry();break;case 5:Ay(r);break;case 4:fa();break;case 13:Fe(Be);break;case 19:Fe(Be);break;case 10:Sy(r.type._context);break;case 22:case 23:Uy()}n=n.return}if(mt=t,nt=t=Ws(t.current,null),_t=sn=e,lt=0,rc=null,Vy=Lh=Wi=0,Gt=kl=null,Ii!==null){for(e=0;e<Ii.length;e++)if(n=Ii[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}Ii=null}return t}function jS(t,e){do{var n=nt;try{if(Ty(),Ku.current=Od,Md){for(var r=ze.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Md=!1}if(Hi=0,pt=at=ze=null,Rl=!1,ec=0,Ly.current=null,n===null||n.return===null){lt=1,rc=e,nt=null;break}e:{var i=t,o=n.return,a=n,l=e;if(e=_t,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,d=a,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var g=x_(o);if(g!==null){g.flags&=-257,T_(g,o,a,i,e),g.mode&1&&E_(i,u,e),e=g,l=u;var S=e.updateQueue;if(S===null){var E=new Set;E.add(l),e.updateQueue=E}else S.add(l);break e}else{if(!(e&1)){E_(i,u,e),$y();break e}l=Error(z(426))}}else if(Ue&&a.mode&1){var x=x_(o);if(x!==null){!(x.flags&65536)&&(x.flags|=256),T_(x,o,a,i,e),Ey(pa(l,a));break e}}i=l=pa(l,a),lt!==4&&(lt=2),kl===null?kl=[i]:kl.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var v=ES(i,l,e);m_(i,v);break e;case 1:a=l;var _=i.type,T=i.stateNode;if(!(i.flags&128)&&(typeof _.getDerivedStateFromError=="function"||T!==null&&typeof T.componentDidCatch=="function"&&(zs===null||!zs.has(T)))){i.flags|=65536,e&=-e,i.lanes|=e;var P=xS(i,a,e);m_(i,P);break e}}i=i.return}while(i!==null)}$S(n)}catch(M){e=M,nt===n&&n!==null&&(nt=n=n.return);continue}break}while(!0)}function FS(){var t=Ld.current;return Ld.current=Od,t===null?Od:t}function $y(){(lt===0||lt===3||lt===2)&&(lt=4),mt===null||!(Wi&268435455)&&!(Lh&268435455)||bs(mt,_t)}function Fd(t,e){var n=xe;xe|=2;var r=FS();(mt!==t||_t!==e)&&(Vr=null,Vi(t,e));do try{UD();break}catch(s){jS(t,s)}while(!0);if(Ty(),xe=n,Ld.current=r,nt!==null)throw Error(z(261));return mt=null,_t=0,lt}function UD(){for(;nt!==null;)US(nt)}function $D(){for(;nt!==null&&!h2();)US(nt)}function US(t){var e=zS(t.alternate,t,sn);t.memoizedProps=t.pendingProps,e===null?$S(t):nt=e,Ly.current=null}function $S(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=MD(n,e),n!==null){n.flags&=32767,nt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{lt=6,nt=null;return}}else if(n=DD(n,e,sn),n!==null){nt=n;return}if(e=e.sibling,e!==null){nt=e;return}nt=e=t}while(e!==null);lt===0&&(lt=5)}function Ei(t,e,n){var r=Ae,s=bn.transition;try{bn.transition=null,Ae=1,BD(t,e,n,r)}finally{bn.transition=s,Ae=r}return null}function BD(t,e,n,r){do zo();while(Os!==null);if(xe&6)throw Error(z(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(z(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(x2(t,i),t===mt&&(nt=mt=null,_t=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||xu||(xu=!0,HS(_d,function(){return zo(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=bn.transition,bn.transition=null;var o=Ae;Ae=1;var a=xe;xe|=4,Ly.current=null,LD(t,n),OS(n,t),lD(Pm),xd=!!Rm,Pm=Rm=null,t.current=n,VD(n),f2(),xe=a,Ae=o,bn.transition=i}else t.current=n;if(xu&&(xu=!1,Os=t,jd=s),i=t.pendingLanes,i===0&&(zs=null),g2(n.stateNode),Xt(t,Xe()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Vd)throw Vd=!1,t=Ym,Ym=null,t;return jd&1&&t.tag!==0&&zo(),i=t.pendingLanes,i&1?t===Xm?Nl++:(Nl=0,Xm=t):Nl=0,ui(),null}function zo(){if(Os!==null){var t=ET(jd),e=bn.transition,n=Ae;try{if(bn.transition=null,Ae=16>t?16:t,Os===null)var r=!1;else{if(t=Os,Os=null,jd=0,xe&6)throw Error(z(331));var s=xe;for(xe|=4,Y=t.current;Y!==null;){var i=Y,o=i.child;if(Y.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(Y=u;Y!==null;){var d=Y;switch(d.tag){case 0:case 11:case 15:Pl(8,d,i)}var h=d.child;if(h!==null)h.return=d,Y=h;else for(;Y!==null;){d=Y;var p=d.sibling,g=d.return;if(NS(d),d===u){Y=null;break}if(p!==null){p.return=g,Y=p;break}Y=g}}}var S=i.alternate;if(S!==null){var E=S.child;if(E!==null){S.child=null;do{var x=E.sibling;E.sibling=null,E=x}while(E!==null)}}Y=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,Y=o;else e:for(;Y!==null;){if(i=Y,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Pl(9,i,i.return)}var v=i.sibling;if(v!==null){v.return=i.return,Y=v;break e}Y=i.return}}var _=t.current;for(Y=_;Y!==null;){o=Y;var T=o.child;if(o.subtreeFlags&2064&&T!==null)T.return=o,Y=T;else e:for(o=_;Y!==null;){if(a=Y,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Oh(9,a)}}catch(M){Ke(a,a.return,M)}if(a===o){Y=null;break e}var P=a.sibling;if(P!==null){P.return=a.return,Y=P;break e}Y=a.return}}if(xe=s,ui(),vr&&typeof vr.onPostCommitFiberRoot=="function")try{vr.onPostCommitFiberRoot(Ch,t)}catch{}r=!0}return r}finally{Ae=n,bn.transition=e}}return!1}function L_(t,e,n){e=pa(n,e),e=ES(t,e,1),t=Bs(t,e,1),e=Vt(),t!==null&&(Ic(t,1,e),Xt(t,e))}function Ke(t,e,n){if(t.tag===3)L_(t,t,n);else for(;e!==null;){if(e.tag===3){L_(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(zs===null||!zs.has(r))){t=pa(n,t),t=xS(e,t,1),e=Bs(e,t,1),t=Vt(),e!==null&&(Ic(e,1,t),Xt(e,t));break}}e=e.return}}function zD(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Vt(),t.pingedLanes|=t.suspendedLanes&n,mt===t&&(_t&n)===n&&(lt===4||lt===3&&(_t&130023424)===_t&&500>Xe()-jy?Vi(t,0):Vy|=n),Xt(t,e)}function BS(t,e){e===0&&(t.mode&1?(e=hu,hu<<=1,!(hu&130023424)&&(hu=4194304)):e=1);var n=Vt();t=Yr(t,e),t!==null&&(Ic(t,e,n),Xt(t,n))}function HD(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),BS(t,n)}function WD(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(z(314))}r!==null&&r.delete(e),BS(t,n)}var zS;zS=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Qt.current)Kt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Kt=!1,ND(t,e,n);Kt=!!(t.flags&131072)}else Kt=!1,Ue&&e.flags&1048576&&GT(e,Rd,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Yu(t,e),t=e.pendingProps;var s=ua(e,kt.current);Bo(e,n),s=ky(null,e,r,t,s,n);var i=Ny();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Yt(r)?(i=!0,Cd(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Iy(e),s.updater=Mh,e.stateNode=s,s._reactInternals=e,Fm(e,r,t,n),e=Bm(null,e,r,!0,i,n)):(e.tag=0,Ue&&i&&wy(e),Ot(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Yu(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=GD(r),t=Ln(r,t),s){case 0:e=$m(null,e,r,t,n);break e;case 1:e=I_(null,e,r,t,n);break e;case 11:e=S_(null,e,r,t,n);break e;case 14:e=b_(null,e,r,Ln(r.type,t),n);break e}throw Error(z(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Ln(r,s),$m(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Ln(r,s),I_(t,e,r,s,n);case 3:e:{if(IS(e),t===null)throw Error(z(387));r=e.pendingProps,i=e.memoizedState,s=i.element,ZT(t,e),Nd(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=pa(Error(z(423)),e),e=C_(t,e,r,n,s);break e}else if(r!==s){s=pa(Error(z(424)),e),e=C_(t,e,r,n,s);break e}else for(an=$s(e.stateNode.containerInfo.firstChild),ln=e,Ue=!0,$n=null,n=XT(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(da(),r===s){e=Xr(t,e,n);break e}Ot(t,e,r,n)}e=e.child}return e;case 5:return eS(e),t===null&&Lm(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,km(r,s)?o=null:i!==null&&km(r,i)&&(e.flags|=32),bS(t,e),Ot(t,e,o,n),e.child;case 6:return t===null&&Lm(e),null;case 13:return CS(t,e,n);case 4:return Cy(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=ha(e,null,r,n):Ot(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Ln(r,s),S_(t,e,r,s,n);case 7:return Ot(t,e,e.pendingProps,n),e.child;case 8:return Ot(t,e,e.pendingProps.children,n),e.child;case 12:return Ot(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,Oe(Pd,r._currentValue),r._currentValue=o,i!==null)if(Qn(i.value,o)){if(i.children===s.children&&!Qt.current){e=Xr(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=qr(-1,n&-n),l.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?l.next=l:(l.next=d.next,d.next=l),u.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),Vm(i.return,n,e),a.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(z(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Vm(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Ot(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,Bo(e,n),s=An(s),r=r(s),e.flags|=1,Ot(t,e,r,n),e.child;case 14:return r=e.type,s=Ln(r,e.pendingProps),s=Ln(r.type,s),b_(t,e,r,s,n);case 15:return TS(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Ln(r,s),Yu(t,e),e.tag=1,Yt(r)?(t=!0,Cd(e)):t=!1,Bo(e,n),_S(e,r,s),Fm(e,r,s,n),Bm(null,e,r,!0,t,n);case 19:return AS(t,e,n);case 22:return SS(t,e,n)}throw Error(z(156,e.tag))};function HS(t,e){return yT(t,e)}function qD(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Sn(t,e,n,r){return new qD(t,e,n,r)}function By(t){return t=t.prototype,!(!t||!t.isReactComponent)}function GD(t){if(typeof t=="function")return By(t)?1:0;if(t!=null){if(t=t.$$typeof,t===ay)return 11;if(t===ly)return 14}return 2}function Ws(t,e){var n=t.alternate;return n===null?(n=Sn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Zu(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")By(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Co:return ji(n.children,s,i,e);case oy:o=8,s|=8;break;case cm:return t=Sn(12,n,e,s|2),t.elementType=cm,t.lanes=i,t;case um:return t=Sn(13,n,e,s),t.elementType=um,t.lanes=i,t;case dm:return t=Sn(19,n,e,s),t.elementType=dm,t.lanes=i,t;case eT:return Vh(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Jx:o=10;break e;case Zx:o=9;break e;case ay:o=11;break e;case ly:o=14;break e;case xs:o=16,r=null;break e}throw Error(z(130,t==null?t:typeof t,""))}return e=Sn(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function ji(t,e,n,r){return t=Sn(7,t,r,e),t.lanes=n,t}function Vh(t,e,n,r){return t=Sn(22,t,r,e),t.elementType=eT,t.lanes=n,t.stateNode={isHidden:!1},t}function Ip(t,e,n){return t=Sn(6,t,null,e),t.lanes=n,t}function Cp(t,e,n){return e=Sn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function KD(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ap(0),this.expirationTimes=ap(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ap(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function zy(t,e,n,r,s,i,o,a,l){return t=new KD(t,e,n,a,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Sn(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Iy(i),t}function QD(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Io,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function WS(t){if(!t)return Js;t=t._reactInternals;e:{if(ro(t)!==t||t.tag!==1)throw Error(z(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Yt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(z(171))}if(t.tag===1){var n=t.type;if(Yt(n))return WT(t,n,e)}return e}function qS(t,e,n,r,s,i,o,a,l){return t=zy(n,r,!0,t,s,i,o,a,l),t.context=WS(null),n=t.current,r=Vt(),s=Hs(n),i=qr(r,s),i.callback=e??null,Bs(n,i,s),t.current.lanes=s,Ic(t,s,r),Xt(t,r),t}function jh(t,e,n,r){var s=e.current,i=Vt(),o=Hs(s);return n=WS(n),e.context===null?e.context=n:e.pendingContext=n,e=qr(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Bs(s,e,o),t!==null&&(Wn(t,s,o,i),Gu(t,s,o)),o}function Ud(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function V_(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Hy(t,e){V_(t,e),(t=t.alternate)&&V_(t,e)}function YD(){return null}var GS=typeof reportError=="function"?reportError:function(t){console.error(t)};function Wy(t){this._internalRoot=t}Fh.prototype.render=Wy.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(z(409));jh(t,e,null,null)};Fh.prototype.unmount=Wy.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;qi(function(){jh(null,t,null,null)}),e[Qr]=null}};function Fh(t){this._internalRoot=t}Fh.prototype.unstable_scheduleHydration=function(t){if(t){var e=ST();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Ss.length&&e!==0&&e<Ss[n].priority;n++);Ss.splice(n,0,t),n===0&&IT(t)}};function qy(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Uh(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function j_(){}function XD(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var u=Ud(o);i.call(u)}}var o=qS(e,r,t,0,null,!1,!1,"",j_);return t._reactRootContainer=o,t[Qr]=o.current,Ql(t.nodeType===8?t.parentNode:t),qi(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var u=Ud(l);a.call(u)}}var l=zy(t,0,!1,null,null,!1,!1,"",j_);return t._reactRootContainer=l,t[Qr]=l.current,Ql(t.nodeType===8?t.parentNode:t),qi(function(){jh(e,l,n,r)}),l}function $h(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=Ud(o);a.call(l)}}jh(e,o,t,s)}else o=XD(n,e,t,s,r);return Ud(o)}xT=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=yl(e.pendingLanes);n!==0&&(dy(e,n|1),Xt(e,Xe()),!(xe&6)&&(ma=Xe()+500,ui()))}break;case 13:qi(function(){var r=Yr(t,1);if(r!==null){var s=Vt();Wn(r,t,1,s)}}),Hy(t,1)}};hy=function(t){if(t.tag===13){var e=Yr(t,134217728);if(e!==null){var n=Vt();Wn(e,t,134217728,n)}Hy(t,134217728)}};TT=function(t){if(t.tag===13){var e=Hs(t),n=Yr(t,e);if(n!==null){var r=Vt();Wn(n,t,e,r)}Hy(t,e)}};ST=function(){return Ae};bT=function(t,e){var n=Ae;try{return Ae=t,e()}finally{Ae=n}};Em=function(t,e,n){switch(e){case"input":if(pm(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=kh(r);if(!s)throw Error(z(90));nT(r),pm(r,s)}}}break;case"textarea":sT(t,n);break;case"select":e=n.value,e!=null&&jo(t,!!n.multiple,e,!1)}};dT=Fy;hT=qi;var JD={usingClientEntryPoint:!1,Events:[Ac,ko,kh,cT,uT,Fy]},dl={findFiberByHostInstance:bi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ZD={bundleType:dl.bundleType,version:dl.version,rendererPackageName:dl.rendererPackageName,rendererConfig:dl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ss.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=mT(t),t===null?null:t.stateNode},findFiberByHostInstance:dl.findFiberByHostInstance||YD,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Tu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Tu.isDisabled&&Tu.supportsFiber)try{Ch=Tu.inject(ZD),vr=Tu}catch{}}fn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=JD;fn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!qy(e))throw Error(z(200));return QD(t,e,null,n)};fn.createRoot=function(t,e){if(!qy(t))throw Error(z(299));var n=!1,r="",s=GS;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=zy(t,1,!1,null,null,n,!1,r,s),t[Qr]=e.current,Ql(t.nodeType===8?t.parentNode:t),new Wy(e)};fn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(z(188)):(t=Object.keys(t).join(","),Error(z(268,t)));return t=mT(e),t=t===null?null:t.stateNode,t};fn.flushSync=function(t){return qi(t)};fn.hydrate=function(t,e,n){if(!Uh(e))throw Error(z(200));return $h(null,t,e,!0,n)};fn.hydrateRoot=function(t,e,n){if(!qy(t))throw Error(z(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=GS;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=qS(e,null,t,1,n??null,s,!1,i,o),t[Qr]=e.current,Ql(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new Fh(e)};fn.render=function(t,e,n){if(!Uh(e))throw Error(z(200));return $h(null,t,e,!1,n)};fn.unmountComponentAtNode=function(t){if(!Uh(t))throw Error(z(40));return t._reactRootContainer?(qi(function(){$h(null,null,t,!1,function(){t._reactRootContainer=null,t[Qr]=null})}),!0):!1};fn.unstable_batchedUpdates=Fy;fn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Uh(n))throw Error(z(200));if(t==null||t._reactInternals===void 0)throw Error(z(38));return $h(t,e,n,!1,r)};fn.version="18.3.1-next-f1338f8080-20240426";function KS(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(KS)}catch(t){console.error(t)}}KS(),Kx.exports=fn;var Pc=Kx.exports;const QS=Lx(Pc);var YS,F_=Pc;YS=F_.createRoot,F_.hydrateRoot;const eM=1,tM=1e6;let Ap=0;function nM(){return Ap=(Ap+1)%Number.MAX_SAFE_INTEGER,Ap.toString()}const Rp=new Map,U_=t=>{if(Rp.has(t))return;const e=setTimeout(()=>{Rp.delete(t),Dl({type:"REMOVE_TOAST",toastId:t})},tM);Rp.set(t,e)},rM=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,eM)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?U_(n):t.toasts.forEach(r=>{U_(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},ed=[];let td={toasts:[]};function Dl(t){td=rM(td,t),ed.forEach(e=>{e(td)})}function sM({...t}){const e=nM(),n=s=>Dl({type:"UPDATE_TOAST",toast:{...s,id:e}}),r=()=>Dl({type:"DISMISS_TOAST",toastId:e});return Dl({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:s=>{s||r()}}}),{id:e,dismiss:r,update:n}}function iM(){const[t,e]=y.useState(td);return y.useEffect(()=>(ed.push(e),()=>{const n=ed.indexOf(e);n>-1&&ed.splice(n,1)}),[t]),{...t,toast:sM,dismiss:n=>Dl({type:"DISMISS_TOAST",toastId:n})}}function J(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t==null||t(s),n===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function $_(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function Bh(...t){return e=>{let n=!1;const r=t.map(s=>{const i=$_(s,e);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():$_(t[s],null)}}}}function Re(...t){return y.useCallback(Bh(...t),t)}function oM(t,e){const n=y.createContext(e),r=i=>{const{children:o,...a}=i,l=y.useMemo(()=>a,Object.values(a));return f.jsx(n.Provider,{value:l,children:o})};r.displayName=t+"Provider";function s(i){const o=y.useContext(n);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${i}\` must be used within \`${t}\``)}return[r,s]}function er(t,e=[]){let n=[];function r(i,o){const a=y.createContext(o),l=n.length;n=[...n,o];const u=h=>{var v;const{scope:p,children:g,...S}=h,E=((v=p==null?void 0:p[t])==null?void 0:v[l])||a,x=y.useMemo(()=>S,Object.values(S));return f.jsx(E.Provider,{value:x,children:g})};u.displayName=i+"Provider";function d(h,p){var E;const g=((E=p==null?void 0:p[t])==null?void 0:E[l])||a,S=y.useContext(g);if(S)return S;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${i}\``)}return[u,d]}const s=()=>{const i=n.map(o=>y.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return y.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,aM(s,...e)]}function aM(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:u})=>{const h=l(i)[`__scope${u}`];return{...a,...h}},{});return y.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function ga(t){const e=cM(t),n=y.forwardRef((r,s)=>{const{children:i,...o}=r,a=y.Children.toArray(i),l=a.find(uM);if(l){const u=l.props.children,d=a.map(h=>h===l?y.Children.count(u)>1?y.Children.only(null):y.isValidElement(u)?u.props.children:null:h);return f.jsx(e,{...o,ref:s,children:y.isValidElement(u)?y.cloneElement(u,void 0,d):null})}return f.jsx(e,{...o,ref:s,children:i})});return n.displayName=`${t}.Slot`,n}var lM=ga("Slot");function cM(t){const e=y.forwardRef((n,r)=>{const{children:s,...i}=n;if(y.isValidElement(s)){const o=hM(s),a=dM(i,s.props);return s.type!==y.Fragment&&(a.ref=r?Bh(r,o):o),y.cloneElement(s,a)}return y.Children.count(s)>1?y.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var XS=Symbol("radix.slottable");function JS(t){const e=({children:n})=>f.jsx(f.Fragment,{children:n});return e.displayName=`${t}.Slottable`,e.__radixId=XS,e}function uM(t){return y.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===XS}function dM(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...a)=>{const l=i(...a);return s(...a),l}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function hM(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function Gy(t){const e=t+"CollectionProvider",[n,r]=er(e),[s,i]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=E=>{const{scope:x,children:v}=E,_=W.useRef(null),T=W.useRef(new Map).current;return f.jsx(s,{scope:x,itemMap:T,collectionRef:_,children:v})};o.displayName=e;const a=t+"CollectionSlot",l=ga(a),u=W.forwardRef((E,x)=>{const{scope:v,children:_}=E,T=i(a,v),P=Re(x,T.collectionRef);return f.jsx(l,{ref:P,children:_})});u.displayName=a;const d=t+"CollectionItemSlot",h="data-radix-collection-item",p=ga(d),g=W.forwardRef((E,x)=>{const{scope:v,children:_,...T}=E,P=W.useRef(null),M=Re(x,P),O=i(d,v);return W.useEffect(()=>(O.itemMap.set(P,{ref:P,...T}),()=>void O.itemMap.delete(P))),f.jsx(p,{[h]:"",ref:M,children:_})});g.displayName=d;function S(E){const x=i(t+"CollectionConsumer",E);return W.useCallback(()=>{const _=x.collectionRef.current;if(!_)return[];const T=Array.from(_.querySelectorAll(`[${h}]`));return Array.from(x.itemMap.values()).sort((O,I)=>T.indexOf(O.ref.current)-T.indexOf(I.ref.current))},[x.collectionRef,x.itemMap])}return[{Provider:o,Slot:u,ItemSlot:g},S,r]}var fM=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],_e=fM.reduce((t,e)=>{const n=ga(`Primitive.${e}`),r=y.forwardRef((s,i)=>{const{asChild:o,...a}=s,l=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),f.jsx(l,{...a,ref:i})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function Ky(t,e){t&&Pc.flushSync(()=>t.dispatchEvent(e))}function Je(t){const e=y.useRef(t);return y.useEffect(()=>{e.current=t}),y.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function pM(t,e=globalThis==null?void 0:globalThis.document){const n=Je(t);y.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var mM="DismissableLayer",eg="dismissableLayer.update",gM="dismissableLayer.pointerDownOutside",yM="dismissableLayer.focusOutside",B_,ZS=y.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),kc=y.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:a,...l}=t,u=y.useContext(ZS),[d,h]=y.useState(null),p=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,g]=y.useState({}),S=Re(e,I=>h(I)),E=Array.from(u.layers),[x]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),v=E.indexOf(x),_=d?E.indexOf(d):-1,T=u.layersWithOutsidePointerEventsDisabled.size>0,P=_>=v,M=wM(I=>{const b=I.target,C=[...u.branches].some(R=>R.contains(b));!P||C||(s==null||s(I),o==null||o(I),I.defaultPrevented||a==null||a())},p),O=_M(I=>{const b=I.target;[...u.branches].some(R=>R.contains(b))||(i==null||i(I),o==null||o(I),I.defaultPrevented||a==null||a())},p);return pM(I=>{_===u.layers.size-1&&(r==null||r(I),!I.defaultPrevented&&a&&(I.preventDefault(),a()))},p),y.useEffect(()=>{if(d)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(B_=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),z_(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=B_)}},[d,p,n,u]),y.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),z_())},[d,u]),y.useEffect(()=>{const I=()=>g({});return document.addEventListener(eg,I),()=>document.removeEventListener(eg,I)},[]),f.jsx(_e.div,{...l,ref:S,style:{pointerEvents:T?P?"auto":"none":void 0,...t.style},onFocusCapture:J(t.onFocusCapture,O.onFocusCapture),onBlurCapture:J(t.onBlurCapture,O.onBlurCapture),onPointerDownCapture:J(t.onPointerDownCapture,M.onPointerDownCapture)})});kc.displayName=mM;var vM="DismissableLayerBranch",eb=y.forwardRef((t,e)=>{const n=y.useContext(ZS),r=y.useRef(null),s=Re(e,r);return y.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),f.jsx(_e.div,{...t,ref:s})});eb.displayName=vM;function wM(t,e=globalThis==null?void 0:globalThis.document){const n=Je(t),r=y.useRef(!1),s=y.useRef(()=>{});return y.useEffect(()=>{const i=a=>{if(a.target&&!r.current){let l=function(){tb(gM,n,u,{discrete:!0})};const u={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=l,e.addEventListener("click",s.current,{once:!0})):l()}else e.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function _M(t,e=globalThis==null?void 0:globalThis.document){const n=Je(t),r=y.useRef(!1);return y.useEffect(()=>{const s=i=>{i.target&&!r.current&&tb(yM,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function z_(){const t=new CustomEvent(eg);document.dispatchEvent(t)}function tb(t,e,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?Ky(s,i):s.dispatchEvent(i)}var EM=kc,xM=eb,hn=globalThis!=null&&globalThis.document?y.useLayoutEffect:()=>{},TM="Portal",zh=y.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[s,i]=y.useState(!1);hn(()=>i(!0),[]);const o=n||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?QS.createPortal(f.jsx(_e.div,{...r,ref:e}),o):null});zh.displayName=TM;function SM(t,e){return y.useReducer((n,r)=>e[n][r]??n,t)}var Zt=t=>{const{present:e,children:n}=t,r=bM(e),s=typeof n=="function"?n({present:r.isPresent}):y.Children.only(n),i=Re(r.ref,IM(s));return typeof n=="function"||r.isPresent?y.cloneElement(s,{ref:i}):null};Zt.displayName="Presence";function bM(t){const[e,n]=y.useState(),r=y.useRef(null),s=y.useRef(t),i=y.useRef("none"),o=t?"mounted":"unmounted",[a,l]=SM(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return y.useEffect(()=>{const u=Su(r.current);i.current=a==="mounted"?u:"none"},[a]),hn(()=>{const u=r.current,d=s.current;if(d!==t){const p=i.current,g=Su(u);t?l("MOUNT"):g==="none"||(u==null?void 0:u.display)==="none"?l("UNMOUNT"):l(d&&p!==g?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,l]),hn(()=>{if(e){let u;const d=e.ownerDocument.defaultView??window,h=g=>{const E=Su(r.current).includes(g.animationName);if(g.target===e&&E&&(l("ANIMATION_END"),!s.current)){const x=e.style.animationFillMode;e.style.animationFillMode="forwards",u=d.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=x)})}},p=g=>{g.target===e&&(i.current=Su(r.current))};return e.addEventListener("animationstart",p),e.addEventListener("animationcancel",h),e.addEventListener("animationend",h),()=>{d.clearTimeout(u),e.removeEventListener("animationstart",p),e.removeEventListener("animationcancel",h),e.removeEventListener("animationend",h)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:y.useCallback(u=>{r.current=u?getComputedStyle(u):null,n(u)},[])}}function Su(t){return(t==null?void 0:t.animationName)||"none"}function IM(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var CM=ny[" useInsertionEffect ".trim().toString()]||hn;function Nc({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[s,i,o]=AM({defaultProp:e,onChange:n}),a=t!==void 0,l=a?t:s;{const d=y.useRef(t!==void 0);y.useEffect(()=>{const h=d.current;h!==a&&console.warn(`${r} is changing from ${h?"controlled":"uncontrolled"} to ${a?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=a},[a,r])}const u=y.useCallback(d=>{var h;if(a){const p=RM(d)?d(t):d;p!==t&&((h=o.current)==null||h.call(o,p))}else i(d)},[a,t,i,o]);return[l,u]}function AM({defaultProp:t,onChange:e}){const[n,r]=y.useState(t),s=y.useRef(n),i=y.useRef(e);return CM(()=>{i.current=e},[e]),y.useEffect(()=>{var o;s.current!==n&&((o=i.current)==null||o.call(i,n),s.current=n)},[n,s]),[n,r,i]}function RM(t){return typeof t=="function"}var PM=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),kM="VisuallyHidden",Hh=y.forwardRef((t,e)=>f.jsx(_e.span,{...t,ref:e,style:{...PM,...t.style}}));Hh.displayName=kM;var NM=Hh,Qy="ToastProvider",[Yy,DM,MM]=Gy("Toast"),[nb,IW]=er("Toast",[MM]),[OM,Wh]=nb(Qy),rb=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:i=50,children:o}=t,[a,l]=y.useState(null),[u,d]=y.useState(0),h=y.useRef(!1),p=y.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${Qy}\`. Expected non-empty \`string\`.`),f.jsx(Yy.Provider,{scope:e,children:f.jsx(OM,{scope:e,label:n,duration:r,swipeDirection:s,swipeThreshold:i,toastCount:u,viewport:a,onViewportChange:l,onToastAdd:y.useCallback(()=>d(g=>g+1),[]),onToastRemove:y.useCallback(()=>d(g=>g-1),[]),isFocusedToastEscapeKeyDownRef:h,isClosePausedRef:p,children:o})})};rb.displayName=Qy;var sb="ToastViewport",LM=["F8"],tg="toast.viewportPause",ng="toast.viewportResume",ib=y.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=LM,label:s="Notifications ({hotkey})",...i}=t,o=Wh(sb,n),a=DM(n),l=y.useRef(null),u=y.useRef(null),d=y.useRef(null),h=y.useRef(null),p=Re(e,h,o.onViewportChange),g=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),S=o.toastCount>0;y.useEffect(()=>{const x=v=>{var T;r.length!==0&&r.every(P=>v[P]||v.code===P)&&((T=h.current)==null||T.focus())};return document.addEventListener("keydown",x),()=>document.removeEventListener("keydown",x)},[r]),y.useEffect(()=>{const x=l.current,v=h.current;if(S&&x&&v){const _=()=>{if(!o.isClosePausedRef.current){const O=new CustomEvent(tg);v.dispatchEvent(O),o.isClosePausedRef.current=!0}},T=()=>{if(o.isClosePausedRef.current){const O=new CustomEvent(ng);v.dispatchEvent(O),o.isClosePausedRef.current=!1}},P=O=>{!x.contains(O.relatedTarget)&&T()},M=()=>{x.contains(document.activeElement)||T()};return x.addEventListener("focusin",_),x.addEventListener("focusout",P),x.addEventListener("pointermove",_),x.addEventListener("pointerleave",M),window.addEventListener("blur",_),window.addEventListener("focus",T),()=>{x.removeEventListener("focusin",_),x.removeEventListener("focusout",P),x.removeEventListener("pointermove",_),x.removeEventListener("pointerleave",M),window.removeEventListener("blur",_),window.removeEventListener("focus",T)}}},[S,o.isClosePausedRef]);const E=y.useCallback(({tabbingDirection:x})=>{const _=a().map(T=>{const P=T.ref.current,M=[P,...QM(P)];return x==="forwards"?M:M.reverse()});return(x==="forwards"?_.reverse():_).flat()},[a]);return y.useEffect(()=>{const x=h.current;if(x){const v=_=>{var M,O,I;const T=_.altKey||_.ctrlKey||_.metaKey;if(_.key==="Tab"&&!T){const b=document.activeElement,C=_.shiftKey;if(_.target===x&&C){(M=u.current)==null||M.focus();return}const D=E({tabbingDirection:C?"backwards":"forwards"}),k=D.findIndex(H=>H===b);Pp(D.slice(k+1))?_.preventDefault():C?(O=u.current)==null||O.focus():(I=d.current)==null||I.focus()}};return x.addEventListener("keydown",v),()=>x.removeEventListener("keydown",v)}},[a,E]),f.jsxs(xM,{ref:l,role:"region","aria-label":s.replace("{hotkey}",g),tabIndex:-1,style:{pointerEvents:S?void 0:"none"},children:[S&&f.jsx(rg,{ref:u,onFocusFromOutsideViewport:()=>{const x=E({tabbingDirection:"forwards"});Pp(x)}}),f.jsx(Yy.Slot,{scope:n,children:f.jsx(_e.ol,{tabIndex:-1,...i,ref:p})}),S&&f.jsx(rg,{ref:d,onFocusFromOutsideViewport:()=>{const x=E({tabbingDirection:"backwards"});Pp(x)}})]})});ib.displayName=sb;var ob="ToastFocusProxy",rg=y.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...s}=t,i=Wh(ob,n);return f.jsx(Hh,{"aria-hidden":!0,tabIndex:0,...s,ref:e,style:{position:"fixed"},onFocus:o=>{var u;const a=o.relatedTarget;!((u=i.viewport)!=null&&u.contains(a))&&r()}})});rg.displayName=ob;var Dc="Toast",VM="toast.swipeStart",jM="toast.swipeMove",FM="toast.swipeCancel",UM="toast.swipeEnd",ab=y.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:s,onOpenChange:i,...o}=t,[a,l]=Nc({prop:r,defaultProp:s??!0,onChange:i,caller:Dc});return f.jsx(Zt,{present:n||a,children:f.jsx(zM,{open:a,...o,ref:e,onClose:()=>l(!1),onPause:Je(t.onPause),onResume:Je(t.onResume),onSwipeStart:J(t.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:J(t.onSwipeMove,u=>{const{x:d,y:h}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${h}px`)}),onSwipeCancel:J(t.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:J(t.onSwipeEnd,u=>{const{x:d,y:h}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${h}px`),l(!1)})})})});ab.displayName=Dc;var[$M,BM]=nb(Dc,{onClose(){}}),zM=y.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:s,open:i,onClose:o,onEscapeKeyDown:a,onPause:l,onResume:u,onSwipeStart:d,onSwipeMove:h,onSwipeCancel:p,onSwipeEnd:g,...S}=t,E=Wh(Dc,n),[x,v]=y.useState(null),_=Re(e,H=>v(H)),T=y.useRef(null),P=y.useRef(null),M=s||E.duration,O=y.useRef(0),I=y.useRef(M),b=y.useRef(0),{onToastAdd:C,onToastRemove:R}=E,N=Je(()=>{var se;(x==null?void 0:x.contains(document.activeElement))&&((se=E.viewport)==null||se.focus()),o()}),D=y.useCallback(H=>{!H||H===1/0||(window.clearTimeout(b.current),O.current=new Date().getTime(),b.current=window.setTimeout(N,H))},[N]);y.useEffect(()=>{const H=E.viewport;if(H){const se=()=>{D(I.current),u==null||u()},Z=()=>{const oe=new Date().getTime()-O.current;I.current=I.current-oe,window.clearTimeout(b.current),l==null||l()};return H.addEventListener(tg,Z),H.addEventListener(ng,se),()=>{H.removeEventListener(tg,Z),H.removeEventListener(ng,se)}}},[E.viewport,M,l,u,D]),y.useEffect(()=>{i&&!E.isClosePausedRef.current&&D(M)},[i,M,E.isClosePausedRef,D]),y.useEffect(()=>(C(),()=>R()),[C,R]);const k=y.useMemo(()=>x?pb(x):null,[x]);return E.viewport?f.jsxs(f.Fragment,{children:[k&&f.jsx(HM,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:k}),f.jsx($M,{scope:n,onClose:N,children:Pc.createPortal(f.jsx(Yy.ItemSlot,{scope:n,children:f.jsx(EM,{asChild:!0,onEscapeKeyDown:J(a,()=>{E.isFocusedToastEscapeKeyDownRef.current||N(),E.isFocusedToastEscapeKeyDownRef.current=!1}),children:f.jsx(_e.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":E.swipeDirection,...S,ref:_,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:J(t.onKeyDown,H=>{H.key==="Escape"&&(a==null||a(H.nativeEvent),H.nativeEvent.defaultPrevented||(E.isFocusedToastEscapeKeyDownRef.current=!0,N()))}),onPointerDown:J(t.onPointerDown,H=>{H.button===0&&(T.current={x:H.clientX,y:H.clientY})}),onPointerMove:J(t.onPointerMove,H=>{if(!T.current)return;const se=H.clientX-T.current.x,Z=H.clientY-T.current.y,oe=!!P.current,F=["left","right"].includes(E.swipeDirection),V=["left","up"].includes(E.swipeDirection)?Math.min:Math.max,q=F?V(0,se):0,ee=F?0:V(0,Z),X=H.pointerType==="touch"?10:2,ce={x:q,y:ee},ae={originalEvent:H,delta:ce};oe?(P.current=ce,bu(jM,h,ae,{discrete:!1})):H_(ce,E.swipeDirection,X)?(P.current=ce,bu(VM,d,ae,{discrete:!1}),H.target.setPointerCapture(H.pointerId)):(Math.abs(se)>X||Math.abs(Z)>X)&&(T.current=null)}),onPointerUp:J(t.onPointerUp,H=>{const se=P.current,Z=H.target;if(Z.hasPointerCapture(H.pointerId)&&Z.releasePointerCapture(H.pointerId),P.current=null,T.current=null,se){const oe=H.currentTarget,F={originalEvent:H,delta:se};H_(se,E.swipeDirection,E.swipeThreshold)?bu(UM,g,F,{discrete:!0}):bu(FM,p,F,{discrete:!0}),oe.addEventListener("click",V=>V.preventDefault(),{once:!0})}})})})}),E.viewport)})]}):null}),HM=t=>{const{__scopeToast:e,children:n,...r}=t,s=Wh(Dc,e),[i,o]=y.useState(!1),[a,l]=y.useState(!1);return GM(()=>o(!0)),y.useEffect(()=>{const u=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(u)},[]),a?null:f.jsx(zh,{asChild:!0,children:f.jsx(Hh,{...r,children:i&&f.jsxs(f.Fragment,{children:[s.label," ",n]})})})},WM="ToastTitle",lb=y.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return f.jsx(_e.div,{...r,ref:e})});lb.displayName=WM;var qM="ToastDescription",cb=y.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return f.jsx(_e.div,{...r,ref:e})});cb.displayName=qM;var ub="ToastAction",db=y.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?f.jsx(fb,{altText:n,asChild:!0,children:f.jsx(Xy,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${ub}\`. Expected non-empty \`string\`.`),null)});db.displayName=ub;var hb="ToastClose",Xy=y.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,s=BM(hb,n);return f.jsx(fb,{asChild:!0,children:f.jsx(_e.button,{type:"button",...r,ref:e,onClick:J(t.onClick,s.onClose)})})});Xy.displayName=hb;var fb=y.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...s}=t;return f.jsx(_e.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...s,ref:e})});function pb(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),KM(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",i=r.dataset.radixToastAnnounceExclude==="";if(!s)if(i){const o=r.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...pb(r))}}),e}function bu(t,e,n,{discrete:r}){const s=n.originalEvent.currentTarget,i=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?Ky(s,i):s.dispatchEvent(i)}var H_=(t,e,n=0)=>{const r=Math.abs(t.x),s=Math.abs(t.y),i=r>s;return e==="left"||e==="right"?i&&r>n:!i&&s>n};function GM(t=()=>{}){const e=Je(t);hn(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function KM(t){return t.nodeType===t.ELEMENT_NODE}function QM(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function Pp(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var YM=rb,mb=ib,gb=ab,yb=lb,vb=cb,wb=db,_b=Xy;function Eb(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=Eb(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function xb(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=Eb(t))&&(r&&(r+=" "),r+=e);return r}const W_=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,q_=xb,Jy=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return q_(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:i}=e,o=Object.keys(s).map(u=>{const d=n==null?void 0:n[u],h=i==null?void 0:i[u];if(d===null)return null;const p=W_(d)||W_(h);return s[u][p]}),a=n&&Object.entries(n).reduce((u,d)=>{let[h,p]=d;return p===void 0||(u[h]=p),u},{}),l=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((u,d)=>{let{class:h,className:p,...g}=d;return Object.entries(g).every(S=>{let[E,x]=S;return Array.isArray(x)?x.includes({...i,...a}[E]):{...i,...a}[E]===x})?[...u,h,p]:u},[]);return q_(t,o,l,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XM=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Tb=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var JM={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZM=y.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:o,...a},l)=>y.createElement("svg",{ref:l,...JM,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:Tb("lucide",s),...a},[...o.map(([u,d])=>y.createElement(u,d)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Se=(t,e)=>{const n=y.forwardRef(({className:r,...s},i)=>y.createElement(ZM,{ref:i,iconNode:e,className:Tb(`lucide-${XM(t)}`,r),...s}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eO=Se("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tO=Se("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nO=Se("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rO=Se("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sO=Se("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iO=Se("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oO=Se("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aO=Se("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ya=Se("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lO=Se("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cO=Se("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uO=Se("Film",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M7 3v18",key:"bbkbws"}],["path",{d:"M3 7.5h4",key:"zfgn84"}],["path",{d:"M3 12h18",key:"1i2n21"}],["path",{d:"M3 16.5h4",key:"1230mu"}],["path",{d:"M17 3v18",key:"in4fa5"}],["path",{d:"M17 7.5h4",key:"myr1c1"}],["path",{d:"M17 16.5h4",key:"go4c1d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zy=Se("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dO=Se("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hO=Se("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fO=Se("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pO=Se("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kp=Se("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mO=Se("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gO=Se("Minimize2",[["polyline",{points:"4 14 10 14 10 20",key:"11kfnr"}],["polyline",{points:"20 10 14 10 14 4",key:"rlmsce"}],["line",{x1:"14",x2:"21",y1:"10",y2:"3",key:"o5lafz"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yO=Se("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vO=Se("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wO=Se("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _O=Se("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Np=Se("Share",[["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["polyline",{points:"16 6 12 2 8 6",key:"m901s6"}],["line",{x1:"12",x2:"12",y1:"2",y2:"15",key:"1p0rca"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EO=Se("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xO=Se("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G_=Se("Triangle",[["path",{d:"M13.73 4a2 2 0 0 0-3.46 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"14u9p9"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sb=Se("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K_=Se("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TO=Se("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sc=Se("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),ev="-",SO=t=>{const e=IO(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const a=o.split(ev);return a[0]===""&&a.length!==1&&a.shift(),bb(a,e)||bO(o)},getConflictingClassGroupIds:(o,a)=>{const l=n[o]||[];return a&&r[o]?[...l,...r[o]]:l}}},bb=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),s=r?bb(t.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const i=t.join(ev);return(o=e.validators.find(({validator:a})=>a(i)))==null?void 0:o.classGroupId},Q_=/^\[(.+)\]$/,bO=t=>{if(Q_.test(t)){const e=Q_.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},IO=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return AO(Object.entries(t.classGroups),n).forEach(([i,o])=>{sg(o,r,i,e)}),r},sg=(t,e,n,r)=>{t.forEach(s=>{if(typeof s=="string"){const i=s===""?e:Y_(e,s);i.classGroupId=n;return}if(typeof s=="function"){if(CO(s)){sg(s(r),e,n,r);return}e.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([i,o])=>{sg(o,Y_(e,i),n,r)})})},Y_=(t,e)=>{let n=t;return e.split(ev).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},CO=t=>t.isThemeGetter,AO=(t,e)=>e?t.map(([n,r])=>{const s=r.map(i=>typeof i=="string"?e+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,a])=>[e+o,a])):i);return[n,s]}):t,RO=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const s=(i,o)=>{n.set(i,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(i){let o=n.get(i);if(o!==void 0)return o;if((o=r.get(i))!==void 0)return s(i,o),o},set(i,o){n.has(i)?n.set(i,o):s(i,o)}}},Ib="!",PO=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,s=e[0],i=e.length,o=a=>{const l=[];let u=0,d=0,h;for(let x=0;x<a.length;x++){let v=a[x];if(u===0){if(v===s&&(r||a.slice(x,x+i)===e)){l.push(a.slice(d,x)),d=x+i;continue}if(v==="/"){h=x;continue}}v==="["?u++:v==="]"&&u--}const p=l.length===0?a:a.substring(d),g=p.startsWith(Ib),S=g?p.substring(1):p,E=h&&h>d?h-d:void 0;return{modifiers:l,hasImportantModifier:g,baseClassName:S,maybePostfixModifierPosition:E}};return n?a=>n({className:a,parseClassName:o}):o},kO=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},NO=t=>({cache:RO(t.cacheSize),parseClassName:PO(t),...SO(t)}),DO=/\s+/,MO=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=e,i=[],o=t.trim().split(DO);let a="";for(let l=o.length-1;l>=0;l-=1){const u=o[l],{modifiers:d,hasImportantModifier:h,baseClassName:p,maybePostfixModifierPosition:g}=n(u);let S=!!g,E=r(S?p.substring(0,g):p);if(!E){if(!S){a=u+(a.length>0?" "+a:a);continue}if(E=r(p),!E){a=u+(a.length>0?" "+a:a);continue}S=!1}const x=kO(d).join(":"),v=h?x+Ib:x,_=v+E;if(i.includes(_))continue;i.push(_);const T=s(E,S);for(let P=0;P<T.length;++P){const M=T[P];i.push(v+M)}a=u+(a.length>0?" "+a:a)}return a};function OO(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=Cb(e))&&(r&&(r+=" "),r+=n);return r}const Cb=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=Cb(t[r]))&&(n&&(n+=" "),n+=e);return n};function LO(t,...e){let n,r,s,i=o;function o(l){const u=e.reduce((d,h)=>h(d),t());return n=NO(u),r=n.cache.get,s=n.cache.set,i=a,a(l)}function a(l){const u=r(l);if(u)return u;const d=MO(l,n);return s(l,d),d}return function(){return i(OO.apply(null,arguments))}}const Ve=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},Ab=/^\[(?:([a-z-]+):)?(.+)\]$/i,VO=/^\d+\/\d+$/,jO=new Set(["px","full","screen"]),FO=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,UO=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,$O=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,BO=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,zO=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Or=t=>Ho(t)||jO.has(t)||VO.test(t),ys=t=>ka(t,"length",XO),Ho=t=>!!t&&!Number.isNaN(Number(t)),Dp=t=>ka(t,"number",Ho),hl=t=>!!t&&Number.isInteger(Number(t)),HO=t=>t.endsWith("%")&&Ho(t.slice(0,-1)),fe=t=>Ab.test(t),vs=t=>FO.test(t),WO=new Set(["length","size","percentage"]),qO=t=>ka(t,WO,Rb),GO=t=>ka(t,"position",Rb),KO=new Set(["image","url"]),QO=t=>ka(t,KO,ZO),YO=t=>ka(t,"",JO),fl=()=>!0,ka=(t,e,n)=>{const r=Ab.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},XO=t=>UO.test(t)&&!$O.test(t),Rb=()=>!1,JO=t=>BO.test(t),ZO=t=>zO.test(t),eL=()=>{const t=Ve("colors"),e=Ve("spacing"),n=Ve("blur"),r=Ve("brightness"),s=Ve("borderColor"),i=Ve("borderRadius"),o=Ve("borderSpacing"),a=Ve("borderWidth"),l=Ve("contrast"),u=Ve("grayscale"),d=Ve("hueRotate"),h=Ve("invert"),p=Ve("gap"),g=Ve("gradientColorStops"),S=Ve("gradientColorStopPositions"),E=Ve("inset"),x=Ve("margin"),v=Ve("opacity"),_=Ve("padding"),T=Ve("saturate"),P=Ve("scale"),M=Ve("sepia"),O=Ve("skew"),I=Ve("space"),b=Ve("translate"),C=()=>["auto","contain","none"],R=()=>["auto","hidden","clip","visible","scroll"],N=()=>["auto",fe,e],D=()=>[fe,e],k=()=>["",Or,ys],H=()=>["auto",Ho,fe],se=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],Z=()=>["solid","dashed","dotted","double","none"],oe=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],F=()=>["start","end","center","between","around","evenly","stretch"],V=()=>["","0",fe],q=()=>["auto","avoid","all","avoid-page","page","left","right","column"],ee=()=>[Ho,fe];return{cacheSize:500,separator:":",theme:{colors:[fl],spacing:[Or,ys],blur:["none","",vs,fe],brightness:ee(),borderColor:[t],borderRadius:["none","","full",vs,fe],borderSpacing:D(),borderWidth:k(),contrast:ee(),grayscale:V(),hueRotate:ee(),invert:V(),gap:D(),gradientColorStops:[t],gradientColorStopPositions:[HO,ys],inset:N(),margin:N(),opacity:ee(),padding:D(),saturate:ee(),scale:ee(),sepia:V(),skew:ee(),space:D(),translate:D()},classGroups:{aspect:[{aspect:["auto","square","video",fe]}],container:["container"],columns:[{columns:[vs]}],"break-after":[{"break-after":q()}],"break-before":[{"break-before":q()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...se(),fe]}],overflow:[{overflow:R()}],"overflow-x":[{"overflow-x":R()}],"overflow-y":[{"overflow-y":R()}],overscroll:[{overscroll:C()}],"overscroll-x":[{"overscroll-x":C()}],"overscroll-y":[{"overscroll-y":C()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[E]}],"inset-x":[{"inset-x":[E]}],"inset-y":[{"inset-y":[E]}],start:[{start:[E]}],end:[{end:[E]}],top:[{top:[E]}],right:[{right:[E]}],bottom:[{bottom:[E]}],left:[{left:[E]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",hl,fe]}],basis:[{basis:N()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",fe]}],grow:[{grow:V()}],shrink:[{shrink:V()}],order:[{order:["first","last","none",hl,fe]}],"grid-cols":[{"grid-cols":[fl]}],"col-start-end":[{col:["auto",{span:["full",hl,fe]},fe]}],"col-start":[{"col-start":H()}],"col-end":[{"col-end":H()}],"grid-rows":[{"grid-rows":[fl]}],"row-start-end":[{row:["auto",{span:[hl,fe]},fe]}],"row-start":[{"row-start":H()}],"row-end":[{"row-end":H()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",fe]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",fe]}],gap:[{gap:[p]}],"gap-x":[{"gap-x":[p]}],"gap-y":[{"gap-y":[p]}],"justify-content":[{justify:["normal",...F()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...F(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...F(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[_]}],px:[{px:[_]}],py:[{py:[_]}],ps:[{ps:[_]}],pe:[{pe:[_]}],pt:[{pt:[_]}],pr:[{pr:[_]}],pb:[{pb:[_]}],pl:[{pl:[_]}],m:[{m:[x]}],mx:[{mx:[x]}],my:[{my:[x]}],ms:[{ms:[x]}],me:[{me:[x]}],mt:[{mt:[x]}],mr:[{mr:[x]}],mb:[{mb:[x]}],ml:[{ml:[x]}],"space-x":[{"space-x":[I]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[I]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",fe,e]}],"min-w":[{"min-w":[fe,e,"min","max","fit"]}],"max-w":[{"max-w":[fe,e,"none","full","min","max","fit","prose",{screen:[vs]},vs]}],h:[{h:[fe,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[fe,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[fe,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[fe,e,"auto","min","max","fit"]}],"font-size":[{text:["base",vs,ys]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Dp]}],"font-family":[{font:[fl]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",fe]}],"line-clamp":[{"line-clamp":["none",Ho,Dp]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Or,fe]}],"list-image":[{"list-image":["none",fe]}],"list-style-type":[{list:["none","disc","decimal",fe]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[v]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[v]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Z(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Or,ys]}],"underline-offset":[{"underline-offset":["auto",Or,fe]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:D()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",fe]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",fe]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[v]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...se(),GO]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",qO]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},QO]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[S]}],"gradient-via-pos":[{via:[S]}],"gradient-to-pos":[{to:[S]}],"gradient-from":[{from:[g]}],"gradient-via":[{via:[g]}],"gradient-to":[{to:[g]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[v]}],"border-style":[{border:[...Z(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[v]}],"divide-style":[{divide:Z()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...Z()]}],"outline-offset":[{"outline-offset":[Or,fe]}],"outline-w":[{outline:[Or,ys]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:k()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[v]}],"ring-offset-w":[{"ring-offset":[Or,ys]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",vs,YO]}],"shadow-color":[{shadow:[fl]}],opacity:[{opacity:[v]}],"mix-blend":[{"mix-blend":[...oe(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":oe()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",vs,fe]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[h]}],saturate:[{saturate:[T]}],sepia:[{sepia:[M]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[v]}],"backdrop-saturate":[{"backdrop-saturate":[T]}],"backdrop-sepia":[{"backdrop-sepia":[M]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",fe]}],duration:[{duration:ee()}],ease:[{ease:["linear","in","out","in-out",fe]}],delay:[{delay:ee()}],animate:[{animate:["none","spin","ping","pulse","bounce",fe]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[P]}],"scale-x":[{"scale-x":[P]}],"scale-y":[{"scale-y":[P]}],rotate:[{rotate:[hl,fe]}],"translate-x":[{"translate-x":[b]}],"translate-y":[{"translate-y":[b]}],"skew-x":[{"skew-x":[O]}],"skew-y":[{"skew-y":[O]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",fe]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",fe]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":D()}],"scroll-mx":[{"scroll-mx":D()}],"scroll-my":[{"scroll-my":D()}],"scroll-ms":[{"scroll-ms":D()}],"scroll-me":[{"scroll-me":D()}],"scroll-mt":[{"scroll-mt":D()}],"scroll-mr":[{"scroll-mr":D()}],"scroll-mb":[{"scroll-mb":D()}],"scroll-ml":[{"scroll-ml":D()}],"scroll-p":[{"scroll-p":D()}],"scroll-px":[{"scroll-px":D()}],"scroll-py":[{"scroll-py":D()}],"scroll-ps":[{"scroll-ps":D()}],"scroll-pe":[{"scroll-pe":D()}],"scroll-pt":[{"scroll-pt":D()}],"scroll-pr":[{"scroll-pr":D()}],"scroll-pb":[{"scroll-pb":D()}],"scroll-pl":[{"scroll-pl":D()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",fe]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Or,ys,Dp]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},tL=LO(eL);function me(...t){return tL(xb(t))}const nL=YM,Pb=y.forwardRef(({className:t,...e},n)=>f.jsx(mb,{ref:n,className:me("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));Pb.displayName=mb.displayName;const rL=Jy("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),kb=y.forwardRef(({className:t,variant:e,...n},r)=>f.jsx(gb,{ref:r,className:me(rL({variant:e}),t),...n}));kb.displayName=gb.displayName;const sL=y.forwardRef(({className:t,...e},n)=>f.jsx(wb,{ref:n,className:me("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors group-[.destructive]:border-muted/40 hover:bg-secondary group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 group-[.destructive]:focus:ring-destructive disabled:pointer-events-none disabled:opacity-50",t),...e}));sL.displayName=wb.displayName;const Nb=y.forwardRef(({className:t,...e},n)=>f.jsx(_b,{ref:n,className:me("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity group-hover:opacity-100 group-[.destructive]:text-red-300 hover:text-foreground group-[.destructive]:hover:text-red-50 focus:opacity-100 focus:outline-none focus:ring-2 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:f.jsx(sc,{className:"h-4 w-4"})}));Nb.displayName=_b.displayName;const Db=y.forwardRef(({className:t,...e},n)=>f.jsx(yb,{ref:n,className:me("text-sm font-semibold",t),...e}));Db.displayName=yb.displayName;const Mb=y.forwardRef(({className:t,...e},n)=>f.jsx(vb,{ref:n,className:me("text-sm opacity-90",t),...e}));Mb.displayName=vb.displayName;function iL(){const{toasts:t}=iM();return f.jsxs(nL,{children:[t.map(function({id:e,title:n,description:r,action:s,...i}){return f.jsxs(kb,{...i,children:[f.jsxs("div",{className:"grid gap-1",children:[n&&f.jsx(Db,{children:n}),r&&f.jsx(Mb,{children:r})]}),s,f.jsx(Nb,{})]},e)}),f.jsx(Pb,{})]})}var X_=["light","dark"],oL="(prefers-color-scheme: dark)",aL=y.createContext(void 0),lL={setTheme:t=>{},themes:[]},cL=()=>{var t;return(t=y.useContext(aL))!=null?t:lL};y.memo(({forcedTheme:t,storageKey:e,attribute:n,enableSystem:r,enableColorScheme:s,defaultTheme:i,value:o,attrs:a,nonce:l})=>{let u=i==="system",d=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${a.map(S=>`'${S}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,h=s?X_.includes(i)&&i?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${i}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",p=(S,E=!1,x=!0)=>{let v=o?o[S]:S,_=E?S+"|| ''":`'${v}'`,T="";return s&&x&&!E&&X_.includes(S)&&(T+=`d.style.colorScheme = '${S}';`),n==="class"?E||v?T+=`c.add(${_})`:T+="null":v&&(T+=`d[s](n,${_})`),T},g=t?`!function(){${d}${p(t)}}()`:r?`!function(){try{${d}var e=localStorage.getItem('${e}');if('system'===e||(!e&&${u})){var t='${oL}',m=window.matchMedia(t);if(m.media!==t||m.matches){${p("dark")}}else{${p("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${p(o?"x[e]":"e",!0)}}${u?"":"else{"+p(i,!1,!1)+"}"}${h}}catch(e){}}()`:`!function(){try{${d}var e=localStorage.getItem('${e}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${p(o?"x[e]":"e",!0)}}else{${p(i,!1,!1)};}${h}}catch(t){}}();`;return y.createElement("script",{nonce:l,dangerouslySetInnerHTML:{__html:g}})});var uL=t=>{switch(t){case"success":return fL;case"info":return mL;case"warning":return pL;case"error":return gL;default:return null}},dL=Array(12).fill(0),hL=({visible:t,className:e})=>W.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},W.createElement("div",{className:"sonner-spinner"},dL.map((n,r)=>W.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),fL=W.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},W.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),pL=W.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},W.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),mL=W.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},W.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),gL=W.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},W.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),yL=W.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},W.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),W.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),vL=()=>{let[t,e]=W.useState(document.hidden);return W.useEffect(()=>{let n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t},ig=1,wL=class{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{let e=this.subscribers.indexOf(t);this.subscribers.splice(e,1)}),this.publish=t=>{this.subscribers.forEach(e=>e(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var e;let{message:n,...r}=t,s=typeof(t==null?void 0:t.id)=="number"||((e=t.id)==null?void 0:e.length)>0?t.id:ig++,i=this.toasts.find(a=>a.id===s),o=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(s)&&this.dismissedToasts.delete(s),i?this.toasts=this.toasts.map(a=>a.id===s?(this.publish({...a,...t,id:s,title:n}),{...a,...t,id:s,dismissible:o,title:n}):a):this.addToast({title:n,...r,dismissible:o,id:s}),s},this.dismiss=t=>(this.dismissedToasts.add(t),t||this.toasts.forEach(e=>{this.subscribers.forEach(n=>n({id:e.id,dismiss:!0}))}),this.subscribers.forEach(e=>e({id:t,dismiss:!0})),t),this.message=(t,e)=>this.create({...e,message:t}),this.error=(t,e)=>this.create({...e,message:t,type:"error"}),this.success=(t,e)=>this.create({...e,type:"success",message:t}),this.info=(t,e)=>this.create({...e,type:"info",message:t}),this.warning=(t,e)=>this.create({...e,type:"warning",message:t}),this.loading=(t,e)=>this.create({...e,type:"loading",message:t}),this.promise=(t,e)=>{if(!e)return;let n;e.loading!==void 0&&(n=this.create({...e,promise:t,type:"loading",message:e.loading,description:typeof e.description!="function"?e.description:void 0}));let r=t instanceof Promise?t:t(),s=n!==void 0,i,o=r.then(async l=>{if(i=["resolve",l],W.isValidElement(l))s=!1,this.create({id:n,type:"default",message:l});else if(EL(l)&&!l.ok){s=!1;let u=typeof e.error=="function"?await e.error(`HTTP error! status: ${l.status}`):e.error,d=typeof e.description=="function"?await e.description(`HTTP error! status: ${l.status}`):e.description;this.create({id:n,type:"error",message:u,description:d})}else if(e.success!==void 0){s=!1;let u=typeof e.success=="function"?await e.success(l):e.success,d=typeof e.description=="function"?await e.description(l):e.description;this.create({id:n,type:"success",message:u,description:d})}}).catch(async l=>{if(i=["reject",l],e.error!==void 0){s=!1;let u=typeof e.error=="function"?await e.error(l):e.error,d=typeof e.description=="function"?await e.description(l):e.description;this.create({id:n,type:"error",message:u,description:d})}}).finally(()=>{var l;s&&(this.dismiss(n),n=void 0),(l=e.finally)==null||l.call(e)}),a=()=>new Promise((l,u)=>o.then(()=>i[0]==="reject"?u(i[1]):l(i[1])).catch(u));return typeof n!="string"&&typeof n!="number"?{unwrap:a}:Object.assign(n,{unwrap:a})},this.custom=(t,e)=>{let n=(e==null?void 0:e.id)||ig++;return this.create({jsx:t(n),id:n,...e}),n},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},Wt=new wL,_L=(t,e)=>{let n=(e==null?void 0:e.id)||ig++;return Wt.addToast({title:t,...e,id:n}),n},EL=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",xL=_L,TL=()=>Wt.toasts,SL=()=>Wt.getActiveToasts();Object.assign(xL,{success:Wt.success,info:Wt.info,warning:Wt.warning,error:Wt.error,custom:Wt.custom,message:Wt.message,promise:Wt.promise,dismiss:Wt.dismiss,loading:Wt.loading},{getHistory:TL,getToasts:SL});function bL(t,{insertAt:e}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}bL(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Iu(t){return t.label!==void 0}var IL=3,CL="32px",AL="16px",J_=4e3,RL=356,PL=14,kL=20,NL=200;function On(...t){return t.filter(Boolean).join(" ")}function DL(t){let[e,n]=t.split("-"),r=[];return e&&r.push(e),n&&r.push(n),r}var ML=t=>{var e,n,r,s,i,o,a,l,u,d,h;let{invert:p,toast:g,unstyled:S,interacting:E,setHeights:x,visibleToasts:v,heights:_,index:T,toasts:P,expanded:M,removeToast:O,defaultRichColors:I,closeButton:b,style:C,cancelButtonStyle:R,actionButtonStyle:N,className:D="",descriptionClassName:k="",duration:H,position:se,gap:Z,loadingIcon:oe,expandByDefault:F,classNames:V,icons:q,closeButtonAriaLabel:ee="Close toast",pauseWhenPageIsHidden:X}=t,[ce,ae]=W.useState(null),[Pe,Ne]=W.useState(null),[he,en]=W.useState(!1),[Qe,mn]=W.useState(!1),[nr,Nr]=W.useState(!1),[gn,hi]=W.useState(!1),[za,as]=W.useState(!1),[fi,ls]=W.useState(0),[$e,ut]=W.useState(0),rr=W.useRef(g.duration||H||J_),Gc=W.useRef(null),sr=W.useRef(null),Ff=T===0,pi=T+1<=v,Dt=g.type,Dr=g.dismissible!==!1,Ha=g.className||"",Uf=g.descriptionClassName||"",fo=W.useMemo(()=>_.findIndex(ne=>ne.toastId===g.id)||0,[_,g.id]),Kc=W.useMemo(()=>{var ne;return(ne=g.closeButton)!=null?ne:b},[g.closeButton,b]),Wa=W.useMemo(()=>g.duration||H||J_,[g.duration,H]),Mr=W.useRef(0),ir=W.useRef(0),po=W.useRef(0),zt=W.useRef(null),[Qc,mo]=se.split("-"),qa=W.useMemo(()=>_.reduce((ne,be,De)=>De>=fo?ne:ne+be.height,0),[_,fo]),cs=vL(),Yc=g.invert||p,it=Dt==="loading";ir.current=W.useMemo(()=>fo*Z+qa,[fo,qa]),W.useEffect(()=>{rr.current=Wa},[Wa]),W.useEffect(()=>{en(!0)},[]),W.useEffect(()=>{let ne=sr.current;if(ne){let be=ne.getBoundingClientRect().height;return ut(be),x(De=>[{toastId:g.id,height:be,position:g.position},...De]),()=>x(De=>De.filter(dt=>dt.toastId!==g.id))}},[x,g.id]),W.useLayoutEffect(()=>{if(!he)return;let ne=sr.current,be=ne.style.height;ne.style.height="auto";let De=ne.getBoundingClientRect().height;ne.style.height=be,ut(De),x(dt=>dt.find(tn=>tn.toastId===g.id)?dt.map(tn=>tn.toastId===g.id?{...tn,height:De}:tn):[{toastId:g.id,height:De,position:g.position},...dt])},[he,g.title,g.description,x,g.id]);let Nn=W.useCallback(()=>{mn(!0),ls(ir.current),x(ne=>ne.filter(be=>be.toastId!==g.id)),setTimeout(()=>{O(g)},NL)},[g,O,x,ir]);W.useEffect(()=>{if(g.promise&&Dt==="loading"||g.duration===1/0||g.type==="loading")return;let ne;return M||E||X&&cs?(()=>{if(po.current<Mr.current){let be=new Date().getTime()-Mr.current;rr.current=rr.current-be}po.current=new Date().getTime()})():rr.current!==1/0&&(Mr.current=new Date().getTime(),ne=setTimeout(()=>{var be;(be=g.onAutoClose)==null||be.call(g,g),Nn()},rr.current)),()=>clearTimeout(ne)},[M,E,g,Dt,X,cs,Nn]),W.useEffect(()=>{g.delete&&Nn()},[Nn,g.delete]);function mi(){var ne,be,De;return q!=null&&q.loading?W.createElement("div",{className:On(V==null?void 0:V.loader,(ne=g==null?void 0:g.classNames)==null?void 0:ne.loader,"sonner-loader"),"data-visible":Dt==="loading"},q.loading):oe?W.createElement("div",{className:On(V==null?void 0:V.loader,(be=g==null?void 0:g.classNames)==null?void 0:be.loader,"sonner-loader"),"data-visible":Dt==="loading"},oe):W.createElement(hL,{className:On(V==null?void 0:V.loader,(De=g==null?void 0:g.classNames)==null?void 0:De.loader),visible:Dt==="loading"})}return W.createElement("li",{tabIndex:0,ref:sr,className:On(D,Ha,V==null?void 0:V.toast,(e=g==null?void 0:g.classNames)==null?void 0:e.toast,V==null?void 0:V.default,V==null?void 0:V[Dt],(n=g==null?void 0:g.classNames)==null?void 0:n[Dt]),"data-sonner-toast":"","data-rich-colors":(r=g.richColors)!=null?r:I,"data-styled":!(g.jsx||g.unstyled||S),"data-mounted":he,"data-promise":!!g.promise,"data-swiped":za,"data-removed":Qe,"data-visible":pi,"data-y-position":Qc,"data-x-position":mo,"data-index":T,"data-front":Ff,"data-swiping":nr,"data-dismissible":Dr,"data-type":Dt,"data-invert":Yc,"data-swipe-out":gn,"data-swipe-direction":Pe,"data-expanded":!!(M||F&&he),style:{"--index":T,"--toasts-before":T,"--z-index":P.length-T,"--offset":`${Qe?fi:ir.current}px`,"--initial-height":F?"auto":`${$e}px`,...C,...g.style},onDragEnd:()=>{Nr(!1),ae(null),zt.current=null},onPointerDown:ne=>{it||!Dr||(Gc.current=new Date,ls(ir.current),ne.target.setPointerCapture(ne.pointerId),ne.target.tagName!=="BUTTON"&&(Nr(!0),zt.current={x:ne.clientX,y:ne.clientY}))},onPointerUp:()=>{var ne,be,De,dt;if(gn||!Dr)return;zt.current=null;let tn=Number(((ne=sr.current)==null?void 0:ne.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),or=Number(((be=sr.current)==null?void 0:be.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),yn=new Date().getTime()-((De=Gc.current)==null?void 0:De.getTime()),Ht=ce==="x"?tn:or,Dn=Math.abs(Ht)/yn;if(Math.abs(Ht)>=kL||Dn>.11){ls(ir.current),(dt=g.onDismiss)==null||dt.call(g,g),Ne(ce==="x"?tn>0?"right":"left":or>0?"down":"up"),Nn(),hi(!0),as(!1);return}Nr(!1),ae(null)},onPointerMove:ne=>{var be,De,dt,tn;if(!zt.current||!Dr||((be=window.getSelection())==null?void 0:be.toString().length)>0)return;let or=ne.clientY-zt.current.y,yn=ne.clientX-zt.current.x,Ht=(De=t.swipeDirections)!=null?De:DL(se);!ce&&(Math.abs(yn)>1||Math.abs(or)>1)&&ae(Math.abs(yn)>Math.abs(or)?"x":"y");let Dn={x:0,y:0};ce==="y"?(Ht.includes("top")||Ht.includes("bottom"))&&(Ht.includes("top")&&or<0||Ht.includes("bottom")&&or>0)&&(Dn.y=or):ce==="x"&&(Ht.includes("left")||Ht.includes("right"))&&(Ht.includes("left")&&yn<0||Ht.includes("right")&&yn>0)&&(Dn.x=yn),(Math.abs(Dn.x)>0||Math.abs(Dn.y)>0)&&as(!0),(dt=sr.current)==null||dt.style.setProperty("--swipe-amount-x",`${Dn.x}px`),(tn=sr.current)==null||tn.style.setProperty("--swipe-amount-y",`${Dn.y}px`)}},Kc&&!g.jsx?W.createElement("button",{"aria-label":ee,"data-disabled":it,"data-close-button":!0,onClick:it||!Dr?()=>{}:()=>{var ne;Nn(),(ne=g.onDismiss)==null||ne.call(g,g)},className:On(V==null?void 0:V.closeButton,(s=g==null?void 0:g.classNames)==null?void 0:s.closeButton)},(i=q==null?void 0:q.close)!=null?i:yL):null,g.jsx||y.isValidElement(g.title)?g.jsx?g.jsx:typeof g.title=="function"?g.title():g.title:W.createElement(W.Fragment,null,Dt||g.icon||g.promise?W.createElement("div",{"data-icon":"",className:On(V==null?void 0:V.icon,(o=g==null?void 0:g.classNames)==null?void 0:o.icon)},g.promise||g.type==="loading"&&!g.icon?g.icon||mi():null,g.type!=="loading"?g.icon||(q==null?void 0:q[Dt])||uL(Dt):null):null,W.createElement("div",{"data-content":"",className:On(V==null?void 0:V.content,(a=g==null?void 0:g.classNames)==null?void 0:a.content)},W.createElement("div",{"data-title":"",className:On(V==null?void 0:V.title,(l=g==null?void 0:g.classNames)==null?void 0:l.title)},typeof g.title=="function"?g.title():g.title),g.description?W.createElement("div",{"data-description":"",className:On(k,Uf,V==null?void 0:V.description,(u=g==null?void 0:g.classNames)==null?void 0:u.description)},typeof g.description=="function"?g.description():g.description):null),y.isValidElement(g.cancel)?g.cancel:g.cancel&&Iu(g.cancel)?W.createElement("button",{"data-button":!0,"data-cancel":!0,style:g.cancelButtonStyle||R,onClick:ne=>{var be,De;Iu(g.cancel)&&Dr&&((De=(be=g.cancel).onClick)==null||De.call(be,ne),Nn())},className:On(V==null?void 0:V.cancelButton,(d=g==null?void 0:g.classNames)==null?void 0:d.cancelButton)},g.cancel.label):null,y.isValidElement(g.action)?g.action:g.action&&Iu(g.action)?W.createElement("button",{"data-button":!0,"data-action":!0,style:g.actionButtonStyle||N,onClick:ne=>{var be,De;Iu(g.action)&&((De=(be=g.action).onClick)==null||De.call(be,ne),!ne.defaultPrevented&&Nn())},className:On(V==null?void 0:V.actionButton,(h=g==null?void 0:g.classNames)==null?void 0:h.actionButton)},g.action.label):null))};function Z_(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function OL(t,e){let n={};return[t,e].forEach((r,s)=>{let i=s===1,o=i?"--mobile-offset":"--offset",a=i?AL:CL;function l(u){["top","right","bottom","left"].forEach(d=>{n[`${o}-${d}`]=typeof u=="number"?`${u}px`:u})}typeof r=="number"||typeof r=="string"?l(r):typeof r=="object"?["top","right","bottom","left"].forEach(u=>{r[u]===void 0?n[`${o}-${u}`]=a:n[`${o}-${u}`]=typeof r[u]=="number"?`${r[u]}px`:r[u]}):l(a)}),n}var LL=y.forwardRef(function(t,e){let{invert:n,position:r="bottom-right",hotkey:s=["altKey","KeyT"],expand:i,closeButton:o,className:a,offset:l,mobileOffset:u,theme:d="light",richColors:h,duration:p,style:g,visibleToasts:S=IL,toastOptions:E,dir:x=Z_(),gap:v=PL,loadingIcon:_,icons:T,containerAriaLabel:P="Notifications",pauseWhenPageIsHidden:M}=t,[O,I]=W.useState([]),b=W.useMemo(()=>Array.from(new Set([r].concat(O.filter(X=>X.position).map(X=>X.position)))),[O,r]),[C,R]=W.useState([]),[N,D]=W.useState(!1),[k,H]=W.useState(!1),[se,Z]=W.useState(d!=="system"?d:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),oe=W.useRef(null),F=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),V=W.useRef(null),q=W.useRef(!1),ee=W.useCallback(X=>{I(ce=>{var ae;return(ae=ce.find(Pe=>Pe.id===X.id))!=null&&ae.delete||Wt.dismiss(X.id),ce.filter(({id:Pe})=>Pe!==X.id)})},[]);return W.useEffect(()=>Wt.subscribe(X=>{if(X.dismiss){I(ce=>ce.map(ae=>ae.id===X.id?{...ae,delete:!0}:ae));return}setTimeout(()=>{QS.flushSync(()=>{I(ce=>{let ae=ce.findIndex(Pe=>Pe.id===X.id);return ae!==-1?[...ce.slice(0,ae),{...ce[ae],...X},...ce.slice(ae+1)]:[X,...ce]})})})}),[]),W.useEffect(()=>{if(d!=="system"){Z(d);return}if(d==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?Z("dark"):Z("light")),typeof window>"u")return;let X=window.matchMedia("(prefers-color-scheme: dark)");try{X.addEventListener("change",({matches:ce})=>{Z(ce?"dark":"light")})}catch{X.addListener(({matches:ae})=>{try{Z(ae?"dark":"light")}catch(Pe){console.error(Pe)}})}},[d]),W.useEffect(()=>{O.length<=1&&D(!1)},[O]),W.useEffect(()=>{let X=ce=>{var ae,Pe;s.every(Ne=>ce[Ne]||ce.code===Ne)&&(D(!0),(ae=oe.current)==null||ae.focus()),ce.code==="Escape"&&(document.activeElement===oe.current||(Pe=oe.current)!=null&&Pe.contains(document.activeElement))&&D(!1)};return document.addEventListener("keydown",X),()=>document.removeEventListener("keydown",X)},[s]),W.useEffect(()=>{if(oe.current)return()=>{V.current&&(V.current.focus({preventScroll:!0}),V.current=null,q.current=!1)}},[oe.current]),W.createElement("section",{ref:e,"aria-label":`${P} ${F}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},b.map((X,ce)=>{var ae;let[Pe,Ne]=X.split("-");return O.length?W.createElement("ol",{key:X,dir:x==="auto"?Z_():x,tabIndex:-1,ref:oe,className:a,"data-sonner-toaster":!0,"data-theme":se,"data-y-position":Pe,"data-lifted":N&&O.length>1&&!i,"data-x-position":Ne,style:{"--front-toast-height":`${((ae=C[0])==null?void 0:ae.height)||0}px`,"--width":`${RL}px`,"--gap":`${v}px`,...g,...OL(l,u)},onBlur:he=>{q.current&&!he.currentTarget.contains(he.relatedTarget)&&(q.current=!1,V.current&&(V.current.focus({preventScroll:!0}),V.current=null))},onFocus:he=>{he.target instanceof HTMLElement&&he.target.dataset.dismissible==="false"||q.current||(q.current=!0,V.current=he.relatedTarget)},onMouseEnter:()=>D(!0),onMouseMove:()=>D(!0),onMouseLeave:()=>{k||D(!1)},onDragEnd:()=>D(!1),onPointerDown:he=>{he.target instanceof HTMLElement&&he.target.dataset.dismissible==="false"||H(!0)},onPointerUp:()=>H(!1)},O.filter(he=>!he.position&&ce===0||he.position===X).map((he,en)=>{var Qe,mn;return W.createElement(ML,{key:he.id,icons:T,index:en,toast:he,defaultRichColors:h,duration:(Qe=E==null?void 0:E.duration)!=null?Qe:p,className:E==null?void 0:E.className,descriptionClassName:E==null?void 0:E.descriptionClassName,invert:n,visibleToasts:S,closeButton:(mn=E==null?void 0:E.closeButton)!=null?mn:o,interacting:k,position:X,style:E==null?void 0:E.style,unstyled:E==null?void 0:E.unstyled,classNames:E==null?void 0:E.classNames,cancelButtonStyle:E==null?void 0:E.cancelButtonStyle,actionButtonStyle:E==null?void 0:E.actionButtonStyle,removeToast:ee,toasts:O.filter(nr=>nr.position==he.position),heights:C.filter(nr=>nr.position==he.position),setHeights:R,expandByDefault:i,gap:v,loadingIcon:_,expanded:N,pauseWhenPageIsHidden:M,swipeDirections:t.swipeDirections})})):null}))});const VL=({...t})=>{const{theme:e="system"}=cL();return f.jsx(LL,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})};var jL=ny[" useId ".trim().toString()]||(()=>{}),FL=0;function Fi(t){const[e,n]=y.useState(jL());return hn(()=>{n(r=>r??String(FL++))},[t]),e?`radix-${e}`:""}const UL=["top","right","bottom","left"],Zs=Math.min,on=Math.max,$d=Math.round,Cu=Math.floor,_r=t=>({x:t,y:t}),$L={left:"right",right:"left",bottom:"top",top:"bottom"},BL={start:"end",end:"start"};function og(t,e,n){return on(t,Zs(e,n))}function Jr(t,e){return typeof t=="function"?t(e):t}function Zr(t){return t.split("-")[0]}function Na(t){return t.split("-")[1]}function tv(t){return t==="x"?"y":"x"}function nv(t){return t==="y"?"height":"width"}const zL=new Set(["top","bottom"]);function yr(t){return zL.has(Zr(t))?"y":"x"}function rv(t){return tv(yr(t))}function HL(t,e,n){n===void 0&&(n=!1);const r=Na(t),s=rv(t),i=nv(s);let o=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(o=Bd(o)),[o,Bd(o)]}function WL(t){const e=Bd(t);return[ag(t),e,ag(e)]}function ag(t){return t.replace(/start|end/g,e=>BL[e])}const eE=["left","right"],tE=["right","left"],qL=["top","bottom"],GL=["bottom","top"];function KL(t,e,n){switch(t){case"top":case"bottom":return n?e?tE:eE:e?eE:tE;case"left":case"right":return e?qL:GL;default:return[]}}function QL(t,e,n,r){const s=Na(t);let i=KL(Zr(t),n==="start",r);return s&&(i=i.map(o=>o+"-"+s),e&&(i=i.concat(i.map(ag)))),i}function Bd(t){return t.replace(/left|right|bottom|top/g,e=>$L[e])}function YL(t){return{top:0,right:0,bottom:0,left:0,...t}}function Ob(t){return typeof t!="number"?YL(t):{top:t,right:t,bottom:t,left:t}}function zd(t){const{x:e,y:n,width:r,height:s}=t;return{width:r,height:s,top:n,left:e,right:e+r,bottom:n+s,x:e,y:n}}function nE(t,e,n){let{reference:r,floating:s}=t;const i=yr(e),o=rv(e),a=nv(o),l=Zr(e),u=i==="y",d=r.x+r.width/2-s.width/2,h=r.y+r.height/2-s.height/2,p=r[a]/2-s[a]/2;let g;switch(l){case"top":g={x:d,y:r.y-s.height};break;case"bottom":g={x:d,y:r.y+r.height};break;case"right":g={x:r.x+r.width,y:h};break;case"left":g={x:r.x-s.width,y:h};break;default:g={x:r.x,y:r.y}}switch(Na(e)){case"start":g[o]-=p*(n&&u?-1:1);break;case"end":g[o]+=p*(n&&u?-1:1);break}return g}const XL=async(t,e,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:o}=n,a=i.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let u=await o.getElementRects({reference:t,floating:e,strategy:s}),{x:d,y:h}=nE(u,r,l),p=r,g={},S=0;for(let E=0;E<a.length;E++){const{name:x,fn:v}=a[E],{x:_,y:T,data:P,reset:M}=await v({x:d,y:h,initialPlacement:r,placement:p,strategy:s,middlewareData:g,rects:u,platform:o,elements:{reference:t,floating:e}});d=_??d,h=T??h,g={...g,[x]:{...g[x],...P}},M&&S<=50&&(S++,typeof M=="object"&&(M.placement&&(p=M.placement),M.rects&&(u=M.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:s}):M.rects),{x:d,y:h}=nE(u,p,l)),E=-1)}return{x:d,y:h,placement:p,strategy:s,middlewareData:g}};async function ic(t,e){var n;e===void 0&&(e={});const{x:r,y:s,platform:i,rects:o,elements:a,strategy:l}=t,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:h="floating",altBoundary:p=!1,padding:g=0}=Jr(e,t),S=Ob(g),x=a[p?h==="floating"?"reference":"floating":h],v=zd(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(x)))==null||n?x:x.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(a.floating)),boundary:u,rootBoundary:d,strategy:l})),_=h==="floating"?{x:r,y:s,width:o.floating.width,height:o.floating.height}:o.reference,T=await(i.getOffsetParent==null?void 0:i.getOffsetParent(a.floating)),P=await(i.isElement==null?void 0:i.isElement(T))?await(i.getScale==null?void 0:i.getScale(T))||{x:1,y:1}:{x:1,y:1},M=zd(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:_,offsetParent:T,strategy:l}):_);return{top:(v.top-M.top+S.top)/P.y,bottom:(M.bottom-v.bottom+S.bottom)/P.y,left:(v.left-M.left+S.left)/P.x,right:(M.right-v.right+S.right)/P.x}}const JL=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:s,rects:i,platform:o,elements:a,middlewareData:l}=e,{element:u,padding:d=0}=Jr(t,e)||{};if(u==null)return{};const h=Ob(d),p={x:n,y:r},g=rv(s),S=nv(g),E=await o.getDimensions(u),x=g==="y",v=x?"top":"left",_=x?"bottom":"right",T=x?"clientHeight":"clientWidth",P=i.reference[S]+i.reference[g]-p[g]-i.floating[S],M=p[g]-i.reference[g],O=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let I=O?O[T]:0;(!I||!await(o.isElement==null?void 0:o.isElement(O)))&&(I=a.floating[T]||i.floating[S]);const b=P/2-M/2,C=I/2-E[S]/2-1,R=Zs(h[v],C),N=Zs(h[_],C),D=R,k=I-E[S]-N,H=I/2-E[S]/2+b,se=og(D,H,k),Z=!l.arrow&&Na(s)!=null&&H!==se&&i.reference[S]/2-(H<D?R:N)-E[S]/2<0,oe=Z?H<D?H-D:H-k:0;return{[g]:p[g]+oe,data:{[g]:se,centerOffset:H-se-oe,...Z&&{alignmentOffset:oe}},reset:Z}}}),ZL=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:s,middlewareData:i,rects:o,initialPlacement:a,platform:l,elements:u}=e,{mainAxis:d=!0,crossAxis:h=!0,fallbackPlacements:p,fallbackStrategy:g="bestFit",fallbackAxisSideDirection:S="none",flipAlignment:E=!0,...x}=Jr(t,e);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const v=Zr(s),_=yr(a),T=Zr(a)===a,P=await(l.isRTL==null?void 0:l.isRTL(u.floating)),M=p||(T||!E?[Bd(a)]:WL(a)),O=S!=="none";!p&&O&&M.push(...QL(a,E,S,P));const I=[a,...M],b=await ic(e,x),C=[];let R=((r=i.flip)==null?void 0:r.overflows)||[];if(d&&C.push(b[v]),h){const H=HL(s,o,P);C.push(b[H[0]],b[H[1]])}if(R=[...R,{placement:s,overflows:C}],!C.every(H=>H<=0)){var N,D;const H=(((N=i.flip)==null?void 0:N.index)||0)+1,se=I[H];if(se&&(!(h==="alignment"?_!==yr(se):!1)||R.every(F=>F.overflows[0]>0&&yr(F.placement)===_)))return{data:{index:H,overflows:R},reset:{placement:se}};let Z=(D=R.filter(oe=>oe.overflows[0]<=0).sort((oe,F)=>oe.overflows[1]-F.overflows[1])[0])==null?void 0:D.placement;if(!Z)switch(g){case"bestFit":{var k;const oe=(k=R.filter(F=>{if(O){const V=yr(F.placement);return V===_||V==="y"}return!0}).map(F=>[F.placement,F.overflows.filter(V=>V>0).reduce((V,q)=>V+q,0)]).sort((F,V)=>F[1]-V[1])[0])==null?void 0:k[0];oe&&(Z=oe);break}case"initialPlacement":Z=a;break}if(s!==Z)return{reset:{placement:Z}}}return{}}}};function rE(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function sE(t){return UL.some(e=>t[e]>=0)}const e4=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...s}=Jr(t,e);switch(r){case"referenceHidden":{const i=await ic(e,{...s,elementContext:"reference"}),o=rE(i,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:sE(o)}}}case"escaped":{const i=await ic(e,{...s,altBoundary:!0}),o=rE(i,n.floating);return{data:{escapedOffsets:o,escaped:sE(o)}}}default:return{}}}}},Lb=new Set(["left","top"]);async function t4(t,e){const{placement:n,platform:r,elements:s}=t,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),o=Zr(n),a=Na(n),l=yr(n)==="y",u=Lb.has(o)?-1:1,d=i&&l?-1:1,h=Jr(e,t);let{mainAxis:p,crossAxis:g,alignmentAxis:S}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return a&&typeof S=="number"&&(g=a==="end"?S*-1:S),l?{x:g*d,y:p*u}:{x:p*u,y:g*d}}const n4=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:s,y:i,placement:o,middlewareData:a}=e,l=await t4(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:s+l.x,y:i+l.y,data:{...l,placement:o}}}}},r4=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:s}=e,{mainAxis:i=!0,crossAxis:o=!1,limiter:a={fn:x=>{let{x:v,y:_}=x;return{x:v,y:_}}},...l}=Jr(t,e),u={x:n,y:r},d=await ic(e,l),h=yr(Zr(s)),p=tv(h);let g=u[p],S=u[h];if(i){const x=p==="y"?"top":"left",v=p==="y"?"bottom":"right",_=g+d[x],T=g-d[v];g=og(_,g,T)}if(o){const x=h==="y"?"top":"left",v=h==="y"?"bottom":"right",_=S+d[x],T=S-d[v];S=og(_,S,T)}const E=a.fn({...e,[p]:g,[h]:S});return{...E,data:{x:E.x-n,y:E.y-r,enabled:{[p]:i,[h]:o}}}}}},s4=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:s,rects:i,middlewareData:o}=e,{offset:a=0,mainAxis:l=!0,crossAxis:u=!0}=Jr(t,e),d={x:n,y:r},h=yr(s),p=tv(h);let g=d[p],S=d[h];const E=Jr(a,e),x=typeof E=="number"?{mainAxis:E,crossAxis:0}:{mainAxis:0,crossAxis:0,...E};if(l){const T=p==="y"?"height":"width",P=i.reference[p]-i.floating[T]+x.mainAxis,M=i.reference[p]+i.reference[T]-x.mainAxis;g<P?g=P:g>M&&(g=M)}if(u){var v,_;const T=p==="y"?"width":"height",P=Lb.has(Zr(s)),M=i.reference[h]-i.floating[T]+(P&&((v=o.offset)==null?void 0:v[h])||0)+(P?0:x.crossAxis),O=i.reference[h]+i.reference[T]+(P?0:((_=o.offset)==null?void 0:_[h])||0)-(P?x.crossAxis:0);S<M?S=M:S>O&&(S=O)}return{[p]:g,[h]:S}}}},i4=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:s,rects:i,platform:o,elements:a}=e,{apply:l=()=>{},...u}=Jr(t,e),d=await ic(e,u),h=Zr(s),p=Na(s),g=yr(s)==="y",{width:S,height:E}=i.floating;let x,v;h==="top"||h==="bottom"?(x=h,v=p===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(v=h,x=p==="end"?"top":"bottom");const _=E-d.top-d.bottom,T=S-d.left-d.right,P=Zs(E-d[x],_),M=Zs(S-d[v],T),O=!e.middlewareData.shift;let I=P,b=M;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(b=T),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(I=_),O&&!p){const R=on(d.left,0),N=on(d.right,0),D=on(d.top,0),k=on(d.bottom,0);g?b=S-2*(R!==0||N!==0?R+N:on(d.left,d.right)):I=E-2*(D!==0||k!==0?D+k:on(d.top,d.bottom))}await l({...e,availableWidth:b,availableHeight:I});const C=await o.getDimensions(a.floating);return S!==C.width||E!==C.height?{reset:{rects:!0}}:{}}}};function qh(){return typeof window<"u"}function Da(t){return Vb(t)?(t.nodeName||"").toLowerCase():"#document"}function cn(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Pr(t){var e;return(e=(Vb(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function Vb(t){return qh()?t instanceof Node||t instanceof cn(t).Node:!1}function Yn(t){return qh()?t instanceof Element||t instanceof cn(t).Element:!1}function Ir(t){return qh()?t instanceof HTMLElement||t instanceof cn(t).HTMLElement:!1}function iE(t){return!qh()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof cn(t).ShadowRoot}const o4=new Set(["inline","contents"]);function Mc(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=Xn(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!o4.has(s)}const a4=new Set(["table","td","th"]);function l4(t){return a4.has(Da(t))}const c4=[":popover-open",":modal"];function Gh(t){return c4.some(e=>{try{return t.matches(e)}catch{return!1}})}const u4=["transform","translate","scale","rotate","perspective"],d4=["transform","translate","scale","rotate","perspective","filter"],h4=["paint","layout","strict","content"];function sv(t){const e=iv(),n=Yn(t)?Xn(t):t;return u4.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||d4.some(r=>(n.willChange||"").includes(r))||h4.some(r=>(n.contain||"").includes(r))}function f4(t){let e=ei(t);for(;Ir(e)&&!va(e);){if(sv(e))return e;if(Gh(e))return null;e=ei(e)}return null}function iv(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const p4=new Set(["html","body","#document"]);function va(t){return p4.has(Da(t))}function Xn(t){return cn(t).getComputedStyle(t)}function Kh(t){return Yn(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function ei(t){if(Da(t)==="html")return t;const e=t.assignedSlot||t.parentNode||iE(t)&&t.host||Pr(t);return iE(e)?e.host:e}function jb(t){const e=ei(t);return va(e)?t.ownerDocument?t.ownerDocument.body:t.body:Ir(e)&&Mc(e)?e:jb(e)}function oc(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=jb(t),i=s===((r=t.ownerDocument)==null?void 0:r.body),o=cn(s);if(i){const a=lg(o);return e.concat(o,o.visualViewport||[],Mc(s)?s:[],a&&n?oc(a):[])}return e.concat(s,oc(s,[],n))}function lg(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function Fb(t){const e=Xn(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=Ir(t),i=s?t.offsetWidth:n,o=s?t.offsetHeight:r,a=$d(n)!==i||$d(r)!==o;return a&&(n=i,r=o),{width:n,height:r,$:a}}function ov(t){return Yn(t)?t:t.contextElement}function Wo(t){const e=ov(t);if(!Ir(e))return _r(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:i}=Fb(e);let o=(i?$d(n.width):n.width)/r,a=(i?$d(n.height):n.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const m4=_r(0);function Ub(t){const e=cn(t);return!iv()||!e.visualViewport?m4:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function g4(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==cn(t)?!1:e}function Gi(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),i=ov(t);let o=_r(1);e&&(r?Yn(r)&&(o=Wo(r)):o=Wo(t));const a=g4(i,n,r)?Ub(i):_r(0);let l=(s.left+a.x)/o.x,u=(s.top+a.y)/o.y,d=s.width/o.x,h=s.height/o.y;if(i){const p=cn(i),g=r&&Yn(r)?cn(r):r;let S=p,E=lg(S);for(;E&&r&&g!==S;){const x=Wo(E),v=E.getBoundingClientRect(),_=Xn(E),T=v.left+(E.clientLeft+parseFloat(_.paddingLeft))*x.x,P=v.top+(E.clientTop+parseFloat(_.paddingTop))*x.y;l*=x.x,u*=x.y,d*=x.x,h*=x.y,l+=T,u+=P,S=cn(E),E=lg(S)}}return zd({width:d,height:h,x:l,y:u})}function av(t,e){const n=Kh(t).scrollLeft;return e?e.left+n:Gi(Pr(t)).left+n}function $b(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),s=r.left+e.scrollLeft-(n?0:av(t,r)),i=r.top+e.scrollTop;return{x:s,y:i}}function y4(t){let{elements:e,rect:n,offsetParent:r,strategy:s}=t;const i=s==="fixed",o=Pr(r),a=e?Gh(e.floating):!1;if(r===o||a&&i)return n;let l={scrollLeft:0,scrollTop:0},u=_r(1);const d=_r(0),h=Ir(r);if((h||!h&&!i)&&((Da(r)!=="body"||Mc(o))&&(l=Kh(r)),Ir(r))){const g=Gi(r);u=Wo(r),d.x=g.x+r.clientLeft,d.y=g.y+r.clientTop}const p=o&&!h&&!i?$b(o,l,!0):_r(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-l.scrollLeft*u.x+d.x+p.x,y:n.y*u.y-l.scrollTop*u.y+d.y+p.y}}function v4(t){return Array.from(t.getClientRects())}function w4(t){const e=Pr(t),n=Kh(t),r=t.ownerDocument.body,s=on(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),i=on(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+av(t);const a=-n.scrollTop;return Xn(r).direction==="rtl"&&(o+=on(e.clientWidth,r.clientWidth)-s),{width:s,height:i,x:o,y:a}}function _4(t,e){const n=cn(t),r=Pr(t),s=n.visualViewport;let i=r.clientWidth,o=r.clientHeight,a=0,l=0;if(s){i=s.width,o=s.height;const u=iv();(!u||u&&e==="fixed")&&(a=s.offsetLeft,l=s.offsetTop)}return{width:i,height:o,x:a,y:l}}const E4=new Set(["absolute","fixed"]);function x4(t,e){const n=Gi(t,!0,e==="fixed"),r=n.top+t.clientTop,s=n.left+t.clientLeft,i=Ir(t)?Wo(t):_r(1),o=t.clientWidth*i.x,a=t.clientHeight*i.y,l=s*i.x,u=r*i.y;return{width:o,height:a,x:l,y:u}}function oE(t,e,n){let r;if(e==="viewport")r=_4(t,n);else if(e==="document")r=w4(Pr(t));else if(Yn(e))r=x4(e,n);else{const s=Ub(t);r={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return zd(r)}function Bb(t,e){const n=ei(t);return n===e||!Yn(n)||va(n)?!1:Xn(n).position==="fixed"||Bb(n,e)}function T4(t,e){const n=e.get(t);if(n)return n;let r=oc(t,[],!1).filter(a=>Yn(a)&&Da(a)!=="body"),s=null;const i=Xn(t).position==="fixed";let o=i?ei(t):t;for(;Yn(o)&&!va(o);){const a=Xn(o),l=sv(o);!l&&a.position==="fixed"&&(s=null),(i?!l&&!s:!l&&a.position==="static"&&!!s&&E4.has(s.position)||Mc(o)&&!l&&Bb(t,o))?r=r.filter(d=>d!==o):s=a,o=ei(o)}return e.set(t,r),r}function S4(t){let{element:e,boundary:n,rootBoundary:r,strategy:s}=t;const o=[...n==="clippingAncestors"?Gh(e)?[]:T4(e,this._c):[].concat(n),r],a=o[0],l=o.reduce((u,d)=>{const h=oE(e,d,s);return u.top=on(h.top,u.top),u.right=Zs(h.right,u.right),u.bottom=Zs(h.bottom,u.bottom),u.left=on(h.left,u.left),u},oE(e,a,s));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function b4(t){const{width:e,height:n}=Fb(t);return{width:e,height:n}}function I4(t,e,n){const r=Ir(e),s=Pr(e),i=n==="fixed",o=Gi(t,!0,i,e);let a={scrollLeft:0,scrollTop:0};const l=_r(0);function u(){l.x=av(s)}if(r||!r&&!i)if((Da(e)!=="body"||Mc(s))&&(a=Kh(e)),r){const g=Gi(e,!0,i,e);l.x=g.x+e.clientLeft,l.y=g.y+e.clientTop}else s&&u();i&&!r&&s&&u();const d=s&&!r&&!i?$b(s,a):_r(0),h=o.left+a.scrollLeft-l.x-d.x,p=o.top+a.scrollTop-l.y-d.y;return{x:h,y:p,width:o.width,height:o.height}}function Mp(t){return Xn(t).position==="static"}function aE(t,e){if(!Ir(t)||Xn(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Pr(t)===n&&(n=n.ownerDocument.body),n}function zb(t,e){const n=cn(t);if(Gh(t))return n;if(!Ir(t)){let s=ei(t);for(;s&&!va(s);){if(Yn(s)&&!Mp(s))return s;s=ei(s)}return n}let r=aE(t,e);for(;r&&l4(r)&&Mp(r);)r=aE(r,e);return r&&va(r)&&Mp(r)&&!sv(r)?n:r||f4(t)||n}const C4=async function(t){const e=this.getOffsetParent||zb,n=this.getDimensions,r=await n(t.floating);return{reference:I4(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function A4(t){return Xn(t).direction==="rtl"}const R4={convertOffsetParentRelativeRectToViewportRelativeRect:y4,getDocumentElement:Pr,getClippingRect:S4,getOffsetParent:zb,getElementRects:C4,getClientRects:v4,getDimensions:b4,getScale:Wo,isElement:Yn,isRTL:A4};function Hb(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function P4(t,e){let n=null,r;const s=Pr(t);function i(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),i();const u=t.getBoundingClientRect(),{left:d,top:h,width:p,height:g}=u;if(a||e(),!p||!g)return;const S=Cu(h),E=Cu(s.clientWidth-(d+p)),x=Cu(s.clientHeight-(h+g)),v=Cu(d),T={rootMargin:-S+"px "+-E+"px "+-x+"px "+-v+"px",threshold:on(0,Zs(1,l))||1};let P=!0;function M(O){const I=O[0].intersectionRatio;if(I!==l){if(!P)return o();I?o(!1,I):r=setTimeout(()=>{o(!1,1e-7)},1e3)}I===1&&!Hb(u,t.getBoundingClientRect())&&o(),P=!1}try{n=new IntersectionObserver(M,{...T,root:s.ownerDocument})}catch{n=new IntersectionObserver(M,T)}n.observe(t)}return o(!0),i}function k4(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,u=ov(t),d=s||i?[...u?oc(u):[],...oc(e)]:[];d.forEach(v=>{s&&v.addEventListener("scroll",n,{passive:!0}),i&&v.addEventListener("resize",n)});const h=u&&a?P4(u,n):null;let p=-1,g=null;o&&(g=new ResizeObserver(v=>{let[_]=v;_&&_.target===u&&g&&(g.unobserve(e),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var T;(T=g)==null||T.observe(e)})),n()}),u&&!l&&g.observe(u),g.observe(e));let S,E=l?Gi(t):null;l&&x();function x(){const v=Gi(t);E&&!Hb(E,v)&&n(),E=v,S=requestAnimationFrame(x)}return n(),()=>{var v;d.forEach(_=>{s&&_.removeEventListener("scroll",n),i&&_.removeEventListener("resize",n)}),h==null||h(),(v=g)==null||v.disconnect(),g=null,l&&cancelAnimationFrame(S)}}const N4=n4,D4=r4,M4=ZL,O4=i4,L4=e4,lE=JL,V4=s4,j4=(t,e,n)=>{const r=new Map,s={platform:R4,...n},i={...s.platform,_c:r};return XL(t,e,{...s,platform:i})};var F4=typeof document<"u",U4=function(){},nd=F4?y.useLayoutEffect:U4;function Hd(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!Hd(t[r],e[r]))return!1;return!0}if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(!(i==="_owner"&&t.$$typeof)&&!Hd(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function Wb(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function cE(t,e){const n=Wb(t);return Math.round(e*n)/n}function Op(t){const e=y.useRef(t);return nd(()=>{e.current=t}),e}function $4(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:i,floating:o}={},transform:a=!0,whileElementsMounted:l,open:u}=t,[d,h]=y.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[p,g]=y.useState(r);Hd(p,r)||g(r);const[S,E]=y.useState(null),[x,v]=y.useState(null),_=y.useCallback(F=>{F!==O.current&&(O.current=F,E(F))},[]),T=y.useCallback(F=>{F!==I.current&&(I.current=F,v(F))},[]),P=i||S,M=o||x,O=y.useRef(null),I=y.useRef(null),b=y.useRef(d),C=l!=null,R=Op(l),N=Op(s),D=Op(u),k=y.useCallback(()=>{if(!O.current||!I.current)return;const F={placement:e,strategy:n,middleware:p};N.current&&(F.platform=N.current),j4(O.current,I.current,F).then(V=>{const q={...V,isPositioned:D.current!==!1};H.current&&!Hd(b.current,q)&&(b.current=q,Pc.flushSync(()=>{h(q)}))})},[p,e,n,N,D]);nd(()=>{u===!1&&b.current.isPositioned&&(b.current.isPositioned=!1,h(F=>({...F,isPositioned:!1})))},[u]);const H=y.useRef(!1);nd(()=>(H.current=!0,()=>{H.current=!1}),[]),nd(()=>{if(P&&(O.current=P),M&&(I.current=M),P&&M){if(R.current)return R.current(P,M,k);k()}},[P,M,k,R,C]);const se=y.useMemo(()=>({reference:O,floating:I,setReference:_,setFloating:T}),[_,T]),Z=y.useMemo(()=>({reference:P,floating:M}),[P,M]),oe=y.useMemo(()=>{const F={position:n,left:0,top:0};if(!Z.floating)return F;const V=cE(Z.floating,d.x),q=cE(Z.floating,d.y);return a?{...F,transform:"translate("+V+"px, "+q+"px)",...Wb(Z.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:V,top:q}},[n,a,Z.floating,d.x,d.y]);return y.useMemo(()=>({...d,update:k,refs:se,elements:Z,floatingStyles:oe}),[d,k,se,Z,oe])}const B4=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:s}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?lE({element:r.current,padding:s}).fn(n):{}:r?lE({element:r,padding:s}).fn(n):{}}}},z4=(t,e)=>({...N4(t),options:[t,e]}),H4=(t,e)=>({...D4(t),options:[t,e]}),W4=(t,e)=>({...V4(t),options:[t,e]}),q4=(t,e)=>({...M4(t),options:[t,e]}),G4=(t,e)=>({...O4(t),options:[t,e]}),K4=(t,e)=>({...L4(t),options:[t,e]}),Q4=(t,e)=>({...B4(t),options:[t,e]});var Y4="Arrow",qb=y.forwardRef((t,e)=>{const{children:n,width:r=10,height:s=5,...i}=t;return f.jsx(_e.svg,{...i,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:f.jsx("polygon",{points:"0,0 30,0 15,10"})})});qb.displayName=Y4;var X4=qb;function J4(t){const[e,n]=y.useState(void 0);return hn(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,a;if("borderBoxSize"in i){const l=i.borderBoxSize,u=Array.isArray(l)?l[0]:l;o=u.inlineSize,a=u.blockSize}else o=t.offsetWidth,a=t.offsetHeight;n({width:o,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var lv="Popper",[Gb,Qh]=er(lv),[Z4,Kb]=Gb(lv),Qb=t=>{const{__scopePopper:e,children:n}=t,[r,s]=y.useState(null);return f.jsx(Z4,{scope:e,anchor:r,onAnchorChange:s,children:n})};Qb.displayName=lv;var Yb="PopperAnchor",Xb=y.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...s}=t,i=Kb(Yb,n),o=y.useRef(null),a=Re(e,o);return y.useEffect(()=>{i.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:f.jsx(_e.div,{...s,ref:a})});Xb.displayName=Yb;var cv="PopperContent",[eV,tV]=Gb(cv),Jb=y.forwardRef((t,e)=>{var he,en,Qe,mn,nr,Nr;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:i="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:h="partial",hideWhenDetached:p=!1,updatePositionStrategy:g="optimized",onPlaced:S,...E}=t,x=Kb(cv,n),[v,_]=y.useState(null),T=Re(e,gn=>_(gn)),[P,M]=y.useState(null),O=J4(P),I=(O==null?void 0:O.width)??0,b=(O==null?void 0:O.height)??0,C=r+(i!=="center"?"-"+i:""),R=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},N=Array.isArray(u)?u:[u],D=N.length>0,k={padding:R,boundary:N.filter(rV),altBoundary:D},{refs:H,floatingStyles:se,placement:Z,isPositioned:oe,middlewareData:F}=$4({strategy:"fixed",placement:C,whileElementsMounted:(...gn)=>k4(...gn,{animationFrame:g==="always"}),elements:{reference:x.anchor},middleware:[z4({mainAxis:s+b,alignmentAxis:o}),l&&H4({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?W4():void 0,...k}),l&&q4({...k}),G4({...k,apply:({elements:gn,rects:hi,availableWidth:za,availableHeight:as})=>{const{width:fi,height:ls}=hi.reference,$e=gn.floating.style;$e.setProperty("--radix-popper-available-width",`${za}px`),$e.setProperty("--radix-popper-available-height",`${as}px`),$e.setProperty("--radix-popper-anchor-width",`${fi}px`),$e.setProperty("--radix-popper-anchor-height",`${ls}px`)}}),P&&Q4({element:P,padding:a}),sV({arrowWidth:I,arrowHeight:b}),p&&K4({strategy:"referenceHidden",...k})]}),[V,q]=tI(Z),ee=Je(S);hn(()=>{oe&&(ee==null||ee())},[oe,ee]);const X=(he=F.arrow)==null?void 0:he.x,ce=(en=F.arrow)==null?void 0:en.y,ae=((Qe=F.arrow)==null?void 0:Qe.centerOffset)!==0,[Pe,Ne]=y.useState();return hn(()=>{v&&Ne(window.getComputedStyle(v).zIndex)},[v]),f.jsx("div",{ref:H.setFloating,"data-radix-popper-content-wrapper":"",style:{...se,transform:oe?se.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Pe,"--radix-popper-transform-origin":[(mn=F.transformOrigin)==null?void 0:mn.x,(nr=F.transformOrigin)==null?void 0:nr.y].join(" "),...((Nr=F.hide)==null?void 0:Nr.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:f.jsx(eV,{scope:n,placedSide:V,onArrowChange:M,arrowX:X,arrowY:ce,shouldHideArrow:ae,children:f.jsx(_e.div,{"data-side":V,"data-align":q,...E,ref:T,style:{...E.style,animation:oe?void 0:"none"}})})})});Jb.displayName=cv;var Zb="PopperArrow",nV={top:"bottom",right:"left",bottom:"top",left:"right"},eI=y.forwardRef(function(e,n){const{__scopePopper:r,...s}=e,i=tV(Zb,r),o=nV[i.placedSide];return f.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:f.jsx(X4,{...s,ref:n,style:{...s.style,display:"block"}})})});eI.displayName=Zb;function rV(t){return t!==null}var sV=t=>({name:"transformOrigin",options:t,fn(e){var x,v,_;const{placement:n,rects:r,middlewareData:s}=e,o=((x=s.arrow)==null?void 0:x.centerOffset)!==0,a=o?0:t.arrowWidth,l=o?0:t.arrowHeight,[u,d]=tI(n),h={start:"0%",center:"50%",end:"100%"}[d],p=(((v=s.arrow)==null?void 0:v.x)??0)+a/2,g=(((_=s.arrow)==null?void 0:_.y)??0)+l/2;let S="",E="";return u==="bottom"?(S=o?h:`${p}px`,E=`${-l}px`):u==="top"?(S=o?h:`${p}px`,E=`${r.floating.height+l}px`):u==="right"?(S=`${-l}px`,E=o?h:`${g}px`):u==="left"&&(S=`${r.floating.width+l}px`,E=o?h:`${g}px`),{data:{x:S,y:E}}}});function tI(t){const[e,n="center"]=t.split("-");return[e,n]}var nI=Qb,rI=Xb,sI=Jb,iI=eI,[Yh,CW]=er("Tooltip",[Qh]),Xh=Qh(),oI="TooltipProvider",iV=700,cg="tooltip.open",[oV,uv]=Yh(oI),aI=t=>{const{__scopeTooltip:e,delayDuration:n=iV,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:i}=t,o=y.useRef(!0),a=y.useRef(!1),l=y.useRef(0);return y.useEffect(()=>{const u=l.current;return()=>window.clearTimeout(u)},[]),f.jsx(oV,{scope:e,isOpenDelayedRef:o,delayDuration:n,onOpen:y.useCallback(()=>{window.clearTimeout(l.current),o.current=!1},[]),onClose:y.useCallback(()=>{window.clearTimeout(l.current),l.current=window.setTimeout(()=>o.current=!0,r)},[r]),isPointerInTransitRef:a,onPointerInTransitChange:y.useCallback(u=>{a.current=u},[]),disableHoverableContent:s,children:i})};aI.displayName=oI;var ac="Tooltip",[aV,Jh]=Yh(ac),lI=t=>{const{__scopeTooltip:e,children:n,open:r,defaultOpen:s,onOpenChange:i,disableHoverableContent:o,delayDuration:a}=t,l=uv(ac,t.__scopeTooltip),u=Xh(e),[d,h]=y.useState(null),p=Fi(),g=y.useRef(0),S=o??l.disableHoverableContent,E=a??l.delayDuration,x=y.useRef(!1),[v,_]=Nc({prop:r,defaultProp:s??!1,onChange:I=>{I?(l.onOpen(),document.dispatchEvent(new CustomEvent(cg))):l.onClose(),i==null||i(I)},caller:ac}),T=y.useMemo(()=>v?x.current?"delayed-open":"instant-open":"closed",[v]),P=y.useCallback(()=>{window.clearTimeout(g.current),g.current=0,x.current=!1,_(!0)},[_]),M=y.useCallback(()=>{window.clearTimeout(g.current),g.current=0,_(!1)},[_]),O=y.useCallback(()=>{window.clearTimeout(g.current),g.current=window.setTimeout(()=>{x.current=!0,_(!0),g.current=0},E)},[E,_]);return y.useEffect(()=>()=>{g.current&&(window.clearTimeout(g.current),g.current=0)},[]),f.jsx(nI,{...u,children:f.jsx(aV,{scope:e,contentId:p,open:v,stateAttribute:T,trigger:d,onTriggerChange:h,onTriggerEnter:y.useCallback(()=>{l.isOpenDelayedRef.current?O():P()},[l.isOpenDelayedRef,O,P]),onTriggerLeave:y.useCallback(()=>{S?M():(window.clearTimeout(g.current),g.current=0)},[M,S]),onOpen:P,onClose:M,disableHoverableContent:S,children:n})})};lI.displayName=ac;var ug="TooltipTrigger",cI=y.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=Jh(ug,n),i=uv(ug,n),o=Xh(n),a=y.useRef(null),l=Re(e,a,s.onTriggerChange),u=y.useRef(!1),d=y.useRef(!1),h=y.useCallback(()=>u.current=!1,[]);return y.useEffect(()=>()=>document.removeEventListener("pointerup",h),[h]),f.jsx(rI,{asChild:!0,...o,children:f.jsx(_e.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:l,onPointerMove:J(t.onPointerMove,p=>{p.pointerType!=="touch"&&!d.current&&!i.isPointerInTransitRef.current&&(s.onTriggerEnter(),d.current=!0)}),onPointerLeave:J(t.onPointerLeave,()=>{s.onTriggerLeave(),d.current=!1}),onPointerDown:J(t.onPointerDown,()=>{s.open&&s.onClose(),u.current=!0,document.addEventListener("pointerup",h,{once:!0})}),onFocus:J(t.onFocus,()=>{u.current||s.onOpen()}),onBlur:J(t.onBlur,s.onClose),onClick:J(t.onClick,s.onClose)})})});cI.displayName=ug;var lV="TooltipPortal",[AW,cV]=Yh(lV,{forceMount:void 0}),wa="TooltipContent",uI=y.forwardRef((t,e)=>{const n=cV(wa,t.__scopeTooltip),{forceMount:r=n.forceMount,side:s="top",...i}=t,o=Jh(wa,t.__scopeTooltip);return f.jsx(Zt,{present:r||o.open,children:o.disableHoverableContent?f.jsx(dI,{side:s,...i,ref:e}):f.jsx(uV,{side:s,...i,ref:e})})}),uV=y.forwardRef((t,e)=>{const n=Jh(wa,t.__scopeTooltip),r=uv(wa,t.__scopeTooltip),s=y.useRef(null),i=Re(e,s),[o,a]=y.useState(null),{trigger:l,onClose:u}=n,d=s.current,{onPointerInTransitChange:h}=r,p=y.useCallback(()=>{a(null),h(!1)},[h]),g=y.useCallback((S,E)=>{const x=S.currentTarget,v={x:S.clientX,y:S.clientY},_=mV(v,x.getBoundingClientRect()),T=gV(v,_),P=yV(E.getBoundingClientRect()),M=wV([...T,...P]);a(M),h(!0)},[h]);return y.useEffect(()=>()=>p(),[p]),y.useEffect(()=>{if(l&&d){const S=x=>g(x,d),E=x=>g(x,l);return l.addEventListener("pointerleave",S),d.addEventListener("pointerleave",E),()=>{l.removeEventListener("pointerleave",S),d.removeEventListener("pointerleave",E)}}},[l,d,g,p]),y.useEffect(()=>{if(o){const S=E=>{const x=E.target,v={x:E.clientX,y:E.clientY},_=(l==null?void 0:l.contains(x))||(d==null?void 0:d.contains(x)),T=!vV(v,o);_?p():T&&(p(),u())};return document.addEventListener("pointermove",S),()=>document.removeEventListener("pointermove",S)}},[l,d,o,u,p]),f.jsx(dI,{...t,ref:i})}),[dV,hV]=Yh(ac,{isInside:!1}),fV=JS("TooltipContent"),dI=y.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":s,onEscapeKeyDown:i,onPointerDownOutside:o,...a}=t,l=Jh(wa,n),u=Xh(n),{onClose:d}=l;return y.useEffect(()=>(document.addEventListener(cg,d),()=>document.removeEventListener(cg,d)),[d]),y.useEffect(()=>{if(l.trigger){const h=p=>{const g=p.target;g!=null&&g.contains(l.trigger)&&d()};return window.addEventListener("scroll",h,{capture:!0}),()=>window.removeEventListener("scroll",h,{capture:!0})}},[l.trigger,d]),f.jsx(kc,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:h=>h.preventDefault(),onDismiss:d,children:f.jsxs(sI,{"data-state":l.stateAttribute,...u,...a,ref:e,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[f.jsx(fV,{children:r}),f.jsx(dV,{scope:n,isInside:!0,children:f.jsx(NM,{id:l.contentId,role:"tooltip",children:s||r})})]})})});uI.displayName=wa;var hI="TooltipArrow",pV=y.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=Xh(n);return hV(hI,n).isInside?null:f.jsx(iI,{...s,...r,ref:e})});pV.displayName=hI;function mV(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),s=Math.abs(e.right-t.x),i=Math.abs(e.left-t.x);switch(Math.min(n,r,s,i)){case i:return"left";case s:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function gV(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function yV(t){const{top:e,right:n,bottom:r,left:s}=t;return[{x:s,y:e},{x:n,y:e},{x:n,y:r},{x:s,y:r}]}function vV(t,e){const{x:n,y:r}=t;let s=!1;for(let i=0,o=e.length-1;i<e.length;o=i++){const a=e[i],l=e[o],u=a.x,d=a.y,h=l.x,p=l.y;d>r!=p>r&&n<(h-u)*(r-d)/(p-d)+u&&(s=!s)}return s}function wV(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),_V(e)}function _V(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const s=t[r];for(;e.length>=2;){const i=e[e.length-1],o=e[e.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))e.pop();else break}e.push(s)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const s=t[r];for(;n.length>=2;){const i=n[n.length-1],o=n[n.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))n.pop();else break}n.push(s)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var EV=aI,xV=lI,TV=cI,fI=uI;const pI=EV,SV=xV,bV=TV,mI=y.forwardRef(({className:t,sideOffset:e=4,...n},r)=>f.jsx(fI,{ref:r,sideOffset:e,className:me("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n}));mI.displayName=fI.displayName;var Zh=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},ef=typeof window>"u"||"Deno"in globalThis;function Vn(){}function IV(t,e){return typeof t=="function"?t(e):t}function CV(t){return typeof t=="number"&&t>=0&&t!==1/0}function AV(t,e){return Math.max(t+(e||0)-Date.now(),0)}function dg(t,e){return typeof t=="function"?t(e):t}function RV(t,e){return typeof t=="function"?t(e):t}function uE(t,e){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:o,stale:a}=t;if(o){if(r){if(e.queryHash!==dv(o,e.options))return!1}else if(!cc(e.queryKey,o))return!1}if(n!=="all"){const l=e.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||s&&s!==e.state.fetchStatus||i&&!i(e))}function dE(t,e){const{exact:n,status:r,predicate:s,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(n){if(lc(e.options.mutationKey)!==lc(i))return!1}else if(!cc(e.options.mutationKey,i))return!1}return!(r&&e.state.status!==r||s&&!s(e))}function dv(t,e){return((e==null?void 0:e.queryKeyHashFn)||lc)(t)}function lc(t){return JSON.stringify(t,(e,n)=>hg(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function cc(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>cc(t[n],e[n])):!1}function gI(t,e){if(t===e)return t;const n=hE(t)&&hE(e);if(n||hg(t)&&hg(e)){const r=n?t:Object.keys(t),s=r.length,i=n?e:Object.keys(e),o=i.length,a=n?[]:{},l=new Set(r);let u=0;for(let d=0;d<o;d++){const h=n?d:i[d];(!n&&l.has(h)||n)&&t[h]===void 0&&e[h]===void 0?(a[h]=void 0,u++):(a[h]=gI(t[h],e[h]),a[h]===t[h]&&t[h]!==void 0&&u++)}return s===o&&u===s?t:a}return e}function hE(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function hg(t){if(!fE(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!fE(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function fE(t){return Object.prototype.toString.call(t)==="[object Object]"}function PV(t){return new Promise(e=>{setTimeout(e,t)})}function kV(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?gI(t,e):e}function NV(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function DV(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var hv=Symbol();function yI(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===hv?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var ki,Rs,ta,Ax,MV=(Ax=class extends Zh{constructor(){super();Te(this,ki);Te(this,Rs);Te(this,ta);de(this,ta,e=>{if(!ef&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){U(this,Rs)||this.setEventListener(U(this,ta))}onUnsubscribe(){var e;this.hasListeners()||((e=U(this,Rs))==null||e.call(this),de(this,Rs,void 0))}setEventListener(e){var n;de(this,ta,e),(n=U(this,Rs))==null||n.call(this),de(this,Rs,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){U(this,ki)!==e&&(de(this,ki,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof U(this,ki)=="boolean"?U(this,ki):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},ki=new WeakMap,Rs=new WeakMap,ta=new WeakMap,Ax),vI=new MV,na,Ps,ra,Rx,OV=(Rx=class extends Zh{constructor(){super();Te(this,na,!0);Te(this,Ps);Te(this,ra);de(this,ra,e=>{if(!ef&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){U(this,Ps)||this.setEventListener(U(this,ra))}onUnsubscribe(){var e;this.hasListeners()||((e=U(this,Ps))==null||e.call(this),de(this,Ps,void 0))}setEventListener(e){var n;de(this,ra,e),(n=U(this,Ps))==null||n.call(this),de(this,Ps,e(this.setOnline.bind(this)))}setOnline(e){U(this,na)!==e&&(de(this,na,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return U(this,na)}},na=new WeakMap,Ps=new WeakMap,ra=new WeakMap,Rx),Wd=new OV;function LV(){let t,e;const n=new Promise((s,i)=>{t=s,e=i});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),t(s)},n.reject=s=>{r({status:"rejected",reason:s}),e(s)},n}function VV(t){return Math.min(1e3*2**t,3e4)}function wI(t){return(t??"online")==="online"?Wd.isOnline():!0}var _I=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function Lp(t){return t instanceof _I}function EI(t){let e=!1,n=0,r=!1,s;const i=LV(),o=E=>{var x;r||(p(new _I(E)),(x=t.abort)==null||x.call(t))},a=()=>{e=!0},l=()=>{e=!1},u=()=>vI.isFocused()&&(t.networkMode==="always"||Wd.isOnline())&&t.canRun(),d=()=>wI(t.networkMode)&&t.canRun(),h=E=>{var x;r||(r=!0,(x=t.onSuccess)==null||x.call(t,E),s==null||s(),i.resolve(E))},p=E=>{var x;r||(r=!0,(x=t.onError)==null||x.call(t,E),s==null||s(),i.reject(E))},g=()=>new Promise(E=>{var x;s=v=>{(r||u())&&E(v)},(x=t.onPause)==null||x.call(t)}).then(()=>{var E;s=void 0,r||(E=t.onContinue)==null||E.call(t)}),S=()=>{if(r)return;let E;const x=n===0?t.initialPromise:void 0;try{E=x??t.fn()}catch(v){E=Promise.reject(v)}Promise.resolve(E).then(h).catch(v=>{var O;if(r)return;const _=t.retry??(ef?0:3),T=t.retryDelay??VV,P=typeof T=="function"?T(n,v):T,M=_===!0||typeof _=="number"&&n<_||typeof _=="function"&&_(n,v);if(e||!M){p(v);return}n++,(O=t.onFail)==null||O.call(t,n,v),PV(P).then(()=>u()?void 0:g()).then(()=>{e?p(v):S()})})};return{promise:i,cancel:o,continue:()=>(s==null||s(),i),cancelRetry:a,continueRetry:l,canStart:d,start:()=>(d()?S():g().then(S),i)}}var jV=t=>setTimeout(t,0);function FV(){let t=[],e=0,n=a=>{a()},r=a=>{a()},s=jV;const i=a=>{e?t.push(a):s(()=>{n(a)})},o=()=>{const a=t;t=[],a.length&&s(()=>{r(()=>{a.forEach(l=>{n(l)})})})};return{batch:a=>{let l;e++;try{l=a()}finally{e--,e||o()}return l},batchCalls:a=>(...l)=>{i(()=>{a(...l)})},schedule:i,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{s=a}}}var Lt=FV(),Ni,Px,xI=(Px=class{constructor(){Te(this,Ni)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),CV(this.gcTime)&&de(this,Ni,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(ef?1/0:5*60*1e3))}clearGcTimeout(){U(this,Ni)&&(clearTimeout(U(this,Ni)),de(this,Ni,void 0))}},Ni=new WeakMap,Px),sa,Di,vn,Mi,Ct,Tc,Oi,jn,Lr,kx,UV=(kx=class extends xI{constructor(n){super();Te(this,jn);Te(this,sa);Te(this,Di);Te(this,vn);Te(this,Mi);Te(this,Ct);Te(this,Tc);Te(this,Oi);de(this,Oi,!1),de(this,Tc,n.defaultOptions),this.setOptions(n.options),this.observers=[],de(this,Mi,n.client),de(this,vn,U(this,Mi).getQueryCache()),this.queryKey=n.queryKey,this.queryHash=n.queryHash,de(this,sa,BV(this.options)),this.state=n.state??U(this,sa),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var n;return(n=U(this,Ct))==null?void 0:n.promise}setOptions(n){this.options={...U(this,Tc),...n},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&U(this,vn).remove(this)}setData(n,r){const s=kV(this.state.data,n,this.options);return Tt(this,jn,Lr).call(this,{data:s,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),s}setState(n,r){Tt(this,jn,Lr).call(this,{type:"setState",state:n,setStateOptions:r})}cancel(n){var s,i;const r=(s=U(this,Ct))==null?void 0:s.promise;return(i=U(this,Ct))==null||i.cancel(n),r?r.then(Vn).catch(Vn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(U(this,sa))}isActive(){return this.observers.some(n=>RV(n.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===hv||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(n=>dg(n.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(n=>n.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(n=0){return this.state.data===void 0?!0:n==="static"?!1:this.state.isInvalidated?!0:!AV(this.state.dataUpdatedAt,n)}onFocus(){var r;const n=this.observers.find(s=>s.shouldFetchOnWindowFocus());n==null||n.refetch({cancelRefetch:!1}),(r=U(this,Ct))==null||r.continue()}onOnline(){var r;const n=this.observers.find(s=>s.shouldFetchOnReconnect());n==null||n.refetch({cancelRefetch:!1}),(r=U(this,Ct))==null||r.continue()}addObserver(n){this.observers.includes(n)||(this.observers.push(n),this.clearGcTimeout(),U(this,vn).notify({type:"observerAdded",query:this,observer:n}))}removeObserver(n){this.observers.includes(n)&&(this.observers=this.observers.filter(r=>r!==n),this.observers.length||(U(this,Ct)&&(U(this,Oi)?U(this,Ct).cancel({revert:!0}):U(this,Ct).cancelRetry()),this.scheduleGc()),U(this,vn).notify({type:"observerRemoved",query:this,observer:n}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Tt(this,jn,Lr).call(this,{type:"invalidate"})}fetch(n,r){var d,h,p;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(U(this,Ct))return U(this,Ct).continueRetry(),U(this,Ct).promise}if(n&&this.setOptions(n),!this.options.queryFn){const g=this.observers.find(S=>S.options.queryFn);g&&this.setOptions(g.options)}const s=new AbortController,i=g=>{Object.defineProperty(g,"signal",{enumerable:!0,get:()=>(de(this,Oi,!0),s.signal)})},o=()=>{const g=yI(this.options,r),E=(()=>{const x={client:U(this,Mi),queryKey:this.queryKey,meta:this.meta};return i(x),x})();return de(this,Oi,!1),this.options.persister?this.options.persister(g,E,this):g(E)},l=(()=>{const g={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:U(this,Mi),state:this.state,fetchFn:o};return i(g),g})();(d=this.options.behavior)==null||d.onFetch(l,this),de(this,Di,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((h=l.fetchOptions)==null?void 0:h.meta))&&Tt(this,jn,Lr).call(this,{type:"fetch",meta:(p=l.fetchOptions)==null?void 0:p.meta});const u=g=>{var S,E,x,v;Lp(g)&&g.silent||Tt(this,jn,Lr).call(this,{type:"error",error:g}),Lp(g)||((E=(S=U(this,vn).config).onError)==null||E.call(S,g,this),(v=(x=U(this,vn).config).onSettled)==null||v.call(x,this.state.data,g,this)),this.scheduleGc()};return de(this,Ct,EI({initialPromise:r==null?void 0:r.initialPromise,fn:l.fetchFn,abort:s.abort.bind(s),onSuccess:g=>{var S,E,x,v;if(g===void 0){u(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(g)}catch(_){u(_);return}(E=(S=U(this,vn).config).onSuccess)==null||E.call(S,g,this),(v=(x=U(this,vn).config).onSettled)==null||v.call(x,g,this.state.error,this),this.scheduleGc()},onError:u,onFail:(g,S)=>{Tt(this,jn,Lr).call(this,{type:"failed",failureCount:g,error:S})},onPause:()=>{Tt(this,jn,Lr).call(this,{type:"pause"})},onContinue:()=>{Tt(this,jn,Lr).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0})),U(this,Ct).start()}},sa=new WeakMap,Di=new WeakMap,vn=new WeakMap,Mi=new WeakMap,Ct=new WeakMap,Tc=new WeakMap,Oi=new WeakMap,jn=new WeakSet,Lr=function(n){const r=s=>{switch(n.type){case"failed":return{...s,fetchFailureCount:n.failureCount,fetchFailureReason:n.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...$V(s.data,this.options),fetchMeta:n.meta??null};case"success":return de(this,Di,void 0),{...s,data:n.data,dataUpdateCount:s.dataUpdateCount+1,dataUpdatedAt:n.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!n.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=n.error;return Lp(i)&&i.revert&&U(this,Di)?{...U(this,Di),fetchStatus:"idle"}:{...s,error:i,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...n.state}}};this.state=r(this.state),Lt.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),U(this,vn).notify({query:this,type:"updated",action:n})})},kx);function $V(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:wI(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function BV(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var hr,Nx,zV=(Nx=class extends Zh{constructor(e={}){super();Te(this,hr);this.config=e,de(this,hr,new Map)}build(e,n,r){const s=n.queryKey,i=n.queryHash??dv(s,n);let o=this.get(i);return o||(o=new UV({client:e,queryKey:s,queryHash:i,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(s)}),this.add(o)),o}add(e){U(this,hr).has(e.queryHash)||(U(this,hr).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=U(this,hr).get(e.queryHash);n&&(e.destroy(),n===e&&U(this,hr).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Lt.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return U(this,hr).get(e)}getAll(){return[...U(this,hr).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>uE(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>uE(e,r)):n}notify(e){Lt.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){Lt.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Lt.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},hr=new WeakMap,Nx),fr,Mt,Li,pr,_s,Dx,HV=(Dx=class extends xI{constructor(n){super();Te(this,pr);Te(this,fr);Te(this,Mt);Te(this,Li);this.mutationId=n.mutationId,de(this,Mt,n.mutationCache),de(this,fr,[]),this.state=n.state||WV(),this.setOptions(n.options),this.scheduleGc()}setOptions(n){this.options=n,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(n){U(this,fr).includes(n)||(U(this,fr).push(n),this.clearGcTimeout(),U(this,Mt).notify({type:"observerAdded",mutation:this,observer:n}))}removeObserver(n){de(this,fr,U(this,fr).filter(r=>r!==n)),this.scheduleGc(),U(this,Mt).notify({type:"observerRemoved",mutation:this,observer:n})}optionalRemove(){U(this,fr).length||(this.state.status==="pending"?this.scheduleGc():U(this,Mt).remove(this))}continue(){var n;return((n=U(this,Li))==null?void 0:n.continue())??this.execute(this.state.variables)}async execute(n){var o,a,l,u,d,h,p,g,S,E,x,v,_,T,P,M,O,I,b,C;const r=()=>{Tt(this,pr,_s).call(this,{type:"continue"})};de(this,Li,EI({fn:()=>this.options.mutationFn?this.options.mutationFn(n):Promise.reject(new Error("No mutationFn found")),onFail:(R,N)=>{Tt(this,pr,_s).call(this,{type:"failed",failureCount:R,error:N})},onPause:()=>{Tt(this,pr,_s).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>U(this,Mt).canRun(this)}));const s=this.state.status==="pending",i=!U(this,Li).canStart();try{if(s)r();else{Tt(this,pr,_s).call(this,{type:"pending",variables:n,isPaused:i}),await((a=(o=U(this,Mt).config).onMutate)==null?void 0:a.call(o,n,this));const N=await((u=(l=this.options).onMutate)==null?void 0:u.call(l,n));N!==this.state.context&&Tt(this,pr,_s).call(this,{type:"pending",context:N,variables:n,isPaused:i})}const R=await U(this,Li).start();return await((h=(d=U(this,Mt).config).onSuccess)==null?void 0:h.call(d,R,n,this.state.context,this)),await((g=(p=this.options).onSuccess)==null?void 0:g.call(p,R,n,this.state.context)),await((E=(S=U(this,Mt).config).onSettled)==null?void 0:E.call(S,R,null,this.state.variables,this.state.context,this)),await((v=(x=this.options).onSettled)==null?void 0:v.call(x,R,null,n,this.state.context)),Tt(this,pr,_s).call(this,{type:"success",data:R}),R}catch(R){try{throw await((T=(_=U(this,Mt).config).onError)==null?void 0:T.call(_,R,n,this.state.context,this)),await((M=(P=this.options).onError)==null?void 0:M.call(P,R,n,this.state.context)),await((I=(O=U(this,Mt).config).onSettled)==null?void 0:I.call(O,void 0,R,this.state.variables,this.state.context,this)),await((C=(b=this.options).onSettled)==null?void 0:C.call(b,void 0,R,n,this.state.context)),R}finally{Tt(this,pr,_s).call(this,{type:"error",error:R})}}finally{U(this,Mt).runNext(this)}}},fr=new WeakMap,Mt=new WeakMap,Li=new WeakMap,pr=new WeakSet,_s=function(n){const r=s=>{switch(n.type){case"failed":return{...s,failureCount:n.failureCount,failureReason:n.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:n.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:n.isPaused,status:"pending",variables:n.variables,submittedAt:Date.now()};case"success":return{...s,data:n.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:n.error,failureCount:s.failureCount+1,failureReason:n.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Lt.batch(()=>{U(this,fr).forEach(s=>{s.onMutationUpdate(n)}),U(this,Mt).notify({mutation:this,type:"updated",action:n})})},Dx);function WV(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Ur,Fn,Sc,Mx,qV=(Mx=class extends Zh{constructor(e={}){super();Te(this,Ur);Te(this,Fn);Te(this,Sc);this.config=e,de(this,Ur,new Set),de(this,Fn,new Map),de(this,Sc,0)}build(e,n,r){const s=new HV({mutationCache:this,mutationId:++ou(this,Sc)._,options:e.defaultMutationOptions(n),state:r});return this.add(s),s}add(e){U(this,Ur).add(e);const n=Au(e);if(typeof n=="string"){const r=U(this,Fn).get(n);r?r.push(e):U(this,Fn).set(n,[e])}this.notify({type:"added",mutation:e})}remove(e){if(U(this,Ur).delete(e)){const n=Au(e);if(typeof n=="string"){const r=U(this,Fn).get(n);if(r)if(r.length>1){const s=r.indexOf(e);s!==-1&&r.splice(s,1)}else r[0]===e&&U(this,Fn).delete(n)}}this.notify({type:"removed",mutation:e})}canRun(e){const n=Au(e);if(typeof n=="string"){const r=U(this,Fn).get(n),s=r==null?void 0:r.find(i=>i.state.status==="pending");return!s||s===e}else return!0}runNext(e){var r;const n=Au(e);if(typeof n=="string"){const s=(r=U(this,Fn).get(n))==null?void 0:r.find(i=>i!==e&&i.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Lt.batch(()=>{U(this,Ur).forEach(e=>{this.notify({type:"removed",mutation:e})}),U(this,Ur).clear(),U(this,Fn).clear()})}getAll(){return Array.from(U(this,Ur))}find(e){const n={exact:!0,...e};return this.getAll().find(r=>dE(n,r))}findAll(e={}){return this.getAll().filter(n=>dE(e,n))}notify(e){Lt.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return Lt.batch(()=>Promise.all(e.map(n=>n.continue().catch(Vn))))}},Ur=new WeakMap,Fn=new WeakMap,Sc=new WeakMap,Mx);function Au(t){var e;return(e=t.options.scope)==null?void 0:e.id}function pE(t){return{onFetch:(e,n)=>{var d,h,p,g,S;const r=e.options,s=(p=(h=(d=e.fetchOptions)==null?void 0:d.meta)==null?void 0:h.fetchMore)==null?void 0:p.direction,i=((g=e.state.data)==null?void 0:g.pages)||[],o=((S=e.state.data)==null?void 0:S.pageParams)||[];let a={pages:[],pageParams:[]},l=0;const u=async()=>{let E=!1;const x=T=>{Object.defineProperty(T,"signal",{enumerable:!0,get:()=>(e.signal.aborted?E=!0:e.signal.addEventListener("abort",()=>{E=!0}),e.signal)})},v=yI(e.options,e.fetchOptions),_=async(T,P,M)=>{if(E)return Promise.reject();if(P==null&&T.pages.length)return Promise.resolve(T);const I=(()=>{const N={client:e.client,queryKey:e.queryKey,pageParam:P,direction:M?"backward":"forward",meta:e.options.meta};return x(N),N})(),b=await v(I),{maxPages:C}=e.options,R=M?DV:NV;return{pages:R(T.pages,b,C),pageParams:R(T.pageParams,P,C)}};if(s&&i.length){const T=s==="backward",P=T?GV:mE,M={pages:i,pageParams:o},O=P(r,M);a=await _(M,O,T)}else{const T=t??i.length;do{const P=l===0?o[0]??r.initialPageParam:mE(r,a);if(l>0&&P==null)break;a=await _(a,P),l++}while(l<T)}return a};e.options.persister?e.fetchFn=()=>{var E,x;return(x=(E=e.options).persister)==null?void 0:x.call(E,u,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=u}}}function mE(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function GV(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var Ge,ks,Ns,ia,oa,Ds,aa,la,Ox,KV=(Ox=class{constructor(t={}){Te(this,Ge);Te(this,ks);Te(this,Ns);Te(this,ia);Te(this,oa);Te(this,Ds);Te(this,aa);Te(this,la);de(this,Ge,t.queryCache||new zV),de(this,ks,t.mutationCache||new qV),de(this,Ns,t.defaultOptions||{}),de(this,ia,new Map),de(this,oa,new Map),de(this,Ds,0)}mount(){ou(this,Ds)._++,U(this,Ds)===1&&(de(this,aa,vI.subscribe(async t=>{t&&(await this.resumePausedMutations(),U(this,Ge).onFocus())})),de(this,la,Wd.subscribe(async t=>{t&&(await this.resumePausedMutations(),U(this,Ge).onOnline())})))}unmount(){var t,e;ou(this,Ds)._--,U(this,Ds)===0&&((t=U(this,aa))==null||t.call(this),de(this,aa,void 0),(e=U(this,la))==null||e.call(this),de(this,la,void 0))}isFetching(t){return U(this,Ge).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return U(this,ks).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=U(this,Ge).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=U(this,Ge).build(this,e),r=n.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(dg(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(t){return U(this,Ge).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),s=U(this,Ge).get(r.queryHash),i=s==null?void 0:s.state.data,o=IV(e,i);if(o!==void 0)return U(this,Ge).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return Lt.batch(()=>U(this,Ge).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=U(this,Ge).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=U(this,Ge);Lt.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=U(this,Ge);return Lt.batch(()=>(n.findAll(t).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},r=Lt.batch(()=>U(this,Ge).findAll(t).map(s=>s.cancel(n)));return Promise.all(r).then(Vn).catch(Vn)}invalidateQueries(t,e={}){return Lt.batch(()=>(U(this,Ge).findAll(t).forEach(n=>{n.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},r=Lt.batch(()=>U(this,Ge).findAll(t).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(Vn)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(Vn)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=U(this,Ge).build(this,e);return n.isStaleByTime(dg(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Vn).catch(Vn)}fetchInfiniteQuery(t){return t.behavior=pE(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Vn).catch(Vn)}ensureInfiniteQueryData(t){return t.behavior=pE(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Wd.isOnline()?U(this,ks).resumePausedMutations():Promise.resolve()}getQueryCache(){return U(this,Ge)}getMutationCache(){return U(this,ks)}getDefaultOptions(){return U(this,Ns)}setDefaultOptions(t){de(this,Ns,t)}setQueryDefaults(t,e){U(this,ia).set(lc(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...U(this,ia).values()],n={};return e.forEach(r=>{cc(t,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(t,e){U(this,oa).set(lc(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...U(this,oa).values()],n={};return e.forEach(r=>{cc(t,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...U(this,Ns).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=dv(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===hv&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...U(this,Ns).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){U(this,Ge).clear(),U(this,ks).clear()}},Ge=new WeakMap,ks=new WeakMap,Ns=new WeakMap,ia=new WeakMap,oa=new WeakMap,Ds=new WeakMap,aa=new WeakMap,la=new WeakMap,Ox),QV=y.createContext(void 0),YV=({client:t,children:e})=>(y.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),f.jsx(QV.Provider,{value:t,children:e}));/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function qd(){return qd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},qd.apply(this,arguments)}var Ls;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Ls||(Ls={}));const gE="popstate";function XV(t){t===void 0&&(t={});function e(r,s){let{pathname:i,search:o,hash:a}=r.location;return fg("",{pathname:i,search:o,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:SI(s)}return ZV(e,n,null,t)}function Jt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function TI(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function JV(){return Math.random().toString(36).substr(2,8)}function yE(t,e){return{usr:t.state,key:t.key,idx:e}}function fg(t,e,n,r){return n===void 0&&(n=null),qd({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?tf(e):e,{state:n,key:e&&e.key||r||JV()})}function SI(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function tf(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function ZV(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,a=Ls.Pop,l=null,u=d();u==null&&(u=0,o.replaceState(qd({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function h(){a=Ls.Pop;let x=d(),v=x==null?null:x-u;u=x,l&&l({action:a,location:E.location,delta:v})}function p(x,v){a=Ls.Push;let _=fg(E.location,x,v);u=d()+1;let T=yE(_,u),P=E.createHref(_);try{o.pushState(T,"",P)}catch(M){if(M instanceof DOMException&&M.name==="DataCloneError")throw M;s.location.assign(P)}i&&l&&l({action:a,location:E.location,delta:1})}function g(x,v){a=Ls.Replace;let _=fg(E.location,x,v);u=d();let T=yE(_,u),P=E.createHref(_);o.replaceState(T,"",P),i&&l&&l({action:a,location:E.location,delta:0})}function S(x){let v=s.location.origin!=="null"?s.location.origin:s.location.href,_=typeof x=="string"?x:SI(x);return _=_.replace(/ $/,"%20"),Jt(v,"No window.location.(origin|href) available to create URL for href: "+_),new URL(_,v)}let E={get action(){return a},get location(){return t(s,o)},listen(x){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(gE,h),l=x,()=>{s.removeEventListener(gE,h),l=null}},createHref(x){return e(s,x)},createURL:S,encodeLocation(x){let v=S(x);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:p,replace:g,go(x){return o.go(x)}};return E}var vE;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(vE||(vE={}));function ej(t,e,n){return n===void 0&&(n="/"),tj(t,e,n,!1)}function tj(t,e,n,r){let s=typeof e=="string"?tf(e):e,i=CI(s.pathname||"/",n);if(i==null)return null;let o=bI(t);nj(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let u=fj(i);a=dj(o[l],u,r)}return a}function bI(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,o,a)=>{let l={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};l.relativePath.startsWith("/")&&(Jt(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=qo([r,l.relativePath]),d=n.concat(l);i.children&&i.children.length>0&&(Jt(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),bI(i.children,e,d,u)),!(i.path==null&&!i.index)&&e.push({path:u,score:cj(u,i.index),routesMeta:d})};return t.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let l of II(i.path))s(i,o,l)}),e}function II(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=II(r.join("/")),a=[];return a.push(...o.map(l=>l===""?i:[i,l].join("/"))),s&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function nj(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:uj(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const rj=/^:[\w-]+$/,sj=3,ij=2,oj=1,aj=10,lj=-2,wE=t=>t==="*";function cj(t,e){let n=t.split("/"),r=n.length;return n.some(wE)&&(r+=lj),e&&(r+=ij),n.filter(s=>!wE(s)).reduce((s,i)=>s+(rj.test(i)?sj:i===""?oj:aj),r)}function uj(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function dj(t,e,n){let{routesMeta:r}=t,s={},i="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],u=a===r.length-1,d=i==="/"?e:e.slice(i.length)||"/",h=_E({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},d),p=l.route;if(!h&&u&&n&&!r[r.length-1].route.index&&(h=_E({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},d)),!h)return null;Object.assign(s,h.params),o.push({params:s,pathname:qo([i,h.pathname]),pathnameBase:pj(qo([i,h.pathnameBase])),route:p}),h.pathnameBase!=="/"&&(i=qo([i,h.pathnameBase]))}return o}function _E(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=hj(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((u,d,h)=>{let{paramName:p,isOptional:g}=d;if(p==="*"){let E=a[h]||"";o=i.slice(0,i.length-E.length).replace(/(.)\/+$/,"$1")}const S=a[h];return g&&!S?u[p]=void 0:u[p]=(S||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:t}}function hj(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),TI(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function fj(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return TI(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function CI(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}const qo=t=>t.join("/").replace(/\/\/+/g,"/"),pj=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/");function mj(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const AI=["post","put","patch","delete"];new Set(AI);const gj=["get",...AI];new Set(gj);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Gd(){return Gd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Gd.apply(this,arguments)}const yj=y.createContext(null),vj=y.createContext(null),RI=y.createContext(null),nf=y.createContext(null),rf=y.createContext({outlet:null,matches:[],isDataRoute:!1}),PI=y.createContext(null);function fv(){return y.useContext(nf)!=null}function kI(){return fv()||Jt(!1),y.useContext(nf).location}function wj(t,e){return _j(t,e)}function _j(t,e,n,r){fv()||Jt(!1);let{navigator:s}=y.useContext(RI),{matches:i}=y.useContext(rf),o=i[i.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let u=kI(),d;if(e){var h;let x=typeof e=="string"?tf(e):e;l==="/"||(h=x.pathname)!=null&&h.startsWith(l)||Jt(!1),d=x}else d=u;let p=d.pathname||"/",g=p;if(l!=="/"){let x=l.replace(/^\//,"").split("/");g="/"+p.replace(/^\//,"").split("/").slice(x.length).join("/")}let S=ej(t,{pathname:g}),E=bj(S&&S.map(x=>Object.assign({},x,{params:Object.assign({},a,x.params),pathname:qo([l,s.encodeLocation?s.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?l:qo([l,s.encodeLocation?s.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),i,n,r);return e&&E?y.createElement(nf.Provider,{value:{location:Gd({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Ls.Pop}},E):E}function Ej(){let t=Rj(),e=mj(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return y.createElement(y.Fragment,null,y.createElement("h2",null,"Unexpected Application Error!"),y.createElement("h3",{style:{fontStyle:"italic"}},e),n?y.createElement("pre",{style:s},n):null,null)}const xj=y.createElement(Ej,null);class Tj extends y.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?y.createElement(rf.Provider,{value:this.props.routeContext},y.createElement(PI.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Sj(t){let{routeContext:e,match:n,children:r}=t,s=y.useContext(yj);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),y.createElement(rf.Provider,{value:e},r)}function bj(t,e,n,r){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var i;if(!n)return null;if(n.errors)t=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(s=n)==null?void 0:s.errors;if(a!=null){let d=o.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id])!==void 0);d>=0||Jt(!1),o=o.slice(0,Math.min(o.length,d+1))}let l=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<o.length;d++){let h=o[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=d),h.route.id){let{loaderData:p,errors:g}=n,S=h.route.loader&&p[h.route.id]===void 0&&(!g||g[h.route.id]===void 0);if(h.route.lazy||S){l=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,h,p)=>{let g,S=!1,E=null,x=null;n&&(g=a&&h.route.id?a[h.route.id]:void 0,E=h.route.errorElement||xj,l&&(u<0&&p===0?(S=!0,x=null):u===p&&(S=!0,x=h.route.hydrateFallbackElement||null)));let v=e.concat(o.slice(0,p+1)),_=()=>{let T;return g?T=E:S?T=x:h.route.Component?T=y.createElement(h.route.Component,null):h.route.element?T=h.route.element:T=d,y.createElement(Sj,{match:h,routeContext:{outlet:d,matches:v,isDataRoute:n!=null},children:T})};return n&&(h.route.ErrorBoundary||h.route.errorElement||p===0)?y.createElement(Tj,{location:n.location,revalidation:n.revalidation,component:E,error:g,children:_(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):_()},null)}var pg=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(pg||{});function Ij(t){let e=y.useContext(vj);return e||Jt(!1),e}function Cj(t){let e=y.useContext(rf);return e||Jt(!1),e}function Aj(t){let e=Cj(),n=e.matches[e.matches.length-1];return n.route.id||Jt(!1),n.route.id}function Rj(){var t;let e=y.useContext(PI),n=Ij(pg.UseRouteError),r=Aj(pg.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function Pj(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function mg(t){Jt(!1)}function kj(t){let{basename:e="/",children:n=null,location:r,navigationType:s=Ls.Pop,navigator:i,static:o=!1,future:a}=t;fv()&&Jt(!1);let l=e.replace(/^\/*/,"/"),u=y.useMemo(()=>({basename:l,navigator:i,static:o,future:Gd({v7_relativeSplatPath:!1},a)}),[l,a,i,o]);typeof r=="string"&&(r=tf(r));let{pathname:d="/",search:h="",hash:p="",state:g=null,key:S="default"}=r,E=y.useMemo(()=>{let x=CI(d,l);return x==null?null:{location:{pathname:x,search:h,hash:p,state:g,key:S},navigationType:s}},[l,d,h,p,g,S,s]);return E==null?null:y.createElement(RI.Provider,{value:u},y.createElement(nf.Provider,{children:n,value:E}))}function Nj(t){let{children:e,location:n}=t;return wj(gg(e),n)}new Promise(()=>{});function gg(t,e){e===void 0&&(e=[]);let n=[];return y.Children.forEach(t,(r,s)=>{if(!y.isValidElement(r))return;let i=[...e,s];if(r.type===y.Fragment){n.push.apply(n,gg(r.props.children,i));return}r.type!==mg&&Jt(!1),!r.props.index||!r.props.children||Jt(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=gg(r.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const Dj="6";try{window.__reactRouterVersion=Dj}catch{}const Mj="startTransition",EE=ny[Mj];function Oj(t){let{basename:e,children:n,future:r,window:s}=t,i=y.useRef();i.current==null&&(i.current=XV({window:s,v5Compat:!0}));let o=i.current,[a,l]=y.useState({action:o.action,location:o.location}),{v7_startTransition:u}=r||{},d=y.useCallback(h=>{u&&EE?EE(()=>l(h)):l(h)},[l,u]);return y.useLayoutEffect(()=>o.listen(d),[o,d]),y.useEffect(()=>Pj(r),[r]),y.createElement(kj,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}var xE;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(xE||(xE={}));var TE;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(TE||(TE={}));const Lj=()=>{};var SE={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NI=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},Vj=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],a=t[n++],l=((s&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},DI={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,a=o?t[s+1]:0,l=s+2<t.length,u=l?t[s+2]:0,d=i>>2,h=(i&3)<<4|a>>4;let p=(a&15)<<2|u>>6,g=u&63;l||(g=64,o||(p=64)),r.push(n[d],n[h],n[p],n[g])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(NI(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Vj(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const u=s<t.length?n[t.charAt(s)]:64;++s;const h=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||a==null||u==null||h==null)throw new jj;const p=i<<2|a>>4;if(r.push(p),u!==64){const g=a<<4&240|u>>2;if(r.push(g),h!==64){const S=u<<6&192|h;r.push(S)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class jj extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Fj=function(t){const e=NI(t);return DI.encodeByteArray(e,!0)},Kd=function(t){return Fj(t).replace(/\./g,"")},MI=function(t){try{return DI.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uj(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $j=()=>Uj().__FIREBASE_DEFAULTS__,Bj=()=>{if(typeof process>"u"||typeof SE>"u")return;const t=SE.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},zj=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&MI(t[1]);return e&&JSON.parse(e)},sf=()=>{try{return Lj()||$j()||Bj()||zj()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},OI=t=>{var e,n;return(n=(e=sf())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},Hj=t=>{const e=OI(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},LI=()=>{var t;return(t=sf())==null?void 0:t.config},VI=t=>{var e;return(e=sf())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wj{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ma(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function jI(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qj(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Kd(JSON.stringify(n)),Kd(JSON.stringify(o)),""].join(".")}const Ml={};function Gj(){const t={prod:[],emulator:[]};for(const e of Object.keys(Ml))Ml[e]?t.emulator.push(e):t.prod.push(e);return t}function Kj(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let bE=!1;function FI(t,e){if(typeof window>"u"||typeof document>"u"||!Ma(window.location.host)||Ml[t]===e||Ml[t]||bE)return;Ml[t]=e;function n(p){return`__firebase__banner__${p}`}const r="__firebase__banner",i=Gj().prod.length>0;function o(){const p=document.getElementById(r);p&&p.remove()}function a(p){p.style.display="flex",p.style.background="#7faaf0",p.style.position="fixed",p.style.bottom="5px",p.style.left="5px",p.style.padding=".5em",p.style.borderRadius="5px",p.style.alignItems="center"}function l(p,g){p.setAttribute("width","24"),p.setAttribute("id",g),p.setAttribute("height","24"),p.setAttribute("viewBox","0 0 24 24"),p.setAttribute("fill","none"),p.style.marginLeft="-6px"}function u(){const p=document.createElement("span");return p.style.cursor="pointer",p.style.marginLeft="16px",p.style.fontSize="24px",p.innerHTML=" &times;",p.onclick=()=>{bE=!0,o()},p}function d(p,g){p.setAttribute("id",g),p.innerText="Learn more",p.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",p.setAttribute("target","__blank"),p.style.paddingLeft="5px",p.style.textDecoration="underline"}function h(){const p=Kj(r),g=n("text"),S=document.getElementById(g)||document.createElement("span"),E=n("learnmore"),x=document.getElementById(E)||document.createElement("a"),v=n("preprendIcon"),_=document.getElementById(v)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(p.created){const T=p.element;a(T),d(x,E);const P=u();l(_,v),T.append(_,S,x,P),document.body.appendChild(T)}i?(S.innerText="Preview backend disconnected.",_.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(_.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,S.innerText="Preview backend running in this workspace."),S.setAttribute("id",g)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",h):h()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Qj(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Nt())}function Yj(){var e;const t=(e=sf())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Xj(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function pv(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Jj(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Zj(){const t=Nt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function eF(){return!Yj()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function mv(){try{return typeof indexedDB=="object"}catch{return!1}}function gv(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)==null?void 0:i.message)||"")}}catch(n){e(n)}})}function UI(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tF="FirebaseError";class Pn extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=tF,Object.setPrototypeOf(this,Pn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,so.prototype.create)}}class so{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?nF(i,r):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new Pn(s,a,r)}}function nF(t,e){return t.replace(rF,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const rF=/\{\$([^}]+)}/g;function sF(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function ti(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(IE(i)&&IE(o)){if(!ti(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function IE(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oc(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function iF(t,e){const n=new oF(t,e);return n.subscribe.bind(n)}class oF{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");aF(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=Vp),s.error===void 0&&(s.error=Vp),s.complete===void 0&&(s.complete=Vp);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function aF(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Vp(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lF=1e3,cF=2,uF=4*60*60*1e3,dF=.5;function CE(t,e=lF,n=cF){const r=e*Math.pow(n,t),s=Math.round(dF*r*(Math.random()-.5)*2);return Math.min(uF,r+s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gt(t){return t&&t._delegate?t._delegate:t}class Jn{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hF{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Wj;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(pF(e))try{this.getOrInitializeService({instanceIdentifier:xi})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=xi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=xi){return this.instances.has(e)}getOptions(e=xi){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&o.resolve(s)}return s}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),s=this.onInitCallbacks.get(r)??new Set;s.add(e),this.onInitCallbacks.set(r,s);const i=this.instances.get(r);return i&&e(i,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:fF(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=xi){return this.component?this.component.multipleInstances?e:xi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function fF(t){return t===xi?void 0:t}function pF(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mF{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new hF(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ye;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ye||(ye={}));const gF={debug:ye.DEBUG,verbose:ye.VERBOSE,info:ye.INFO,warn:ye.WARN,error:ye.ERROR,silent:ye.SILENT},yF=ye.INFO,vF={[ye.DEBUG]:"log",[ye.VERBOSE]:"log",[ye.INFO]:"info",[ye.WARN]:"warn",[ye.ERROR]:"error"},wF=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=vF[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class of{constructor(e){this.name=e,this._logLevel=yF,this._logHandler=wF,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ye))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?gF[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ye.DEBUG,...e),this._logHandler(this,ye.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ye.VERBOSE,...e),this._logHandler(this,ye.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ye.INFO,...e),this._logHandler(this,ye.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ye.WARN,...e),this._logHandler(this,ye.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ye.ERROR,...e),this._logHandler(this,ye.ERROR,...e)}}const _F=(t,e)=>e.some(n=>t instanceof n);let AE,RE;function EF(){return AE||(AE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function xF(){return RE||(RE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const $I=new WeakMap,yg=new WeakMap,BI=new WeakMap,jp=new WeakMap,yv=new WeakMap;function TF(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(qs(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&$I.set(n,t)}).catch(()=>{}),yv.set(e,t),e}function SF(t){if(yg.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});yg.set(t,e)}let vg={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return yg.get(t);if(e==="objectStoreNames")return t.objectStoreNames||BI.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return qs(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function bF(t){vg=t(vg)}function IF(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Fp(this),e,...n);return BI.set(r,e.sort?e.sort():[e]),qs(r)}:xF().includes(t)?function(...e){return t.apply(Fp(this),e),qs($I.get(this))}:function(...e){return qs(t.apply(Fp(this),e))}}function CF(t){return typeof t=="function"?IF(t):(t instanceof IDBTransaction&&SF(t),_F(t,EF())?new Proxy(t,vg):t)}function qs(t){if(t instanceof IDBRequest)return TF(t);if(jp.has(t))return jp.get(t);const e=CF(t);return e!==t&&(jp.set(t,e),yv.set(e,t)),e}const Fp=t=>yv.get(t);function zI(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),a=qs(o);return r&&o.addEventListener("upgradeneeded",l=>{r(qs(o.result),l.oldVersion,l.newVersion,qs(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{i&&l.addEventListener("close",()=>i()),s&&l.addEventListener("versionchange",u=>s(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const AF=["get","getKey","getAll","getAllKeys","count"],RF=["put","add","delete","clear"],Up=new Map;function PE(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Up.get(e))return Up.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=RF.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||AF.includes(n)))return;const i=async function(o,...a){const l=this.transaction(o,s?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),s&&l.done]))[0]};return Up.set(e,i),i}bF(t=>({...t,get:(e,n,r)=>PE(e,n)||t.get(e,n,r),has:(e,n)=>!!PE(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PF{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(kF(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function kF(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const wg="@firebase/app",kE="0.14.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const es=new of("@firebase/app"),NF="@firebase/app-compat",DF="@firebase/analytics-compat",MF="@firebase/analytics",OF="@firebase/app-check-compat",LF="@firebase/app-check",VF="@firebase/auth",jF="@firebase/auth-compat",FF="@firebase/database",UF="@firebase/data-connect",$F="@firebase/database-compat",BF="@firebase/functions",zF="@firebase/functions-compat",HF="@firebase/installations",WF="@firebase/installations-compat",qF="@firebase/messaging",GF="@firebase/messaging-compat",KF="@firebase/performance",QF="@firebase/performance-compat",YF="@firebase/remote-config",XF="@firebase/remote-config-compat",JF="@firebase/storage",ZF="@firebase/storage-compat",e3="@firebase/firestore",t3="@firebase/ai",n3="@firebase/firestore-compat",r3="firebase",s3="12.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _g="[DEFAULT]",i3={[wg]:"fire-core",[NF]:"fire-core-compat",[MF]:"fire-analytics",[DF]:"fire-analytics-compat",[LF]:"fire-app-check",[OF]:"fire-app-check-compat",[VF]:"fire-auth",[jF]:"fire-auth-compat",[FF]:"fire-rtdb",[UF]:"fire-data-connect",[$F]:"fire-rtdb-compat",[BF]:"fire-fn",[zF]:"fire-fn-compat",[HF]:"fire-iid",[WF]:"fire-iid-compat",[qF]:"fire-fcm",[GF]:"fire-fcm-compat",[KF]:"fire-perf",[QF]:"fire-perf-compat",[YF]:"fire-rc",[XF]:"fire-rc-compat",[JF]:"fire-gcs",[ZF]:"fire-gcs-compat",[e3]:"fire-fst",[n3]:"fire-fst-compat",[t3]:"fire-vertex","fire-js":"fire-js",[r3]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qd=new Map,o3=new Map,Eg=new Map;function NE(t,e){try{t.container.addComponent(e)}catch(n){es.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Cr(t){const e=t.name;if(Eg.has(e))return es.debug(`There were multiple attempts to register component ${e}.`),!1;Eg.set(e,t);for(const n of Qd.values())NE(n,t);for(const n of o3.values())NE(n,t);return!0}function io(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function En(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a3={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Gs=new so("app","Firebase",a3);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l3{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Jn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Gs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oa=s3;function HI(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:_g,automaticDataCollectionEnabled:!0,...e},s=r.name;if(typeof s!="string"||!s)throw Gs.create("bad-app-name",{appName:String(s)});if(n||(n=LI()),!n)throw Gs.create("no-options");const i=Qd.get(s);if(i){if(ti(n,i.options)&&ti(r,i.config))return i;throw Gs.create("duplicate-app",{appName:s})}const o=new mF(s);for(const l of Eg.values())o.addComponent(l);const a=new l3(n,r,o);return Qd.set(s,a),a}function vv(t=_g){const e=Qd.get(t);if(!e&&t===_g&&LI())return HI();if(!e)throw Gs.create("no-app",{appName:t});return e}function In(t,e,n){let r=i3[t]??t;n&&(r+=`-${n}`);const s=r.match(/\s|\//),i=e.match(/\s|\//);if(s||i){const o=[`Unable to register library "${r}" with version "${e}":`];s&&o.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&i&&o.push("and"),i&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),es.warn(o.join(" "));return}Cr(new Jn(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c3="firebase-heartbeat-database",u3=1,uc="firebase-heartbeat-store";let $p=null;function WI(){return $p||($p=zI(c3,u3,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(uc)}catch(n){console.warn(n)}}}}).catch(t=>{throw Gs.create("idb-open",{originalErrorMessage:t.message})})),$p}async function d3(t){try{const n=(await WI()).transaction(uc),r=await n.objectStore(uc).get(qI(t));return await n.done,r}catch(e){if(e instanceof Pn)es.warn(e.message);else{const n=Gs.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});es.warn(n.message)}}}async function DE(t,e){try{const r=(await WI()).transaction(uc,"readwrite");await r.objectStore(uc).put(e,qI(t)),await r.done}catch(n){if(n instanceof Pn)es.warn(n.message);else{const r=Gs.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});es.warn(r.message)}}}function qI(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h3=1024,f3=30;class p3{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new g3(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=ME();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats.length>f3){const o=y3(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){es.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=ME(),{heartbeatsToSend:r,unsentEntries:s}=m3(this._heartbeatsCache.heartbeats),i=Kd(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return es.warn(n),""}}}function ME(){return new Date().toISOString().substring(0,10)}function m3(t,e=h3){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),OE(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),OE(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class g3{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return mv()?gv().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await d3(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return DE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return DE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function OE(t){return Kd(JSON.stringify({version:2,heartbeats:t})).length}function y3(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v3(t){Cr(new Jn("platform-logger",e=>new PF(e),"PRIVATE")),Cr(new Jn("heartbeat",e=>new p3(e),"PRIVATE")),In(wg,kE,t),In(wg,kE,"esm2020"),In("fire-js","")}v3("");var LE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ks,GI;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(I,b){function C(){}C.prototype=b.prototype,I.F=b.prototype,I.prototype=new C,I.prototype.constructor=I,I.D=function(R,N,D){for(var k=Array(arguments.length-2),H=2;H<arguments.length;H++)k[H-2]=arguments[H];return b.prototype[N].apply(R,k)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(I,b,C){C||(C=0);const R=Array(16);if(typeof b=="string")for(var N=0;N<16;++N)R[N]=b.charCodeAt(C++)|b.charCodeAt(C++)<<8|b.charCodeAt(C++)<<16|b.charCodeAt(C++)<<24;else for(N=0;N<16;++N)R[N]=b[C++]|b[C++]<<8|b[C++]<<16|b[C++]<<24;b=I.g[0],C=I.g[1],N=I.g[2];let D=I.g[3],k;k=b+(D^C&(N^D))+R[0]+3614090360&4294967295,b=C+(k<<7&4294967295|k>>>25),k=D+(N^b&(C^N))+R[1]+3905402710&4294967295,D=b+(k<<12&4294967295|k>>>20),k=N+(C^D&(b^C))+R[2]+606105819&4294967295,N=D+(k<<17&4294967295|k>>>15),k=C+(b^N&(D^b))+R[3]+3250441966&4294967295,C=N+(k<<22&4294967295|k>>>10),k=b+(D^C&(N^D))+R[4]+4118548399&4294967295,b=C+(k<<7&4294967295|k>>>25),k=D+(N^b&(C^N))+R[5]+1200080426&4294967295,D=b+(k<<12&4294967295|k>>>20),k=N+(C^D&(b^C))+R[6]+2821735955&4294967295,N=D+(k<<17&4294967295|k>>>15),k=C+(b^N&(D^b))+R[7]+4249261313&4294967295,C=N+(k<<22&4294967295|k>>>10),k=b+(D^C&(N^D))+R[8]+1770035416&4294967295,b=C+(k<<7&4294967295|k>>>25),k=D+(N^b&(C^N))+R[9]+2336552879&4294967295,D=b+(k<<12&4294967295|k>>>20),k=N+(C^D&(b^C))+R[10]+4294925233&4294967295,N=D+(k<<17&4294967295|k>>>15),k=C+(b^N&(D^b))+R[11]+2304563134&4294967295,C=N+(k<<22&4294967295|k>>>10),k=b+(D^C&(N^D))+R[12]+1804603682&4294967295,b=C+(k<<7&4294967295|k>>>25),k=D+(N^b&(C^N))+R[13]+4254626195&4294967295,D=b+(k<<12&4294967295|k>>>20),k=N+(C^D&(b^C))+R[14]+2792965006&4294967295,N=D+(k<<17&4294967295|k>>>15),k=C+(b^N&(D^b))+R[15]+1236535329&4294967295,C=N+(k<<22&4294967295|k>>>10),k=b+(N^D&(C^N))+R[1]+4129170786&4294967295,b=C+(k<<5&4294967295|k>>>27),k=D+(C^N&(b^C))+R[6]+3225465664&4294967295,D=b+(k<<9&4294967295|k>>>23),k=N+(b^C&(D^b))+R[11]+643717713&4294967295,N=D+(k<<14&4294967295|k>>>18),k=C+(D^b&(N^D))+R[0]+3921069994&4294967295,C=N+(k<<20&4294967295|k>>>12),k=b+(N^D&(C^N))+R[5]+3593408605&4294967295,b=C+(k<<5&4294967295|k>>>27),k=D+(C^N&(b^C))+R[10]+38016083&4294967295,D=b+(k<<9&4294967295|k>>>23),k=N+(b^C&(D^b))+R[15]+3634488961&4294967295,N=D+(k<<14&4294967295|k>>>18),k=C+(D^b&(N^D))+R[4]+3889429448&4294967295,C=N+(k<<20&4294967295|k>>>12),k=b+(N^D&(C^N))+R[9]+568446438&4294967295,b=C+(k<<5&4294967295|k>>>27),k=D+(C^N&(b^C))+R[14]+3275163606&4294967295,D=b+(k<<9&4294967295|k>>>23),k=N+(b^C&(D^b))+R[3]+4107603335&4294967295,N=D+(k<<14&4294967295|k>>>18),k=C+(D^b&(N^D))+R[8]+1163531501&4294967295,C=N+(k<<20&4294967295|k>>>12),k=b+(N^D&(C^N))+R[13]+2850285829&4294967295,b=C+(k<<5&4294967295|k>>>27),k=D+(C^N&(b^C))+R[2]+4243563512&4294967295,D=b+(k<<9&4294967295|k>>>23),k=N+(b^C&(D^b))+R[7]+1735328473&4294967295,N=D+(k<<14&4294967295|k>>>18),k=C+(D^b&(N^D))+R[12]+2368359562&4294967295,C=N+(k<<20&4294967295|k>>>12),k=b+(C^N^D)+R[5]+4294588738&4294967295,b=C+(k<<4&4294967295|k>>>28),k=D+(b^C^N)+R[8]+2272392833&4294967295,D=b+(k<<11&4294967295|k>>>21),k=N+(D^b^C)+R[11]+1839030562&4294967295,N=D+(k<<16&4294967295|k>>>16),k=C+(N^D^b)+R[14]+4259657740&4294967295,C=N+(k<<23&4294967295|k>>>9),k=b+(C^N^D)+R[1]+2763975236&4294967295,b=C+(k<<4&4294967295|k>>>28),k=D+(b^C^N)+R[4]+1272893353&4294967295,D=b+(k<<11&4294967295|k>>>21),k=N+(D^b^C)+R[7]+4139469664&4294967295,N=D+(k<<16&4294967295|k>>>16),k=C+(N^D^b)+R[10]+3200236656&4294967295,C=N+(k<<23&4294967295|k>>>9),k=b+(C^N^D)+R[13]+681279174&4294967295,b=C+(k<<4&4294967295|k>>>28),k=D+(b^C^N)+R[0]+3936430074&4294967295,D=b+(k<<11&4294967295|k>>>21),k=N+(D^b^C)+R[3]+3572445317&4294967295,N=D+(k<<16&4294967295|k>>>16),k=C+(N^D^b)+R[6]+76029189&4294967295,C=N+(k<<23&4294967295|k>>>9),k=b+(C^N^D)+R[9]+3654602809&4294967295,b=C+(k<<4&4294967295|k>>>28),k=D+(b^C^N)+R[12]+3873151461&4294967295,D=b+(k<<11&4294967295|k>>>21),k=N+(D^b^C)+R[15]+530742520&4294967295,N=D+(k<<16&4294967295|k>>>16),k=C+(N^D^b)+R[2]+3299628645&4294967295,C=N+(k<<23&4294967295|k>>>9),k=b+(N^(C|~D))+R[0]+4096336452&4294967295,b=C+(k<<6&4294967295|k>>>26),k=D+(C^(b|~N))+R[7]+1126891415&4294967295,D=b+(k<<10&4294967295|k>>>22),k=N+(b^(D|~C))+R[14]+2878612391&4294967295,N=D+(k<<15&4294967295|k>>>17),k=C+(D^(N|~b))+R[5]+4237533241&4294967295,C=N+(k<<21&4294967295|k>>>11),k=b+(N^(C|~D))+R[12]+1700485571&4294967295,b=C+(k<<6&4294967295|k>>>26),k=D+(C^(b|~N))+R[3]+2399980690&4294967295,D=b+(k<<10&4294967295|k>>>22),k=N+(b^(D|~C))+R[10]+4293915773&4294967295,N=D+(k<<15&4294967295|k>>>17),k=C+(D^(N|~b))+R[1]+2240044497&4294967295,C=N+(k<<21&4294967295|k>>>11),k=b+(N^(C|~D))+R[8]+1873313359&4294967295,b=C+(k<<6&4294967295|k>>>26),k=D+(C^(b|~N))+R[15]+4264355552&4294967295,D=b+(k<<10&4294967295|k>>>22),k=N+(b^(D|~C))+R[6]+2734768916&4294967295,N=D+(k<<15&4294967295|k>>>17),k=C+(D^(N|~b))+R[13]+1309151649&4294967295,C=N+(k<<21&4294967295|k>>>11),k=b+(N^(C|~D))+R[4]+4149444226&4294967295,b=C+(k<<6&4294967295|k>>>26),k=D+(C^(b|~N))+R[11]+3174756917&4294967295,D=b+(k<<10&4294967295|k>>>22),k=N+(b^(D|~C))+R[2]+718787259&4294967295,N=D+(k<<15&4294967295|k>>>17),k=C+(D^(N|~b))+R[9]+3951481745&4294967295,I.g[0]=I.g[0]+b&4294967295,I.g[1]=I.g[1]+(N+(k<<21&4294967295|k>>>11))&4294967295,I.g[2]=I.g[2]+N&4294967295,I.g[3]=I.g[3]+D&4294967295}r.prototype.v=function(I,b){b===void 0&&(b=I.length);const C=b-this.blockSize,R=this.C;let N=this.h,D=0;for(;D<b;){if(N==0)for(;D<=C;)s(this,I,D),D+=this.blockSize;if(typeof I=="string"){for(;D<b;)if(R[N++]=I.charCodeAt(D++),N==this.blockSize){s(this,R),N=0;break}}else for(;D<b;)if(R[N++]=I[D++],N==this.blockSize){s(this,R),N=0;break}}this.h=N,this.o+=b},r.prototype.A=function(){var I=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);I[0]=128;for(var b=1;b<I.length-8;++b)I[b]=0;b=this.o*8;for(var C=I.length-8;C<I.length;++C)I[C]=b&255,b/=256;for(this.v(I),I=Array(16),b=0,C=0;C<4;++C)for(let R=0;R<32;R+=8)I[b++]=this.g[C]>>>R&255;return I};function i(I,b){var C=a;return Object.prototype.hasOwnProperty.call(C,I)?C[I]:C[I]=b(I)}function o(I,b){this.h=b;const C=[];let R=!0;for(let N=I.length-1;N>=0;N--){const D=I[N]|0;R&&D==b||(C[N]=D,R=!1)}this.g=C}var a={};function l(I){return-128<=I&&I<128?i(I,function(b){return new o([b|0],b<0?-1:0)}):new o([I|0],I<0?-1:0)}function u(I){if(isNaN(I)||!isFinite(I))return h;if(I<0)return x(u(-I));const b=[];let C=1;for(let R=0;I>=C;R++)b[R]=I/C|0,C*=4294967296;return new o(b,0)}function d(I,b){if(I.length==0)throw Error("number format error: empty string");if(b=b||10,b<2||36<b)throw Error("radix out of range: "+b);if(I.charAt(0)=="-")return x(d(I.substring(1),b));if(I.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=u(Math.pow(b,8));let R=h;for(let D=0;D<I.length;D+=8){var N=Math.min(8,I.length-D);const k=parseInt(I.substring(D,D+N),b);N<8?(N=u(Math.pow(b,N)),R=R.j(N).add(u(k))):(R=R.j(C),R=R.add(u(k)))}return R}var h=l(0),p=l(1),g=l(16777216);t=o.prototype,t.m=function(){if(E(this))return-x(this).m();let I=0,b=1;for(let C=0;C<this.g.length;C++){const R=this.i(C);I+=(R>=0?R:4294967296+R)*b,b*=4294967296}return I},t.toString=function(I){if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(S(this))return"0";if(E(this))return"-"+x(this).toString(I);const b=u(Math.pow(I,6));var C=this;let R="";for(;;){const N=P(C,b).g;C=v(C,N.j(b));let D=((C.g.length>0?C.g[0]:C.h)>>>0).toString(I);if(C=N,S(C))return D+R;for(;D.length<6;)D="0"+D;R=D+R}},t.i=function(I){return I<0?0:I<this.g.length?this.g[I]:this.h};function S(I){if(I.h!=0)return!1;for(let b=0;b<I.g.length;b++)if(I.g[b]!=0)return!1;return!0}function E(I){return I.h==-1}t.l=function(I){return I=v(this,I),E(I)?-1:S(I)?0:1};function x(I){const b=I.g.length,C=[];for(let R=0;R<b;R++)C[R]=~I.g[R];return new o(C,~I.h).add(p)}t.abs=function(){return E(this)?x(this):this},t.add=function(I){const b=Math.max(this.g.length,I.g.length),C=[];let R=0;for(let N=0;N<=b;N++){let D=R+(this.i(N)&65535)+(I.i(N)&65535),k=(D>>>16)+(this.i(N)>>>16)+(I.i(N)>>>16);R=k>>>16,D&=65535,k&=65535,C[N]=k<<16|D}return new o(C,C[C.length-1]&-2147483648?-1:0)};function v(I,b){return I.add(x(b))}t.j=function(I){if(S(this)||S(I))return h;if(E(this))return E(I)?x(this).j(x(I)):x(x(this).j(I));if(E(I))return x(this.j(x(I)));if(this.l(g)<0&&I.l(g)<0)return u(this.m()*I.m());const b=this.g.length+I.g.length,C=[];for(var R=0;R<2*b;R++)C[R]=0;for(R=0;R<this.g.length;R++)for(let N=0;N<I.g.length;N++){const D=this.i(R)>>>16,k=this.i(R)&65535,H=I.i(N)>>>16,se=I.i(N)&65535;C[2*R+2*N]+=k*se,_(C,2*R+2*N),C[2*R+2*N+1]+=D*se,_(C,2*R+2*N+1),C[2*R+2*N+1]+=k*H,_(C,2*R+2*N+1),C[2*R+2*N+2]+=D*H,_(C,2*R+2*N+2)}for(I=0;I<b;I++)C[I]=C[2*I+1]<<16|C[2*I];for(I=b;I<2*b;I++)C[I]=0;return new o(C,0)};function _(I,b){for(;(I[b]&65535)!=I[b];)I[b+1]+=I[b]>>>16,I[b]&=65535,b++}function T(I,b){this.g=I,this.h=b}function P(I,b){if(S(b))throw Error("division by zero");if(S(I))return new T(h,h);if(E(I))return b=P(x(I),b),new T(x(b.g),x(b.h));if(E(b))return b=P(I,x(b)),new T(x(b.g),b.h);if(I.g.length>30){if(E(I)||E(b))throw Error("slowDivide_ only works with positive integers.");for(var C=p,R=b;R.l(I)<=0;)C=M(C),R=M(R);var N=O(C,1),D=O(R,1);for(R=O(R,2),C=O(C,2);!S(R);){var k=D.add(R);k.l(I)<=0&&(N=N.add(C),D=k),R=O(R,1),C=O(C,1)}return b=v(I,N.j(b)),new T(N,b)}for(N=h;I.l(b)>=0;){for(C=Math.max(1,Math.floor(I.m()/b.m())),R=Math.ceil(Math.log(C)/Math.LN2),R=R<=48?1:Math.pow(2,R-48),D=u(C),k=D.j(b);E(k)||k.l(I)>0;)C-=R,D=u(C),k=D.j(b);S(D)&&(D=p),N=N.add(D),I=v(I,k)}return new T(N,I)}t.B=function(I){return P(this,I).h},t.and=function(I){const b=Math.max(this.g.length,I.g.length),C=[];for(let R=0;R<b;R++)C[R]=this.i(R)&I.i(R);return new o(C,this.h&I.h)},t.or=function(I){const b=Math.max(this.g.length,I.g.length),C=[];for(let R=0;R<b;R++)C[R]=this.i(R)|I.i(R);return new o(C,this.h|I.h)},t.xor=function(I){const b=Math.max(this.g.length,I.g.length),C=[];for(let R=0;R<b;R++)C[R]=this.i(R)^I.i(R);return new o(C,this.h^I.h)};function M(I){const b=I.g.length+1,C=[];for(let R=0;R<b;R++)C[R]=I.i(R)<<1|I.i(R-1)>>>31;return new o(C,I.h)}function O(I,b){const C=b>>5;b%=32;const R=I.g.length-C,N=[];for(let D=0;D<R;D++)N[D]=b>0?I.i(D+C)>>>b|I.i(D+C+1)<<32-b:I.i(D+C);return new o(N,I.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,GI=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.B,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=d,Ks=o}).apply(typeof LE<"u"?LE:typeof self<"u"?self:typeof window<"u"?window:{});var Ru=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var KI,wl,QI,rd,xg,YI,XI,JI;(function(){var t,e=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ru=="object"&&Ru];for(var m=0;m<c.length;++m){var w=c[m];if(w&&w.Math==Math)return w}throw Error("Cannot find global object")}var r=n(this);function s(c,m){if(m)e:{var w=r;c=c.split(".");for(var A=0;A<c.length-1;A++){var L=c[A];if(!(L in w))break e;w=w[L]}c=c[c.length-1],A=w[c],m=m(A),m!=A&&m!=null&&e(w,c,{configurable:!0,writable:!0,value:m})}}s("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),s("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),s("Object.entries",function(c){return c||function(m){var w=[],A;for(A in m)Object.prototype.hasOwnProperty.call(m,A)&&w.push([A,m[A]]);return w}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var i=i||{},o=this||self;function a(c){var m=typeof c;return m=="object"&&c!=null||m=="function"}function l(c,m,w){return c.call.apply(c.bind,arguments)}function u(c,m,w){return u=l,u.apply(null,arguments)}function d(c,m){var w=Array.prototype.slice.call(arguments,1);return function(){var A=w.slice();return A.push.apply(A,arguments),c.apply(this,A)}}function h(c,m){function w(){}w.prototype=m.prototype,c.Z=m.prototype,c.prototype=new w,c.prototype.constructor=c,c.Ob=function(A,L,j){for(var G=Array(arguments.length-2),pe=2;pe<arguments.length;pe++)G[pe-2]=arguments[pe];return m.prototype[L].apply(A,G)}}var p=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function g(c){const m=c.length;if(m>0){const w=Array(m);for(let A=0;A<m;A++)w[A]=c[A];return w}return[]}function S(c,m){for(let A=1;A<arguments.length;A++){const L=arguments[A];var w=typeof L;if(w=w!="object"?w:L?Array.isArray(L)?"array":w:"null",w=="array"||w=="object"&&typeof L.length=="number"){w=c.length||0;const j=L.length||0;c.length=w+j;for(let G=0;G<j;G++)c[w+G]=L[G]}else c.push(L)}}class E{constructor(m,w){this.i=m,this.j=w,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function x(c){o.setTimeout(()=>{throw c},0)}function v(){var c=I;let m=null;return c.g&&(m=c.g,c.g=c.g.next,c.g||(c.h=null),m.next=null),m}class _{constructor(){this.h=this.g=null}add(m,w){const A=T.get();A.set(m,w),this.h?this.h.next=A:this.g=A,this.h=A}}var T=new E(()=>new P,c=>c.reset());class P{constructor(){this.next=this.g=this.h=null}set(m,w){this.h=m,this.g=w,this.next=null}reset(){this.next=this.g=this.h=null}}let M,O=!1,I=new _,b=()=>{const c=Promise.resolve(void 0);M=()=>{c.then(C)}};function C(){for(var c;c=v();){try{c.h.call(c.g)}catch(w){x(w)}var m=T;m.j(c),m.h<100&&(m.h++,c.next=m.g,m.g=c)}O=!1}function R(){this.u=this.u,this.C=this.C}R.prototype.u=!1,R.prototype.dispose=function(){this.u||(this.u=!0,this.N())},R.prototype[Symbol.dispose]=function(){this.dispose()},R.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function N(c,m){this.type=c,this.g=this.target=m,this.defaultPrevented=!1}N.prototype.h=function(){this.defaultPrevented=!0};var D=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var c=!1,m=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const w=()=>{};o.addEventListener("test",w,m),o.removeEventListener("test",w,m)}catch{}return c}();function k(c){return/^[\s\xa0]*$/.test(c)}function H(c,m){N.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,m)}h(H,N),H.prototype.init=function(c,m){const w=this.type=c.type,A=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=m,m=c.relatedTarget,m||(w=="mouseover"?m=c.fromElement:w=="mouseout"&&(m=c.toElement)),this.relatedTarget=m,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&H.Z.h.call(this)},H.prototype.h=function(){H.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var se="closure_listenable_"+(Math.random()*1e6|0),Z=0;function oe(c,m,w,A,L){this.listener=c,this.proxy=null,this.src=m,this.type=w,this.capture=!!A,this.ha=L,this.key=++Z,this.da=this.fa=!1}function F(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function V(c,m,w){for(const A in c)m.call(w,c[A],A,c)}function q(c,m){for(const w in c)m.call(void 0,c[w],w,c)}function ee(c){const m={};for(const w in c)m[w]=c[w];return m}const X="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ce(c,m){let w,A;for(let L=1;L<arguments.length;L++){A=arguments[L];for(w in A)c[w]=A[w];for(let j=0;j<X.length;j++)w=X[j],Object.prototype.hasOwnProperty.call(A,w)&&(c[w]=A[w])}}function ae(c){this.src=c,this.g={},this.h=0}ae.prototype.add=function(c,m,w,A,L){const j=c.toString();c=this.g[j],c||(c=this.g[j]=[],this.h++);const G=Ne(c,m,A,L);return G>-1?(m=c[G],w||(m.fa=!1)):(m=new oe(m,this.src,j,!!A,L),m.fa=w,c.push(m)),m};function Pe(c,m){const w=m.type;if(w in c.g){var A=c.g[w],L=Array.prototype.indexOf.call(A,m,void 0),j;(j=L>=0)&&Array.prototype.splice.call(A,L,1),j&&(F(m),c.g[w].length==0&&(delete c.g[w],c.h--))}}function Ne(c,m,w,A){for(let L=0;L<c.length;++L){const j=c[L];if(!j.da&&j.listener==m&&j.capture==!!w&&j.ha==A)return L}return-1}var he="closure_lm_"+(Math.random()*1e6|0),en={};function Qe(c,m,w,A,L){if(Array.isArray(m)){for(let j=0;j<m.length;j++)Qe(c,m[j],w,A,L);return null}return w=ls(w),c&&c[se]?c.J(m,w,a(A)?!!A.capture:!!A,L):mn(c,m,w,!1,A,L)}function mn(c,m,w,A,L,j){if(!m)throw Error("Invalid event type");const G=a(L)?!!L.capture:!!L;let pe=as(c);if(pe||(c[he]=pe=new ae(c)),w=pe.add(m,w,A,G,j),w.proxy)return w;if(A=nr(),w.proxy=A,A.src=c,A.listener=w,c.addEventListener)D||(L=G),L===void 0&&(L=!1),c.addEventListener(m.toString(),A,L);else if(c.attachEvent)c.attachEvent(hi(m.toString()),A);else if(c.addListener&&c.removeListener)c.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return w}function nr(){function c(w){return m.call(c.src,c.listener,w)}const m=za;return c}function Nr(c,m,w,A,L){if(Array.isArray(m))for(var j=0;j<m.length;j++)Nr(c,m[j],w,A,L);else A=a(A)?!!A.capture:!!A,w=ls(w),c&&c[se]?(c=c.i,j=String(m).toString(),j in c.g&&(m=c.g[j],w=Ne(m,w,A,L),w>-1&&(F(m[w]),Array.prototype.splice.call(m,w,1),m.length==0&&(delete c.g[j],c.h--)))):c&&(c=as(c))&&(m=c.g[m.toString()],c=-1,m&&(c=Ne(m,w,A,L)),(w=c>-1?m[c]:null)&&gn(w))}function gn(c){if(typeof c!="number"&&c&&!c.da){var m=c.src;if(m&&m[se])Pe(m.i,c);else{var w=c.type,A=c.proxy;m.removeEventListener?m.removeEventListener(w,A,c.capture):m.detachEvent?m.detachEvent(hi(w),A):m.addListener&&m.removeListener&&m.removeListener(A),(w=as(m))?(Pe(w,c),w.h==0&&(w.src=null,m[he]=null)):F(c)}}}function hi(c){return c in en?en[c]:en[c]="on"+c}function za(c,m){if(c.da)c=!0;else{m=new H(m,this);const w=c.listener,A=c.ha||c.src;c.fa&&gn(c),c=w.call(A,m)}return c}function as(c){return c=c[he],c instanceof ae?c:null}var fi="__closure_events_fn_"+(Math.random()*1e9>>>0);function ls(c){return typeof c=="function"?c:(c[fi]||(c[fi]=function(m){return c.handleEvent(m)}),c[fi])}function $e(){R.call(this),this.i=new ae(this),this.M=this,this.G=null}h($e,R),$e.prototype[se]=!0,$e.prototype.removeEventListener=function(c,m,w,A){Nr(this,c,m,w,A)};function ut(c,m){var w,A=c.G;if(A)for(w=[];A;A=A.G)w.push(A);if(c=c.M,A=m.type||m,typeof m=="string")m=new N(m,c);else if(m instanceof N)m.target=m.target||c;else{var L=m;m=new N(A,c),ce(m,L)}L=!0;let j,G;if(w)for(G=w.length-1;G>=0;G--)j=m.g=w[G],L=rr(j,A,!0,m)&&L;if(j=m.g=c,L=rr(j,A,!0,m)&&L,L=rr(j,A,!1,m)&&L,w)for(G=0;G<w.length;G++)j=m.g=w[G],L=rr(j,A,!1,m)&&L}$e.prototype.N=function(){if($e.Z.N.call(this),this.i){var c=this.i;for(const m in c.g){const w=c.g[m];for(let A=0;A<w.length;A++)F(w[A]);delete c.g[m],c.h--}}this.G=null},$e.prototype.J=function(c,m,w,A){return this.i.add(String(c),m,!1,w,A)},$e.prototype.K=function(c,m,w,A){return this.i.add(String(c),m,!0,w,A)};function rr(c,m,w,A){if(m=c.i.g[String(m)],!m)return!0;m=m.concat();let L=!0;for(let j=0;j<m.length;++j){const G=m[j];if(G&&!G.da&&G.capture==w){const pe=G.listener,ot=G.ha||G.src;G.fa&&Pe(c.i,G),L=pe.call(ot,A)!==!1&&L}}return L&&!A.defaultPrevented}function Gc(c,m){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=u(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:o.setTimeout(c,m||0)}function sr(c){c.g=Gc(()=>{c.g=null,c.i&&(c.i=!1,sr(c))},c.l);const m=c.h;c.h=null,c.m.apply(null,m)}class Ff extends R{constructor(m,w){super(),this.m=m,this.l=w,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:sr(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function pi(c){R.call(this),this.h=c,this.g={}}h(pi,R);var Dt=[];function Dr(c){V(c.g,function(m,w){this.g.hasOwnProperty(w)&&gn(m)},c),c.g={}}pi.prototype.N=function(){pi.Z.N.call(this),Dr(this)},pi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ha=o.JSON.stringify,Uf=o.JSON.parse,fo=class{stringify(c){return o.JSON.stringify(c,void 0)}parse(c){return o.JSON.parse(c,void 0)}};function Kc(){}function Wa(){}var Mr={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function ir(){N.call(this,"d")}h(ir,N);function po(){N.call(this,"c")}h(po,N);var zt={},Qc=null;function mo(){return Qc=Qc||new $e}zt.Ia="serverreachability";function qa(c){N.call(this,zt.Ia,c)}h(qa,N);function cs(c){const m=mo();ut(m,new qa(m))}zt.STAT_EVENT="statevent";function Yc(c,m){N.call(this,zt.STAT_EVENT,c),this.stat=m}h(Yc,N);function it(c){const m=mo();ut(m,new Yc(m,c))}zt.Ja="timingevent";function Nn(c,m){N.call(this,zt.Ja,c),this.size=m}h(Nn,N);function mi(c,m){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){c()},m)}function ne(){this.g=!0}ne.prototype.ua=function(){this.g=!1};function be(c,m,w,A,L,j){c.info(function(){if(c.g)if(j){var G="",pe=j.split("&");for(let ke=0;ke<pe.length;ke++){var ot=pe[ke].split("=");if(ot.length>1){const ht=ot[0];ot=ot[1];const lr=ht.split("_");G=lr.length>=2&&lr[1]=="type"?G+(ht+"="+ot+"&"):G+(ht+"=redacted&")}}}else G=null;else G=j;return"XMLHTTP REQ ("+A+") [attempt "+L+"]: "+m+`
`+w+`
`+G})}function De(c,m,w,A,L,j,G){c.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+L+"]: "+m+`
`+w+`
`+j+" "+G})}function dt(c,m,w,A){c.info(function(){return"XMLHTTP TEXT ("+m+"): "+or(c,w)+(A?" "+A:"")})}function tn(c,m){c.info(function(){return"TIMEOUT: "+m})}ne.prototype.info=function(){};function or(c,m){if(!c.g)return m;if(!m)return null;try{const j=JSON.parse(m);if(j){for(c=0;c<j.length;c++)if(Array.isArray(j[c])){var w=j[c];if(!(w.length<2)){var A=w[1];if(Array.isArray(A)&&!(A.length<1)){var L=A[0];if(L!="noop"&&L!="stop"&&L!="close")for(let G=1;G<A.length;G++)A[G]=""}}}}return Ha(j)}catch{return m}}var yn={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Ht={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Dn;function $f(){}h($f,Kc),$f.prototype.g=function(){return new XMLHttpRequest},Dn=new $f;function Ga(c){return encodeURIComponent(String(c))}function uN(c){var m=1;c=c.split(":");const w=[];for(;m>0&&c.length;)w.push(c.shift()),m--;return c.length&&w.push(c.join(":")),w}function us(c,m,w,A){this.j=c,this.i=m,this.l=w,this.S=A||1,this.V=new pi(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Gw}function Gw(){this.i=null,this.g="",this.h=!1}var Kw={},Bf={};function zf(c,m,w){c.M=1,c.A=Jc(ar(m)),c.u=w,c.R=!0,Qw(c,null)}function Qw(c,m){c.F=Date.now(),Xc(c),c.B=ar(c.A);var w=c.B,A=c.S;Array.isArray(A)||(A=[String(A)]),l0(w.i,"t",A),c.C=0,w=c.j.L,c.h=new Gw,c.g=I0(c.j,w?m:null,!c.u),c.P>0&&(c.O=new Ff(u(c.Y,c,c.g),c.P)),m=c.V,w=c.g,A=c.ba;var L="readystatechange";Array.isArray(L)||(L&&(Dt[0]=L.toString()),L=Dt);for(let j=0;j<L.length;j++){const G=Qe(w,L[j],A||m.handleEvent,!1,m.h||m);if(!G)break;m.g[G.key]=G}m=c.J?ee(c.J):{},c.u?(c.v||(c.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,m)):(c.v="GET",c.g.ea(c.B,c.v,null,m)),cs(),be(c.i,c.v,c.B,c.l,c.S,c.u)}us.prototype.ba=function(c){c=c.target;const m=this.O;m&&fs(c)==3?m.j():this.Y(c)},us.prototype.Y=function(c){try{if(c==this.g)e:{const pe=fs(this.g),ot=this.g.ya(),ke=this.g.ca();if(!(pe<3)&&(pe!=3||this.g&&(this.h.h||this.g.la()||m0(this.g)))){this.K||pe!=4||ot==7||(ot==8||ke<=0?cs(3):cs(2)),Hf(this);var m=this.g.ca();this.X=m;var w=dN(this);if(this.o=m==200,De(this.i,this.v,this.B,this.l,this.S,pe,m),this.o){if(this.U&&!this.L){t:{if(this.g){var A,L=this.g;if((A=L.g?L.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!k(A)){var j=A;break t}}j=null}if(c=j)dt(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Wf(this,c);else{this.o=!1,this.m=3,it(12),gi(this),Ka(this);break e}}if(this.R){c=!0;let ht;for(;!this.K&&this.C<w.length;)if(ht=hN(this,w),ht==Bf){pe==4&&(this.m=4,it(14),c=!1),dt(this.i,this.l,null,"[Incomplete Response]");break}else if(ht==Kw){this.m=4,it(15),dt(this.i,this.l,w,"[Invalid Chunk]"),c=!1;break}else dt(this.i,this.l,ht,null),Wf(this,ht);if(Yw(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),pe!=4||w.length!=0||this.h.h||(this.m=1,it(16),c=!1),this.o=this.o&&c,!c)dt(this.i,this.l,w,"[Invalid Chunked Response]"),gi(this),Ka(this);else if(w.length>0&&!this.W){this.W=!0;var G=this.j;G.g==this&&G.aa&&!G.P&&(G.j.info("Great, no buffering proxy detected. Bytes received: "+w.length),Zf(G),G.P=!0,it(11))}}else dt(this.i,this.l,w,null),Wf(this,w);pe==4&&gi(this),this.o&&!this.K&&(pe==4?x0(this.j,this):(this.o=!1,Xc(this)))}else IN(this.g),m==400&&w.indexOf("Unknown SID")>0?(this.m=3,it(12)):(this.m=0,it(13)),gi(this),Ka(this)}}}catch{}finally{}};function dN(c){if(!Yw(c))return c.g.la();const m=m0(c.g);if(m==="")return"";let w="";const A=m.length,L=fs(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return gi(c),Ka(c),"";c.h.i=new o.TextDecoder}for(let j=0;j<A;j++)c.h.h=!0,w+=c.h.i.decode(m[j],{stream:!(L&&j==A-1)});return m.length=0,c.h.g+=w,c.C=0,c.h.g}function Yw(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function hN(c,m){var w=c.C,A=m.indexOf(`
`,w);return A==-1?Bf:(w=Number(m.substring(w,A)),isNaN(w)?Kw:(A+=1,A+w>m.length?Bf:(m=m.slice(A,A+w),c.C=A+w,m)))}us.prototype.cancel=function(){this.K=!0,gi(this)};function Xc(c){c.T=Date.now()+c.H,Xw(c,c.H)}function Xw(c,m){if(c.D!=null)throw Error("WatchDog timer not null");c.D=mi(u(c.aa,c),m)}function Hf(c){c.D&&(o.clearTimeout(c.D),c.D=null)}us.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(tn(this.i,this.B),this.M!=2&&(cs(),it(17)),gi(this),this.m=2,Ka(this)):Xw(this,this.T-c)};function Ka(c){c.j.I==0||c.K||x0(c.j,c)}function gi(c){Hf(c);var m=c.O;m&&typeof m.dispose=="function"&&m.dispose(),c.O=null,Dr(c.V),c.g&&(m=c.g,c.g=null,m.abort(),m.dispose())}function Wf(c,m){try{var w=c.j;if(w.I!=0&&(w.g==c||qf(w.h,c))){if(!c.L&&qf(w.h,c)&&w.I==3){try{var A=w.Ba.g.parse(m)}catch{A=null}if(Array.isArray(A)&&A.length==3){var L=A;if(L[0]==0){e:if(!w.v){if(w.g)if(w.g.F+3e3<c.F)ru(w),tu(w);else break e;Jf(w),it(18)}}else w.xa=L[1],0<w.xa-w.K&&L[2]<37500&&w.F&&w.A==0&&!w.C&&(w.C=mi(u(w.Va,w),6e3));e0(w.h)<=1&&w.ta&&(w.ta=void 0)}else vi(w,11)}else if((c.L||w.g==c)&&ru(w),!k(m))for(L=w.Ba.g.parse(m),m=0;m<L.length;m++){let ke=L[m];const ht=ke[0];if(!(ht<=w.K))if(w.K=ht,ke=ke[1],w.I==2)if(ke[0]=="c"){w.M=ke[1],w.ba=ke[2];const lr=ke[3];lr!=null&&(w.ka=lr,w.j.info("VER="+w.ka));const wi=ke[4];wi!=null&&(w.za=wi,w.j.info("SVER="+w.za));const ps=ke[5];ps!=null&&typeof ps=="number"&&ps>0&&(A=1.5*ps,w.O=A,w.j.info("backChannelRequestTimeoutMs_="+A)),A=w;const ms=c.g;if(ms){const iu=ms.g?ms.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(iu){var j=A.h;j.g||iu.indexOf("spdy")==-1&&iu.indexOf("quic")==-1&&iu.indexOf("h2")==-1||(j.j=j.l,j.g=new Set,j.h&&(Gf(j,j.h),j.h=null))}if(A.G){const ep=ms.g?ms.g.getResponseHeader("X-HTTP-Session-Id"):null;ep&&(A.wa=ep,Le(A.J,A.G,ep))}}w.I=3,w.l&&w.l.ra(),w.aa&&(w.T=Date.now()-c.F,w.j.info("Handshake RTT: "+w.T+"ms")),A=w;var G=c;if(A.na=b0(A,A.L?A.ba:null,A.W),G.L){t0(A.h,G);var pe=G,ot=A.O;ot&&(pe.H=ot),pe.D&&(Hf(pe),Xc(pe)),A.g=G}else _0(A);w.i.length>0&&nu(w)}else ke[0]!="stop"&&ke[0]!="close"||vi(w,7);else w.I==3&&(ke[0]=="stop"||ke[0]=="close"?ke[0]=="stop"?vi(w,7):Xf(w):ke[0]!="noop"&&w.l&&w.l.qa(ke),w.A=0)}}cs(4)}catch{}}var fN=class{constructor(c,m){this.g=c,this.map=m}};function Jw(c){this.l=c||10,o.PerformanceNavigationTiming?(c=o.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Zw(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function e0(c){return c.h?1:c.g?c.g.size:0}function qf(c,m){return c.h?c.h==m:c.g?c.g.has(m):!1}function Gf(c,m){c.g?c.g.add(m):c.h=m}function t0(c,m){c.h&&c.h==m?c.h=null:c.g&&c.g.has(m)&&c.g.delete(m)}Jw.prototype.cancel=function(){if(this.i=n0(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function n0(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let m=c.i;for(const w of c.g.values())m=m.concat(w.G);return m}return g(c.i)}var r0=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function pN(c,m){if(c){c=c.split("&");for(let w=0;w<c.length;w++){const A=c[w].indexOf("=");let L,j=null;A>=0?(L=c[w].substring(0,A),j=c[w].substring(A+1)):L=c[w],m(L,j?decodeURIComponent(j.replace(/\+/g," ")):"")}}}function ds(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;c instanceof ds?(this.l=c.l,Qa(this,c.j),this.o=c.o,this.g=c.g,Ya(this,c.u),this.h=c.h,Kf(this,c0(c.i)),this.m=c.m):c&&(m=String(c).match(r0))?(this.l=!1,Qa(this,m[1]||"",!0),this.o=Xa(m[2]||""),this.g=Xa(m[3]||"",!0),Ya(this,m[4]),this.h=Xa(m[5]||"",!0),Kf(this,m[6]||"",!0),this.m=Xa(m[7]||"")):(this.l=!1,this.i=new Za(null,this.l))}ds.prototype.toString=function(){const c=[];var m=this.j;m&&c.push(Ja(m,s0,!0),":");var w=this.g;return(w||m=="file")&&(c.push("//"),(m=this.o)&&c.push(Ja(m,s0,!0),"@"),c.push(Ga(w).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),w=this.u,w!=null&&c.push(":",String(w))),(w=this.h)&&(this.g&&w.charAt(0)!="/"&&c.push("/"),c.push(Ja(w,w.charAt(0)=="/"?yN:gN,!0))),(w=this.i.toString())&&c.push("?",w),(w=this.m)&&c.push("#",Ja(w,wN)),c.join("")},ds.prototype.resolve=function(c){const m=ar(this);let w=!!c.j;w?Qa(m,c.j):w=!!c.o,w?m.o=c.o:w=!!c.g,w?m.g=c.g:w=c.u!=null;var A=c.h;if(w)Ya(m,c.u);else if(w=!!c.h){if(A.charAt(0)!="/")if(this.g&&!this.h)A="/"+A;else{var L=m.h.lastIndexOf("/");L!=-1&&(A=m.h.slice(0,L+1)+A)}if(L=A,L==".."||L==".")A="";else if(L.indexOf("./")!=-1||L.indexOf("/.")!=-1){A=L.lastIndexOf("/",0)==0,L=L.split("/");const j=[];for(let G=0;G<L.length;){const pe=L[G++];pe=="."?A&&G==L.length&&j.push(""):pe==".."?((j.length>1||j.length==1&&j[0]!="")&&j.pop(),A&&G==L.length&&j.push("")):(j.push(pe),A=!0)}A=j.join("/")}else A=L}return w?m.h=A:w=c.i.toString()!=="",w?Kf(m,c0(c.i)):w=!!c.m,w&&(m.m=c.m),m};function ar(c){return new ds(c)}function Qa(c,m,w){c.j=w?Xa(m,!0):m,c.j&&(c.j=c.j.replace(/:$/,""))}function Ya(c,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);c.u=m}else c.u=null}function Kf(c,m,w){m instanceof Za?(c.i=m,_N(c.i,c.l)):(w||(m=Ja(m,vN)),c.i=new Za(m,c.l))}function Le(c,m,w){c.i.set(m,w)}function Jc(c){return Le(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function Xa(c,m){return c?m?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Ja(c,m,w){return typeof c=="string"?(c=encodeURI(c).replace(m,mN),w&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function mN(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var s0=/[#\/\?@]/g,gN=/[#\?:]/g,yN=/[#\?]/g,vN=/[#\?@]/g,wN=/#/g;function Za(c,m){this.h=this.g=null,this.i=c||null,this.j=!!m}function yi(c){c.g||(c.g=new Map,c.h=0,c.i&&pN(c.i,function(m,w){c.add(decodeURIComponent(m.replace(/\+/g," ")),w)}))}t=Za.prototype,t.add=function(c,m){yi(this),this.i=null,c=go(this,c);let w=this.g.get(c);return w||this.g.set(c,w=[]),w.push(m),this.h+=1,this};function i0(c,m){yi(c),m=go(c,m),c.g.has(m)&&(c.i=null,c.h-=c.g.get(m).length,c.g.delete(m))}function o0(c,m){return yi(c),m=go(c,m),c.g.has(m)}t.forEach=function(c,m){yi(this),this.g.forEach(function(w,A){w.forEach(function(L){c.call(m,L,A,this)},this)},this)};function a0(c,m){yi(c);let w=[];if(typeof m=="string")o0(c,m)&&(w=w.concat(c.g.get(go(c,m))));else for(c=Array.from(c.g.values()),m=0;m<c.length;m++)w=w.concat(c[m]);return w}t.set=function(c,m){return yi(this),this.i=null,c=go(this,c),o0(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[m]),this.h+=1,this},t.get=function(c,m){return c?(c=a0(this,c),c.length>0?String(c[0]):m):m};function l0(c,m,w){i0(c,m),w.length>0&&(c.i=null,c.g.set(go(c,m),g(w)),c.h+=w.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],m=Array.from(this.g.keys());for(let A=0;A<m.length;A++){var w=m[A];const L=Ga(w);w=a0(this,w);for(let j=0;j<w.length;j++){let G=L;w[j]!==""&&(G+="="+Ga(w[j])),c.push(G)}}return this.i=c.join("&")};function c0(c){const m=new Za;return m.i=c.i,c.g&&(m.g=new Map(c.g),m.h=c.h),m}function go(c,m){return m=String(m),c.j&&(m=m.toLowerCase()),m}function _N(c,m){m&&!c.j&&(yi(c),c.i=null,c.g.forEach(function(w,A){const L=A.toLowerCase();A!=L&&(i0(this,A),l0(this,L,w))},c)),c.j=m}function EN(c,m){const w=new ne;if(o.Image){const A=new Image;A.onload=d(hs,w,"TestLoadImage: loaded",!0,m,A),A.onerror=d(hs,w,"TestLoadImage: error",!1,m,A),A.onabort=d(hs,w,"TestLoadImage: abort",!1,m,A),A.ontimeout=d(hs,w,"TestLoadImage: timeout",!1,m,A),o.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=c}else m(!1)}function xN(c,m){const w=new ne,A=new AbortController,L=setTimeout(()=>{A.abort(),hs(w,"TestPingServer: timeout",!1,m)},1e4);fetch(c,{signal:A.signal}).then(j=>{clearTimeout(L),j.ok?hs(w,"TestPingServer: ok",!0,m):hs(w,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(L),hs(w,"TestPingServer: error",!1,m)})}function hs(c,m,w,A,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),A(w)}catch{}}function TN(){this.g=new fo}function Qf(c){this.i=c.Sb||null,this.h=c.ab||!1}h(Qf,Kc),Qf.prototype.g=function(){return new Zc(this.i,this.h)};function Zc(c,m){$e.call(this),this.H=c,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}h(Zc,$e),t=Zc.prototype,t.open=function(c,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=m,this.readyState=1,tl(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(m.body=c),(this.H||o).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,el(this)),this.readyState=0},t.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,tl(this)),this.g&&(this.readyState=3,tl(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;u0(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function u0(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}t.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var m=c.value?c.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!c.done}))&&(this.response=this.responseText+=m)}c.done?el(this):tl(this),this.readyState==3&&u0(this)}},t.Oa=function(c){this.g&&(this.response=this.responseText=c,el(this))},t.Na=function(c){this.g&&(this.response=c,el(this))},t.ga=function(){this.g&&el(this)};function el(c){c.readyState=4,c.l=null,c.j=null,c.B=null,tl(c)}t.setRequestHeader=function(c,m){this.A.append(c,m)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],m=this.h.entries();for(var w=m.next();!w.done;)w=w.value,c.push(w[0]+": "+w[1]),w=m.next();return c.join(`\r
`)};function tl(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Zc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function d0(c){let m="";return V(c,function(w,A){m+=A,m+=":",m+=w,m+=`\r
`}),m}function Yf(c,m,w){e:{for(A in w){var A=!1;break e}A=!0}A||(w=d0(w),typeof c=="string"?w!=null&&Ga(w):Le(c,m,w))}function qe(c){$e.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}h(qe,$e);var SN=/^https?$/i,bN=["POST","PUT"];t=qe.prototype,t.Fa=function(c){this.H=c},t.ea=function(c,m,w,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);m=m?m.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Dn.g(),this.g.onreadystatechange=p(u(this.Ca,this));try{this.B=!0,this.g.open(m,String(c),!0),this.B=!1}catch(j){h0(this,j);return}if(c=w||"",w=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var L in A)w.set(L,A[L]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const j of A.keys())w.set(j,A.get(j));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(w.keys()).find(j=>j.toLowerCase()=="content-type"),L=o.FormData&&c instanceof o.FormData,!(Array.prototype.indexOf.call(bN,m,void 0)>=0)||A||L||w.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[j,G]of w)this.g.setRequestHeader(j,G);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(j){h0(this,j)}};function h0(c,m){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=m,c.o=5,f0(c),eu(c)}function f0(c){c.A||(c.A=!0,ut(c,"complete"),ut(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,ut(this,"complete"),ut(this,"abort"),eu(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),eu(this,!0)),qe.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?p0(this):this.Xa())},t.Xa=function(){p0(this)};function p0(c){if(c.h&&typeof i<"u"){if(c.v&&fs(c)==4)setTimeout(c.Ca.bind(c),0);else if(ut(c,"readystatechange"),fs(c)==4){c.h=!1;try{const j=c.ca();e:switch(j){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var w;if(!(w=m)){var A;if(A=j===0){let G=String(c.D).match(r0)[1]||null;!G&&o.self&&o.self.location&&(G=o.self.location.protocol.slice(0,-1)),A=!SN.test(G?G.toLowerCase():"")}w=A}if(w)ut(c,"complete"),ut(c,"success");else{c.o=6;try{var L=fs(c)>2?c.g.statusText:""}catch{L=""}c.l=L+" ["+c.ca()+"]",f0(c)}}finally{eu(c)}}}}function eu(c,m){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const w=c.g;c.g=null,m||ut(c,"ready");try{w.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function fs(c){return c.g?c.g.readyState:0}t.ca=function(){try{return fs(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(c){if(this.g){var m=this.g.responseText;return c&&m.indexOf(c)==0&&(m=m.substring(c.length)),Uf(m)}};function m0(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function IN(c){const m={};c=(c.g&&fs(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<c.length;A++){if(k(c[A]))continue;var w=uN(c[A]);const L=w[0];if(w=w[1],typeof w!="string")continue;w=w.trim();const j=m[L]||[];m[L]=j,j.push(w)}q(m,function(A){return A.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function nl(c,m,w){return w&&w.internalChannelParams&&w.internalChannelParams[c]||m}function g0(c){this.za=0,this.i=[],this.j=new ne,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=nl("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=nl("baseRetryDelayMs",5e3,c),this.Za=nl("retryDelaySeedMs",1e4,c),this.Ta=nl("forwardChannelMaxRetries",2,c),this.va=nl("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new Jw(c&&c.concurrentRequestLimit),this.Ba=new TN,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=g0.prototype,t.ka=8,t.I=1,t.connect=function(c,m,w,A){it(0),this.W=c,this.H=m||{},w&&A!==void 0&&(this.H.OSID=w,this.H.OAID=A),this.F=this.X,this.J=b0(this,null,this.W),nu(this)};function Xf(c){if(y0(c),c.I==3){var m=c.V++,w=ar(c.J);if(Le(w,"SID",c.M),Le(w,"RID",m),Le(w,"TYPE","terminate"),rl(c,w),m=new us(c,c.j,m),m.M=2,m.A=Jc(ar(w)),w=!1,o.navigator&&o.navigator.sendBeacon)try{w=o.navigator.sendBeacon(m.A.toString(),"")}catch{}!w&&o.Image&&(new Image().src=m.A,w=!0),w||(m.g=I0(m.j,null),m.g.ea(m.A)),m.F=Date.now(),Xc(m)}S0(c)}function tu(c){c.g&&(Zf(c),c.g.cancel(),c.g=null)}function y0(c){tu(c),c.v&&(o.clearTimeout(c.v),c.v=null),ru(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&o.clearTimeout(c.m),c.m=null)}function nu(c){if(!Zw(c.h)&&!c.m){c.m=!0;var m=c.Ea;M||b(),O||(M(),O=!0),I.add(m,c),c.D=0}}function CN(c,m){return e0(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=m.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=mi(u(c.Ea,c,m),T0(c,c.D)),c.D++,!0)}t.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const L=new us(this,this.j,c);let j=this.o;if(this.U&&(j?(j=ee(j),ce(j,this.U)):j=this.U),this.u!==null||this.R||(L.J=j,j=null),this.S)e:{for(var m=0,w=0;w<this.i.length;w++){t:{var A=this.i[w];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(m+=A,m>4096){m=w;break e}if(m===4096||w===this.i.length-1){m=w+1;break e}}m=1e3}else m=1e3;m=w0(this,L,m),w=ar(this.J),Le(w,"RID",c),Le(w,"CVER",22),this.G&&Le(w,"X-HTTP-Session-Id",this.G),rl(this,w),j&&(this.R?m="headers="+Ga(d0(j))+"&"+m:this.u&&Yf(w,this.u,j)),Gf(this.h,L),this.Ra&&Le(w,"TYPE","init"),this.S?(Le(w,"$req",m),Le(w,"SID","null"),L.U=!0,zf(L,w,null)):zf(L,w,m),this.I=2}}else this.I==3&&(c?v0(this,c):this.i.length==0||Zw(this.h)||v0(this))};function v0(c,m){var w;m?w=m.l:w=c.V++;const A=ar(c.J);Le(A,"SID",c.M),Le(A,"RID",w),Le(A,"AID",c.K),rl(c,A),c.u&&c.o&&Yf(A,c.u,c.o),w=new us(c,c.j,w,c.D+1),c.u===null&&(w.J=c.o),m&&(c.i=m.G.concat(c.i)),m=w0(c,w,1e3),w.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),Gf(c.h,w),zf(w,A,m)}function rl(c,m){c.H&&V(c.H,function(w,A){Le(m,A,w)}),c.l&&V({},function(w,A){Le(m,A,w)})}function w0(c,m,w){w=Math.min(c.i.length,w);const A=c.l?u(c.l.Ka,c.l,c):null;e:{var L=c.i;let pe=-1;for(;;){const ot=["count="+w];pe==-1?w>0?(pe=L[0].g,ot.push("ofs="+pe)):pe=0:ot.push("ofs="+pe);let ke=!0;for(let ht=0;ht<w;ht++){var j=L[ht].g;const lr=L[ht].map;if(j-=pe,j<0)pe=Math.max(0,L[ht].g-100),ke=!1;else try{j="req"+j+"_"||"";try{var G=lr instanceof Map?lr:Object.entries(lr);for(const[wi,ps]of G){let ms=ps;a(ps)&&(ms=Ha(ps)),ot.push(j+wi+"="+encodeURIComponent(ms))}}catch(wi){throw ot.push(j+"type="+encodeURIComponent("_badmap")),wi}}catch{A&&A(lr)}}if(ke){G=ot.join("&");break e}}G=void 0}return c=c.i.splice(0,w),m.G=c,G}function _0(c){if(!c.g&&!c.v){c.Y=1;var m=c.Da;M||b(),O||(M(),O=!0),I.add(m,c),c.A=0}}function Jf(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=mi(u(c.Da,c),T0(c,c.A)),c.A++,!0)}t.Da=function(){if(this.v=null,E0(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=mi(u(this.Wa,this),c)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,it(10),tu(this),E0(this))};function Zf(c){c.B!=null&&(o.clearTimeout(c.B),c.B=null)}function E0(c){c.g=new us(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var m=ar(c.na);Le(m,"RID","rpc"),Le(m,"SID",c.M),Le(m,"AID",c.K),Le(m,"CI",c.F?"0":"1"),!c.F&&c.ia&&Le(m,"TO",c.ia),Le(m,"TYPE","xmlhttp"),rl(c,m),c.u&&c.o&&Yf(m,c.u,c.o),c.O&&(c.g.H=c.O);var w=c.g;c=c.ba,w.M=1,w.A=Jc(ar(m)),w.u=null,w.R=!0,Qw(w,c)}t.Va=function(){this.C!=null&&(this.C=null,tu(this),Jf(this),it(19))};function ru(c){c.C!=null&&(o.clearTimeout(c.C),c.C=null)}function x0(c,m){var w=null;if(c.g==m){ru(c),Zf(c),c.g=null;var A=2}else if(qf(c.h,m))w=m.G,t0(c.h,m),A=1;else return;if(c.I!=0){if(m.o)if(A==1){w=m.u?m.u.length:0,m=Date.now()-m.F;var L=c.D;A=mo(),ut(A,new Nn(A,w)),nu(c)}else _0(c);else if(L=m.m,L==3||L==0&&m.X>0||!(A==1&&CN(c,m)||A==2&&Jf(c)))switch(w&&w.length>0&&(m=c.h,m.i=m.i.concat(w)),L){case 1:vi(c,5);break;case 4:vi(c,10);break;case 3:vi(c,6);break;default:vi(c,2)}}}function T0(c,m){let w=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(w*=2),w*m}function vi(c,m){if(c.j.info("Error code "+m),m==2){var w=u(c.bb,c),A=c.Ua;const L=!A;A=new ds(A||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||Qa(A,"https"),Jc(A),L?EN(A.toString(),w):xN(A.toString(),w)}else it(2);c.I=0,c.l&&c.l.pa(m),S0(c),y0(c)}t.bb=function(c){c?(this.j.info("Successfully pinged google.com"),it(2)):(this.j.info("Failed to ping google.com"),it(1))};function S0(c){if(c.I=0,c.ja=[],c.l){const m=n0(c.h);(m.length!=0||c.i.length!=0)&&(S(c.ja,m),S(c.ja,c.i),c.h.i.length=0,g(c.i),c.i.length=0),c.l.oa()}}function b0(c,m,w){var A=w instanceof ds?ar(w):new ds(w);if(A.g!="")m&&(A.g=m+"."+A.g),Ya(A,A.u);else{var L=o.location;A=L.protocol,m=m?m+"."+L.hostname:L.hostname,L=+L.port;const j=new ds(null);A&&Qa(j,A),m&&(j.g=m),L&&Ya(j,L),w&&(j.h=w),A=j}return w=c.G,m=c.wa,w&&m&&Le(A,w,m),Le(A,"VER",c.ka),rl(c,A),A}function I0(c,m,w){if(m&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=c.Aa&&!c.ma?new qe(new Qf({ab:w})):new qe(c.ma),m.Fa(c.L),m}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function C0(){}t=C0.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function su(){}su.prototype.g=function(c,m){return new nn(c,m)};function nn(c,m){$e.call(this),this.g=new g0(m),this.l=c,this.h=m&&m.messageUrlParams||null,c=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(c?c["X-WebChannel-Content-Type"]=m.messageContentType:c={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(c?c["X-WebChannel-Client-Profile"]=m.sa:c={"X-WebChannel-Client-Profile":m.sa}),this.g.U=c,(c=m&&m.Qb)&&!k(c)&&(this.g.u=c),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!k(m)&&(this.g.G=m,c=this.h,c!==null&&m in c&&(c=this.h,m in c&&delete c[m])),this.j=new yo(this)}h(nn,$e),nn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},nn.prototype.close=function(){Xf(this.g)},nn.prototype.o=function(c){var m=this.g;if(typeof c=="string"){var w={};w.__data__=c,c=w}else this.v&&(w={},w.__data__=Ha(c),c=w);m.i.push(new fN(m.Ya++,c)),m.I==3&&nu(m)},nn.prototype.N=function(){this.g.l=null,delete this.j,Xf(this.g),delete this.g,nn.Z.N.call(this)};function A0(c){ir.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var m=c.__sm__;if(m){e:{for(const w in m){c=w;break e}c=void 0}(this.i=c)&&(c=this.i,m=m!==null&&c in m?m[c]:void 0),this.data=m}else this.data=c}h(A0,ir);function R0(){po.call(this),this.status=1}h(R0,po);function yo(c){this.g=c}h(yo,C0),yo.prototype.ra=function(){ut(this.g,"a")},yo.prototype.qa=function(c){ut(this.g,new A0(c))},yo.prototype.pa=function(c){ut(this.g,new R0)},yo.prototype.oa=function(){ut(this.g,"b")},su.prototype.createWebChannel=su.prototype.g,nn.prototype.send=nn.prototype.o,nn.prototype.open=nn.prototype.m,nn.prototype.close=nn.prototype.close,JI=function(){return new su},XI=function(){return mo()},YI=zt,xg={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},yn.NO_ERROR=0,yn.TIMEOUT=8,yn.HTTP_ERROR=6,rd=yn,Ht.COMPLETE="complete",QI=Ht,Wa.EventType=Mr,Mr.OPEN="a",Mr.CLOSE="b",Mr.ERROR="c",Mr.MESSAGE="d",$e.prototype.listen=$e.prototype.J,wl=Wa,qe.prototype.listenOnce=qe.prototype.K,qe.prototype.getLastError=qe.prototype.Ha,qe.prototype.getLastErrorCode=qe.prototype.ya,qe.prototype.getStatus=qe.prototype.ca,qe.prototype.getResponseJson=qe.prototype.La,qe.prototype.getResponseText=qe.prototype.la,qe.prototype.send=qe.prototype.ea,qe.prototype.setWithCredentials=qe.prototype.Fa,KI=qe}).apply(typeof Ru<"u"?Ru:typeof self<"u"?self:typeof window<"u"?window:{});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class At{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}At.UNAUTHENTICATED=new At(null),At.GOOGLE_CREDENTIALS=new At("google-credentials-uid"),At.FIRST_PARTY=new At("first-party-uid"),At.MOCK_USER=new At("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let La="12.9.0";function w3(t){La=t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ki=new of("@firebase/firestore");function xo(){return Ki.logLevel}function Q(t,...e){if(Ki.logLevel<=ye.DEBUG){const n=e.map(wv);Ki.debug(`Firestore (${La}): ${t}`,...n)}}function ts(t,...e){if(Ki.logLevel<=ye.ERROR){const n=e.map(wv);Ki.error(`Firestore (${La}): ${t}`,...n)}}function Qi(t,...e){if(Ki.logLevel<=ye.WARN){const n=e.map(wv);Ki.warn(`Firestore (${La}): ${t}`,...n)}}function wv(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function re(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,ZI(t,r,n)}function ZI(t,e,n){let r=`FIRESTORE (${La}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw ts(r),new Error(r)}function Ie(t,e,n,r){let s="Unexpected state";typeof n=="string"?s=n:r=n,t||ZI(e,s,r)}function ue(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class K extends Pn{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eC{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class _3{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(At.UNAUTHENTICATED))}shutdown(){}}class E3{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class x3{constructor(e){this.t=e,this.currentUser=At.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ie(this.o===void 0,42304);let r=this.i;const s=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let i=new Gr;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Gr,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const l=i;e.enqueueRetryable(async()=>{await l.promise,await s(this.currentUser)})},a=l=>{Q("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(Q("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Gr)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Q("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ie(typeof r.accessToken=="string",31837,{l:r}),new eC(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ie(e===null||typeof e=="string",2055,{h:e}),new At(e)}}class T3{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=At.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class S3{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new T3(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(At.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class VE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class b3{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,En(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Ie(this.o===void 0,3512);const r=i=>{i.error!=null&&Q("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.m;return this.m=i.token,Q("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{Q("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.V.getImmediate({optional:!0});i?s(i):Q("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new VE(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ie(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new VE(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I3(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _v{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=I3(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%62))}return r}}function ve(t,e){return t<e?-1:t>e?1:0}function Tg(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const s=t.charAt(r),i=e.charAt(r);if(s!==i)return Bp(s)===Bp(i)?ve(s,i):Bp(s)?1:-1}return ve(t.length,e.length)}const C3=55296,A3=57343;function Bp(t){const e=t.charCodeAt(0);return e>=C3&&e<=A3}function _a(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jE="__name__";class dr{constructor(e,n,r){n===void 0?n=0:n>e.length&&re(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&re(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return dr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof dr?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=dr.compareSegments(e.get(s),n.get(s));if(i!==0)return i}return ve(e.length,n.length)}static compareSegments(e,n){const r=dr.isNumericId(e),s=dr.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?dr.extractNumericId(e).compare(dr.extractNumericId(n)):Tg(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ks.fromString(e.substring(4,e.length-2))}}class Me extends dr{construct(e,n,r){return new Me(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new K($.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new Me(n)}static emptyPath(){return new Me([])}}const R3=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class wt extends dr{construct(e,n,r){return new wt(e,n,r)}static isValidIdentifier(e){return R3.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),wt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===jE}static keyField(){return new wt([jE])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new K($.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const a=e[s];if(a==="\\"){if(s+1===e.length)throw new K($.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[s+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new K($.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,s+=2}else a==="`"?(o=!o,s++):a!=="."||o?(r+=a,s++):(i(),s++)}if(i(),o)throw new K($.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new wt(n)}static emptyPath(){return new wt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class te{constructor(e){this.path=e}static fromPath(e){return new te(Me.fromString(e))}static fromName(e){return new te(Me.fromString(e).popFirst(5))}static empty(){return new te(Me.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Me.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Me.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new te(new Me(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tC(t,e,n){if(!n)throw new K($.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function P3(t,e,n,r){if(e===!0&&r===!0)throw new K($.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function FE(t){if(!te.isDocumentKey(t))throw new K($.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function UE(t){if(te.isDocumentKey(t))throw new K($.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function nC(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function af(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":re(12329,{type:typeof t})}function qn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new K($.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=af(t);throw new K($.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function st(t,e){const n={typeString:t};return e&&(n.value=e),n}function Lc(t,e){if(!nC(t))throw new K($.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const s=e[r].typeString,i="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const o=t[r];if(s&&typeof o!==s){n=`JSON field '${r}' must be a ${s}.`;break}if(i!==void 0&&o!==i.value){n=`Expected '${r}' field to equal '${i.value}'`;break}}if(n)throw new K($.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $E=-62135596800,BE=1e6;class Ce{static now(){return Ce.fromMillis(Date.now())}static fromDate(e){return Ce.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*BE);return new Ce(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new K($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new K($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<$E)throw new K($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new K($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/BE}_compareTo(e){return this.seconds===e.seconds?ve(this.nanoseconds,e.nanoseconds):ve(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Ce._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Lc(e,Ce._jsonSchema))return new Ce(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-$E;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Ce._jsonSchemaVersion="firestore/timestamp/1.0",Ce._jsonSchema={type:st("string",Ce._jsonSchemaVersion),seconds:st("number"),nanoseconds:st("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class le{static fromTimestamp(e){return new le(e)}static min(){return new le(new Ce(0,0))}static max(){return new le(new Ce(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dc=-1;function k3(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=le.fromTimestamp(r===1e9?new Ce(n+1,0):new Ce(n,r));return new ni(s,te.empty(),e)}function N3(t){return new ni(t.readTime,t.key,dc)}class ni{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new ni(le.min(),te.empty(),dc)}static max(){return new ni(le.max(),te.empty(),dc)}}function D3(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=te.comparator(t.documentKey,e.documentKey),n!==0?n:ve(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M3="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class O3{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Va(t){if(t.code!==$.FAILED_PRECONDITION||t.message!==M3)throw t;Q("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&re(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new B((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof B?n:B.resolve(n)}catch(n){return B.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):B.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):B.reject(n)}static resolve(e){return new B((n,r)=>{n(e)})}static reject(e){return new B((n,r)=>{r(e)})}static waitFor(e){return new B((n,r)=>{let s=0,i=0,o=!1;e.forEach(a=>{++s,a.next(()=>{++i,o&&i===s&&n()},l=>r(l))}),o=!0,i===s&&n()})}static or(e){let n=B.resolve(!1);for(const r of e)n=n.next(s=>s?B.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new B((r,s)=>{const i=e.length,o=new Array(i);let a=0;for(let l=0;l<i;l++){const u=l;n(e[u]).next(d=>{o[u]=d,++a,a===i&&r(o)},d=>s(d))}})}static doWhile(e,n){return new B((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}function L3(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function ja(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lf{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}lf.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ev=-1;function cf(t){return t==null}function Yd(t){return t===0&&1/t==-1/0}function V3(t){return typeof t=="number"&&Number.isInteger(t)&&!Yd(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rC="";function j3(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=zE(e)),e=F3(t.get(n),e);return zE(e)}function F3(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const i=t.charAt(s);switch(i){case"\0":n+="";break;case rC:n+="";break;default:n+=i}}return n}function zE(t){return t+rC+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HE(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function oo(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function sC(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class We{constructor(e,n){this.comparator=e,this.root=n||vt.EMPTY}insert(e,n){return new We(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,vt.BLACK,null,null))}remove(e){return new We(this.comparator,this.root.remove(e,this.comparator).copy(null,null,vt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Pu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Pu(this.root,e,this.comparator,!1)}getReverseIterator(){return new Pu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Pu(this.root,e,this.comparator,!0)}}class Pu{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class vt{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??vt.RED,this.left=s??vt.EMPTY,this.right=i??vt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new vt(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return vt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return vt.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,vt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,vt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw re(43730,{key:this.key,value:this.value});if(this.right.isRed())throw re(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw re(27949);return e+(this.isRed()?0:1)}}vt.EMPTY=null,vt.RED=!0,vt.BLACK=!1;vt.EMPTY=new class{constructor(){this.size=0}get key(){throw re(57766)}get value(){throw re(16141)}get color(){throw re(16727)}get left(){throw re(29726)}get right(){throw re(36894)}copy(e,n,r,s,i){return this}insert(e,n,r){return new vt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ct{constructor(e){this.comparator=e,this.data=new We(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new WE(this.data.getIterator())}getIteratorFrom(e){return new WE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof ct)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new ct(this.comparator);return n.data=e,n}}class WE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bn{constructor(e){this.fields=e,e.sort(wt.comparator)}static empty(){return new Bn([])}unionWith(e){let n=new ct(wt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Bn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return _a(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iC extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new iC("Invalid base64 string: "+i):i}}(e);return new xt(n)}static fromUint8Array(e){const n=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(e);return new xt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ve(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}xt.EMPTY_BYTE_STRING=new xt("");const U3=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ri(t){if(Ie(!!t,39018),typeof t=="string"){let e=0;const n=U3.exec(t);if(Ie(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ye(t.seconds),nanos:Ye(t.nanos)}}function Ye(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function si(t){return typeof t=="string"?xt.fromBase64String(t):xt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oC="server_timestamp",aC="__type__",lC="__previous_value__",cC="__local_write_time__";function xv(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[aC])==null?void 0:r.stringValue)===oC}function uf(t){const e=t.mapValue.fields[lC];return xv(e)?uf(e):e}function hc(t){const e=ri(t.mapValue.fields[cC].timestampValue);return new Ce(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $3{constructor(e,n,r,s,i,o,a,l,u,d,h){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u,this.isUsingEmulator=d,this.apiKey=h}}const Xd="(default)";class fc{constructor(e,n){this.projectId=e,this.database=n||Xd}static empty(){return new fc("","")}get isDefaultDatabase(){return this.database===Xd}isEqual(e){return e instanceof fc&&e.projectId===this.projectId&&e.database===this.database}}function B3(t,e){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new K($.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new fc(t.options.projectId,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uC="__type__",dC="__max__",ku={mapValue:{fields:{__type__:{stringValue:dC}}}},hC="__vector__",Jd="value";function ii(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?xv(t)?4:H3(t)?9007199254740991:z3(t)?10:11:re(28295,{value:t})}function Ar(t,e){if(t===e)return!0;const n=ii(t);if(n!==ii(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return hc(t).isEqual(hc(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=ri(s.timestampValue),a=ri(i.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return si(s.bytesValue).isEqual(si(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return Ye(s.geoPointValue.latitude)===Ye(i.geoPointValue.latitude)&&Ye(s.geoPointValue.longitude)===Ye(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return Ye(s.integerValue)===Ye(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=Ye(s.doubleValue),a=Ye(i.doubleValue);return o===a?Yd(o)===Yd(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return _a(t.arrayValue.values||[],e.arrayValue.values||[],Ar);case 10:case 11:return function(s,i){const o=s.mapValue.fields||{},a=i.mapValue.fields||{};if(HE(o)!==HE(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!Ar(o[l],a[l])))return!1;return!0}(t,e);default:return re(52216,{left:t})}}function pc(t,e){return(t.values||[]).find(n=>Ar(n,e))!==void 0}function Ea(t,e){if(t===e)return 0;const n=ii(t),r=ii(e);if(n!==r)return ve(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ve(t.booleanValue,e.booleanValue);case 2:return function(i,o){const a=Ye(i.integerValue||i.doubleValue),l=Ye(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return qE(t.timestampValue,e.timestampValue);case 4:return qE(hc(t),hc(e));case 5:return Tg(t.stringValue,e.stringValue);case 6:return function(i,o){const a=si(i),l=si(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const a=i.split("/"),l=o.split("/");for(let u=0;u<a.length&&u<l.length;u++){const d=ve(a[u],l[u]);if(d!==0)return d}return ve(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const a=ve(Ye(i.latitude),Ye(o.latitude));return a!==0?a:ve(Ye(i.longitude),Ye(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return GE(t.arrayValue,e.arrayValue);case 10:return function(i,o){var p,g,S,E;const a=i.fields||{},l=o.fields||{},u=(p=a[Jd])==null?void 0:p.arrayValue,d=(g=l[Jd])==null?void 0:g.arrayValue,h=ve(((S=u==null?void 0:u.values)==null?void 0:S.length)||0,((E=d==null?void 0:d.values)==null?void 0:E.length)||0);return h!==0?h:GE(u,d)}(t.mapValue,e.mapValue);case 11:return function(i,o){if(i===ku.mapValue&&o===ku.mapValue)return 0;if(i===ku.mapValue)return 1;if(o===ku.mapValue)return-1;const a=i.fields||{},l=Object.keys(a),u=o.fields||{},d=Object.keys(u);l.sort(),d.sort();for(let h=0;h<l.length&&h<d.length;++h){const p=Tg(l[h],d[h]);if(p!==0)return p;const g=Ea(a[l[h]],u[d[h]]);if(g!==0)return g}return ve(l.length,d.length)}(t.mapValue,e.mapValue);default:throw re(23264,{he:n})}}function qE(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ve(t,e);const n=ri(t),r=ri(e),s=ve(n.seconds,r.seconds);return s!==0?s:ve(n.nanos,r.nanos)}function GE(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=Ea(n[s],r[s]);if(i)return i}return ve(n.length,r.length)}function xa(t){return Sg(t)}function Sg(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=ri(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return si(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return te.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=Sg(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${Sg(n.fields[o])}`;return s+"}"}(t.mapValue):re(61005,{value:t})}function sd(t){switch(ii(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=uf(t);return e?16+sd(e):16;case 5:return 2*t.stringValue.length;case 6:return si(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,i)=>s+sd(i),0)}(t.arrayValue);case 10:case 11:return function(r){let s=0;return oo(r.fields,(i,o)=>{s+=i.length+sd(o)}),s}(t.mapValue);default:throw re(13486,{value:t})}}function KE(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function bg(t){return!!t&&"integerValue"in t}function Tv(t){return!!t&&"arrayValue"in t}function QE(t){return!!t&&"nullValue"in t}function YE(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function id(t){return!!t&&"mapValue"in t}function z3(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[uC])==null?void 0:r.stringValue)===hC}function Ol(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return oo(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Ol(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ol(t.arrayValue.values[n]);return e}return{...t}}function H3(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===dC}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xn{constructor(e){this.value=e}static empty(){return new xn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!id(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ol(n)}setAll(e){let n=wt.emptyPath(),r={},s=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,s),r={},s=[],n=a.popLast()}o?r[a.lastSegment()]=Ol(o):s.push(a.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());id(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ar(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];id(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){oo(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new xn(Ol(this.value))}}function fC(t){const e=[];return oo(t.fields,(n,r)=>{const s=new wt([n]);if(id(r)){const i=fC(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)}),new Bn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pt{constructor(e,n,r,s,i,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Pt(e,0,le.min(),le.min(),le.min(),xn.empty(),0)}static newFoundDocument(e,n,r,s){return new Pt(e,1,n,le.min(),r,s,0)}static newNoDocument(e,n){return new Pt(e,2,n,le.min(),le.min(),xn.empty(),0)}static newUnknownDocument(e,n){return new Pt(e,3,n,le.min(),le.min(),xn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(le.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=xn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=xn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=le.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Pt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Pt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zd{constructor(e,n){this.position=e,this.inclusive=n}}function XE(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=te.comparator(te.fromName(o.referenceValue),n.key):r=Ea(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function JE(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Ar(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mc{constructor(e,n="asc"){this.field=e,this.dir=n}}function W3(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pC{}class rt extends pC{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new G3(e,n,r):n==="array-contains"?new Y3(e,r):n==="in"?new X3(e,r):n==="not-in"?new J3(e,r):n==="array-contains-any"?new Z3(e,r):new rt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new K3(e,r):new Q3(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Ea(n,this.value)):n!==null&&ii(this.value)===ii(n)&&this.matchesComparison(Ea(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return re(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Zn extends pC{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Zn(e,n)}matches(e){return mC(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function mC(t){return t.op==="and"}function gC(t){return q3(t)&&mC(t)}function q3(t){for(const e of t.filters)if(e instanceof Zn)return!1;return!0}function Ig(t){if(t instanceof rt)return t.field.canonicalString()+t.op.toString()+xa(t.value);if(gC(t))return t.filters.map(e=>Ig(e)).join(",");{const e=t.filters.map(n=>Ig(n)).join(",");return`${t.op}(${e})`}}function yC(t,e){return t instanceof rt?function(r,s){return s instanceof rt&&r.op===s.op&&r.field.isEqual(s.field)&&Ar(r.value,s.value)}(t,e):t instanceof Zn?function(r,s){return s instanceof Zn&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,o,a)=>i&&yC(o,s.filters[a]),!0):!1}(t,e):void re(19439)}function vC(t){return t instanceof rt?function(n){return`${n.field.canonicalString()} ${n.op} ${xa(n.value)}`}(t):t instanceof Zn?function(n){return n.op.toString()+" {"+n.getFilters().map(vC).join(" ,")+"}"}(t):"Filter"}class G3 extends rt{constructor(e,n,r){super(e,n,r),this.key=te.fromName(r.referenceValue)}matches(e){const n=te.comparator(e.key,this.key);return this.matchesComparison(n)}}class K3 extends rt{constructor(e,n){super(e,"in",n),this.keys=wC("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class Q3 extends rt{constructor(e,n){super(e,"not-in",n),this.keys=wC("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function wC(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map(r=>te.fromName(r.referenceValue))}class Y3 extends rt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Tv(n)&&pc(n.arrayValue,this.value)}}class X3 extends rt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&pc(this.value.arrayValue,n)}}class J3 extends rt{constructor(e,n){super(e,"not-in",n)}matches(e){if(pc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!pc(this.value.arrayValue,n)}}class Z3 extends rt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Tv(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>pc(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e5{constructor(e,n=null,r=[],s=[],i=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=a,this.Te=null}}function ZE(t,e=null,n=[],r=[],s=null,i=null,o=null){return new e5(t,e,n,r,s,i,o)}function Sv(t){const e=ue(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Ig(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),cf(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>xa(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>xa(r)).join(",")),e.Te=n}return e.Te}function bv(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!W3(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!yC(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!JE(t.startAt,e.startAt)&&JE(t.endAt,e.endAt)}function Cg(t){return te.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fa{constructor(e,n=null,r=[],s=[],i=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=l,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function t5(t,e,n,r,s,i,o,a){return new Fa(t,e,n,r,s,i,o,a)}function df(t){return new Fa(t)}function e1(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function n5(t){return te.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function _C(t){return t.collectionGroup!==null}function Ll(t){const e=ue(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const i of e.explicitOrderBy)e.Ie.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new ct(wt.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.Ie.push(new mc(i,r))}),n.has(wt.keyField().canonicalString())||e.Ie.push(new mc(wt.keyField(),r))}return e.Ie}function Er(t){const e=ue(t);return e.Ee||(e.Ee=r5(e,Ll(t))),e.Ee}function r5(t,e){if(t.limitType==="F")return ZE(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new mc(s.field,i)});const n=t.endAt?new Zd(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Zd(t.startAt.position,t.startAt.inclusive):null;return ZE(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Ag(t,e){const n=t.filters.concat([e]);return new Fa(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function s5(t,e){const n=t.explicitOrderBy.concat([e]);return new Fa(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}function eh(t,e,n){return new Fa(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function hf(t,e){return bv(Er(t),Er(e))&&t.limitType===e.limitType}function EC(t){return`${Sv(Er(t))}|lt:${t.limitType}`}function To(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>vC(s)).join(", ")}]`),cf(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>xa(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>xa(s)).join(",")),`Target(${r})`}(Er(t))}; limitType=${t.limitType})`}function ff(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):te.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of Ll(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(o,a,l){const u=XE(o,a,l);return o.inclusive?u<=0:u<0}(r.startAt,Ll(r),s)||r.endAt&&!function(o,a,l){const u=XE(o,a,l);return o.inclusive?u>=0:u>0}(r.endAt,Ll(r),s))}(t,e)}function i5(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function xC(t){return(e,n)=>{let r=!1;for(const s of Ll(t)){const i=o5(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function o5(t,e,n){const r=t.field.isKeyField()?te.comparator(e.key,n.key):function(i,o,a){const l=o.data.field(i),u=a.data.field(i);return l!==null&&u!==null?Ea(l,u):re(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return re(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ao{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){oo(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return sC(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a5=new We(te.comparator);function ns(){return a5}const TC=new We(te.comparator);function _l(...t){let e=TC;for(const n of t)e=e.insert(n.key,n);return e}function SC(t){let e=TC;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Ai(){return Vl()}function bC(){return Vl()}function Vl(){return new ao(t=>t.toString(),(t,e)=>t.isEqual(e))}const l5=new We(te.comparator),c5=new ct(te.comparator);function we(...t){let e=c5;for(const n of t)e=e.add(n);return e}const u5=new ct(ve);function d5(){return u5}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iv(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Yd(e)?"-0":e}}function IC(t){return{integerValue:""+t}}function h5(t,e){return V3(e)?IC(e):Iv(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pf{constructor(){this._=void 0}}function f5(t,e,n){return t instanceof gc?function(s,i){const o={fields:{[aC]:{stringValue:oC},[cC]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&xv(i)&&(i=uf(i)),i&&(o.fields[lC]=i),{mapValue:o}}(n,e):t instanceof yc?AC(t,e):t instanceof vc?RC(t,e):function(s,i){const o=CC(s,i),a=t1(o)+t1(s.Ae);return bg(o)&&bg(s.Ae)?IC(a):Iv(s.serializer,a)}(t,e)}function p5(t,e,n){return t instanceof yc?AC(t,e):t instanceof vc?RC(t,e):n}function CC(t,e){return t instanceof th?function(r){return bg(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class gc extends pf{}class yc extends pf{constructor(e){super(),this.elements=e}}function AC(t,e){const n=PC(e);for(const r of t.elements)n.some(s=>Ar(s,r))||n.push(r);return{arrayValue:{values:n}}}class vc extends pf{constructor(e){super(),this.elements=e}}function RC(t,e){let n=PC(e);for(const r of t.elements)n=n.filter(s=>!Ar(s,r));return{arrayValue:{values:n}}}class th extends pf{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function t1(t){return Ye(t.integerValue||t.doubleValue)}function PC(t){return Tv(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m5{constructor(e,n){this.field=e,this.transform=n}}function g5(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof yc&&s instanceof yc||r instanceof vc&&s instanceof vc?_a(r.elements,s.elements,Ar):r instanceof th&&s instanceof th?Ar(r.Ae,s.Ae):r instanceof gc&&s instanceof gc}(t.transform,e.transform)}class y5{constructor(e,n){this.version=e,this.transformResults=n}}class xr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new xr}static exists(e){return new xr(void 0,e)}static updateTime(e){return new xr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function od(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class mf{}function kC(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new DC(t.key,xr.none()):new Vc(t.key,t.data,xr.none());{const n=t.data,r=xn.empty();let s=new ct(wt.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new lo(t.key,r,new Bn(s.toArray()),xr.none())}}function v5(t,e,n){t instanceof Vc?function(s,i,o){const a=s.value.clone(),l=r1(s.fieldTransforms,i,o.transformResults);a.setAll(l),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof lo?function(s,i,o){if(!od(s.precondition,i))return void i.convertToUnknownDocument(o.version);const a=r1(s.fieldTransforms,i,o.transformResults),l=i.data;l.setAll(NC(s)),l.setAll(a),i.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function jl(t,e,n,r){return t instanceof Vc?function(i,o,a,l){if(!od(i.precondition,o))return a;const u=i.value.clone(),d=s1(i.fieldTransforms,l,o);return u.setAll(d),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof lo?function(i,o,a,l){if(!od(i.precondition,o))return a;const u=s1(i.fieldTransforms,l,o),d=o.data;return d.setAll(NC(i)),d.setAll(u),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),a===null?null:a.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(h=>h.field))}(t,e,n,r):function(i,o,a){return od(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function w5(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=CC(r.transform,s||null);i!=null&&(n===null&&(n=xn.empty()),n.set(r.field,i))}return n||null}function n1(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&_a(r,s,(i,o)=>g5(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Vc extends mf{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class lo extends mf{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function NC(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function r1(t,e,n){const r=new Map;Ie(t.length===n.length,32656,{Ve:n.length,de:t.length});for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,a=e.data.field(i.field);r.set(i.field,p5(o,a,n[s]))}return r}function s1(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,f5(i,o,e))}return r}class DC extends mf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class _5 extends mf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E5{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&v5(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=jl(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=jl(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=bC();return this.mutations.forEach(s=>{const i=e.get(s.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=n.has(s.key)?null:a;const l=kC(o,a);l!==null&&r.set(s.key,l),o.isValidDocument()||o.convertToNoDocument(le.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),we())}isEqual(e){return this.batchId===e.batchId&&_a(this.mutations,e.mutations,(n,r)=>n1(n,r))&&_a(this.baseMutations,e.baseMutations,(n,r)=>n1(n,r))}}class Cv{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){Ie(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let s=function(){return l5}();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new Cv(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let x5=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T5{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var et,Ee;function S5(t){switch(t){case $.OK:return re(64938);case $.CANCELLED:case $.UNKNOWN:case $.DEADLINE_EXCEEDED:case $.RESOURCE_EXHAUSTED:case $.INTERNAL:case $.UNAVAILABLE:case $.UNAUTHENTICATED:return!1;case $.INVALID_ARGUMENT:case $.NOT_FOUND:case $.ALREADY_EXISTS:case $.PERMISSION_DENIED:case $.FAILED_PRECONDITION:case $.ABORTED:case $.OUT_OF_RANGE:case $.UNIMPLEMENTED:case $.DATA_LOSS:return!0;default:return re(15467,{code:t})}}function MC(t){if(t===void 0)return ts("GRPC error has no .code"),$.UNKNOWN;switch(t){case et.OK:return $.OK;case et.CANCELLED:return $.CANCELLED;case et.UNKNOWN:return $.UNKNOWN;case et.DEADLINE_EXCEEDED:return $.DEADLINE_EXCEEDED;case et.RESOURCE_EXHAUSTED:return $.RESOURCE_EXHAUSTED;case et.INTERNAL:return $.INTERNAL;case et.UNAVAILABLE:return $.UNAVAILABLE;case et.UNAUTHENTICATED:return $.UNAUTHENTICATED;case et.INVALID_ARGUMENT:return $.INVALID_ARGUMENT;case et.NOT_FOUND:return $.NOT_FOUND;case et.ALREADY_EXISTS:return $.ALREADY_EXISTS;case et.PERMISSION_DENIED:return $.PERMISSION_DENIED;case et.FAILED_PRECONDITION:return $.FAILED_PRECONDITION;case et.ABORTED:return $.ABORTED;case et.OUT_OF_RANGE:return $.OUT_OF_RANGE;case et.UNIMPLEMENTED:return $.UNIMPLEMENTED;case et.DATA_LOSS:return $.DATA_LOSS;default:return re(39323,{code:t})}}(Ee=et||(et={}))[Ee.OK=0]="OK",Ee[Ee.CANCELLED=1]="CANCELLED",Ee[Ee.UNKNOWN=2]="UNKNOWN",Ee[Ee.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ee[Ee.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ee[Ee.NOT_FOUND=5]="NOT_FOUND",Ee[Ee.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ee[Ee.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ee[Ee.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ee[Ee.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ee[Ee.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ee[Ee.ABORTED=10]="ABORTED",Ee[Ee.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ee[Ee.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ee[Ee.INTERNAL=13]="INTERNAL",Ee[Ee.UNAVAILABLE=14]="UNAVAILABLE",Ee[Ee.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b5(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I5=new Ks([4294967295,4294967295],0);function i1(t){const e=b5().encode(t),n=new GI;return n.update(e),new Uint8Array(n.digest())}function o1(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new Ks([n,r],0),new Ks([s,i],0)]}class Av{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new El(`Invalid padding: ${n}`);if(r<0)throw new El(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new El(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new El(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Ks.fromNumber(this.ge)}ye(e,n,r){let s=e.add(n.multiply(Ks.fromNumber(r)));return s.compare(I5)===1&&(s=new Ks([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=i1(e),[r,s]=o1(n);for(let i=0;i<this.hashCount;i++){const o=this.ye(r,s,i);if(!this.we(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new Av(i,s,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.ge===0)return;const n=i1(e),[r,s]=o1(n);for(let i=0;i<this.hashCount;i++){const o=this.ye(r,s,i);this.be(o)}}be(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class El extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gf{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,jc.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new gf(le.min(),s,new We(ve),ns(),we())}}class jc{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new jc(r,n,we(),we(),we())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ad{constructor(e,n,r,s){this.Se=e,this.removedTargetIds=n,this.key=r,this.De=s}}class OC{constructor(e,n){this.targetId=e,this.Ce=n}}class LC{constructor(e,n,r=xt.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class a1{constructor(){this.ve=0,this.Fe=l1(),this.Me=xt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=we(),n=we(),r=we();return this.Fe.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:re(38017,{changeType:i})}}),new jc(this.Me,this.xe,e,n,r)}Ke(){this.Oe=!1,this.Fe=l1()}qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,Ie(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class C5{constructor(e){this.Ge=e,this.ze=new Map,this.je=ns(),this.He=Nu(),this.Je=Nu(),this.Ze=new We(ve)}Xe(e){for(const n of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.We(),r.Ne||r.Ke(),r.Le(e.resumeToken);break;case 2:r.We(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.Qe(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:re(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((r,s)=>{this.rt(s)&&n(s)})}st(e){const n=e.targetId,r=e.Ce.count,s=this.ot(n);if(s){const i=s.target;if(Cg(i))if(r===0){const o=new te(i.path);this.et(n,o,Pt.newNoDocument(o,le.min()))}else Ie(r===1,20013,{expectedCount:r});else{const o=this._t(n);if(o!==r){const a=this.ut(e),l=a?this.ct(a,e,o):1;if(l!==0){this.it(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,u)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,a;try{o=si(r).toUint8Array()}catch(l){if(l instanceof iC)return Qi("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new Av(o,s,i)}catch(l){return Qi(l instanceof El?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.ge===0?null:a}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const o=this.Ge.ht(),a=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(a)||(this.et(n,i,null),s++)}),s}Tt(e){const n=new Map;this.ze.forEach((i,o)=>{const a=this.ot(o);if(a){if(i.current&&Cg(a.target)){const l=new te(a.target.path);this.It(l).has(o)||this.Et(o,l)||this.et(o,l,Pt.newNoDocument(l,e))}i.Be&&(n.set(o,i.ke()),i.Ke())}});let r=we();this.Je.forEach((i,o)=>{let a=!0;o.forEachWhile(l=>{const u=this.ot(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(i))}),this.je.forEach((i,o)=>o.setReadTime(e));const s=new gf(e,n,this.Ze,this.je,r);return this.je=ns(),this.He=Nu(),this.Je=Nu(),this.Ze=new We(ve),s}Ye(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).qe(n.key,r),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(e)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const s=this.nt(e);this.Et(e,n)?s.qe(n,1):s.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(e)),this.Je=this.Je.insert(n,this.Rt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let n=this.ze.get(e);return n||(n=new a1,this.ze.set(e,n)),n}Rt(e){let n=this.Je.get(e);return n||(n=new ct(ve),this.Je=this.Je.insert(e,n)),n}It(e){let n=this.He.get(e);return n||(n=new ct(ve),this.He=this.He.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||Q("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new a1),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Nu(){return new We(te.comparator)}function l1(){return new We(te.comparator)}const A5={asc:"ASCENDING",desc:"DESCENDING"},R5={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},P5={and:"AND",or:"OR"};class k5{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Rg(t,e){return t.useProto3Json||cf(e)?e:{value:e}}function nh(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function VC(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function N5(t,e){return nh(t,e.toTimestamp())}function Tr(t){return Ie(!!t,49232),le.fromTimestamp(function(n){const r=ri(n);return new Ce(r.seconds,r.nanos)}(t))}function Rv(t,e){return Pg(t,e).canonicalString()}function Pg(t,e){const n=function(s){return new Me(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function jC(t){const e=Me.fromString(t);return Ie(zC(e),10190,{key:e.toString()}),e}function kg(t,e){return Rv(t.databaseId,e.path)}function zp(t,e){const n=jC(e);if(n.get(1)!==t.databaseId.projectId)throw new K($.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new K($.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new te(UC(n))}function FC(t,e){return Rv(t.databaseId,e)}function D5(t){const e=jC(t);return e.length===4?Me.emptyPath():UC(e)}function Ng(t){return new Me(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function UC(t){return Ie(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function c1(t,e,n){return{name:kg(t,e),fields:n.value.mapValue.fields}}function M5(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:re(39313,{state:u})}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(u,d){return u.useProto3Json?(Ie(d===void 0||typeof d=="string",58123),xt.fromBase64String(d||"")):(Ie(d===void 0||d instanceof Buffer||d instanceof Uint8Array,16193),xt.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const d=u.code===void 0?$.UNKNOWN:MC(u.code);return new K(d,u.message||"")}(o);n=new LC(r,s,i,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=zp(t,r.document.name),i=Tr(r.document.updateTime),o=r.document.createTime?Tr(r.document.createTime):le.min(),a=new xn({mapValue:{fields:r.document.fields}}),l=Pt.newFoundDocument(s,i,o,a),u=r.targetIds||[],d=r.removedTargetIds||[];n=new ad(u,d,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=zp(t,r.document),i=r.readTime?Tr(r.readTime):le.min(),o=Pt.newNoDocument(s,i),a=r.removedTargetIds||[];n=new ad([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=zp(t,r.document),i=r.removedTargetIds||[];n=new ad([],i,s,null)}else{if(!("filter"in e))return re(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new T5(s,i),a=r.targetId;n=new OC(a,o)}}return n}function O5(t,e){let n;if(e instanceof Vc)n={update:c1(t,e.key,e.value)};else if(e instanceof DC)n={delete:kg(t,e.key)};else if(e instanceof lo)n={update:c1(t,e.key,e.data),updateMask:H5(e.fieldMask)};else{if(!(e instanceof _5))return re(16599,{dt:e.type});n={verify:kg(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const a=o.transform;if(a instanceof gc)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof yc)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof vc)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof th)return{fieldPath:o.field.canonicalString(),increment:a.Ae};throw re(20930,{transform:o.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:N5(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:re(27497)}(t,e.precondition)),n}function L5(t,e){return t&&t.length>0?(Ie(e!==void 0,14353),t.map(n=>function(s,i){let o=s.updateTime?Tr(s.updateTime):Tr(i);return o.isEqual(le.min())&&(o=Tr(i)),new y5(o,s.transformResults||[])}(n,e))):[]}function V5(t,e){return{documents:[FC(t,e.path)]}}function j5(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=FC(t,s);const i=function(u){if(u.length!==0)return BC(Zn.create(u,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(u){if(u.length!==0)return u.map(d=>function(p){return{field:So(p.field),direction:$5(p.dir)}}(d))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=Rg(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{ft:n,parent:s}}function F5(t){let e=D5(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){Ie(r===1,65062);const d=n.from[0];d.allDescendants?s=d.collectionId:e=e.child(d.collectionId)}let i=[];n.where&&(i=function(h){const p=$C(h);return p instanceof Zn&&gC(p)?p.getFilters():[p]}(n.where));let o=[];n.orderBy&&(o=function(h){return h.map(p=>function(S){return new mc(bo(S.field),function(x){switch(x){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(S.direction))}(p))}(n.orderBy));let a=null;n.limit&&(a=function(h){let p;return p=typeof h=="object"?h.value:h,cf(p)?null:p}(n.limit));let l=null;n.startAt&&(l=function(h){const p=!!h.before,g=h.values||[];return new Zd(g,p)}(n.startAt));let u=null;return n.endAt&&(u=function(h){const p=!h.before,g=h.values||[];return new Zd(g,p)}(n.endAt)),t5(e,s,o,i,a,"F",l,u)}function U5(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return re(28987,{purpose:s})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function $C(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=bo(n.unaryFilter.field);return rt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=bo(n.unaryFilter.field);return rt.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=bo(n.unaryFilter.field);return rt.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=bo(n.unaryFilter.field);return rt.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return re(61313);default:return re(60726)}}(t):t.fieldFilter!==void 0?function(n){return rt.create(bo(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return re(58110);default:return re(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Zn.create(n.compositeFilter.filters.map(r=>$C(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return re(1026)}}(n.compositeFilter.op))}(t):re(30097,{filter:t})}function $5(t){return A5[t]}function B5(t){return R5[t]}function z5(t){return P5[t]}function So(t){return{fieldPath:t.canonicalString()}}function bo(t){return wt.fromServerFormat(t.fieldPath)}function BC(t){return t instanceof rt?function(n){if(n.op==="=="){if(YE(n.value))return{unaryFilter:{field:So(n.field),op:"IS_NAN"}};if(QE(n.value))return{unaryFilter:{field:So(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(YE(n.value))return{unaryFilter:{field:So(n.field),op:"IS_NOT_NAN"}};if(QE(n.value))return{unaryFilter:{field:So(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:So(n.field),op:B5(n.op),value:n.value}}}(t):t instanceof Zn?function(n){const r=n.getFilters().map(s=>BC(s));return r.length===1?r[0]:{compositeFilter:{op:z5(n.op),filters:r}}}(t):re(54877,{filter:t})}function H5(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function zC(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}function HC(t){return!!t&&typeof t._toProto=="function"&&t._protoValueType==="ProtoValue"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vs{constructor(e,n,r,s,i=le.min(),o=le.min(),a=xt.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Vs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Vs(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Vs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Vs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W5{constructor(e){this.yt=e}}function q5(t){const e=F5({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?eh(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G5{constructor(){this.Sn=new K5}addToCollectionParentIndex(e,n){return this.Sn.add(n),B.resolve()}getCollectionParents(e,n){return B.resolve(this.Sn.getEntries(n))}addFieldIndex(e,n){return B.resolve()}deleteFieldIndex(e,n){return B.resolve()}deleteAllFieldIndexes(e){return B.resolve()}createTargetIndexes(e,n){return B.resolve()}getDocumentsMatchingTarget(e,n){return B.resolve(null)}getIndexType(e,n){return B.resolve(0)}getFieldIndexes(e,n){return B.resolve([])}getNextCollectionGroupToUpdate(e){return B.resolve(null)}getMinOffset(e,n){return B.resolve(ni.min())}getMinOffsetFromCollectionGroup(e,n){return B.resolve(ni.min())}updateCollectionGroup(e,n,r){return B.resolve()}updateIndexEntries(e,n){return B.resolve()}}class K5{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new ct(Me.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new ct(Me.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u1={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},WC=41943040;class qt{static withCacheSize(e){return new qt(e,qt.DEFAULT_COLLECTION_PERCENTILE,qt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */qt.DEFAULT_COLLECTION_PERCENTILE=10,qt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,qt.DEFAULT=new qt(WC,qt.DEFAULT_COLLECTION_PERCENTILE,qt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),qt.DISABLED=new qt(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ta{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new Ta(0)}static ar(){return new Ta(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d1="LruGarbageCollector",Q5=1048576;function h1([t,e],[n,r]){const s=ve(t,n);return s===0?ve(e,r):s}class Y5{constructor(e){this.Pr=e,this.buffer=new ct(h1),this.Tr=0}Ir(){return++this.Tr}Er(e){const n=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();h1(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class X5{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){Q(d1,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){ja(n)?Q(d1,"Ignoring IndexedDB error during garbage collection: ",n):await Va(n)}await this.Ar(3e5)})}}class J5{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.dr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return B.resolve(lf.ce);const r=new Y5(n);return this.Vr.forEachTarget(e,s=>r.Er(s.sequenceNumber)).next(()=>this.Vr.mr(e,s=>r.Er(s))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Vr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Q("LruGarbageCollector","Garbage collection skipped; disabled"),B.resolve(u1)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Q("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),u1):this.gr(e,n))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,n){let r,s,i,o,a,l,u;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(h=>(h>this.params.maximumSequenceNumbersToCollect?(Q("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${h}`),s=this.params.maximumSequenceNumbersToCollect):s=h,o=Date.now(),this.nthSequenceNumber(e,s))).next(h=>(r=h,a=Date.now(),this.removeTargets(e,r,n))).next(h=>(i=h,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(h=>(u=Date.now(),xo()<=ye.DEBUG&&Q("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-d}ms
	Determined least recently used ${s} in `+(a-o)+`ms
	Removed ${i} targets in `+(l-a)+`ms
	Removed ${h} documents in `+(u-l)+`ms
Total Duration: ${u-d}ms`),B.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:i,documentsRemoved:h})))}}function Z5(t,e){return new J5(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e6{constructor(){this.changes=new ao(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Pt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?B.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t6{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n6{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&jl(r.mutation,s,Bn.empty(),Ce.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,we()).next(()=>r))}getLocalViewOfDocuments(e,n,r=we()){const s=Ai();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let o=_l();return i.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Ai();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,we()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,s){let i=ns();const o=Vl(),a=function(){return Vl()}();return n.forEach((l,u)=>{const d=r.get(u.key);s.has(u.key)&&(d===void 0||d.mutation instanceof lo)?i=i.insert(u.key,u):d!==void 0?(o.set(u.key,d.mutation.getFieldMask()),jl(d.mutation,u,d.mutation.getFieldMask(),Ce.now())):o.set(u.key,Bn.empty())}),this.recalculateAndSaveOverlays(e,i).next(l=>(l.forEach((u,d)=>o.set(u,d)),n.forEach((u,d)=>a.set(u,new t6(d,o.get(u)??null))),a))}recalculateAndSaveOverlays(e,n){const r=Vl();let s=new We((o,a)=>o-a),i=we();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let d=r.get(l)||Bn.empty();d=a.applyToLocalView(u,d),r.set(l,d);const h=(s.get(a.batchId)||we()).add(l);s=s.insert(a.batchId,h)})}).next(()=>{const o=[],a=s.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,d=l.value,h=bC();d.forEach(p=>{if(!i.has(p)){const g=kC(n.get(p),r.get(p));g!==null&&h.set(p,g),i=i.add(p)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,h))}return B.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return n5(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):_C(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):B.resolve(Ai());let a=dc,l=i;return o.next(u=>B.forEach(u,(d,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),i.get(d)?B.resolve():this.remoteDocumentCache.getEntry(e,d).next(p=>{l=l.insert(d,p)}))).next(()=>this.populateOverlays(e,u,i)).next(()=>this.computeViews(e,l,u,we())).next(d=>({batchId:a,changes:SC(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new te(n)).next(r=>{let s=_l();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let o=_l();return this.indexManager.getCollectionParents(e,i).next(a=>B.forEach(a,l=>{const u=function(h,p){return new Fa(p,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,l.child(i));return this.getDocumentsMatchingCollectionQuery(e,u,r,s).next(d=>{d.forEach((h,p)=>{o=o.insert(h,p)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(o=>{i.forEach((l,u)=>{const d=u.getKey();o.get(d)===null&&(o=o.insert(d,Pt.newInvalidDocument(d)))});let a=_l();return o.forEach((l,u)=>{const d=i.get(l);d!==void 0&&jl(d.mutation,u,Bn.empty(),Ce.now()),ff(n,u)&&(a=a.insert(l,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r6{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,n){return B.resolve(this.Nr.get(n))}saveBundleMetadata(e,n){return this.Nr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:Tr(s.createTime)}}(n)),B.resolve()}getNamedQuery(e,n){return B.resolve(this.Br.get(n))}saveNamedQuery(e,n){return this.Br.set(n.name,function(s){return{name:s.name,query:q5(s.bundledQuery),readTime:Tr(s.readTime)}}(n)),B.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s6{constructor(){this.overlays=new We(te.comparator),this.Lr=new Map}getOverlay(e,n){return B.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Ai();return B.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.bt(e,n,i)}),B.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.Lr.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.Lr.delete(r)),B.resolve()}getOverlaysForCollection(e,n,r){const s=Ai(),i=n.length+1,o=new te(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===i&&l.largestBatchId>r&&s.set(l.getKey(),l)}return B.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new We((u,d)=>u-d);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let d=i.get(u.largestBatchId);d===null&&(d=Ai(),i=i.insert(u.largestBatchId,d)),d.set(u.getKey(),u)}}const a=Ai(),l=i.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,d)=>a.set(u,d)),!(a.size()>=s)););return B.resolve(a)}bt(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.Lr.get(s.largestBatchId).delete(r.key);this.Lr.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new x5(n,r));let i=this.Lr.get(n);i===void 0&&(i=we(),this.Lr.set(n,i)),this.Lr.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i6{constructor(){this.sessionToken=xt.EMPTY_BYTE_STRING}getSessionToken(e){return B.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,B.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pv{constructor(){this.kr=new ct(ft.Kr),this.qr=new ct(ft.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,n){const r=new ft(e,n);this.kr=this.kr.add(r),this.qr=this.qr.add(r)}$r(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Wr(new ft(e,n))}Qr(e,n){e.forEach(r=>this.removeReference(r,n))}Gr(e){const n=new te(new Me([])),r=new ft(n,e),s=new ft(n,e+1),i=[];return this.qr.forEachInRange([r,s],o=>{this.Wr(o),i.push(o.key)}),i}zr(){this.kr.forEach(e=>this.Wr(e))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const n=new te(new Me([])),r=new ft(n,e),s=new ft(n,e+1);let i=we();return this.qr.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new ft(e,0),r=this.kr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class ft{constructor(e,n){this.key=e,this.Hr=n}static Kr(e,n){return te.comparator(e.key,n.key)||ve(e.Hr,n.Hr)}static Ur(e,n){return ve(e.Hr,n.Hr)||te.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o6{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new ct(ft.Kr)}checkEmpty(e){return B.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new E5(i,n,r,s);this.mutationQueue.push(o);for(const a of s)this.Jr=this.Jr.add(new ft(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return B.resolve(o)}lookupMutationBatch(e,n){return B.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.Xr(r),i=s<0?0:s;return B.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return B.resolve(this.mutationQueue.length===0?Ev:this.Yn-1)}getAllMutationBatches(e){return B.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new ft(n,0),s=new ft(n,Number.POSITIVE_INFINITY),i=[];return this.Jr.forEachInRange([r,s],o=>{const a=this.Zr(o.Hr);i.push(a)}),B.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new ct(ve);return n.forEach(s=>{const i=new ft(s,0),o=new ft(s,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([i,o],a=>{r=r.add(a.Hr)})}),B.resolve(this.Yr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;te.isDocumentKey(i)||(i=i.child(""));const o=new ft(new te(i),0);let a=new ct(ve);return this.Jr.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===s&&(a=a.add(l.Hr)),!0)},o),B.resolve(this.Yr(a))}Yr(e){const n=[];return e.forEach(r=>{const s=this.Zr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){Ie(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Jr;return B.forEach(n.mutations,s=>{const i=new ft(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Jr=r})}nr(e){}containsKey(e,n){const r=new ft(n,0),s=this.Jr.firstAfterOrEqual(r);return B.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,B.resolve()}ei(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a6{constructor(e){this.ti=e,this.docs=function(){return new We(te.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.ti(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return B.resolve(r?r.document.mutableCopy():Pt.newInvalidDocument(n))}getEntries(e,n){let r=ns();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():Pt.newInvalidDocument(s))}),B.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=ns();const o=n.path,a=new te(o.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:d}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||D3(N3(d),r)<=0||(s.has(d.key)||ff(n,d))&&(i=i.insert(d.key,d.mutableCopy()))}return B.resolve(i)}getAllFromCollectionGroup(e,n,r,s){re(9500)}ni(e,n){return B.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new l6(this)}getSize(e){return B.resolve(this.size)}}class l6 extends e6{constructor(e){super(),this.Mr=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.Mr.addEntry(e,s)):this.Mr.removeEntry(r)}),B.waitFor(n)}getFromCache(e,n){return this.Mr.getEntry(e,n)}getAllFromCache(e,n){return this.Mr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c6{constructor(e){this.persistence=e,this.ri=new ao(n=>Sv(n),bv),this.lastRemoteSnapshotVersion=le.min(),this.highestTargetId=0,this.ii=0,this.si=new Pv,this.targetCount=0,this.oi=Ta._r()}forEachTarget(e,n){return this.ri.forEach((r,s)=>n(s)),B.resolve()}getLastRemoteSnapshotVersion(e){return B.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return B.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),B.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.ii&&(this.ii=n),B.resolve()}lr(e){this.ri.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.oi=new Ta(n),this.highestTargetId=n),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,n){return this.lr(n),this.targetCount+=1,B.resolve()}updateTargetData(e,n){return this.lr(n),B.resolve()}removeTargetData(e,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,B.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.ri.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.ri.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),s++)}),B.waitFor(i).next(()=>s)}getTargetCount(e){return B.resolve(this.targetCount)}getTargetData(e,n){const r=this.ri.get(n)||null;return B.resolve(r)}addMatchingKeys(e,n,r){return this.si.$r(n,r),B.resolve()}removeMatchingKeys(e,n,r){this.si.Qr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),B.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this.si.Gr(n),B.resolve()}getMatchingKeysForTargetId(e,n){const r=this.si.jr(n);return B.resolve(r)}containsKey(e,n){return B.resolve(this.si.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qC{constructor(e,n){this._i={},this.overlays={},this.ai=new lf(0),this.ui=!1,this.ui=!0,this.ci=new i6,this.referenceDelegate=e(this),this.li=new c6(this),this.indexManager=new G5,this.remoteDocumentCache=function(s){return new a6(s)}(r=>this.referenceDelegate.hi(r)),this.serializer=new W5(n),this.Pi=new r6(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new s6,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this._i[e.toKey()];return r||(r=new o6(n,this.referenceDelegate),this._i[e.toKey()]=r),r}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,n,r){Q("MemoryPersistence","Starting transaction:",e);const s=new u6(this.ai.next());return this.referenceDelegate.Ti(),r(s).next(i=>this.referenceDelegate.Ii(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Ei(e,n){return B.or(Object.values(this._i).map(r=>()=>r.containsKey(e,n)))}}class u6 extends O3{constructor(e){super(),this.currentSequenceNumber=e}}class kv{constructor(e){this.persistence=e,this.Ri=new Pv,this.Ai=null}static Vi(e){return new kv(e)}get di(){if(this.Ai)return this.Ai;throw re(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.di.delete(r.toString()),B.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.di.add(r.toString()),B.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),B.resolve()}removeTarget(e,n){this.Ri.Gr(n.targetId).forEach(s=>this.di.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.di.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}Ti(){this.Ai=new Set}Ii(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return B.forEach(this.di,r=>{const s=te.fromPath(r);return this.mi(e,s).next(i=>{i||n.removeEntry(s,le.min())})}).next(()=>(this.Ai=null,n.apply(e)))}updateLimboDocument(e,n){return this.mi(e,n).next(r=>{r?this.di.delete(n.toString()):this.di.add(n.toString())})}hi(e){return 0}mi(e,n){return B.or([()=>B.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class rh{constructor(e,n){this.persistence=e,this.fi=new ao(r=>j3(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=Z5(this,n)}static Vi(e,n){return new rh(e,n)}Ti(){}Ii(e){return B.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(s=>r+s))}pr(e){let n=0;return this.mr(e,r=>{n++}).next(()=>n)}mr(e,n){return B.forEach(this.fi,(r,s)=>this.wr(e,r,s).next(i=>i?B.resolve():n(s)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),i=s.newChangeBuffer();return s.ni(e,o=>this.wr(e,o,n).next(a=>{a||(r++,i.removeEntry(o,le.min()))})).next(()=>i.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.fi.set(n,e.currentSequenceNumber),B.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.fi.set(r,e.currentSequenceNumber),B.resolve()}removeReference(e,n,r){return this.fi.set(r,e.currentSequenceNumber),B.resolve()}updateLimboDocument(e,n){return this.fi.set(n,e.currentSequenceNumber),B.resolve()}hi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=sd(e.data.value)),n}wr(e,n,r){return B.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.fi.get(n);return B.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nv{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.Ts=r,this.Is=s}static Es(e,n){let r=we(),s=we();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new Nv(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d6{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h6{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=function(){return eF()?8:L3(Nt())>0?6:4}()}initialize(e,n){this.fs=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.gs(e,n).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.ps(e,n,s,r).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new d6;return this.ys(e,n,o).next(a=>{if(i.result=a,this.As)return this.ws(e,n,o,a.size)})}).next(()=>i.result)}ws(e,n,r,s){return r.documentReadCount<this.Vs?(xo()<=ye.DEBUG&&Q("QueryEngine","SDK will not create cache indexes for query:",To(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),B.resolve()):(xo()<=ye.DEBUG&&Q("QueryEngine","Query:",To(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.ds*s?(xo()<=ye.DEBUG&&Q("QueryEngine","The SDK decides to create cache indexes for query:",To(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Er(n))):B.resolve())}gs(e,n){if(e1(n))return B.resolve(null);let r=Er(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=eh(n,null,"F"),r=Er(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const o=we(...i);return this.fs.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.bs(n,a);return this.Ss(n,u,o,l.readTime)?this.gs(e,eh(n,null,"F")):this.Ds(e,u,n,l)}))})))}ps(e,n,r,s){return e1(n)||s.isEqual(le.min())?B.resolve(null):this.fs.getDocuments(e,r).next(i=>{const o=this.bs(n,i);return this.Ss(n,o,r,s)?B.resolve(null):(xo()<=ye.DEBUG&&Q("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),To(n)),this.Ds(e,o,n,k3(s,dc)).next(a=>a))})}bs(e,n){let r=new ct(xC(e));return n.forEach((s,i)=>{ff(e,i)&&(r=r.add(i))}),r}Ss(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}ys(e,n,r){return xo()<=ye.DEBUG&&Q("QueryEngine","Using full collection scan to execute query:",To(n)),this.fs.getDocumentsMatchingQuery(e,n,ni.min(),r)}Ds(e,n,r,s){return this.fs.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dv="LocalStore",f6=3e8;class p6{constructor(e,n,r,s){this.persistence=e,this.Cs=n,this.serializer=s,this.vs=new We(ve),this.Fs=new ao(i=>Sv(i),bv),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(r)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new n6(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.vs))}}function m6(t,e,n,r){return new p6(t,e,n,r)}async function GC(t,e){const n=ue(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.Os(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],a=[];let l=we();for(const u of s){o.push(u.batchId);for(const d of u.mutations)l=l.add(d.key)}for(const u of i){a.push(u.batchId);for(const d of u.mutations)l=l.add(d.key)}return n.localDocuments.getDocuments(r,l).next(u=>({Ns:u,removedBatchIds:o,addedBatchIds:a}))})})}function g6(t,e){const n=ue(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.xs.newChangeBuffer({trackRemovals:!0});return function(a,l,u,d){const h=u.batch,p=h.keys();let g=B.resolve();return p.forEach(S=>{g=g.next(()=>d.getEntry(l,S)).next(E=>{const x=u.docVersions.get(S);Ie(x!==null,48541),E.version.compareTo(x)<0&&(h.applyToRemoteDocument(E,u),E.isValidDocument()&&(E.setReadTime(u.commitVersion),d.addEntry(E)))})}),g.next(()=>a.mutationQueue.removeMutationBatch(l,h))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=we();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function KC(t){const e=ue(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.li.getLastRemoteSnapshotVersion(n))}function y6(t,e){const n=ue(t),r=e.snapshotVersion;let s=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.xs.newChangeBuffer({trackRemovals:!0});s=n.vs;const a=[];e.targetChanges.forEach((d,h)=>{const p=s.get(h);if(!p)return;a.push(n.li.removeMatchingKeys(i,d.removedDocuments,h).next(()=>n.li.addMatchingKeys(i,d.addedDocuments,h)));let g=p.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(h)!==null?g=g.withResumeToken(xt.EMPTY_BYTE_STRING,le.min()).withLastLimboFreeSnapshotVersion(le.min()):d.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(d.resumeToken,r)),s=s.insert(h,g),function(E,x,v){return E.resumeToken.approximateByteSize()===0||x.snapshotVersion.toMicroseconds()-E.snapshotVersion.toMicroseconds()>=f6?!0:v.addedDocuments.size+v.modifiedDocuments.size+v.removedDocuments.size>0}(p,g,d)&&a.push(n.li.updateTargetData(i,g))});let l=ns(),u=we();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(i,d))}),a.push(v6(i,o,e.documentUpdates).next(d=>{l=d.Bs,u=d.Ls})),!r.isEqual(le.min())){const d=n.li.getLastRemoteSnapshotVersion(i).next(h=>n.li.setTargetsMetadata(i,i.currentSequenceNumber,r));a.push(d)}return B.waitFor(a).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,l,u)).next(()=>l)}).then(i=>(n.vs=s,i))}function v6(t,e,n){let r=we(),s=we();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let o=ns();return n.forEach((a,l)=>{const u=i.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(s=s.add(a)),l.isNoDocument()&&l.version.isEqual(le.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):Q(Dv,"Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{Bs:o,Ls:s}})}function w6(t,e){const n=ue(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=Ev),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function _6(t,e){const n=ue(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.li.getTargetData(r,e).next(i=>i?(s=i,B.resolve(s)):n.li.allocateTargetId(r).next(o=>(s=new Vs(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.li.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.vs.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.vs=n.vs.insert(r.targetId,r),n.Fs.set(e,r.targetId)),r})}async function Dg(t,e,n){const r=ue(t),s=r.vs.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!ja(o))throw o;Q(Dv,`Failed to update sequence numbers for target ${e}: ${o}`)}r.vs=r.vs.remove(e),r.Fs.delete(s.target)}function f1(t,e,n){const r=ue(t);let s=le.min(),i=we();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,u,d){const h=ue(l),p=h.Fs.get(d);return p!==void 0?B.resolve(h.vs.get(p)):h.li.getTargetData(u,d)}(r,o,Er(e)).next(a=>{if(a)return s=a.lastLimboFreeSnapshotVersion,r.li.getMatchingKeysForTargetId(o,a.targetId).next(l=>{i=l})}).next(()=>r.Cs.getDocumentsMatchingQuery(o,e,n?s:le.min(),n?i:we())).next(a=>(E6(r,i5(e),a),{documents:a,ks:i})))}function E6(t,e,n){let r=t.Ms.get(e)||le.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.Ms.set(e,r)}class p1{constructor(){this.activeTargetIds=d5()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class x6{constructor(){this.vo=new p1,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,n,r){this.Fo[e]=n}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new p1,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T6{Mo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m1="ConnectivityMonitor";class g1{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){Q(m1,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){Q(m1,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Du=null;function Mg(){return Du===null?Du=function(){return 268435456+Math.round(2147483648*Math.random())}():Du++,"0x"+Du.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hp="RestConnection",S6={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class b6{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+e.host,this.Uo=`projects/${r}/databases/${s}`,this.$o=this.databaseId.database===Xd?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Wo(e,n,r,s,i){const o=Mg(),a=this.Qo(e,n.toUriEncodedString());Q(Hp,`Sending RPC '${e}' ${o}:`,a,r);const l={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(l,s,i);const{host:u}=new URL(a),d=Ma(u);return this.zo(e,a,l,r,d).then(h=>(Q(Hp,`Received RPC '${e}' ${o}: `,h),h),h=>{throw Qi(Hp,`RPC '${e}' ${o} failed with error: `,h,"url: ",a,"request:",r),h})}jo(e,n,r,s,i,o){return this.Wo(e,n,r,s,i)}Go(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+La}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,i)=>e[i]=s),r&&r.headers.forEach((s,i)=>e[i]=s)}Qo(e,n){const r=S6[e];let s=`${this.qo}/v1/${n}:${r}`;return this.databaseInfo.apiKey&&(s=`${s}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),s}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I6{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const It="WebChannelConnection",pl=(t,e,n)=>{t.listen(e,r=>{try{n(r)}catch(s){setTimeout(()=>{throw s},0)}})};class Go extends b6{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!Go.c_){const e=XI();pl(e,YI.STAT_EVENT,n=>{n.stat===xg.PROXY?Q(It,"STAT_EVENT: detected buffering proxy"):n.stat===xg.NOPROXY&&Q(It,"STAT_EVENT: detected no buffering proxy")}),Go.c_=!0}}zo(e,n,r,s,i){const o=Mg();return new Promise((a,l)=>{const u=new KI;u.setWithCredentials(!0),u.listenOnce(QI.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case rd.NO_ERROR:const h=u.getResponseJson();Q(It,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(h)),a(h);break;case rd.TIMEOUT:Q(It,`RPC '${e}' ${o} timed out`),l(new K($.DEADLINE_EXCEEDED,"Request time out"));break;case rd.HTTP_ERROR:const p=u.getStatus();if(Q(It,`RPC '${e}' ${o} failed with status:`,p,"response text:",u.getResponseText()),p>0){let g=u.getResponseJson();Array.isArray(g)&&(g=g[0]);const S=g==null?void 0:g.error;if(S&&S.status&&S.message){const E=function(v){const _=v.toLowerCase().replace(/_/g,"-");return Object.values($).indexOf(_)>=0?_:$.UNKNOWN}(S.status);l(new K(E,S.message))}else l(new K($.UNKNOWN,"Server responded with status "+u.getStatus()))}else l(new K($.UNAVAILABLE,"Connection failed."));break;default:re(9055,{l_:e,streamId:o,h_:u.getLastErrorCode(),P_:u.getLastError()})}}finally{Q(It,`RPC '${e}' ${o} completed.`)}});const d=JSON.stringify(s);Q(It,`RPC '${e}' ${o} sending request:`,s),u.send(n,"POST",d,r,15)})}T_(e,n,r){const s=Mg(),i=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=this.createWebChannelTransport(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(a.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(a.useFetchStreams=!0),this.Go(a.initMessageHeaders,n,r),a.encodeInitMessageHeaders=!0;const u=i.join("");Q(It,`Creating RPC '${e}' stream ${s}: ${u}`,a);const d=o.createWebChannel(u,a);this.I_(d);let h=!1,p=!1;const g=new I6({Ho:S=>{p?Q(It,`Not sending because RPC '${e}' stream ${s} is closed:`,S):(h||(Q(It,`Opening RPC '${e}' stream ${s} transport.`),d.open(),h=!0),Q(It,`RPC '${e}' stream ${s} sending:`,S),d.send(S))},Jo:()=>d.close()});return pl(d,wl.EventType.OPEN,()=>{p||(Q(It,`RPC '${e}' stream ${s} transport opened.`),g.i_())}),pl(d,wl.EventType.CLOSE,()=>{p||(p=!0,Q(It,`RPC '${e}' stream ${s} transport closed`),g.o_(),this.E_(d))}),pl(d,wl.EventType.ERROR,S=>{p||(p=!0,Qi(It,`RPC '${e}' stream ${s} transport errored. Name:`,S.name,"Message:",S.message),g.o_(new K($.UNAVAILABLE,"The operation could not be completed")))}),pl(d,wl.EventType.MESSAGE,S=>{var E;if(!p){const x=S.data[0];Ie(!!x,16349);const v=x,_=(v==null?void 0:v.error)||((E=v[0])==null?void 0:E.error);if(_){Q(It,`RPC '${e}' stream ${s} received error:`,_);const T=_.status;let P=function(I){const b=et[I];if(b!==void 0)return MC(b)}(T),M=_.message;T==="NOT_FOUND"&&M.includes("database")&&M.includes("does not exist")&&M.includes(this.databaseId.database)&&Qi(`Database '${this.databaseId.database}' not found. Please check your project configuration.`),P===void 0&&(P=$.INTERNAL,M="Unknown error status: "+T+" with message "+_.message),p=!0,g.o_(new K(P,M)),d.close()}else Q(It,`RPC '${e}' stream ${s} received:`,x),g.__(x)}}),Go.u_(),setTimeout(()=>{g.s_()},0),g}terminate(){this.a_.forEach(e=>e.close()),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter(n=>n===e)}Go(e,n,r){super.Go(e,n,r),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return JI()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C6(t){return new Go(t)}function Wp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yf(t){return new k5(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Go.c_=!1;class QC{constructor(e,n,r=1e3,s=1.5,i=6e4){this.Ci=e,this.timerId=n,this.R_=r,this.A_=s,this.V_=i,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const n=Math.floor(this.d_+this.y_()),r=Math.max(0,Date.now()-this.f_),s=Math.max(0,n-r);s>0&&Q("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,s,()=>(this.f_=Date.now(),e())),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y1="PersistentStream";class YC{constructor(e,n,r,s,i,o,a,l){this.Ci=e,this.b_=r,this.S_=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new QC(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,()=>this.k_()))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===$.RESOURCE_EXHAUSTED?(ts(n.toString()),ts("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===$.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(n)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.D_===n&&this.G_(r,s)},r=>{e(()=>{const s=new K($.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(s)})})}G_(e,n){const r=this.Q_(this.D_);this.stream=this.j_(e,n),this.stream.Zo(()=>{r(()=>this.listener.Zo())}),this.stream.Yo(()=>{r(()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.Yo()))}),this.stream.t_(s=>{r(()=>this.z_(s))}),this.stream.onMessage(s=>{r(()=>++this.F_==1?this.H_(s):this.onNext(s))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return Q(y1,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return n=>{this.Ci.enqueueAndForget(()=>this.D_===e?n():(Q(y1,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class A6 extends YC{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}j_(e,n){return this.connection.T_("Listen",e,n)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=M5(this.serializer,e),r=function(i){if(!("targetChange"in i))return le.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?le.min():o.readTime?Tr(o.readTime):le.min()}(e);return this.listener.J_(n,r)}Z_(e){const n={};n.database=Ng(this.serializer),n.addTarget=function(i,o){let a;const l=o.target;if(a=Cg(l)?{documents:V5(i,l)}:{query:j5(i,l).ft},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=VC(i,o.resumeToken);const u=Rg(i,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(le.min())>0){a.readTime=nh(i,o.snapshotVersion.toTimestamp());const u=Rg(i,o.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const r=U5(this.serializer,e);r&&(n.labels=r),this.K_(n)}X_(e){const n={};n.database=Ng(this.serializer),n.removeTarget=e,this.K_(n)}}class R6 extends YC{constructor(e,n,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}H_(e){return Ie(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ie(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ie(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=L5(e.writeResults,e.commitTime),r=Tr(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=Ng(this.serializer),this.K_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>O5(this.serializer,r))};this.K_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P6{}class k6 extends P6{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new K($.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,r,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.Wo(e,Pg(n,r),s,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new K($.UNKNOWN,i.toString())})}jo(e,n,r,s,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.jo(e,Pg(n,r),s,o,a,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new K($.UNKNOWN,o.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}function N6(t,e,n,r){return new k6(t,e,n,r)}class D6{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ts(n),this.aa=!1):Q("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yi="RemoteStore";class M6{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=i,this.Aa.Mo(o=>{r.enqueueAndForget(async()=>{co(this)&&(Q(Yi,"Restarting streams for network reachability change."),await async function(l){const u=ue(l);u.Ea.add(4),await Fc(u),u.Va.set("Unknown"),u.Ea.delete(4),await vf(u)}(this))})}),this.Va=new D6(r,s)}}async function vf(t){if(co(t))for(const e of t.Ra)await e(!0)}async function Fc(t){for(const e of t.Ra)await e(!1)}function XC(t,e){const n=ue(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Vv(n)?Lv(n):Ua(n).O_()&&Ov(n,e))}function Mv(t,e){const n=ue(t),r=Ua(n);n.Ia.delete(e),r.O_()&&JC(n,e),n.Ia.size===0&&(r.O_()?r.L_():co(n)&&n.Va.set("Unknown"))}function Ov(t,e){if(t.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(le.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ua(t).Z_(e)}function JC(t,e){t.da.$e(e),Ua(t).X_(e)}function Lv(t){t.da=new C5({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Ua(t).start(),t.Va.ua()}function Vv(t){return co(t)&&!Ua(t).x_()&&t.Ia.size>0}function co(t){return ue(t).Ea.size===0}function ZC(t){t.da=void 0}async function O6(t){t.Va.set("Online")}async function L6(t){t.Ia.forEach((e,n)=>{Ov(t,e)})}async function V6(t,e){ZC(t),Vv(t)?(t.Va.ha(e),Lv(t)):t.Va.set("Unknown")}async function j6(t,e,n){if(t.Va.set("Online"),e instanceof LC&&e.state===2&&e.cause)try{await async function(s,i){const o=i.cause;for(const a of i.targetIds)s.Ia.has(a)&&(await s.remoteSyncer.rejectListen(a,o),s.Ia.delete(a),s.da.removeTarget(a))}(t,e)}catch(r){Q(Yi,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await sh(t,r)}else if(e instanceof ad?t.da.Xe(e):e instanceof OC?t.da.st(e):t.da.tt(e),!n.isEqual(le.min()))try{const r=await KC(t.localStore);n.compareTo(r)>=0&&await function(i,o){const a=i.da.Tt(o);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const d=i.Ia.get(u);d&&i.Ia.set(u,d.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,u)=>{const d=i.Ia.get(l);if(!d)return;i.Ia.set(l,d.withResumeToken(xt.EMPTY_BYTE_STRING,d.snapshotVersion)),JC(i,l);const h=new Vs(d.target,l,u,d.sequenceNumber);Ov(i,h)}),i.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){Q(Yi,"Failed to raise snapshot:",r),await sh(t,r)}}async function sh(t,e,n){if(!ja(e))throw e;t.Ea.add(1),await Fc(t),t.Va.set("Offline"),n||(n=()=>KC(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Q(Yi,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await vf(t)})}function eA(t,e){return e().catch(n=>sh(t,n,e))}async function wf(t){const e=ue(t),n=oi(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Ev;for(;F6(e);)try{const s=await w6(e.localStore,r);if(s===null){e.Ta.length===0&&n.L_();break}r=s.batchId,U6(e,s)}catch(s){await sh(e,s)}tA(e)&&nA(e)}function F6(t){return co(t)&&t.Ta.length<10}function U6(t,e){t.Ta.push(e);const n=oi(t);n.O_()&&n.Y_&&n.ea(e.mutations)}function tA(t){return co(t)&&!oi(t).x_()&&t.Ta.length>0}function nA(t){oi(t).start()}async function $6(t){oi(t).ra()}async function B6(t){const e=oi(t);for(const n of t.Ta)e.ea(n.mutations)}async function z6(t,e,n){const r=t.Ta.shift(),s=Cv.from(r,e,n);await eA(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await wf(t)}async function H6(t,e){e&&oi(t).Y_&&await async function(r,s){if(function(o){return S5(o)&&o!==$.ABORTED}(s.code)){const i=r.Ta.shift();oi(r).B_(),await eA(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await wf(r)}}(t,e),tA(t)&&nA(t)}async function v1(t,e){const n=ue(t);n.asyncQueue.verifyOperationInProgress(),Q(Yi,"RemoteStore received new credentials");const r=co(n);n.Ea.add(3),await Fc(n),r&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await vf(n)}async function W6(t,e){const n=ue(t);e?(n.Ea.delete(2),await vf(n)):e||(n.Ea.add(2),await Fc(n),n.Va.set("Unknown"))}function Ua(t){return t.ma||(t.ma=function(n,r,s){const i=ue(n);return i.sa(),new A6(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Zo:O6.bind(null,t),Yo:L6.bind(null,t),t_:V6.bind(null,t),J_:j6.bind(null,t)}),t.Ra.push(async e=>{e?(t.ma.B_(),Vv(t)?Lv(t):t.Va.set("Unknown")):(await t.ma.stop(),ZC(t))})),t.ma}function oi(t){return t.fa||(t.fa=function(n,r,s){const i=ue(n);return i.sa(),new R6(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Zo:()=>Promise.resolve(),Yo:$6.bind(null,t),t_:H6.bind(null,t),ta:B6.bind(null,t),na:z6.bind(null,t)}),t.Ra.push(async e=>{e?(t.fa.B_(),await wf(t)):(await t.fa.stop(),t.Ta.length>0&&(Q(Yi,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jv{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new Gr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,a=new jv(e,n,o,s,i);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new K($.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Fv(t,e){if(ts("AsyncQueue",`${e}: ${t}`),ja(t))return new K($.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ko{static emptySet(e){return new Ko(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||te.comparator(n.key,r.key):(n,r)=>te.comparator(n.key,r.key),this.keyedMap=_l(),this.sortedSet=new We(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ko)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Ko;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w1{constructor(){this.ga=new We(te.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):re(63341,{Vt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,r)=>{e.push(r)}),e}}class Sa{constructor(e,n,r,s,i,o,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Sa(e,n,Ko.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&hf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q6{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some(e=>e.Da())}}class G6{constructor(){this.queries=_1(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const s=ue(n),i=s.queries;s.queries=_1(),i.forEach((o,a)=>{for(const l of a.ba)l.onError(r)})})(this,new K($.ABORTED,"Firestore shutting down"))}}function _1(){return new ao(t=>EC(t),hf)}async function Uv(t,e){const n=ue(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.Sa()&&e.Da()&&(r=2):(i=new q6,r=e.Da()?0:1);try{switch(r){case 0:i.wa=await n.onListen(s,!0);break;case 1:i.wa=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(o){const a=Fv(o,`Initialization of query '${To(e.query)}' failed`);return void e.onError(a)}n.queries.set(s,i),i.ba.push(e),e.va(n.onlineState),i.wa&&e.Fa(i.wa)&&Bv(n)}async function $v(t,e){const n=ue(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const o=i.ba.indexOf(e);o>=0&&(i.ba.splice(o,1),i.ba.length===0?s=e.Da()?0:1:!i.Sa()&&e.Da()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function K6(t,e){const n=ue(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const a of o.ba)a.Fa(s)&&(r=!0);o.wa=s}}r&&Bv(n)}function Q6(t,e,n){const r=ue(t),s=r.queries.get(e);if(s)for(const i of s.ba)i.onError(n);r.queries.delete(e)}function Bv(t){t.Ca.forEach(e=>{e.next()})}var Og,E1;(E1=Og||(Og={})).Ma="default",E1.Cache="cache";class zv{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new Sa(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.Ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Sa.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Og.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rA{constructor(e){this.key=e}}class sA{constructor(e){this.key=e}}class Y6{constructor(e,n){this.query=e,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=we(),this.mutatedKeys=we(),this.eu=xC(e),this.tu=new Ko(this.eu)}get nu(){return this.Za}ru(e,n){const r=n?n.iu:new w1,s=n?n.tu:this.tu;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,a=!1;const l=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,u=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((d,h)=>{const p=s.get(d),g=ff(this.query,h)?h:null,S=!!p&&this.mutatedKeys.has(p.key),E=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations);let x=!1;p&&g?p.data.isEqual(g.data)?S!==E&&(r.track({type:3,doc:g}),x=!0):this.su(p,g)||(r.track({type:2,doc:g}),x=!0,(l&&this.eu(g,l)>0||u&&this.eu(g,u)<0)&&(a=!0)):!p&&g?(r.track({type:0,doc:g}),x=!0):p&&!g&&(r.track({type:1,doc:p}),x=!0,(l||u)&&(a=!0)),x&&(g?(o=o.add(g),i=E?i.add(d):i.delete(d)):(o=o.delete(d),i=i.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),i=i.delete(d.key),r.track({type:1,doc:d})}return{tu:o,iu:r,Ss:a,mutatedKeys:i}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const o=e.iu.ya();o.sort((d,h)=>function(g,S){const E=x=>{switch(x){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return re(20277,{Vt:x})}};return E(g)-E(S)}(d.type,h.type)||this.eu(d.doc,h.doc)),this.ou(r),s=s??!1;const a=n&&!s?this._u():[],l=this.Ya.size===0&&this.current&&!s?1:0,u=l!==this.Xa;return this.Xa=l,o.length!==0||u?{snapshot:new Sa(this.query,e.tu,i,o,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:a}:{au:a}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new w1,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Za=this.Za.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Za=this.Za.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=we(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Ya=this.Ya.add(r.key))});const n=[];return e.forEach(r=>{this.Ya.has(r)||n.push(new sA(r))}),this.Ya.forEach(r=>{e.has(r)||n.push(new rA(r))}),n}cu(e){this.Za=e.ks,this.Ya=we();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Sa.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const Hv="SyncEngine";class X6{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class J6{constructor(e){this.key=e,this.hu=!1}}class Z6{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new ao(a=>EC(a),hf),this.Iu=new Map,this.Eu=new Set,this.Ru=new We(te.comparator),this.Au=new Map,this.Vu=new Pv,this.du={},this.mu=new Map,this.fu=Ta.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function eU(t,e,n=!0){const r=uA(t);let s;const i=r.Tu.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.lu()):s=await iA(r,e,n,!0),s}async function tU(t,e){const n=uA(t);await iA(n,e,!0,!1)}async function iA(t,e,n,r){const s=await _6(t.localStore,Er(e)),i=s.targetId,o=t.sharedClientState.addLocalQueryTarget(i,n);let a;return r&&(a=await nU(t,e,i,o==="current",s.resumeToken)),t.isPrimaryClient&&n&&XC(t.remoteStore,s),a}async function nU(t,e,n,r,s){t.pu=(h,p,g)=>async function(E,x,v,_){let T=x.view.ru(v);T.Ss&&(T=await f1(E.localStore,x.query,!1).then(({documents:I})=>x.view.ru(I,T)));const P=_&&_.targetChanges.get(x.targetId),M=_&&_.targetMismatches.get(x.targetId)!=null,O=x.view.applyChanges(T,E.isPrimaryClient,P,M);return T1(E,x.targetId,O.au),O.snapshot}(t,h,p,g);const i=await f1(t.localStore,e,!0),o=new Y6(e,i.ks),a=o.ru(i.documents),l=jc.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),u=o.applyChanges(a,t.isPrimaryClient,l);T1(t,n,u.au);const d=new X6(e,n,o);return t.Tu.set(e,d),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),u.snapshot}async function rU(t,e,n){const r=ue(t),s=r.Tu.get(e),i=r.Iu.get(s.targetId);if(i.length>1)return r.Iu.set(s.targetId,i.filter(o=>!hf(o,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await Dg(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&Mv(r.remoteStore,s.targetId),Lg(r,s.targetId)}).catch(Va)):(Lg(r,s.targetId),await Dg(r.localStore,s.targetId,!0))}async function sU(t,e){const n=ue(t),r=n.Tu.get(e),s=n.Iu.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Mv(n.remoteStore,r.targetId))}async function iU(t,e,n){const r=hU(t);try{const s=await function(o,a){const l=ue(o),u=Ce.now(),d=a.reduce((g,S)=>g.add(S.key),we());let h,p;return l.persistence.runTransaction("Locally write mutations","readwrite",g=>{let S=ns(),E=we();return l.xs.getEntries(g,d).next(x=>{S=x,S.forEach((v,_)=>{_.isValidDocument()||(E=E.add(v))})}).next(()=>l.localDocuments.getOverlayedDocuments(g,S)).next(x=>{h=x;const v=[];for(const _ of a){const T=w5(_,h.get(_.key).overlayedDocument);T!=null&&v.push(new lo(_.key,T,fC(T.value.mapValue),xr.exists(!0)))}return l.mutationQueue.addMutationBatch(g,u,v,a)}).next(x=>{p=x;const v=x.applyToLocalDocumentSet(h,E);return l.documentOverlayCache.saveOverlays(g,x.batchId,v)})}).then(()=>({batchId:p.batchId,changes:SC(h)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(o,a,l){let u=o.du[o.currentUser.toKey()];u||(u=new We(ve)),u=u.insert(a,l),o.du[o.currentUser.toKey()]=u}(r,s.batchId,n),await Uc(r,s.changes),await wf(r.remoteStore)}catch(s){const i=Fv(s,"Failed to persist write");n.reject(i)}}async function oA(t,e){const n=ue(t);try{const r=await y6(n.localStore,e);e.targetChanges.forEach((s,i)=>{const o=n.Au.get(i);o&&(Ie(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?o.hu=!0:s.modifiedDocuments.size>0?Ie(o.hu,14607):s.removedDocuments.size>0&&(Ie(o.hu,42227),o.hu=!1))}),await Uc(n,r,e)}catch(r){await Va(r)}}function x1(t,e,n){const r=ue(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Tu.forEach((i,o)=>{const a=o.view.va(e);a.snapshot&&s.push(a.snapshot)}),function(o,a){const l=ue(o);l.onlineState=a;let u=!1;l.queries.forEach((d,h)=>{for(const p of h.ba)p.va(a)&&(u=!0)}),u&&Bv(l)}(r.eventManager,e),s.length&&r.Pu.J_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function oU(t,e,n){const r=ue(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Au.get(e),i=s&&s.key;if(i){let o=new We(te.comparator);o=o.insert(i,Pt.newNoDocument(i,le.min()));const a=we().add(i),l=new gf(le.min(),new Map,new We(ve),o,a);await oA(r,l),r.Ru=r.Ru.remove(i),r.Au.delete(e),Wv(r)}else await Dg(r.localStore,e,!1).then(()=>Lg(r,e,n)).catch(Va)}async function aU(t,e){const n=ue(t),r=e.batch.batchId;try{const s=await g6(n.localStore,e);lA(n,r,null),aA(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Uc(n,s)}catch(s){await Va(s)}}async function lU(t,e,n){const r=ue(t);try{const s=await function(o,a){const l=ue(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let d;return l.mutationQueue.lookupMutationBatch(u,a).next(h=>(Ie(h!==null,37113),d=h.keys(),l.mutationQueue.removeMutationBatch(u,h))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,d,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,d)).next(()=>l.localDocuments.getDocuments(u,d))})}(r.localStore,e);lA(r,e,n),aA(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Uc(r,s)}catch(s){await Va(s)}}function aA(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function lA(t,e,n){const r=ue(t);let s=r.du[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.du[r.currentUser.toKey()]=s}}function Lg(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Vu.Gr(e).forEach(r=>{t.Vu.containsKey(r)||cA(t,r)})}function cA(t,e){t.Eu.delete(e.path.canonicalString());const n=t.Ru.get(e);n!==null&&(Mv(t.remoteStore,n),t.Ru=t.Ru.remove(e),t.Au.delete(n),Wv(t))}function T1(t,e,n){for(const r of n)r instanceof rA?(t.Vu.addReference(r.key,e),cU(t,r)):r instanceof sA?(Q(Hv,"Document no longer in limbo: "+r.key),t.Vu.removeReference(r.key,e),t.Vu.containsKey(r.key)||cA(t,r.key)):re(19791,{wu:r})}function cU(t,e){const n=e.key,r=n.path.canonicalString();t.Ru.get(n)||t.Eu.has(r)||(Q(Hv,"New document in limbo: "+n),t.Eu.add(r),Wv(t))}function Wv(t){for(;t.Eu.size>0&&t.Ru.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new te(Me.fromString(e)),r=t.fu.next();t.Au.set(r,new J6(n)),t.Ru=t.Ru.insert(n,r),XC(t.remoteStore,new Vs(Er(df(n.path)),r,"TargetPurposeLimboResolution",lf.ce))}}async function Uc(t,e,n){const r=ue(t),s=[],i=[],o=[];r.Tu.isEmpty()||(r.Tu.forEach((a,l)=>{o.push(r.pu(l,e,n).then(u=>{var d;if((u||n)&&r.isPrimaryClient){const h=u?!u.fromCache:(d=n==null?void 0:n.targetChanges.get(l.targetId))==null?void 0:d.current;r.sharedClientState.updateQueryState(l.targetId,h?"current":"not-current")}if(u){s.push(u);const h=Nv.Es(l.targetId,u);i.push(h)}}))}),await Promise.all(o),r.Pu.J_(s),await async function(l,u){const d=ue(l);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>B.forEach(u,p=>B.forEach(p.Ts,g=>d.persistence.referenceDelegate.addReference(h,p.targetId,g)).next(()=>B.forEach(p.Is,g=>d.persistence.referenceDelegate.removeReference(h,p.targetId,g)))))}catch(h){if(!ja(h))throw h;Q(Dv,"Failed to update sequence numbers: "+h)}for(const h of u){const p=h.targetId;if(!h.fromCache){const g=d.vs.get(p),S=g.snapshotVersion,E=g.withLastLimboFreeSnapshotVersion(S);d.vs=d.vs.insert(p,E)}}}(r.localStore,i))}async function uU(t,e){const n=ue(t);if(!n.currentUser.isEqual(e)){Q(Hv,"User change. New user:",e.toKey());const r=await GC(n.localStore,e);n.currentUser=e,function(i,o){i.mu.forEach(a=>{a.forEach(l=>{l.reject(new K($.CANCELLED,o))})}),i.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Uc(n,r.Ns)}}function dU(t,e){const n=ue(t),r=n.Au.get(e);if(r&&r.hu)return we().add(r.key);{let s=we();const i=n.Iu.get(e);if(!i)return s;for(const o of i){const a=n.Tu.get(o);s=s.unionWith(a.view.nu)}return s}}function uA(t){const e=ue(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=oA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=dU.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=oU.bind(null,e),e.Pu.J_=K6.bind(null,e.eventManager),e.Pu.yu=Q6.bind(null,e.eventManager),e}function hU(t){const e=ue(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=aU.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=lU.bind(null,e),e}class ih{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=yf(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return m6(this.persistence,new h6,e.initialUser,this.serializer)}Cu(e){return new qC(kv.Vi,this.serializer)}Du(e){return new x6}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ih.provider={build:()=>new ih};class fU extends ih{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Ie(this.persistence.referenceDelegate instanceof rh,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new X5(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?qt.withCacheSize(this.cacheSizeBytes):qt.DEFAULT;return new qC(r=>rh.Vi(r,n),this.serializer)}}class Vg{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>x1(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=uU.bind(null,this.syncEngine),await W6(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new G6}()}createDatastore(e){const n=yf(e.databaseInfo.databaseId),r=C6(e.databaseInfo);return N6(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,o,a){return new M6(r,s,i,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>x1(this.syncEngine,n,0),function(){return g1.v()?new g1:new T6}())}createSyncEngine(e,n){return function(s,i,o,a,l,u,d){const h=new Z6(s,i,o,a,l,u);return d&&(h.gu=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const i=ue(s);Q(Yi,"RemoteStore shutting down."),i.Ea.add(5),await Fc(i),i.Aa.shutdown(),i.Va.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}Vg.provider={build:()=>new Vg};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qv{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):ts("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ai="FirestoreClient";class pU{constructor(e,n,r,s,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this._databaseInfo=s,this.user=At.UNAUTHENTICATED,this.clientId=_v.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,async o=>{Q(ai,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(Q(ai,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Gr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Fv(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function qp(t,e){t.asyncQueue.verifyOperationInProgress(),Q(ai,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await GC(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function S1(t,e){t.asyncQueue.verifyOperationInProgress();const n=await mU(t);Q(ai,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>v1(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>v1(e.remoteStore,s)),t._onlineComponents=e}async function mU(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Q(ai,"Using user provided OfflineComponentProvider");try{await qp(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===$.FAILED_PRECONDITION||s.code===$.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;Qi("Error using user provided cache. Falling back to memory cache: "+n),await qp(t,new ih)}}else Q(ai,"Using default OfflineComponentProvider"),await qp(t,new fU(void 0));return t._offlineComponents}async function dA(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Q(ai,"Using user provided OnlineComponentProvider"),await S1(t,t._uninitializedComponentsProvider._online)):(Q(ai,"Using default OnlineComponentProvider"),await S1(t,new Vg))),t._onlineComponents}function gU(t){return dA(t).then(e=>e.syncEngine)}async function oh(t){const e=await dA(t),n=e.eventManager;return n.onListen=eU.bind(null,e.syncEngine),n.onUnlisten=rU.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=tU.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=sU.bind(null,e.syncEngine),n}function yU(t,e,n,r){const s=new qv(r),i=new zv(e,s,n);return t.asyncQueue.enqueueAndForget(async()=>Uv(await oh(t),i)),()=>{s.Nu(),t.asyncQueue.enqueueAndForget(async()=>$v(await oh(t),i))}}function vU(t,e,n={}){const r=new Gr;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,l,u){const d=new qv({next:p=>{d.Nu(),o.enqueueAndForget(()=>$v(i,h));const g=p.docs.has(a);!g&&p.fromCache?u.reject(new K($.UNAVAILABLE,"Failed to get document because the client is offline.")):g&&p.fromCache&&l&&l.source==="server"?u.reject(new K($.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(p)},error:p=>u.reject(p)}),h=new zv(df(a.path),d,{includeMetadataChanges:!0,Ka:!0});return Uv(i,h)}(await oh(t),t.asyncQueue,e,n,r)),r.promise}function wU(t,e,n={}){const r=new Gr;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,l,u){const d=new qv({next:p=>{d.Nu(),o.enqueueAndForget(()=>$v(i,h)),p.fromCache&&l.source==="server"?u.reject(new K($.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(p)},error:p=>u.reject(p)}),h=new zv(a,d,{includeMetadataChanges:!0,Ka:!0});return Uv(i,h)}(await oh(t),t.asyncQueue,e,n,r)),r.promise}function _U(t,e){const n=new Gr;return t.asyncQueue.enqueueAndForget(async()=>iU(await gU(t),e,n)),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hA(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EU="ComponentProvider",b1=new Map;function xU(t,e,n,r,s){return new $3(t,e,n,s.host,s.ssl,s.experimentalForceLongPolling,s.experimentalAutoDetectLongPolling,hA(s.experimentalLongPollingOptions),s.useFetchStreams,s.isUsingEmulator,r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fA="firestore.googleapis.com",I1=!0;class C1{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new K($.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=fA,this.ssl=I1}else this.host=e.host,this.ssl=e.ssl??I1;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=WC;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Q5)throw new K($.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}P3("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=hA(e.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new K($.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new K($.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new K($.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class _f{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new C1({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new K($.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new K($.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new C1(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new _3;switch(r.type){case"firstParty":return new S3(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new K($.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=b1.get(n);r&&(Q(EU,"Removing Datastore"),b1.delete(n),r.terminate())}(this),Promise.resolve()}}function TU(t,e,n,r={}){var u;t=qn(t,_f);const s=Ma(e),i=t._getSettings(),o={...i,emulatorOptions:t._getEmulatorOptions()},a=`${e}:${n}`;s&&(jI(`https://${a}`),FI("Firestore",!0)),i.host!==fA&&i.host!==a&&Qi("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l={...i,host:a,ssl:s,emulatorOptions:r};if(!ti(l,o)&&(t._setSettings(l),r.mockUserToken)){let d,h;if(typeof r.mockUserToken=="string")d=r.mockUserToken,h=At.MOCK_USER;else{d=qj(r.mockUserToken,(u=t._app)==null?void 0:u.options.projectId);const p=r.mockUserToken.sub||r.mockUserToken.user_id;if(!p)throw new K($.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new At(p)}t._authCredentials=new E3(new eC(d,h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class is{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new is(this.firestore,e,this._query)}}class Ze{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Qs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ze(this.firestore,e,this._key)}toJSON(){return{type:Ze._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Lc(n,Ze._jsonSchema))return new Ze(e,r||null,new te(Me.fromString(n.referencePath)))}}Ze._jsonSchemaVersion="firestore/documentReference/1.0",Ze._jsonSchema={type:st("string",Ze._jsonSchemaVersion),referencePath:st("string")};class Qs extends is{constructor(e,n,r){super(e,n,df(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ze(this.firestore,null,new te(e))}withConverter(e){return new Qs(this.firestore,e,this._path)}}function wc(t,e,...n){if(t=gt(t),tC("collection","path",e),t instanceof _f){const r=Me.fromString(e,...n);return UE(r),new Qs(t,null,r)}{if(!(t instanceof Ze||t instanceof Qs))throw new K($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Me.fromString(e,...n));return UE(r),new Qs(t.firestore,null,r)}}function jr(t,e,...n){if(t=gt(t),arguments.length===1&&(e=_v.newId()),tC("doc","path",e),t instanceof _f){const r=Me.fromString(e,...n);return FE(r),new Ze(t,null,new te(r))}{if(!(t instanceof Ze||t instanceof Qs))throw new K($.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Me.fromString(e,...n));return FE(r),new Ze(t.firestore,t instanceof Qs?t.converter:null,new te(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A1="AsyncQueue";class R1{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new QC(this,"async_queue_retry"),this._c=()=>{const r=Wp();r&&Q(A1,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=Wp();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Wp();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new Gr;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Yu.push(e),this.lc()))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!ja(e))throw e;Q(A1,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,ts("INTERNAL UNHANDLED ERROR: ",P1(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const s=jv.createAndSchedule(this,e,n,r,i=>this.hc(i));return this.tc.push(s),s}uc(){this.nc&&re(47125,{Pc:P1(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}Rc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function P1(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class Xi extends _f{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new R1,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new R1(e),this._firestoreClient=void 0,await e}}}function SU(t,e){const n=typeof t=="object"?t:vv(),r=typeof t=="string"?t:Xd,s=io(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=Hj("firestore");i&&TU(s,...i)}return s}function Ef(t){if(t._terminated)throw new K($.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||bU(t),t._firestoreClient}function bU(t){var r,s,i,o;const e=t._freezeSettings(),n=xU(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,(s=t._app)==null?void 0:s.options.apiKey,e);t._componentsProvider||(i=e.localCache)!=null&&i._offlineComponentProvider&&((o=e.localCache)!=null&&o._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new pU(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(l){const u=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(u),_online:u}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Tn(xt.fromBase64String(e))}catch(n){throw new K($.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Tn(xt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Tn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Lc(e,Tn._jsonSchema))return Tn.fromBase64String(e.bytes)}}Tn._jsonSchemaVersion="firestore/bytes/1.0",Tn._jsonSchema={type:st("string",Tn._jsonSchemaVersion),bytes:st("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pA{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new K($.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new wt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gv{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sr{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new K($.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new K($.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ve(this._lat,e._lat)||ve(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Sr._jsonSchemaVersion}}static fromJSON(e){if(Lc(e,Sr._jsonSchema))return new Sr(e.latitude,e.longitude)}}Sr._jsonSchemaVersion="firestore/geoPoint/1.0",Sr._jsonSchema={type:st("string",Sr._jsonSchemaVersion),latitude:st("number"),longitude:st("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gn{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Gn._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Lc(e,Gn._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new Gn(e.vectorValues);throw new K($.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Gn._jsonSchemaVersion="firestore/vectorValue/1.0",Gn._jsonSchema={type:st("string",Gn._jsonSchemaVersion),vectorValues:st("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IU=/^__.*__$/;class CU{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new lo(e,this.data,this.fieldMask,n,this.fieldTransforms):new Vc(e,this.data,n,this.fieldTransforms)}}function mA(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw re(40011,{dataSource:t})}}class Kv{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.validatePath(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new Kv({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){var s;const n=(s=this.path)==null?void 0:s.child(e),r=this.contextWith({path:n,arrayElement:!1});return r.validatePathSegment(e),r}childContextForFieldPath(e){var s;const n=(s=this.path)==null?void 0:s.child(e),r=this.contextWith({path:n,arrayElement:!1});return r.validatePath(),r}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return ah(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(mA(this.dataSource)&&IU.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class AU{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||yf(e)}createContext(e,n,r,s=!1){return new Kv({dataSource:e,methodName:n,targetDoc:r,path:wt.emptyPath(),arrayElement:!1,hasConverter:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Qv(t){const e=t._freezeSettings(),n=yf(t._databaseId);return new AU(t._databaseId,!!e.ignoreUndefinedProperties,n)}function gA(t,e,n,r,s,i={}){const o=t.createContext(i.merge||i.mergeFields?2:0,e,n,s);wA("Data must be an object, but it was:",o,r);const a=yA(r,o);let l,u;if(i.merge)l=new Bn(o.fieldMask),u=o.fieldTransforms;else if(i.mergeFields){const d=[];for(const h of i.mergeFields){const p=xf(e,h,n);if(!o.contains(p))throw new K($.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);NU(d,p)||d.push(p)}l=new Bn(d),u=o.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,u=o.fieldTransforms;return new CU(new xn(a),l,u)}class Yv extends Gv{_toFieldTransform(e){return new m5(e.path,new gc)}isEqual(e){return e instanceof Yv}}function RU(t,e,n,r=!1){return Xv(n,t.createContext(r?4:3,e))}function Xv(t,e){if(vA(t=gt(t)))return wA("Unsupported field value:",e,t),yA(t,e);if(t instanceof Gv)return function(r,s){if(!mA(s.dataSource))throw s.createError(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.createError(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return function(r,s){const i=[];let o=0;for(const a of r){let l=Xv(a,s.childContextForArray(o));l==null&&(l={nullValue:"NULL_VALUE"}),i.push(l),o++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=gt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return h5(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=Ce.fromDate(r);return{timestampValue:nh(s.serializer,i)}}if(r instanceof Ce){const i=new Ce(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:nh(s.serializer,i)}}if(r instanceof Sr)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Tn)return{bytesValue:VC(s.serializer,r._byteString)};if(r instanceof Ze){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.createError(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:Rv(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof Gn)return function(o,a){const l=o instanceof Gn?o.toArray():o;return{mapValue:{fields:{[uC]:{stringValue:hC},[Jd]:{arrayValue:{values:l.map(d=>{if(typeof d!="number")throw a.createError("VectorValues must only contain numeric values.");return Iv(a.serializer,d)})}}}}}}(r,s);if(HC(r))return r._toProto(s.serializer);throw s.createError(`Unsupported field value: ${af(r)}`)}(t,e)}function yA(t,e){const n={};return sC(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):oo(t,(r,s)=>{const i=Xv(s,e.childContextForField(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function vA(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ce||t instanceof Sr||t instanceof Tn||t instanceof Ze||t instanceof Gv||t instanceof Gn||HC(t))}function wA(t,e,n){if(!vA(n)||!nC(n)){const r=af(n);throw r==="an object"?e.createError(t+" a custom object"):e.createError(t+" "+r)}}function xf(t,e,n){if((e=gt(e))instanceof pA)return e._internalPath;if(typeof e=="string")return kU(t,e);throw ah("Field path arguments must be of type string or ",t,!1,void 0,n)}const PU=new RegExp("[~\\*/\\[\\]]");function kU(t,e,n){if(e.search(PU)>=0)throw ah(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new pA(...e.split("."))._internalPath}catch{throw ah(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function ah(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(i||o)&&(l+=" (found",i&&(l+=` in field ${r}`),o&&(l+=` in document ${s}`),l+=")"),new K($.INVALID_ARGUMENT,a+t+l)}function NU(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DU{convertValue(e,n="none"){switch(ii(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ye(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(si(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw re(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return oo(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertVectorValue(e){var r,s,i;const n=(i=(s=(r=e.fields)==null?void 0:r[Jd].arrayValue)==null?void 0:s.values)==null?void 0:i.map(o=>Ye(o.doubleValue));return new Gn(n)}convertGeoPoint(e){return new Sr(Ye(e.latitude),Ye(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=uf(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(hc(e));default:return null}}convertTimestamp(e){const n=ri(e);return new Ce(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Me.fromString(e);Ie(zC(r),9688,{name:e});const s=new fc(r.get(1),r.get(3)),i=new te(r.popFirst(5));return s.isEqual(n)||ts(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jv extends DU{constructor(e){super(),this.firestore=e}convertBytes(e){return new Tn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ze(this.firestore,null,n)}}function MU(){return new Yv("serverTimestamp")}const k1="@firebase/firestore",N1="4.11.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D1(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const s=n;for(const i of r)if(i in s&&typeof s[i]=="function")return!0;return!1}(t,["next","error","complete"])}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _A{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Ze(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new OU(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){var e;return((e=this._document)==null?void 0:e.data.clone().value.mapValue.fields)??void 0}get(e){if(this._document){const n=this._document.data.field(xf("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class OU extends _A{data(){return super.data()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EA(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new K($.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Zv{}class ew extends Zv{}function jg(t,e,...n){let r=[];e instanceof Zv&&r.push(e),r=r.concat(n),function(i){const o=i.filter(l=>l instanceof nw).length,a=i.filter(l=>l instanceof tw).length;if(o>1||o>0&&a>0)throw new K($.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)t=s._apply(t);return t}class tw extends ew{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new tw(e,n,r)}_apply(e){const n=this._parse(e);return xA(e._query,n),new is(e.firestore,e.converter,Ag(e._query,n))}_parse(e){const n=Qv(e.firestore);return function(i,o,a,l,u,d,h){let p;if(u.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new K($.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){O1(h,d);const S=[];for(const E of h)S.push(M1(l,i,E));p={arrayValue:{values:S}}}else p=M1(l,i,h)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||O1(h,d),p=RU(a,o,h,d==="in"||d==="not-in");return rt.create(u,d,p)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class nw extends Zv{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new nw(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Zn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,i){let o=s;const a=i.getFlattenedFilters();for(const l of a)xA(o,l),o=Ag(o,l)}(e._query,n),new is(e.firestore,e.converter,Ag(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class rw extends ew{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new rw(e,n)}_apply(e){const n=function(s,i,o){if(s.startAt!==null)throw new K($.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new K($.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new mc(i,o)}(e._query,this._field,this._direction);return new is(e.firestore,e.converter,s5(e._query,n))}}function LU(t,e="asc"){const n=e,r=xf("orderBy",t);return rw._create(r,n)}class sw extends ew{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new sw(e,n,r)}_apply(e){return new is(e.firestore,e.converter,eh(e._query,this._limit,this._limitType))}}function VU(t){return sw._create("limit",t,"F")}function M1(t,e,n){if(typeof(n=gt(n))=="string"){if(n==="")throw new K($.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!_C(e)&&n.indexOf("/")!==-1)throw new K($.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Me.fromString(n));if(!te.isDocumentKey(r))throw new K($.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return KE(t,new te(r))}if(n instanceof Ze)return KE(t,n._key);throw new K($.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${af(n)}.`)}function O1(t,e){if(!Array.isArray(t)||t.length===0)throw new K($.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function xA(t,e){const n=function(s,i){for(const o of s)for(const a of o.getFlattenedFilters())if(i.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new K($.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new K($.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function TA(t,e,n){let r;return r=t?t.toFirestore(e):e,r}class xl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ui extends _A{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new ld(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(xf("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new K($.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Ui._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Ui._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ui._jsonSchema={type:st("string",Ui._jsonSchemaVersion),bundleSource:st("string","DocumentSnapshot"),bundleName:st("string"),bundle:st("string")};class ld extends Ui{data(e={}){return super.data(e)}}class $i{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new xl(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new ld(this._firestore,this._userDataWriter,r.key,r,new xl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new K($.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(a=>{const l=new ld(s._firestore,s._userDataWriter,a.doc.key,a.doc,new xl(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(a=>i||a.type!==3).map(a=>{const l=new ld(s._firestore,s._userDataWriter,a.doc.key,a.doc,new xl(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);let u=-1,d=-1;return a.type!==0&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),d=o.indexOf(a.doc.key)),{type:jU(a.type),doc:l,oldIndex:u,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new K($.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=$i._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=_v.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],s=[];return this.docs.forEach(i=>{i._document!==null&&(n.push(i._document),r.push(this._userDataWriter.convertObjectMap(i._document.data.value.mapValue.fields,"previous")),s.push(i.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function jU(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return re(61501,{type:t})}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */$i._jsonSchemaVersion="firestore/querySnapshot/1.0",$i._jsonSchema={type:st("string",$i._jsonSchemaVersion),bundleSource:st("string","QuerySnapshot"),bundleName:st("string"),bundle:st("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mu(t){t=qn(t,Ze);const e=qn(t.firestore,Xi),n=Ef(e);return vU(n,t._key).then(r=>bA(e,t,r))}function FU(t){t=qn(t,is);const e=qn(t.firestore,Xi),n=Ef(e),r=new Jv(e);return EA(t._query),wU(n,t._query).then(s=>new $i(e,r,t,s))}function cd(t,e,n){t=qn(t,Ze);const r=qn(t.firestore,Xi),s=TA(t.converter,e),i=Qv(r);return SA(r,[gA(i,"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,xr.none())])}function UU(t,e){const n=qn(t.firestore,Xi),r=jr(t),s=TA(t.converter,e),i=Qv(t.firestore);return SA(n,[gA(i,"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,xr.exists(!1))]).then(()=>r)}function Fg(t,...e){var u,d,h;t=gt(t);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||D1(e[r])||(n=e[r++]);const s={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(D1(e[r])){const p=e[r];e[r]=(u=p.next)==null?void 0:u.bind(p),e[r+1]=(d=p.error)==null?void 0:d.bind(p),e[r+2]=(h=p.complete)==null?void 0:h.bind(p)}let i,o,a;if(t instanceof Ze)o=qn(t.firestore,Xi),a=df(t._key.path),i={next:p=>{e[r]&&e[r](bA(o,t,p))},error:e[r+1],complete:e[r+2]};else{const p=qn(t,is);o=qn(p.firestore,Xi),a=p._query;const g=new Jv(o);i={next:S=>{e[r]&&e[r](new $i(o,g,p,S))},error:e[r+1],complete:e[r+2]},EA(t._query)}const l=Ef(o);return yU(l,a,s,i)}function SA(t,e){const n=Ef(t);return _U(n,e)}function bA(t,e,n){const r=n.docs.get(e._key),s=new Jv(t);return new Ui(t,s,e._key,r,new xl(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){w3(Oa),Cr(new Jn("firestore",(r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),a=new Xi(new x3(r.getProvider("auth-internal")),new b3(o,r.getProvider("app-check-internal")),B3(o,s),o);return i={useFetchStreams:n,...i},a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),In(k1,N1,e),In(k1,N1,"esm2020")})();function IA(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const $U=IA,CA=new so("auth","Firebase",IA());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lh=new of("@firebase/auth");function BU(t,...e){lh.logLevel<=ye.WARN&&lh.warn(`Auth (${Oa}): ${t}`,...e)}function ud(t,...e){lh.logLevel<=ye.ERROR&&lh.error(`Auth (${Oa}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rr(t,...e){throw ow(t,...e)}function Kn(t,...e){return ow(t,...e)}function iw(t,e,n){const r={...$U(),[e]:n};return new so("auth","Firebase",r).create(e,{appName:t.name})}function Ys(t){return iw(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function AA(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Rr(t,"argument-error"),iw(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function ow(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return CA.create(t,...e)}function ie(t,e,...n){if(!t)throw ow(e,...n)}function Hr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw ud(e),new Error(e)}function rs(t,e){t||Hr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ug(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function zU(){return L1()==="http:"||L1()==="https:"}function L1(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HU(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(zU()||pv()||"connection"in navigator)?navigator.onLine:!0}function WU(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $c{constructor(e,n){this.shortDelay=e,this.longDelay=n,rs(n>e,"Short delay should be less than long delay!"),this.isMobile=Qj()||Jj()}get(){return HU()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aw(t,e){rs(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RA{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Hr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Hr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Hr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qU={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GU=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],KU=new $c(3e4,6e4);function lw(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function $a(t,e,n,r,s={}){return PA(t,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const a=Oc({key:t.config.apiKey,...o}).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const u={method:e,headers:l,...i};return Xj()||(u.referrerPolicy="no-referrer"),t.emulatorConfig&&Ma(t.emulatorConfig.host)&&(u.credentials="include"),RA.fetch()(await kA(t,t.config.apiHost,n,a),u)})}async function PA(t,e,n){t._canInitEmulator=!1;const r={...qU,...e};try{const s=new YU(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw Ou(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const a=i.ok?o.errorMessage:o.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ou(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Ou(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw Ou(t,"user-disabled",o);const d=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw iw(t,d,u);Rr(t,d)}}catch(s){if(s instanceof Pn)throw s;Rr(t,"network-request-failed",{message:String(s)})}}async function QU(t,e,n,r,s={}){const i=await $a(t,e,n,r,s);return"mfaPendingCredential"in i&&Rr(t,"multi-factor-auth-required",{_serverResponse:i}),i}async function kA(t,e,n,r){const s=`${e}${n}?${r}`,i=t,o=i.config.emulator?aw(t.config,s):`${t.config.apiScheme}://${s}`;return GU.includes(n)&&(await i._persistenceManagerAvailable,i._getPersistenceType()==="COOKIE")?i._getPersistence()._getFinalTarget(o).toString():o}class YU{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Kn(this.auth,"network-request-failed")),KU.get())})}}function Ou(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=Kn(t,e,r);return s.customData._tokenResponse=n,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XU(t,e){return $a(t,"POST","/v1/accounts:delete",e)}async function ch(t,e){return $a(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fl(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function JU(t,e=!1){const n=gt(t),r=await n.getIdToken(e),s=cw(r);ie(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:Fl(Gp(s.auth_time)),issuedAtTime:Fl(Gp(s.iat)),expirationTime:Fl(Gp(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function Gp(t){return Number(t)*1e3}function cw(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return ud("JWT malformed, contained fewer than 3 sections"),null;try{const s=MI(n);return s?JSON.parse(s):(ud("Failed to decode base64 JWT payload"),null)}catch(s){return ud("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function V1(t){const e=cw(t);return ie(e,"internal-error"),ie(typeof e.exp<"u","internal-error"),ie(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _c(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Pn&&ZU(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function ZU({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e9{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $g{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Fl(this.lastLoginAt),this.creationTime=Fl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uh(t){var h;const e=t.auth,n=await t.getIdToken(),r=await _c(t,ch(e,{idToken:n}));ie(r==null?void 0:r.users.length,e,"internal-error");const s=r.users[0];t._notifyReloadListener(s);const i=(h=s.providerUserInfo)!=null&&h.length?NA(s.providerUserInfo):[],o=n9(t.providerData,i),a=t.isAnonymous,l=!(t.email&&s.passwordHash)&&!(o!=null&&o.length),u=a?l:!1,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new $g(s.createdAt,s.lastLoginAt),isAnonymous:u};Object.assign(t,d)}async function t9(t){const e=gt(t);await uh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function n9(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function NA(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function r9(t,e){const n=await PA(t,{},async()=>{const r=Oc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=await kA(t,s,"/v1/token",`key=${i}`),a=await t._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";const l={method:"POST",headers:a,body:r};return t.emulatorConfig&&Ma(t.emulatorConfig.host)&&(l.credentials="include"),RA.fetch()(o,l)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function s9(t,e){return $a(t,"POST","/v2/accounts:revokeToken",lw(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ie(e.idToken,"internal-error"),ie(typeof e.idToken<"u","internal-error"),ie(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):V1(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ie(e.length!==0,"internal-error");const n=V1(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ie(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await r9(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new Qo;return r&&(ie(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(ie(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(ie(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Qo,this.toJSON())}_performRefresh(){return Hr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ws(t,e){ie(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class zn{constructor({uid:e,auth:n,stsTokenManager:r,...s}){this.providerId="firebase",this.proactiveRefresh=new e9(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new $g(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await _c(this,this.stsTokenManager.getToken(this.auth,e));return ie(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return JU(this,e)}reload(){return t9(this)}_assign(e){this!==e&&(ie(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new zn({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){ie(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await uh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(En(this.auth.app))return Promise.reject(Ys(this.auth));const e=await this.getIdToken();return await _c(this,XU(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,s=n.email??void 0,i=n.phoneNumber??void 0,o=n.photoURL??void 0,a=n.tenantId??void 0,l=n._redirectEventId??void 0,u=n.createdAt??void 0,d=n.lastLoginAt??void 0,{uid:h,emailVerified:p,isAnonymous:g,providerData:S,stsTokenManager:E}=n;ie(h&&E,e,"internal-error");const x=Qo.fromJSON(this.name,E);ie(typeof h=="string",e,"internal-error"),ws(r,e.name),ws(s,e.name),ie(typeof p=="boolean",e,"internal-error"),ie(typeof g=="boolean",e,"internal-error"),ws(i,e.name),ws(o,e.name),ws(a,e.name),ws(l,e.name),ws(u,e.name),ws(d,e.name);const v=new zn({uid:h,auth:e,email:s,emailVerified:p,displayName:r,isAnonymous:g,photoURL:o,phoneNumber:i,tenantId:a,stsTokenManager:x,createdAt:u,lastLoginAt:d});return S&&Array.isArray(S)&&(v.providerData=S.map(_=>({..._}))),l&&(v._redirectEventId=l),v}static async _fromIdTokenResponse(e,n,r=!1){const s=new Qo;s.updateFromServerResponse(n);const i=new zn({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await uh(i),i}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];ie(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?NA(s.providerUserInfo):[],o=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),a=new Qo;a.updateFromIdToken(r);const l=new zn({uid:s.localId,auth:e,stsTokenManager:a,isAnonymous:o}),u={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new $g(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j1=new Map;function Wr(t){rs(t instanceof Function,"Expected a class definition");let e=j1.get(t);return e?(rs(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,j1.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DA{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}DA.type="NONE";const F1=DA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dd(t,e,n){return`firebase:${t}:${e}:${n}`}class Yo{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=dd(this.userKey,s.apiKey,i),this.fullPersistenceKey=dd("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await ch(this.auth,{idToken:e}).catch(()=>{});return n?zn._fromGetAccountInfoResponse(this.auth,n,e):null}return zn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Yo(Wr(F1),e,r);const s=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let i=s[0]||Wr(F1);const o=dd(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const d=await u._get(o);if(d){let h;if(typeof d=="string"){const p=await ch(e,{idToken:d}).catch(()=>{});if(!p)break;h=await zn._fromGetAccountInfoResponse(e,p,d)}else h=zn._fromJSON(e,d);u!==i&&(a=h),i=u;break}}catch{}const l=s.filter(u=>u._shouldAllowMigration);return!i._shouldAllowMigration||!l.length?new Yo(i,e,r):(i=l[0],a&&await i._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==i)try{await u._remove(o)}catch{}})),new Yo(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U1(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(VA(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(MA(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(FA(e))return"Blackberry";if(UA(e))return"Webos";if(OA(e))return"Safari";if((e.includes("chrome/")||LA(e))&&!e.includes("edge/"))return"Chrome";if(jA(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function MA(t=Nt()){return/firefox\//i.test(t)}function OA(t=Nt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function LA(t=Nt()){return/crios\//i.test(t)}function VA(t=Nt()){return/iemobile/i.test(t)}function jA(t=Nt()){return/android/i.test(t)}function FA(t=Nt()){return/blackberry/i.test(t)}function UA(t=Nt()){return/webos/i.test(t)}function uw(t=Nt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function i9(t=Nt()){var e;return uw(t)&&!!((e=window.navigator)!=null&&e.standalone)}function o9(){return Zj()&&document.documentMode===10}function $A(t=Nt()){return uw(t)||jA(t)||UA(t)||FA(t)||/windows phone/i.test(t)||VA(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BA(t,e=[]){let n;switch(t){case"Browser":n=U1(Nt());break;case"Worker":n=`${U1(Nt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Oa}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a9{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((o,a)=>{try{const l=e(i);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function l9(t,e={}){return $a(t,"GET","/v2/passwordPolicy",lw(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c9=6;class u9{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??c9,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d9{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new $1(this),this.idTokenSubscription=new $1(this),this.beforeStateQueue=new a9(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=CA,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(i=>this._resolvePersistenceManagerAvailable=i)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Wr(n)),this._initializationPromise=this.queue(async()=>{var r,s,i;if(!this._deleted&&(this.persistenceManager=await Yo.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((s=this._popupRedirectResolver)!=null&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)==null?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await ch(this,{idToken:e}),r=await zn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var i;if(En(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(i=this.redirectUser)==null?void 0:i._redirectEventId,a=r==null?void 0:r._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(r=l.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return ie(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await uh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=WU()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(En(this.app))return Promise.reject(Ys(this));const n=e?gt(e):null;return n&&ie(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ie(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return En(this.app)?Promise.reject(Ys(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return En(this.app)?Promise.reject(Ys(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Wr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await l9(this),n=new u9(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new so("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await s9(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Wr(e)||this._popupRedirectResolver;ie(n,this,"argument-error"),this.redirectPersistenceManager=await Yo.create(this,[Wr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(ie(a,this,"internal-error"),a.then(()=>{o||i(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,s);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ie(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=BA(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var s;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((s=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:s.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(En(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&BU(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Ba(t){return gt(t)}class $1{constructor(e){this.auth=e,this.observer=null,this.addObserver=iF(n=>this.observer=n)}get next(){return ie(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let dw={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function h9(t){dw=t}function f9(t){return dw.loadJS(t)}function p9(){return dw.gapiScript}function m9(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g9(t,e){const n=io(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(ti(i,e??{}))return s;Rr(s,"already-initialized")}return n.initialize({options:e})}function y9(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Wr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function v9(t,e,n){const r=Ba(t);ie(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!!(n!=null&&n.disableWarnings),i=zA(e),{host:o,port:a}=w9(e),l=a===null?"":`:${a}`,u={url:`${i}//${o}${l}/`},d=Object.freeze({host:o,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){ie(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),ie(ti(u,r.config.emulator)&&ti(d,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=u,r.emulatorConfig=d,r.settings.appVerificationDisabledForTesting=!0,Ma(o)?(jI(`${i}//${o}${l}`),FI("Auth",!0)):_9()}function zA(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function w9(t){const e=zA(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:B1(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:B1(o)}}}function B1(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function _9(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HA{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Hr("not implemented")}_getIdTokenResponse(e){return Hr("not implemented")}_linkToIdToken(e,n){return Hr("not implemented")}_getReauthenticationResolver(e){return Hr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xo(t,e){return QU(t,"POST","/v1/accounts:signInWithIdp",lw(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E9="http://localhost";class Ji extends HA{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ji(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Rr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s,...i}=n;if(!r||!s)return null;const o=new Ji(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Xo(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Xo(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Xo(e,n)}buildRequest(){const e={requestUri:E9,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Oc(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tf{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bc extends Tf{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Is extends Bc{constructor(){super("facebook.com")}static credential(e){return Ji._fromParams({providerId:Is.PROVIDER_ID,signInMethod:Is.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Is.credentialFromTaggedObject(e)}static credentialFromError(e){return Is.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Is.credential(e.oauthAccessToken)}catch{return null}}}Is.FACEBOOK_SIGN_IN_METHOD="facebook.com";Is.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $r extends Bc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ji._fromParams({providerId:$r.PROVIDER_ID,signInMethod:$r.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return $r.credentialFromTaggedObject(e)}static credentialFromError(e){return $r.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return $r.credential(n,r)}catch{return null}}}$r.GOOGLE_SIGN_IN_METHOD="google.com";$r.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cs extends Bc{constructor(){super("github.com")}static credential(e){return Ji._fromParams({providerId:Cs.PROVIDER_ID,signInMethod:Cs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Cs.credentialFromTaggedObject(e)}static credentialFromError(e){return Cs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Cs.credential(e.oauthAccessToken)}catch{return null}}}Cs.GITHUB_SIGN_IN_METHOD="github.com";Cs.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class As extends Bc{constructor(){super("twitter.com")}static credential(e,n){return Ji._fromParams({providerId:As.PROVIDER_ID,signInMethod:As.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return As.credentialFromTaggedObject(e)}static credentialFromError(e){return As.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return As.credential(n,r)}catch{return null}}}As.TWITTER_SIGN_IN_METHOD="twitter.com";As.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ba{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await zn._fromIdTokenResponse(e,r,s),o=z1(r);return new ba({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=z1(r);return new ba({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function z1(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dh extends Pn{constructor(e,n,r,s){super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,dh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new dh(e,n,r,s)}}function WA(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?dh._fromErrorAndOperation(t,i,e,r):i})}async function x9(t,e,n=!1){const r=await _c(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return ba._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function T9(t,e,n=!1){const{auth:r}=t;if(En(r.app))return Promise.reject(Ys(r));const s="reauthenticate";try{const i=await _c(t,WA(r,s,e,t),n);ie(i.idToken,r,"internal-error");const o=cw(i.idToken);ie(o,r,"internal-error");const{sub:a}=o;return ie(t.uid===a,r,"user-mismatch"),ba._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&Rr(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function S9(t,e,n=!1){if(En(t.app))return Promise.reject(Ys(t));const r="signIn",s=await WA(t,r,e),i=await ba._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}function b9(t,e,n,r){return gt(t).onIdTokenChanged(e,n,r)}function I9(t,e,n){return gt(t).beforeAuthStateChanged(e,n)}function C9(t,e,n,r){return gt(t).onAuthStateChanged(e,n,r)}function A9(t){return gt(t).signOut()}const hh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qA{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(hh,"1"),this.storage.removeItem(hh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R9=1e3,P9=10;class GA extends qA{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=$A(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);o9()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,P9):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},R9)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}GA.type="LOCAL";const k9=GA;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KA extends qA{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}KA.type="SESSION";const QA=KA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N9(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new Sf(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const a=Array.from(o).map(async u=>u(n.origin,i)),l=await N9(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Sf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hw(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D9{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((a,l)=>{const u=hw("",20);s.port1.start();const d=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(h){const p=h;if(p.data.eventId===u)switch(p.data.status){case"ack":clearTimeout(d),i=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(p.data.response);break;default:clearTimeout(d),clearTimeout(i),l(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function br(){return window}function M9(t){br().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YA(){return typeof br().WorkerGlobalScope<"u"&&typeof br().importScripts=="function"}async function O9(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function L9(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function V9(){return YA()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XA="firebaseLocalStorageDb",j9=1,fh="firebaseLocalStorage",JA="fbase_key";class zc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function bf(t,e){return t.transaction([fh],e?"readwrite":"readonly").objectStore(fh)}function F9(){const t=indexedDB.deleteDatabase(XA);return new zc(t).toPromise()}function Bg(){const t=indexedDB.open(XA,j9);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(fh,{keyPath:JA})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(fh)?e(r):(r.close(),await F9(),e(await Bg()))})})}async function H1(t,e,n){const r=bf(t,!0).put({[JA]:e,value:n});return new zc(r).toPromise()}async function U9(t,e){const n=bf(t,!1).get(e),r=await new zc(n).toPromise();return r===void 0?null:r.value}function W1(t,e){const n=bf(t,!0).delete(e);return new zc(n).toPromise()}const $9=800,B9=3;class ZA{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Bg(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>B9)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return YA()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Sf._getInstance(V9()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await O9(),!this.activeServiceWorker)return;this.sender=new D9(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||L9()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Bg();return await H1(e,hh,"1"),await W1(e,hh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>H1(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>U9(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>W1(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=bf(s,!1).getAll();return new zc(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),$9)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}ZA.type="LOCAL";const z9=ZA;new $c(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fw(t,e){return e?Wr(e):(ie(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pw extends HA{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Xo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Xo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Xo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function H9(t){return S9(t.auth,new pw(t),t.bypassAuthState)}function W9(t){const{auth:e,user:n}=t;return ie(n,e,"internal-error"),T9(n,new pw(t),t.bypassAuthState)}async function q9(t){const{auth:e,user:n}=t;return ie(n,e,"internal-error"),x9(n,new pw(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eR{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return H9;case"linkViaPopup":case"linkViaRedirect":return q9;case"reauthViaPopup":case"reauthViaRedirect":return W9;default:Rr(this.auth,"internal-error")}}resolve(e){rs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){rs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G9=new $c(2e3,1e4);async function K9(t,e,n){if(En(t.app))return Promise.reject(Kn(t,"operation-not-supported-in-this-environment"));const r=Ba(t);AA(t,e,Tf);const s=fw(r,n);return new Ri(r,"signInViaPopup",e,s).executeNotNull()}class Ri extends eR{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,Ri.currentPopupAction&&Ri.currentPopupAction.cancel(),Ri.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ie(e,this.auth,"internal-error"),e}async onExecution(){rs(this.filter.length===1,"Popup operations only handle one event");const e=hw();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Kn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(Kn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ri.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Kn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,G9.get())};e()}}Ri.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q9="pendingRedirect",hd=new Map;class Y9 extends eR{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=hd.get(this.auth._key());if(!e){try{const r=await X9(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}hd.set(this.auth._key(),e)}return this.bypassAuthState||hd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function X9(t,e){const n=nR(e),r=tR(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}async function J9(t,e){return tR(t)._set(nR(e),"true")}function Z9(t,e){hd.set(t._key(),e)}function tR(t){return Wr(t._redirectPersistence)}function nR(t){return dd(Q9,t.config.apiKey,t.name)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e$(t,e,n){return t$(t,e,n)}async function t$(t,e,n){if(En(t.app))return Promise.reject(Ys(t));const r=Ba(t);AA(t,e,Tf),await r._initializationPromise;const s=fw(r,n);return await J9(s,r),s._openRedirect(r,e,"signInViaRedirect")}async function n$(t,e){return await Ba(t)._initializationPromise,rR(t,e,!1)}async function rR(t,e,n=!1){if(En(t.app))return Promise.reject(Ys(t));const r=Ba(t),s=fw(r,e),o=await new Y9(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r$=10*60*1e3;class s${constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!i$(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!sR(e)){const s=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(Kn(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=r$&&this.cachedEventUids.clear(),this.cachedEventUids.has(q1(e))}saveEventToCache(e){this.cachedEventUids.add(q1(e)),this.lastProcessedEventTime=Date.now()}}function q1(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function sR({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function i$(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return sR(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function o$(t,e={}){return $a(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a$=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,l$=/^https?/;async function c$(t){if(t.config.emulator)return;const{authorizedDomains:e}=await o$(t);for(const n of e)try{if(u$(n))return}catch{}Rr(t,"unauthorized-domain")}function u$(t){const e=Ug(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!l$.test(n))return!1;if(a$.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d$=new $c(3e4,6e4);function G1(){const t=br().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function h$(t){return new Promise((e,n)=>{var s,i,o;function r(){G1(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{G1(),n(Kn(t,"network-request-failed"))},timeout:d$.get()})}if((i=(s=br().gapi)==null?void 0:s.iframes)!=null&&i.Iframe)e(gapi.iframes.getContext());else if((o=br().gapi)!=null&&o.load)r();else{const a=m9("iframefcb");return br()[a]=()=>{gapi.load?r():n(Kn(t,"network-request-failed"))},f9(`${p9()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw fd=null,e})}let fd=null;function f$(t){return fd=fd||h$(t),fd}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p$=new $c(5e3,15e3),m$="__/auth/iframe",g$="emulator/auth/iframe",y$={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},v$=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function w$(t){const e=t.config;ie(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?aw(e,g$):`https://${t.config.authDomain}/${m$}`,r={apiKey:e.apiKey,appName:t.name,v:Oa},s=v$.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${Oc(r).slice(1)}`}async function _$(t){const e=await f$(t),n=br().gapi;return ie(n,t,"internal-error"),e.open({where:document.body,url:w$(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:y$,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=Kn(t,"network-request-failed"),a=br().setTimeout(()=>{i(o)},p$.get());function l(){br().clearTimeout(a),s(r)}r.ping(l).then(l,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E$={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},x$=500,T$=600,S$="_blank",b$="http://localhost";class K1{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function I$(t,e,n,r=x$,s=T$){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l={...E$,width:r.toString(),height:s.toString(),top:i,left:o},u=Nt().toLowerCase();n&&(a=LA(u)?S$:n),MA(u)&&(e=e||b$,l.scrollbars="yes");const d=Object.entries(l).reduce((p,[g,S])=>`${p}${g}=${S},`,"");if(i9(u)&&a!=="_self")return C$(e||"",a),new K1(null);const h=window.open(e||"",a,d);ie(h,t,"popup-blocked");try{h.focus()}catch{}return new K1(h)}function C$(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A$="__/auth/handler",R$="emulator/auth/handler",P$=encodeURIComponent("fac");async function Q1(t,e,n,r,s,i){ie(t.config.authDomain,t,"auth-domain-config-required"),ie(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Oa,eventId:s};if(e instanceof Tf){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",sF(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,h]of Object.entries({}))o[d]=h}if(e instanceof Bc){const d=e.getScopes().filter(h=>h!=="");d.length>0&&(o.scopes=d.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const d of Object.keys(a))a[d]===void 0&&delete a[d];const l=await t._getAppCheckToken(),u=l?`#${P$}=${encodeURIComponent(l)}`:"";return`${k$(t)}?${Oc(a).slice(1)}${u}`}function k$({config:t}){return t.emulator?aw(t,R$):`https://${t.authDomain}/${A$}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kp="webStorageSupport";class N${constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=QA,this._completeRedirectFn=rR,this._overrideRedirectResult=Z9}async _openPopup(e,n,r,s){var o;rs((o=this.eventManagers[e._key()])==null?void 0:o.manager,"_initialize() not called before _openPopup()");const i=await Q1(e,n,r,Ug(),s);return I$(e,i,hw())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await Q1(e,n,r,Ug(),s);return M9(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(rs(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await _$(e),r=new s$(e);return n.register("authEvent",s=>(ie(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Kp,{type:Kp},s=>{var o;const i=(o=s==null?void 0:s[0])==null?void 0:o[Kp];i!==void 0&&n(!!i),Rr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=c$(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return $A()||OA()||uw()}}const D$=N$;var Y1="@firebase/auth",X1="1.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M${constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ie(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O$(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function L$(t){Cr(new Jn("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;ie(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:BA(t)},u=new d9(r,s,i,l);return y9(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Cr(new Jn("auth-internal",e=>{const n=Ba(e.getProvider("auth").getImmediate());return(r=>new M$(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),In(Y1,X1,O$(t)),In(Y1,X1,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V$=5*60,j$=VI("authIdTokenMaxAge")||V$;let J1=null;const F$=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>j$)return;const s=n==null?void 0:n.token;J1!==s&&(J1=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function U$(t=vv()){const e=io(t,"auth");if(e.isInitialized())return e.getImmediate();const n=g9(t,{popupRedirectResolver:D$,persistence:[z9,k9,QA]}),r=VI("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const o=F$(i.toString());I9(n,o,()=>o(n.currentUser)),b9(n,a=>o(a))}}const s=OI("auth");return s&&v9(n,`http://${s}`),n}function $$(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}h9({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=Kn("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",$$().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});L$("Browser");var B$="firebase",z$="12.9.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */In(B$,z$,"app");const iR="@firebase/installations",mw="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oR=1e4,aR=`w:${mw}`,lR="FIS_v2",H$="https://firebaseinstallations.googleapis.com/v1",W$=60*60*1e3,q$="installations",G$="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K$={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Zi=new so(q$,G$,K$);function cR(t){return t instanceof Pn&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uR({projectId:t}){return`${H$}/projects/${t}/installations`}function dR(t){return{token:t.token,requestStatus:2,expiresIn:Y$(t.expiresIn),creationTime:Date.now()}}async function hR(t,e){const r=(await e.json()).error;return Zi.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function fR({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function Q$(t,{refreshToken:e}){const n=fR(t);return n.append("Authorization",X$(e)),n}async function pR(t){const e=await t();return e.status>=500&&e.status<600?t():e}function Y$(t){return Number(t.replace("s","000"))}function X$(t){return`${lR} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function J$({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=uR(t),s=fR(t),i=e.getImmediate({optional:!0});if(i){const u=await i.getHeartbeatsHeader();u&&s.append("x-firebase-client",u)}const o={fid:n,authVersion:lR,appId:t.appId,sdkVersion:aR},a={method:"POST",headers:s,body:JSON.stringify(o)},l=await pR(()=>fetch(r,a));if(l.ok){const u=await l.json();return{fid:u.fid||n,registrationStatus:2,refreshToken:u.refreshToken,authToken:dR(u.authToken)}}else throw await hR("Create Installation",l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mR(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z$(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eB=/^[cdef][\w-]{21}$/,zg="";function tB(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=nB(t);return eB.test(n)?n:zg}catch{return zg}}function nB(t){return Z$(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function If(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gR=new Map;function yR(t,e){const n=If(t);vR(n,e),rB(n,e)}function vR(t,e){const n=gR.get(t);if(n)for(const r of n)r(e)}function rB(t,e){const n=sB();n&&n.postMessage({key:t,fid:e}),iB()}let Pi=null;function sB(){return!Pi&&"BroadcastChannel"in self&&(Pi=new BroadcastChannel("[Firebase] FID Change"),Pi.onmessage=t=>{vR(t.data.key,t.data.fid)}),Pi}function iB(){gR.size===0&&Pi&&(Pi.close(),Pi=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oB="firebase-installations-database",aB=1,eo="firebase-installations-store";let Qp=null;function gw(){return Qp||(Qp=zI(oB,aB,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(eo)}}})),Qp}async function ph(t,e){const n=If(t),s=(await gw()).transaction(eo,"readwrite"),i=s.objectStore(eo),o=await i.get(n);return await i.put(e,n),await s.done,(!o||o.fid!==e.fid)&&yR(t,e.fid),e}async function wR(t){const e=If(t),r=(await gw()).transaction(eo,"readwrite");await r.objectStore(eo).delete(e),await r.done}async function Cf(t,e){const n=If(t),s=(await gw()).transaction(eo,"readwrite"),i=s.objectStore(eo),o=await i.get(n),a=e(o);return a===void 0?await i.delete(n):await i.put(a,n),await s.done,a&&(!o||o.fid!==a.fid)&&yR(t,a.fid),a}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yw(t){let e;const n=await Cf(t.appConfig,r=>{const s=lB(r),i=cB(t,s);return e=i.registrationPromise,i.installationEntry});return n.fid===zg?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function lB(t){const e=t||{fid:tB(),registrationStatus:0};return _R(e)}function cB(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const s=Promise.reject(Zi.create("app-offline"));return{installationEntry:e,registrationPromise:s}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=uB(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:dB(t)}:{installationEntry:e}}async function uB(t,e){try{const n=await J$(t,e);return ph(t.appConfig,n)}catch(n){throw cR(n)&&n.customData.serverCode===409?await wR(t.appConfig):await ph(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function dB(t){let e=await Z1(t.appConfig);for(;e.registrationStatus===1;)await mR(100),e=await Z1(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await yw(t);return r||n}return e}function Z1(t){return Cf(t,e=>{if(!e)throw Zi.create("installation-not-found");return _R(e)})}function _R(t){return hB(t)?{fid:t.fid,registrationStatus:0}:t}function hB(t){return t.registrationStatus===1&&t.registrationTime+oR<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fB({appConfig:t,heartbeatServiceProvider:e},n){const r=pB(t,n),s=Q$(t,n),i=e.getImmediate({optional:!0});if(i){const u=await i.getHeartbeatsHeader();u&&s.append("x-firebase-client",u)}const o={installation:{sdkVersion:aR,appId:t.appId}},a={method:"POST",headers:s,body:JSON.stringify(o)},l=await pR(()=>fetch(r,a));if(l.ok){const u=await l.json();return dR(u)}else throw await hR("Generate Auth Token",l)}function pB(t,{fid:e}){return`${uR(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vw(t,e=!1){let n;const r=await Cf(t.appConfig,i=>{if(!ER(i))throw Zi.create("not-registered");const o=i.authToken;if(!e&&yB(o))return i;if(o.requestStatus===1)return n=mB(t,e),i;{if(!navigator.onLine)throw Zi.create("app-offline");const a=wB(i);return n=gB(t,a),a}});return n?await n:r.authToken}async function mB(t,e){let n=await ex(t.appConfig);for(;n.authToken.requestStatus===1;)await mR(100),n=await ex(t.appConfig);const r=n.authToken;return r.requestStatus===0?vw(t,e):r}function ex(t){return Cf(t,e=>{if(!ER(e))throw Zi.create("not-registered");const n=e.authToken;return _B(n)?{...e,authToken:{requestStatus:0}}:e})}async function gB(t,e){try{const n=await fB(t,e),r={...e,authToken:n};return await ph(t.appConfig,r),n}catch(n){if(cR(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await wR(t.appConfig);else{const r={...e,authToken:{requestStatus:0}};await ph(t.appConfig,r)}throw n}}function ER(t){return t!==void 0&&t.registrationStatus===2}function yB(t){return t.requestStatus===2&&!vB(t)}function vB(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+W$}function wB(t){const e={requestStatus:1,requestTime:Date.now()};return{...t,authToken:e}}function _B(t){return t.requestStatus===1&&t.requestTime+oR<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EB(t){const e=t,{installationEntry:n,registrationPromise:r}=await yw(e);return r?r.catch(console.error):vw(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xB(t,e=!1){const n=t;return await TB(n),(await vw(n,e)).token}async function TB(t){const{registrationPromise:e}=await yw(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SB(t){if(!t||!t.options)throw Yp("App Configuration");if(!t.name)throw Yp("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw Yp(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function Yp(t){return Zi.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xR="installations",bB="installations-internal",IB=t=>{const e=t.getProvider("app").getImmediate(),n=SB(e),r=io(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},CB=t=>{const e=t.getProvider("app").getImmediate(),n=io(e,xR).getImmediate();return{getId:()=>EB(n),getToken:s=>xB(n,s)}};function AB(){Cr(new Jn(xR,IB,"PUBLIC")),Cr(new Jn(bB,CB,"PRIVATE"))}AB();In(iR,mw);In(iR,mw,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mh="analytics",RB="firebase_id",PB="origin",kB=60*1e3,NB="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",ww="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jt=new of("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DB={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},un=new so("analytics","Analytics",DB);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MB(t){if(!t.startsWith(ww)){const e=un.create("invalid-gtag-resource",{gtagURL:t});return jt.warn(e.message),""}return t}function TR(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function OB(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function LB(t,e){const n=OB("firebase-js-sdk-policy",{createScriptURL:MB}),r=document.createElement("script"),s=`${ww}?l=${t}&id=${e}`;r.src=n?n==null?void 0:n.createScriptURL(s):s,r.async=!0,document.head.appendChild(r)}function VB(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function jB(t,e,n,r,s,i){const o=r[s];try{if(o)await e[o];else{const l=(await TR(n)).find(u=>u.measurementId===s);l&&await e[l.appId]}}catch(a){jt.error(a)}t("config",s,i)}async function FB(t,e,n,r,s){try{let i=[];if(s&&s.send_to){let o=s.send_to;Array.isArray(o)||(o=[o]);const a=await TR(n);for(const l of o){const u=a.find(h=>h.measurementId===l),d=u&&e[u.appId];if(d)i.push(d);else{i=[];break}}}i.length===0&&(i=Object.values(e)),await Promise.all(i),t("event",r,s||{})}catch(i){jt.error(i)}}function UB(t,e,n,r){async function s(i,...o){try{if(i==="event"){const[a,l]=o;await FB(t,e,n,a,l)}else if(i==="config"){const[a,l]=o;await jB(t,e,n,r,a,l)}else if(i==="consent"){const[a,l]=o;t("consent",a,l)}else if(i==="get"){const[a,l,u]=o;t("get",a,l,u)}else if(i==="set"){const[a]=o;t("set",a)}else t(i,...o)}catch(a){jt.error(a)}}return s}function $B(t,e,n,r,s){let i=function(...o){window[r].push(arguments)};return window[s]&&typeof window[s]=="function"&&(i=window[s]),window[s]=UB(i,t,e,n),{gtagCore:i,wrappedGtag:window[s]}}function BB(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(ww)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zB=30,HB=1e3;class WB{constructor(e={},n=HB){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const SR=new WB;function qB(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function GB(t){var o;const{appId:e,apiKey:n}=t,r={method:"GET",headers:qB(n)},s=NB.replace("{app-id}",e),i=await fetch(s,r);if(i.status!==200&&i.status!==304){let a="";try{const l=await i.json();(o=l.error)!=null&&o.message&&(a=l.error.message)}catch{}throw un.create("config-fetch-failed",{httpStatus:i.status,responseMessage:a})}return i.json()}async function KB(t,e=SR,n){const{appId:r,apiKey:s,measurementId:i}=t.options;if(!r)throw un.create("no-app-id");if(!s){if(i)return{measurementId:i,appId:r};throw un.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new XB;return setTimeout(async()=>{a.abort()},kB),bR({appId:r,apiKey:s,measurementId:i},o,a,e)}async function bR(t,{throttleEndTimeMillis:e,backoffCount:n},r,s=SR){var a;const{appId:i,measurementId:o}=t;try{await QB(r,e)}catch(l){if(o)return jt.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${l==null?void 0:l.message}]`),{appId:i,measurementId:o};throw l}try{const l=await GB(t);return s.deleteThrottleMetadata(i),l}catch(l){const u=l;if(!YB(u)){if(s.deleteThrottleMetadata(i),o)return jt.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${u==null?void 0:u.message}]`),{appId:i,measurementId:o};throw l}const d=Number((a=u==null?void 0:u.customData)==null?void 0:a.httpStatus)===503?CE(n,s.intervalMillis,zB):CE(n,s.intervalMillis),h={throttleEndTimeMillis:Date.now()+d,backoffCount:n+1};return s.setThrottleMetadata(i,h),jt.debug(`Calling attemptFetch again in ${d} millis`),bR(t,h,r,s)}}function QB(t,e){return new Promise((n,r)=>{const s=Math.max(e-Date.now(),0),i=setTimeout(n,s);t.addEventListener(()=>{clearTimeout(i),r(un.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function YB(t){if(!(t instanceof Pn)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class XB{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function JB(t,e,n,r,s){if(s&&s.global){t("event",n,r);return}else{const i=await e,o={...r,send_to:i};t("event",n,o)}}async function ZB(t,e,n,r){if(r&&r.global){const s={};for(const i of Object.keys(n))s[`user_properties.${i}`]=n[i];return t("set",s),Promise.resolve()}else{const s=await e;t("config",s,{update:!0,user_properties:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ez(){if(mv())try{await gv()}catch(t){return jt.warn(un.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return jt.warn(un.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function tz(t,e,n,r,s,i,o){const a=KB(t);a.then(p=>{n[p.measurementId]=p.appId,t.options.measurementId&&p.measurementId!==t.options.measurementId&&jt.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${p.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(p=>jt.error(p)),e.push(a);const l=ez().then(p=>{if(p)return r.getId()}),[u,d]=await Promise.all([a,l]);BB(i)||LB(i,u.measurementId),s("js",new Date);const h=(o==null?void 0:o.config)??{};return h[PB]="firebase",h.update=!0,d!=null&&(h[RB]=d),s("config",u.measurementId,h),u.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nz{constructor(e){this.app=e}_delete(){return delete Jo[this.app.options.appId],Promise.resolve()}}let Jo={},tx=[];const nx={};let Xp="dataLayer",rz="gtag",rx,_w,sx=!1;function sz(){const t=[];if(pv()&&t.push("This is a browser extension environment."),UI()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,s)=>`(${s+1}) ${r}`).join(" "),n=un.create("invalid-analytics-context",{errorInfo:e});jt.warn(n.message)}}function iz(t,e,n){sz();const r=t.options.appId;if(!r)throw un.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)jt.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw un.create("no-api-key");if(Jo[r]!=null)throw un.create("already-exists",{id:r});if(!sx){VB(Xp);const{wrappedGtag:i,gtagCore:o}=$B(Jo,tx,nx,Xp,rz);_w=i,rx=o,sx=!0}return Jo[r]=tz(t,tx,nx,e,rx,Xp,n),new nz(t)}function oz(t=vv()){t=gt(t);const e=io(t,mh);return e.isInitialized()?e.getImmediate():az(t)}function az(t,e={}){const n=io(t,mh);if(n.isInitialized()){const s=n.getImmediate();if(ti(e,n.getOptions()))return s;throw un.create("already-initialized")}return n.initialize({options:e})}async function lz(){if(pv()||!UI()||!mv())return!1;try{return await gv()}catch{return!1}}function cz(t,e,n){t=gt(t),ZB(_w,Jo[t.app.options.appId],e,n).catch(r=>jt.error(r))}function IR(t,e,n,r){t=gt(t),JB(_w,Jo[t.app.options.appId],e,n,r).catch(s=>jt.error(s))}const ix="@firebase/analytics",ox="0.10.19";function uz(){Cr(new Jn(mh,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("installations-internal").getImmediate();return iz(r,s,n)},"PUBLIC")),Cr(new Jn("analytics-internal",t,"PRIVATE")),In(ix,ox),In(ix,ox,"esm2020");function t(e){try{const n=e.getProvider(mh).getImmediate();return{logEvent:(r,s,i)=>IR(n,r,s,i),setUserProperties:(r,s)=>cz(n,r,s)}}catch(n){throw un.create("interop-component-reg-failed",{reason:n})}}}uz();const dz={apiKey:"AIzaSyBYn8Cm6HMheXYXq-mK6VrjAiuvgoaTODM",authDomain:"letsgokings-369ea.firebaseapp.com",projectId:"letsgokings-369ea",storageBucket:"letsgokings-369ea.firebasestorage.app",messagingSenderId:"488277685860",appId:"1:488277685860:web:78ec0ade64cc4d563e5171",measurementId:"G-HW520HE04S"},Ew=HI(dz),Ul=U$(Ew),rn=SU(Ew),gh=new $r,CR=lz().then(t=>t?oz(Ew):null);gh.addScope("profile");gh.addScope("email");let Lu=null;const hz=async()=>Lu||(Lu=await CR,Lu),$t=async t=>{try{const e=await hz();e&&IR(e,t.name,t.params)}catch(e){console.error("[Analytics] Error tracking event:",e)}},fz=t=>{$t({name:"login",params:{method:t}})},pz=t=>{$t({name:"logout",params:{user_type:t}})},ax=t=>{$t({name:"sign_up",params:{method:t}})},mz=t=>{$t({name:"challenge_started",params:{user_type:t}})},gz=(t,e)=>{$t({name:"relapse_reported",params:{streak_days:t,user_type:e}})},AR=(t,e,n)=>{$t({name:"auto_relapse",params:{streak_days:t,hours_inactive:e,user_type:n}})},yz=(t,e)=>{$t({name:"streak_confirmed",params:{streak_days:t,user_type:e}})},vz=t=>{$t({name:"feedback_submitted",params:{user_type:t}})},wz=t=>{$t({name:"leaderboard_viewed",params:{user_type:t}})},_z=t=>{$t({name:"rules_viewed",params:{user_type:t}})},lx=t=>{$t({name:"live_chat_viewed",params:{user_type:t}})},Ez=t=>{$t({name:"app_install_clicked",params:{platform:t}})},xz=t=>{$t({name:"media_modal_opened",params:{user_type:t}})},Tz=(t,e,n)=>{$t({name:"video_started",params:{video_id:t,video_title:e,user_type:n}})},Vu=(t,e,n,r)=>{$t({name:"video_watch_time",params:{video_id:t,video_title:e,watch_duration_seconds:n,user_type:r}})},cx=t=>{if(!t.relapseTime)return!1;const e=new Date(t.relapseTime);return(new Date().getTime()-e.getTime())/(1e3*60*60*24)<=3},RR=y.createContext(void 0),Ti="users",Si="guests",Sz="feedback",yh="letsgokings_guest_id",bz=()=>{let t=localStorage.getItem(yh);return t||(t="guest_"+Date.now()+"_"+Math.random().toString(36).substr(2,9),localStorage.setItem(yh,t)),t},Iz=()=>localStorage.getItem(yh),pd=t=>{if(!(t!=null&&t.startDate)||!t.isActive)return 0;const e=new Date(t.startDate),r=Math.abs(new Date().getTime()-e.getTime());return Math.floor(r/(1e3*60*60*24))},Cz=t=>{if(!t||t.isActive)return!1;const e=new Date(t.lastUpdateTime);return(new Date().getTime()-e.getTime())/(1e3*60*60)>24},PR=t=>{if(!t||!t.isActive||!t.startDate)return{shouldRelapse:!1,hoursInactive:0};if(t.exempt)return{shouldRelapse:!1,hoursInactive:0};const e=new Date(t.lastUpdateTime),r=(new Date().getTime()-e.getTime())/(1e3*60*60);return{shouldRelapse:r>=24,hoursInactive:Math.floor(r)}},ux=async t=>{let e=0;try{const n=await FU(wc(rn,t));for(const r of n.docs){const s=r.data(),{shouldRelapse:i,hoursInactive:o}=PR(s.streak);if(i){const a=pd(s.streak),l={userId:s.streak.userId,startDate:null,isActive:!1,lastUpdateTime:new Date().toISOString(),relapseTime:new Date().toISOString(),previousStartDate:s.streak.startDate};await cd(jr(rn,t,s.user.id),{user:s.user,streak:l,updatedAt:Ce.now()}),AR(a,o,s.user.isGuest?"guest":"google"),console.log(`Auto-relapsed ${s.user.name} after ${o} hours of inactivity`),e++}}}catch(n){console.error(`Error processing auto-relapse for ${t}:`,n)}return e},Az=async()=>{console.log("Running client-side auto-relapse check...");const[t,e]=await Promise.all([ux(Ti),ux(Si)]);t+e>0&&console.log(`Auto-relapse complete: ${t} users, ${e} guests relapsed`)},Rz=({children:t})=>{const[e,n]=y.useState(null),[r,s]=y.useState(null),[i,o]=y.useState([]),[a,l]=y.useState(!0);y.useEffect(()=>{const v=C9(Ul,async _=>{if(_){const T={id:_.uid,name:_.displayName||"Warrior",email:_.email||void 0,photoUrl:_.photoURL||void 0,isGuest:!1};n(T);try{const P=await Mu(jr(rn,Ti,T.id));if(P.exists()){const M=P.data();s(M.streak)}}catch(P){console.error("Error fetching user data:",P)}}else n(null),s(null);l(!1)});return()=>v()},[]),y.useEffect(()=>{Az()},[]),y.useEffect(()=>{const v=jg(wc(rn,Ti)),_=jg(wc(rn,Si));let T=[],P=[];const M=()=>{const C=[...T,...P].filter(R=>!Cz(R.streak));C.sort((R,N)=>{if(N.daysCount!==R.daysCount)return N.daysCount-R.daysCount;const D=R.streak.startDate?new Date(R.streak.startDate).getTime():1/0,k=N.streak.startDate?new Date(N.streak.startDate).getTime():1/0;return D-k}),o(C)},O=Fg(v,b=>{T=[],b.forEach(C=>{const R=C.data();T.push({user:R.user,streak:R.streak,daysCount:pd(R.streak),isRecentlyRelapsed:cx(R.streak)})}),M(),l(!1)},b=>{console.error("Error fetching users leaderboard:",b),l(!1)}),I=Fg(_,b=>{P=[],b.forEach(C=>{const R=C.data();P.push({user:R.user,streak:R.streak,daysCount:pd(R.streak),isRecentlyRelapsed:cx(R.streak)})}),M(),l(!1)},b=>{console.error("Error fetching guests leaderboard:",b),l(!1)});return()=>{O(),I()}},[]),y.useEffect(()=>{if(!e)return;(async()=>{try{const _=e.isGuest?Si:Ti,T=await Mu(jr(rn,_,e.id));if(T.exists()){const P=T.data();s(P.streak)}}catch(_){console.error("Error fetching user data:",_)}})()},[e]),y.useEffect(()=>{a||(async()=>{if(e)return;const _=Iz();if(_)try{const T=await Mu(jr(rn,Si,_));if(T.exists()){const P=T.data();n(P.user),s(P.streak)}}catch(T){console.error("Error restoring guest session:",T)}})()},[a,e]),y.useEffect(()=>{if(!e||!r)return;const{shouldRelapse:v,hoursInactive:_}=PR(r);if(!v)return;(async()=>{const P=pd(r),M={userId:e.id,startDate:null,isActive:!1,lastUpdateTime:new Date().toISOString(),relapseTime:new Date().toISOString(),previousStartDate:r.startDate};s(M);const O=e.isGuest?Si:Ti;try{const I={user:e,streak:M,updatedAt:Ce.now()};await cd(jr(rn,O,e.id),I),AR(P,_,e.isGuest?"guest":"google"),console.log(`Auto-relapsed user after ${_} hours of inactivity`)}catch(I){console.error("Error saving auto-relapse to Firestore:",I)}})()},[e,r]);const u=()=>{if(!(r!=null&&r.startDate)||!r.isActive)return 0;const v=new Date(r.startDate),T=Math.abs(new Date().getTime()-v.getTime());return Math.floor(T/(1e3*60*60*24))},d=async(v,_)=>{const T=v.isGuest?Si:Ti;try{const M={user:{id:v.id,name:v.name,isGuest:v.isGuest,...v.email&&{email:v.email},...v.photoUrl&&{photoUrl:v.photoUrl}},streak:_,updatedAt:Ce.now()};await cd(jr(rn,T,v.id),M)}catch(P){console.error("Error saving to Firestore:",P)}},h=async v=>{const _=v.isGuest?{...v,id:bz()}:v;n(_);const T=_.isGuest?Si:Ti;try{const P=await Mu(jr(rn,T,_.id));if(P.exists()){const M=P.data();s(M.streak),await d(_,M.streak),fz(_.isGuest?"guest":"google")}else if(_.isGuest){const M={userId:_.id,startDate:null,isActive:!1,lastUpdateTime:new Date().toISOString()};s(M),ax("guest")}else ax("google")}catch(P){console.error("Error during login:",P)}},p=async()=>{try{const v=e!=null&&e.isGuest?"guest":"google";e&&!e.isGuest&&await A9(Ul),e!=null&&e.isGuest&&localStorage.removeItem(yh),pz(v),n(null),s(null)}catch(v){console.error("Error signing out:",v)}},g=async()=>{if(!e)return;const v={userId:e.id,startDate:new Date().toISOString(),isActive:!0,lastUpdateTime:new Date().toISOString(),relapseTime:(r==null?void 0:r.relapseTime)||null,previousStartDate:(r==null?void 0:r.previousStartDate)||null};s(v),await d(e,v),mz(e.isGuest?"guest":"google")},S=async()=>{if(!e)return;const v=u(),_={userId:e.id,startDate:null,isActive:!1,lastUpdateTime:new Date().toISOString(),relapseTime:new Date().toISOString(),previousStartDate:(r==null?void 0:r.startDate)||null};s(_),await d(e,_),gz(v,e.isGuest?"guest":"google")},E=async()=>{if(!e||!r)return;const v=u(),_={...r,lastUpdateTime:new Date().toISOString()};s(_),await d(e,_),yz(v,e.isGuest?"guest":"google")},x=async v=>{if(!e||!v.trim())return!1;try{const _=`${e.id}_${Date.now()}`,T={userId:e.id,userName:e.name,isGuest:e.isGuest,message:v.trim(),createdAt:Ce.now()};return await cd(jr(rn,Sz,_),T),vz(e.isGuest?"guest":"google"),!0}catch(_){return console.error("Error submitting feedback:",_),!1}};return f.jsx(RR.Provider,{value:{currentUser:e,streakData:r,leaderboard:i,isLoading:a,login:h,logout:p,startChallenge:g,relapse:S,confirmActive:E,getDaysCount:u,submitFeedback:x},children:t})},di=()=>{const t=y.useContext(RR);if(!t)throw new Error("useApp must be used within an AppProvider");return t},kR=y.createContext(void 0),dx="letsGoKings_theme",Pz=({children:t})=>{const[e,n]=y.useState(()=>localStorage.getItem(dx)||"dark");y.useEffect(()=>{const s=document.documentElement;e==="light"?s.classList.add("light"):s.classList.remove("light"),localStorage.setItem(dx,e)},[e]);const r=()=>{n(s=>s==="dark"?"light":"dark")};return f.jsx(kR.Provider,{value:{theme:e,toggleTheme:r},children:t})},kz=()=>{const t=y.useContext(kR);if(!t)throw new Error("useTheme must be used within a ThemeProvider");return t},xw=Jy("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),tt=y.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...s},i)=>{const o=r?lM:"button";return f.jsx(o,{className:me(xw({variant:e,size:n,className:t})),ref:i,...s})});tt.displayName="Button";const Tw=y.forwardRef(({className:t,type:e,...n},r)=>f.jsx("input",{type:e,className:me("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));Tw.displayName="Input";const Nz=Jy("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),Hg=y.forwardRef(({className:t,variant:e,...n},r)=>f.jsx("div",{ref:r,role:"alert",className:me(Nz({variant:e}),t),...n}));Hg.displayName="Alert";const Dz=y.forwardRef(({className:t,...e},n)=>f.jsx("h5",{ref:n,className:me("mb-1 font-medium leading-none tracking-tight",t),...e}));Dz.displayName="AlertTitle";const Wg=y.forwardRef(({className:t,...e},n)=>f.jsx("div",{ref:n,className:me("text-sm [&_p]:leading-relaxed",t),...e}));Wg.displayName="AlertDescription";const Mz=(t,e=150)=>new Promise((n,r)=>{const s=new FileReader;s.onload=i=>{var a;const o=new Image;o.onload=()=>{const l=document.createElement("canvas");let{width:u,height:d}=o;u>d?u>e&&(d=d*e/u,u=e):d>e&&(u=u*e/d,d=e),l.width=u,l.height=d;const h=l.getContext("2d");if(!h){r(new Error("Could not get canvas context"));return}h.drawImage(o,0,0,u,d);const p=l.toDataURL("image/jpeg",.7);n(p)},o.onerror=()=>r(new Error("Failed to load image")),o.src=(a=i.target)==null?void 0:a.result},s.onerror=()=>r(new Error("Failed to read file")),s.readAsDataURL(t)}),Oz=()=>{const{login:t}=di(),[e,n]=y.useState(""),[r,s]=y.useState(!1),[i,o]=y.useState(null),[a,l]=y.useState(!1),[u,d]=y.useState(null),h=y.useRef(null);y.useEffect(()=>{(async()=>{try{const v=await n$(Ul);v!=null&&v.user&&t({id:v.user.uid,name:v.user.displayName||"Warrior",email:v.user.email||void 0,photoUrl:v.user.photoURL||void 0,isGuest:!1})}catch(v){console.error("Redirect sign-in error:",v)}})()},[t]);const p=async()=>{l(!0),d(null);try{const v=(await K9(Ul,gh)).user;t({id:v.uid,name:v.displayName||"Warrior",email:v.email||void 0,photoUrl:v.photoURL||void 0,isGuest:!1})}catch(x){if(console.error("Google sign-in error:",x),x instanceof Pn)if(x.code==="auth/popup-closed-by-user")d(null);else if(x.code==="auth/missing-or-invalid-nonce"||x.code==="auth/credential-already-in-use")d("Please try again");else if(x.code==="auth/popup-blocked")try{await e$(Ul,gh)}catch{d("Sign-in failed. Please try again.")}else d(x.message);else{const v=x instanceof Error?x.message:"Failed to sign in with Google";d(v)}}finally{l(!1)}},g=()=>{if(!e.trim())return;const x={id:"guest_"+Date.now(),name:e.trim(),isGuest:!0,photoUrl:i||void 0};t(x)},S=y.useCallback(async x=>{var _;const v=(_=x.target.files)==null?void 0:_[0];if(v)try{const T=await Mz(v,150);o(T)}catch(T){console.error("Error compressing image:",T),d("Failed to process image. Please try a different one.")}},[]),E=()=>{var x;(x=h.current)==null||x.click()};return f.jsxs("div",{className:"min-h-screen bg-[#0a0e17] flex flex-col",children:[f.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center px-4 py-8",children:[f.jsxs("div",{className:"mb-6 relative",children:[f.jsx("svg",{className:"absolute -top-1 -right-1 h-4 w-4 text-yellow-400 animate-pulse",viewBox:"0 0 24 24",fill:"currentColor",children:f.jsx("path",{d:"M12 2l2.4 7.4h7.6l-6 4.6 2.3 7-6.3-4.6-6.3 4.6 2.3-7-6-4.6h7.6z"})}),f.jsx(ya,{className:"h-14 w-14 text-yellow-400 animate-bounce-slow",strokeWidth:2})]}),f.jsxs("h1",{className:"font-display text-3xl sm:text-4xl font-bold mb-3",children:[f.jsx("span",{className:"text-blue-400",children:"LetsGo"}),f.jsx("span",{className:"text-yellow-400",children:"Kings"})]}),f.jsx("p",{className:"text-gray-400 text-base mb-10",children:"Master your energy. Live your dream life."}),r?f.jsxs("div",{className:"w-full max-w-sm space-y-5",children:[f.jsxs(Hg,{className:"bg-[#151a26] border-gray-700 rounded-lg",children:[f.jsx(dO,{className:"h-4 w-4 text-gray-400"}),f.jsx(Wg,{className:"text-sm text-gray-400 ml-2",children:"Your progress will be saved and visible on the public leaderboard."})]}),f.jsx("div",{className:"flex justify-center",children:f.jsxs("div",{onClick:E,className:"relative w-24 h-24 rounded-full overflow-hidden cursor-pointer group border-2 border-blue-500/50 hover:border-blue-400 transition-colors",children:[i?f.jsx("img",{src:i,alt:"Profile",className:"w-full h-full object-cover"}):f.jsx("div",{className:"w-full h-full bg-[#151a26] flex items-center justify-center",children:f.jsx(K_,{className:"h-10 w-10 text-gray-500"})}),f.jsx("div",{className:"absolute inset-0 bg-black/50 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity",children:f.jsx(tO,{className:"h-6 w-6 text-white"})}),f.jsx("input",{ref:h,type:"file",accept:"image/*",onChange:S,className:"hidden"})]})}),f.jsx(Tw,{placeholder:"Enter your name",value:e,onChange:x=>n(x.target.value),className:"h-12 bg-[#151a26] border-gray-700 text-white placeholder:text-gray-500 rounded-full focus:border-blue-500 px-5",onKeyDown:x=>x.key==="Enter"&&g()}),f.jsxs("div",{className:"flex gap-3",children:[f.jsx(tt,{variant:"outline",onClick:()=>s(!1),className:"flex-1 h-12 border-gray-700 text-gray-300 hover:bg-gray-700/50 rounded-full",children:"Back"}),f.jsx(tt,{onClick:g,disabled:!e.trim(),className:"flex-1 h-12 bg-blue-600 hover:bg-blue-700 text-white font-medium rounded-full disabled:opacity-50",children:"Join as Guest"})]})]}):f.jsxs("div",{className:"w-full max-w-sm space-y-4",children:[u&&f.jsx(Hg,{className:"bg-red-500/10 border-red-500/50 rounded-full",children:f.jsx(Wg,{className:"text-sm text-red-400 text-center",children:u})}),f.jsxs(tt,{onClick:p,disabled:a,className:"w-full h-12 bg-white text-gray-900 hover:bg-gray-100 font-medium rounded-full disabled:opacity-50",children:[f.jsxs("svg",{className:"h-5 w-5 mr-2",viewBox:"0 0 24 24",children:[f.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),f.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),f.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),f.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),a?f.jsxs(f.Fragment,{children:[f.jsx(hO,{className:"h-4 w-4 mr-2 animate-spin"}),"Signing in..."]}):"Continue with Google"]}),f.jsxs("div",{className:"relative",children:[f.jsx("div",{className:"absolute inset-0 flex items-center",children:f.jsx("span",{className:"w-full border-t border-gray-700"})}),f.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:f.jsx("span",{className:"bg-[#0a0e17] px-3 text-gray-500",children:"or"})})]}),f.jsxs(tt,{variant:"outline",onClick:()=>s(!0),className:"w-full h-12 border-blue-500/50 text-blue-400 hover:bg-blue-500/10 rounded-full",children:[f.jsx(K_,{className:"h-4 w-4 mr-2"}),"Continue as Guest"]}),f.jsxs("p",{className:"text-center text-sm text-gray-500 pt-4",children:["Join ",f.jsx("span",{className:"text-blue-400",children:"thousands"})," of men reclaiming ",f.jsx("span",{className:"text-blue-400",children:"their"})," power through discipline"]})]})]}),f.jsx("div",{className:"text-center py-8 px-4",children:f.jsxs("p",{className:"text-sm text-gray-500 italic",children:['"Every time you say ',f.jsx("span",{className:"text-blue-400",children:"no"}),", your ",f.jsx("span",{className:"text-yellow-400",children:"future"}),'  says thank you. "']})})]})};var Jp="focusScope.autoFocusOnMount",Zp="focusScope.autoFocusOnUnmount",hx={bubbles:!1,cancelable:!0},Lz="FocusScope",Sw=y.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...o}=t,[a,l]=y.useState(null),u=Je(s),d=Je(i),h=y.useRef(null),p=Re(e,E=>l(E)),g=y.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;y.useEffect(()=>{if(r){let E=function(T){if(g.paused||!a)return;const P=T.target;a.contains(P)?h.current=P:Es(h.current,{select:!0})},x=function(T){if(g.paused||!a)return;const P=T.relatedTarget;P!==null&&(a.contains(P)||Es(h.current,{select:!0}))},v=function(T){if(document.activeElement===document.body)for(const M of T)M.removedNodes.length>0&&Es(a)};document.addEventListener("focusin",E),document.addEventListener("focusout",x);const _=new MutationObserver(v);return a&&_.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",E),document.removeEventListener("focusout",x),_.disconnect()}}},[r,a,g.paused]),y.useEffect(()=>{if(a){px.add(g);const E=document.activeElement;if(!a.contains(E)){const v=new CustomEvent(Jp,hx);a.addEventListener(Jp,u),a.dispatchEvent(v),v.defaultPrevented||(Vz(Bz(NR(a)),{select:!0}),document.activeElement===E&&Es(a))}return()=>{a.removeEventListener(Jp,u),setTimeout(()=>{const v=new CustomEvent(Zp,hx);a.addEventListener(Zp,d),a.dispatchEvent(v),v.defaultPrevented||Es(E??document.body,{select:!0}),a.removeEventListener(Zp,d),px.remove(g)},0)}}},[a,u,d,g]);const S=y.useCallback(E=>{if(!n&&!r||g.paused)return;const x=E.key==="Tab"&&!E.altKey&&!E.ctrlKey&&!E.metaKey,v=document.activeElement;if(x&&v){const _=E.currentTarget,[T,P]=jz(_);T&&P?!E.shiftKey&&v===P?(E.preventDefault(),n&&Es(T,{select:!0})):E.shiftKey&&v===T&&(E.preventDefault(),n&&Es(P,{select:!0})):v===_&&E.preventDefault()}},[n,r,g.paused]);return f.jsx(_e.div,{tabIndex:-1,...o,ref:p,onKeyDown:S})});Sw.displayName=Lz;function Vz(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(Es(r,{select:e}),document.activeElement!==n)return}function jz(t){const e=NR(t),n=fx(e,t),r=fx(e.reverse(),t);return[n,r]}function NR(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function fx(t,e){for(const n of t)if(!Fz(n,{upTo:e}))return n}function Fz(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function Uz(t){return t instanceof HTMLInputElement&&"select"in t}function Es(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&Uz(t)&&e&&t.select()}}var px=$z();function $z(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=mx(t,e),t.unshift(e)},remove(e){var n;t=mx(t,e),(n=t[0])==null||n.resume()}}}function mx(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function Bz(t){return t.filter(e=>e.tagName!=="A")}var em=0;function DR(){y.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??gx()),document.body.insertAdjacentElement("beforeend",t[1]??gx()),em++,()=>{em===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),em--}},[])}function gx(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var gr=function(){return gr=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},gr.apply(this,arguments)};function MR(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function zz(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))}var md="right-scroll-bar-position",gd="width-before-scroll-bar",Hz="with-scroll-bars-hidden",Wz="--removed-body-scroll-bar-size";function tm(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function qz(t,e){var n=y.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=e,n.facade}var Gz=typeof window<"u"?y.useLayoutEffect:y.useEffect,yx=new WeakMap;function Kz(t,e){var n=qz(null,function(r){return t.forEach(function(s){return tm(s,r)})});return Gz(function(){var r=yx.get(n);if(r){var s=new Set(r),i=new Set(t),o=n.current;s.forEach(function(a){i.has(a)||tm(a,null)}),i.forEach(function(a){s.has(a)||tm(a,o)})}yx.set(n,t)},[t]),n}function Qz(t){return t}function Yz(t,e){e===void 0&&(e=Qz);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(i){var o=e(i,r);return n.push(o),function(){n=n.filter(function(a){return a!==o})}},assignSyncMedium:function(i){for(r=!0;n.length;){var o=n;n=[],o.forEach(i)}n={push:function(a){return i(a)},filter:function(){return n}}},assignMedium:function(i){r=!0;var o=[];if(n.length){var a=n;n=[],a.forEach(i),o=n}var l=function(){var d=o;o=[],d.forEach(i)},u=function(){return Promise.resolve().then(l)};u(),n={push:function(d){o.push(d),u()},filter:function(d){return o=o.filter(d),n}}}};return s}function Xz(t){t===void 0&&(t={});var e=Yz(null);return e.options=gr({async:!0,ssr:!1},t),e}var OR=function(t){var e=t.sideCar,n=MR(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return y.createElement(r,gr({},n))};OR.isSideCarExport=!0;function Jz(t,e){return t.useMedium(e),OR}var LR=Xz(),nm=function(){},Af=y.forwardRef(function(t,e){var n=y.useRef(null),r=y.useState({onScrollCapture:nm,onWheelCapture:nm,onTouchMoveCapture:nm}),s=r[0],i=r[1],o=t.forwardProps,a=t.children,l=t.className,u=t.removeScrollBar,d=t.enabled,h=t.shards,p=t.sideCar,g=t.noRelative,S=t.noIsolation,E=t.inert,x=t.allowPinchZoom,v=t.as,_=v===void 0?"div":v,T=t.gapMode,P=MR(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),M=p,O=Kz([n,e]),I=gr(gr({},P),s);return y.createElement(y.Fragment,null,d&&y.createElement(M,{sideCar:LR,removeScrollBar:u,shards:h,noRelative:g,noIsolation:S,inert:E,setCallbacks:i,allowPinchZoom:!!x,lockRef:n,gapMode:T}),o?y.cloneElement(y.Children.only(a),gr(gr({},I),{ref:O})):y.createElement(_,gr({},I,{className:l,ref:O}),a))});Af.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Af.classNames={fullWidth:gd,zeroRight:md};var Zz=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function e8(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=Zz();return e&&t.setAttribute("nonce",e),t}function t8(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function n8(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var r8=function(){var t=0,e=null;return{add:function(n){t==0&&(e=e8())&&(t8(e,n),n8(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},s8=function(){var t=r8();return function(e,n){y.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},VR=function(){var t=s8(),e=function(n){var r=n.styles,s=n.dynamic;return t(r,s),null};return e},i8={left:0,top:0,right:0,gap:0},rm=function(t){return parseInt(t||"",10)||0},o8=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[rm(n),rm(r),rm(s)]},a8=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return i8;var e=o8(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},l8=VR(),Zo="data-scroll-locked",c8=function(t,e,n,r){var s=t.left,i=t.top,o=t.right,a=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(Hz,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(Zo,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(md,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(gd,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(md," .").concat(md,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(gd," .").concat(gd,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Zo,`] {
    `).concat(Wz,": ").concat(a,`px;
  }
`)},vx=function(){var t=parseInt(document.body.getAttribute(Zo)||"0",10);return isFinite(t)?t:0},u8=function(){y.useEffect(function(){return document.body.setAttribute(Zo,(vx()+1).toString()),function(){var t=vx()-1;t<=0?document.body.removeAttribute(Zo):document.body.setAttribute(Zo,t.toString())}},[])},d8=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,s=r===void 0?"margin":r;u8();var i=y.useMemo(function(){return a8(s)},[s]);return y.createElement(l8,{styles:c8(i,!e,s,n?"":"!important")})},qg=!1;if(typeof window<"u")try{var ju=Object.defineProperty({},"passive",{get:function(){return qg=!0,!0}});window.addEventListener("test",ju,ju),window.removeEventListener("test",ju,ju)}catch{qg=!1}var wo=qg?{passive:!1}:!1,h8=function(t){return t.tagName==="TEXTAREA"},jR=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!h8(t)&&n[e]==="visible")},f8=function(t){return jR(t,"overflowY")},p8=function(t){return jR(t,"overflowX")},wx=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=FR(t,r);if(s){var i=UR(t,r),o=i[1],a=i[2];if(o>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},m8=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},g8=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},FR=function(t,e){return t==="v"?f8(e):p8(e)},UR=function(t,e){return t==="v"?m8(e):g8(e)},y8=function(t,e){return t==="h"&&e==="rtl"?-1:1},v8=function(t,e,n,r,s){var i=y8(t,window.getComputedStyle(e).direction),o=i*r,a=n.target,l=e.contains(a),u=!1,d=o>0,h=0,p=0;do{if(!a)break;var g=UR(t,a),S=g[0],E=g[1],x=g[2],v=E-x-i*S;(S||v)&&FR(t,a)&&(h+=v,p+=S);var _=a.parentNode;a=_&&_.nodeType===Node.DOCUMENT_FRAGMENT_NODE?_.host:_}while(!l&&a!==document.body||l&&(e.contains(a)||e===a));return(d&&(Math.abs(h)<1||!s)||!d&&(Math.abs(p)<1||!s))&&(u=!0),u},Fu=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},_x=function(t){return[t.deltaX,t.deltaY]},Ex=function(t){return t&&"current"in t?t.current:t},w8=function(t,e){return t[0]===e[0]&&t[1]===e[1]},_8=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},E8=0,_o=[];function x8(t){var e=y.useRef([]),n=y.useRef([0,0]),r=y.useRef(),s=y.useState(E8++)[0],i=y.useState(VR)[0],o=y.useRef(t);y.useEffect(function(){o.current=t},[t]),y.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var E=zz([t.lockRef.current],(t.shards||[]).map(Ex),!0).filter(Boolean);return E.forEach(function(x){return x.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),E.forEach(function(x){return x.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var a=y.useCallback(function(E,x){if("touches"in E&&E.touches.length===2||E.type==="wheel"&&E.ctrlKey)return!o.current.allowPinchZoom;var v=Fu(E),_=n.current,T="deltaX"in E?E.deltaX:_[0]-v[0],P="deltaY"in E?E.deltaY:_[1]-v[1],M,O=E.target,I=Math.abs(T)>Math.abs(P)?"h":"v";if("touches"in E&&I==="h"&&O.type==="range")return!1;var b=wx(I,O);if(!b)return!0;if(b?M=I:(M=I==="v"?"h":"v",b=wx(I,O)),!b)return!1;if(!r.current&&"changedTouches"in E&&(T||P)&&(r.current=M),!M)return!0;var C=r.current||M;return v8(C,x,E,C==="h"?T:P,!0)},[]),l=y.useCallback(function(E){var x=E;if(!(!_o.length||_o[_o.length-1]!==i)){var v="deltaY"in x?_x(x):Fu(x),_=e.current.filter(function(M){return M.name===x.type&&(M.target===x.target||x.target===M.shadowParent)&&w8(M.delta,v)})[0];if(_&&_.should){x.cancelable&&x.preventDefault();return}if(!_){var T=(o.current.shards||[]).map(Ex).filter(Boolean).filter(function(M){return M.contains(x.target)}),P=T.length>0?a(x,T[0]):!o.current.noIsolation;P&&x.cancelable&&x.preventDefault()}}},[]),u=y.useCallback(function(E,x,v,_){var T={name:E,delta:x,target:v,should:_,shadowParent:T8(v)};e.current.push(T),setTimeout(function(){e.current=e.current.filter(function(P){return P!==T})},1)},[]),d=y.useCallback(function(E){n.current=Fu(E),r.current=void 0},[]),h=y.useCallback(function(E){u(E.type,_x(E),E.target,a(E,t.lockRef.current))},[]),p=y.useCallback(function(E){u(E.type,Fu(E),E.target,a(E,t.lockRef.current))},[]);y.useEffect(function(){return _o.push(i),t.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:p}),document.addEventListener("wheel",l,wo),document.addEventListener("touchmove",l,wo),document.addEventListener("touchstart",d,wo),function(){_o=_o.filter(function(E){return E!==i}),document.removeEventListener("wheel",l,wo),document.removeEventListener("touchmove",l,wo),document.removeEventListener("touchstart",d,wo)}},[]);var g=t.removeScrollBar,S=t.inert;return y.createElement(y.Fragment,null,S?y.createElement(i,{styles:_8(s)}):null,g?y.createElement(d8,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function T8(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const S8=Jz(LR,x8);var bw=y.forwardRef(function(t,e){return y.createElement(Af,gr({},t,{ref:e,sideCar:S8}))});bw.classNames=Af.classNames;var b8=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Eo=new WeakMap,Uu=new WeakMap,$u={},sm=0,$R=function(t){return t&&(t.host||$R(t.parentNode))},I8=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=$R(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},C8=function(t,e,n,r){var s=I8(e,Array.isArray(t)?t:[t]);$u[n]||($u[n]=new WeakMap);var i=$u[n],o=[],a=new Set,l=new Set(s),u=function(h){!h||a.has(h)||(a.add(h),u(h.parentNode))};s.forEach(u);var d=function(h){!h||l.has(h)||Array.prototype.forEach.call(h.children,function(p){if(a.has(p))d(p);else try{var g=p.getAttribute(r),S=g!==null&&g!=="false",E=(Eo.get(p)||0)+1,x=(i.get(p)||0)+1;Eo.set(p,E),i.set(p,x),o.push(p),E===1&&S&&Uu.set(p,!0),x===1&&p.setAttribute(n,"true"),S||p.setAttribute(r,"true")}catch(v){console.error("aria-hidden: cannot operate on ",p,v)}})};return d(e),a.clear(),sm++,function(){o.forEach(function(h){var p=Eo.get(h)-1,g=i.get(h)-1;Eo.set(h,p),i.set(h,g),p||(Uu.has(h)||h.removeAttribute(r),Uu.delete(h)),g||h.removeAttribute(n)}),sm--,sm||(Eo=new WeakMap,Eo=new WeakMap,Uu=new WeakMap,$u={})}},BR=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),s=b8(t);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live]"))),C8(r,s,n,"aria-hidden")):function(){return null}},Rf="Dialog",[zR,HR]=er(Rf),[A8,tr]=zR(Rf),WR=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:s,onOpenChange:i,modal:o=!0}=t,a=y.useRef(null),l=y.useRef(null),[u,d]=Nc({prop:r,defaultProp:s??!1,onChange:i,caller:Rf});return f.jsx(A8,{scope:e,triggerRef:a,contentRef:l,contentId:Fi(),titleId:Fi(),descriptionId:Fi(),open:u,onOpenChange:d,onOpenToggle:y.useCallback(()=>d(h=>!h),[d]),modal:o,children:n})};WR.displayName=Rf;var qR="DialogTrigger",GR=y.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=tr(qR,n),i=Re(e,s.triggerRef);return f.jsx(_e.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":Aw(s.open),...r,ref:i,onClick:J(t.onClick,s.onOpenToggle)})});GR.displayName=qR;var Iw="DialogPortal",[R8,KR]=zR(Iw,{forceMount:void 0}),QR=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:s}=t,i=tr(Iw,e);return f.jsx(R8,{scope:e,forceMount:n,children:y.Children.map(r,o=>f.jsx(Zt,{present:n||i.open,children:f.jsx(zh,{asChild:!0,container:s,children:o})}))})};QR.displayName=Iw;var vh="DialogOverlay",YR=y.forwardRef((t,e)=>{const n=KR(vh,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=tr(vh,t.__scopeDialog);return i.modal?f.jsx(Zt,{present:r||i.open,children:f.jsx(k8,{...s,ref:e})}):null});YR.displayName=vh;var P8=ga("DialogOverlay.RemoveScroll"),k8=y.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=tr(vh,n);return f.jsx(bw,{as:P8,allowPinchZoom:!0,shards:[s.contentRef],children:f.jsx(_e.div,{"data-state":Aw(s.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),to="DialogContent",XR=y.forwardRef((t,e)=>{const n=KR(to,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=tr(to,t.__scopeDialog);return f.jsx(Zt,{present:r||i.open,children:i.modal?f.jsx(N8,{...s,ref:e}):f.jsx(D8,{...s,ref:e})})});XR.displayName=to;var N8=y.forwardRef((t,e)=>{const n=tr(to,t.__scopeDialog),r=y.useRef(null),s=Re(e,n.contentRef,r);return y.useEffect(()=>{const i=r.current;if(i)return BR(i)},[]),f.jsx(JR,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:J(t.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:J(t.onPointerDownOutside,i=>{const o=i.detail.originalEvent,a=o.button===0&&o.ctrlKey===!0;(o.button===2||a)&&i.preventDefault()}),onFocusOutside:J(t.onFocusOutside,i=>i.preventDefault())})}),D8=y.forwardRef((t,e)=>{const n=tr(to,t.__scopeDialog),r=y.useRef(!1),s=y.useRef(!1);return f.jsx(JR,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,a;(o=t.onCloseAutoFocus)==null||o.call(t,i),i.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),i.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:i=>{var l,u;(l=t.onInteractOutside)==null||l.call(t,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=i.target;((u=n.triggerRef.current)==null?void 0:u.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),JR=y.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:i,...o}=t,a=tr(to,n),l=y.useRef(null),u=Re(e,l);return DR(),f.jsxs(f.Fragment,{children:[f.jsx(Sw,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:i,children:f.jsx(kc,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":Aw(a.open),...o,ref:u,onDismiss:()=>a.onOpenChange(!1)})}),f.jsxs(f.Fragment,{children:[f.jsx(O8,{titleId:a.titleId}),f.jsx(V8,{contentRef:l,descriptionId:a.descriptionId})]})]})}),Cw="DialogTitle",ZR=y.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=tr(Cw,n);return f.jsx(_e.h2,{id:s.titleId,...r,ref:e})});ZR.displayName=Cw;var eP="DialogDescription",tP=y.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=tr(eP,n);return f.jsx(_e.p,{id:s.descriptionId,...r,ref:e})});tP.displayName=eP;var nP="DialogClose",rP=y.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=tr(nP,n);return f.jsx(_e.button,{type:"button",...r,ref:e,onClick:J(t.onClick,()=>s.onOpenChange(!1))})});rP.displayName=nP;function Aw(t){return t?"open":"closed"}var sP="DialogTitleWarning",[M8,iP]=oM(sP,{contentName:to,titleName:Cw,docsSlug:"dialog"}),O8=({titleId:t})=>{const e=iP(sP),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return y.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},L8="DialogDescriptionWarning",V8=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${iP(L8).contentName}}.`;return y.useEffect(()=>{var i;const s=(i=t.current)==null?void 0:i.getAttribute("aria-describedby");e&&s&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},oP=WR,j8=GR,aP=QR,Rw=YR,Pw=XR,kw=ZR,Nw=tP,Dw=rP,lP="AlertDialog",[F8,DW]=er(lP,[HR]),os=HR(),cP=t=>{const{__scopeAlertDialog:e,...n}=t,r=os(e);return f.jsx(oP,{...r,...n,modal:!0})};cP.displayName=lP;var U8="AlertDialogTrigger",uP=y.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,s=os(n);return f.jsx(j8,{...s,...r,ref:e})});uP.displayName=U8;var $8="AlertDialogPortal",dP=t=>{const{__scopeAlertDialog:e,...n}=t,r=os(e);return f.jsx(aP,{...r,...n})};dP.displayName=$8;var B8="AlertDialogOverlay",hP=y.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,s=os(n);return f.jsx(Rw,{...s,...r,ref:e})});hP.displayName=B8;var ea="AlertDialogContent",[z8,H8]=F8(ea),W8=JS("AlertDialogContent"),fP=y.forwardRef((t,e)=>{const{__scopeAlertDialog:n,children:r,...s}=t,i=os(n),o=y.useRef(null),a=Re(e,o),l=y.useRef(null);return f.jsx(M8,{contentName:ea,titleName:pP,docsSlug:"alert-dialog",children:f.jsx(z8,{scope:n,cancelRef:l,children:f.jsxs(Pw,{role:"alertdialog",...i,...s,ref:a,onOpenAutoFocus:J(s.onOpenAutoFocus,u=>{var d;u.preventDefault(),(d=l.current)==null||d.focus({preventScroll:!0})}),onPointerDownOutside:u=>u.preventDefault(),onInteractOutside:u=>u.preventDefault(),children:[f.jsx(W8,{children:r}),f.jsx(G8,{contentRef:o})]})})})});fP.displayName=ea;var pP="AlertDialogTitle",mP=y.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,s=os(n);return f.jsx(kw,{...s,...r,ref:e})});mP.displayName=pP;var gP="AlertDialogDescription",yP=y.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,s=os(n);return f.jsx(Nw,{...s,...r,ref:e})});yP.displayName=gP;var q8="AlertDialogAction",vP=y.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,s=os(n);return f.jsx(Dw,{...s,...r,ref:e})});vP.displayName=q8;var wP="AlertDialogCancel",_P=y.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,{cancelRef:s}=H8(wP,n),i=os(n),o=Re(e,s);return f.jsx(Dw,{...i,...r,ref:o})});_P.displayName=wP;var G8=({contentRef:t})=>{const e=`\`${ea}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${ea}\` by passing a \`${gP}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${ea}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return y.useEffect(()=>{var r;document.getElementById((r=t.current)==null?void 0:r.getAttribute("aria-describedby"))||console.warn(e)},[e,t]),null},K8=cP,Q8=uP,Y8=dP,EP=hP,xP=fP,TP=vP,SP=_P,bP=mP,IP=yP;const X8=K8,J8=Q8,Z8=Y8,CP=y.forwardRef(({className:t,...e},n)=>f.jsx(EP,{className:me("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:n}));CP.displayName=EP.displayName;const AP=y.forwardRef(({className:t,...e},n)=>f.jsxs(Z8,{children:[f.jsx(CP,{}),f.jsx(xP,{ref:n,className:me("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...e})]}));AP.displayName=xP.displayName;const RP=({className:t,...e})=>f.jsx("div",{className:me("flex flex-col space-y-2 text-center sm:text-left",t),...e});RP.displayName="AlertDialogHeader";const PP=({className:t,...e})=>f.jsx("div",{className:me("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});PP.displayName="AlertDialogFooter";const kP=y.forwardRef(({className:t,...e},n)=>f.jsx(bP,{ref:n,className:me("text-lg font-semibold",t),...e}));kP.displayName=bP.displayName;const NP=y.forwardRef(({className:t,...e},n)=>f.jsx(IP,{ref:n,className:me("text-sm text-muted-foreground",t),...e}));NP.displayName=IP.displayName;const DP=y.forwardRef(({className:t,...e},n)=>f.jsx(TP,{ref:n,className:me(xw(),t),...e}));DP.displayName=TP.displayName;const MP=y.forwardRef(({className:t,...e},n)=>f.jsx(SP,{ref:n,className:me(xw({variant:"outline"}),"mt-2 sm:mt-0",t),...e}));MP.displayName=SP.displayName;const e7=()=>{const{streakData:t,currentUser:e,leaderboard:n}=di(),[r,s]=y.useState(0),[i,o]=y.useState(0),[a,l]=y.useState(0),[u,d]=y.useState(0);y.useEffect(()=>{const S=()=>{if(!(t!=null&&t.startDate)||!t.isActive){s(0),o(0),l(0),d(0);return}const x=new Date(t.startDate),_=new Date().getTime()-x.getTime(),T=Math.floor(_/(1e3*60*60*24)),P=Math.floor(_%(1e3*60*60*24)/(1e3*60*60)),M=Math.floor(_%(1e3*60*60)/(1e3*60)),O=Math.floor(_%(1e3*60)/1e3);s(T),o(P),l(M),d(O)};S();const E=setInterval(S,1e3);return()=>clearInterval(E)},[t]);const h=(t==null?void 0:t.isActive)&&(t==null?void 0:t.startDate),p=y.useMemo(()=>[...n].sort((S,E)=>S.streak.isActive!==E.streak.isActive?S.streak.isActive?-1:1:E.daysCount-S.daysCount),[n]),g=e?p.findIndex(S=>S.user.id===e.id)+1:0;return f.jsxs("div",{className:"card-elevated p-6 sm:p-8",children:[f.jsxs("div",{className:"flex items-center justify-between mb-6",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(Zy,{className:`h-5 w-5 ${h?"text-primary animate-pulse-glow":"text-muted-foreground"}`}),f.jsx("h2",{className:"text-lg font-semibold",children:"Your Streak"})]}),g>0&&f.jsxs("div",{className:"flex items-center gap-1",children:[f.jsx(Sb,{className:"h-5 w-5 text-primary"}),f.jsx("span",{className:"text-lg font-semibold text-white",children:g})]})]}),f.jsxs("div",{className:"text-center",children:[f.jsxs("div",{className:"relative inline-block",children:[f.jsx("div",{className:`text-7xl sm:text-8xl font-display font-bold animate-count-up ${h?"text-gradient-gold":"text-muted-foreground"}`,children:r}),f.jsx("div",{className:"text-sm uppercase tracking-widest text-muted-foreground mt-2",children:r===1?"Day":"Days"})]}),h&&f.jsxs("div",{className:"mt-6 flex justify-center gap-4 sm:gap-6",children:[f.jsx(im,{value:i,label:"Hours"}),f.jsx(im,{value:a,label:"Min"}),f.jsx(im,{value:u,label:"Sec"})]}),(t==null?void 0:t.startDate)&&f.jsxs("div",{className:"mt-6 flex items-center justify-center gap-2 text-sm text-muted-foreground",children:[f.jsx(eO,{className:"h-4 w-4"}),f.jsxs("span",{children:["Started ",new Date(t.startDate).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})]})]}),!h&&f.jsx("p",{className:"mt-6 text-muted-foreground",children:"Start your challenge to begin tracking"})]})]})},im=({value:t,label:e})=>f.jsxs("div",{className:"flex flex-col items-center",children:[f.jsx("div",{className:"bg-secondary/50 rounded-lg px-3 py-2 min-w-[3rem]",children:f.jsx("span",{className:"text-xl font-semibold font-mono",children:t.toString().padStart(2,"0")})}),f.jsx("span",{className:"text-xs text-muted-foreground mt-1 uppercase tracking-wide",children:e})]}),Gg=oP,t7=aP,OP=y.forwardRef(({className:t,...e},n)=>f.jsx(Rw,{ref:n,className:me("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));OP.displayName=Rw.displayName;const wh=y.forwardRef(({className:t,children:e,...n},r)=>f.jsxs(t7,{children:[f.jsx(OP,{}),f.jsxs(Pw,{ref:r,className:me("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[e,f.jsxs(Dw,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-accent data-[state=open]:text-muted-foreground hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[f.jsx(sc,{className:"h-4 w-4"}),f.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));wh.displayName=Pw.displayName;const _h=({className:t,...e})=>f.jsx("div",{className:me("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});_h.displayName="DialogHeader";const Kg=({className:t,...e})=>f.jsx("div",{className:me("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});Kg.displayName="DialogFooter";const Eh=y.forwardRef(({className:t,...e},n)=>f.jsx(kw,{ref:n,className:me("text-lg font-semibold leading-none tracking-tight",t),...e}));Eh.displayName=kw.displayName;const LP=y.forwardRef(({className:t,...e},n)=>f.jsx(Nw,{ref:n,className:me("text-sm text-muted-foreground",t),...e}));LP.displayName=Nw.displayName;var n7=y.createContext(void 0);function Mw(t){const e=y.useContext(n7);return t||e||"ltr"}function r7(t,[e,n]){return Math.min(n,Math.max(e,t))}function s7(t,e){return y.useReducer((n,r)=>e[n][r]??n,t)}var Ow="ScrollArea",[VP,MW]=er(Ow),[i7,kn]=VP(Ow),jP=y.forwardRef((t,e)=>{const{__scopeScrollArea:n,type:r="hover",dir:s,scrollHideDelay:i=600,...o}=t,[a,l]=y.useState(null),[u,d]=y.useState(null),[h,p]=y.useState(null),[g,S]=y.useState(null),[E,x]=y.useState(null),[v,_]=y.useState(0),[T,P]=y.useState(0),[M,O]=y.useState(!1),[I,b]=y.useState(!1),C=Re(e,N=>l(N)),R=Mw(s);return f.jsx(i7,{scope:n,type:r,dir:R,scrollHideDelay:i,scrollArea:a,viewport:u,onViewportChange:d,content:h,onContentChange:p,scrollbarX:g,onScrollbarXChange:S,scrollbarXEnabled:M,onScrollbarXEnabledChange:O,scrollbarY:E,onScrollbarYChange:x,scrollbarYEnabled:I,onScrollbarYEnabledChange:b,onCornerWidthChange:_,onCornerHeightChange:P,children:f.jsx(_e.div,{dir:R,...o,ref:C,style:{position:"relative","--radix-scroll-area-corner-width":v+"px","--radix-scroll-area-corner-height":T+"px",...t.style}})})});jP.displayName=Ow;var FP="ScrollAreaViewport",UP=y.forwardRef((t,e)=>{const{__scopeScrollArea:n,children:r,nonce:s,...i}=t,o=kn(FP,n),a=y.useRef(null),l=Re(e,a,o.onViewportChange);return f.jsxs(f.Fragment,{children:[f.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),f.jsx(_e.div,{"data-radix-scroll-area-viewport":"",...i,ref:l,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...t.style},children:f.jsx("div",{ref:o.onContentChange,style:{minWidth:"100%",display:"table"},children:r})})]})});UP.displayName=FP;var kr="ScrollAreaScrollbar",Lw=y.forwardRef((t,e)=>{const{forceMount:n,...r}=t,s=kn(kr,t.__scopeScrollArea),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:o}=s,a=t.orientation==="horizontal";return y.useEffect(()=>(a?i(!0):o(!0),()=>{a?i(!1):o(!1)}),[a,i,o]),s.type==="hover"?f.jsx(o7,{...r,ref:e,forceMount:n}):s.type==="scroll"?f.jsx(a7,{...r,ref:e,forceMount:n}):s.type==="auto"?f.jsx($P,{...r,ref:e,forceMount:n}):s.type==="always"?f.jsx(Vw,{...r,ref:e}):null});Lw.displayName=kr;var o7=y.forwardRef((t,e)=>{const{forceMount:n,...r}=t,s=kn(kr,t.__scopeScrollArea),[i,o]=y.useState(!1);return y.useEffect(()=>{const a=s.scrollArea;let l=0;if(a){const u=()=>{window.clearTimeout(l),o(!0)},d=()=>{l=window.setTimeout(()=>o(!1),s.scrollHideDelay)};return a.addEventListener("pointerenter",u),a.addEventListener("pointerleave",d),()=>{window.clearTimeout(l),a.removeEventListener("pointerenter",u),a.removeEventListener("pointerleave",d)}}},[s.scrollArea,s.scrollHideDelay]),f.jsx(Zt,{present:n||i,children:f.jsx($P,{"data-state":i?"visible":"hidden",...r,ref:e})})}),a7=y.forwardRef((t,e)=>{const{forceMount:n,...r}=t,s=kn(kr,t.__scopeScrollArea),i=t.orientation==="horizontal",o=kf(()=>l("SCROLL_END"),100),[a,l]=s7("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return y.useEffect(()=>{if(a==="idle"){const u=window.setTimeout(()=>l("HIDE"),s.scrollHideDelay);return()=>window.clearTimeout(u)}},[a,s.scrollHideDelay,l]),y.useEffect(()=>{const u=s.viewport,d=i?"scrollLeft":"scrollTop";if(u){let h=u[d];const p=()=>{const g=u[d];h!==g&&(l("SCROLL"),o()),h=g};return u.addEventListener("scroll",p),()=>u.removeEventListener("scroll",p)}},[s.viewport,i,l,o]),f.jsx(Zt,{present:n||a!=="hidden",children:f.jsx(Vw,{"data-state":a==="hidden"?"hidden":"visible",...r,ref:e,onPointerEnter:J(t.onPointerEnter,()=>l("POINTER_ENTER")),onPointerLeave:J(t.onPointerLeave,()=>l("POINTER_LEAVE"))})})}),$P=y.forwardRef((t,e)=>{const n=kn(kr,t.__scopeScrollArea),{forceMount:r,...s}=t,[i,o]=y.useState(!1),a=t.orientation==="horizontal",l=kf(()=>{if(n.viewport){const u=n.viewport.offsetWidth<n.viewport.scrollWidth,d=n.viewport.offsetHeight<n.viewport.scrollHeight;o(a?u:d)}},10);return Ia(n.viewport,l),Ia(n.content,l),f.jsx(Zt,{present:r||i,children:f.jsx(Vw,{"data-state":i?"visible":"hidden",...s,ref:e})})}),Vw=y.forwardRef((t,e)=>{const{orientation:n="vertical",...r}=t,s=kn(kr,t.__scopeScrollArea),i=y.useRef(null),o=y.useRef(0),[a,l]=y.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=qP(a.viewport,a.content),d={...r,sizes:a,onSizesChange:l,hasThumb:u>0&&u<1,onThumbChange:p=>i.current=p,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:p=>o.current=p};function h(p,g){return f7(p,o.current,a,g)}return n==="horizontal"?f.jsx(l7,{...d,ref:e,onThumbPositionChange:()=>{if(s.viewport&&i.current){const p=s.viewport.scrollLeft,g=xx(p,a,s.dir);i.current.style.transform=`translate3d(${g}px, 0, 0)`}},onWheelScroll:p=>{s.viewport&&(s.viewport.scrollLeft=p)},onDragScroll:p=>{s.viewport&&(s.viewport.scrollLeft=h(p,s.dir))}}):n==="vertical"?f.jsx(c7,{...d,ref:e,onThumbPositionChange:()=>{if(s.viewport&&i.current){const p=s.viewport.scrollTop,g=xx(p,a);i.current.style.transform=`translate3d(0, ${g}px, 0)`}},onWheelScroll:p=>{s.viewport&&(s.viewport.scrollTop=p)},onDragScroll:p=>{s.viewport&&(s.viewport.scrollTop=h(p))}}):null}),l7=y.forwardRef((t,e)=>{const{sizes:n,onSizesChange:r,...s}=t,i=kn(kr,t.__scopeScrollArea),[o,a]=y.useState(),l=y.useRef(null),u=Re(e,l,i.onScrollbarXChange);return y.useEffect(()=>{l.current&&a(getComputedStyle(l.current))},[l]),f.jsx(zP,{"data-orientation":"horizontal",...s,ref:u,sizes:n,style:{bottom:0,left:i.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:i.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Pf(n)+"px",...t.style},onThumbPointerDown:d=>t.onThumbPointerDown(d.x),onDragScroll:d=>t.onDragScroll(d.x),onWheelScroll:(d,h)=>{if(i.viewport){const p=i.viewport.scrollLeft+d.deltaX;t.onWheelScroll(p),KP(p,h)&&d.preventDefault()}},onResize:()=>{l.current&&i.viewport&&o&&r({content:i.viewport.scrollWidth,viewport:i.viewport.offsetWidth,scrollbar:{size:l.current.clientWidth,paddingStart:Th(o.paddingLeft),paddingEnd:Th(o.paddingRight)}})}})}),c7=y.forwardRef((t,e)=>{const{sizes:n,onSizesChange:r,...s}=t,i=kn(kr,t.__scopeScrollArea),[o,a]=y.useState(),l=y.useRef(null),u=Re(e,l,i.onScrollbarYChange);return y.useEffect(()=>{l.current&&a(getComputedStyle(l.current))},[l]),f.jsx(zP,{"data-orientation":"vertical",...s,ref:u,sizes:n,style:{top:0,right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Pf(n)+"px",...t.style},onThumbPointerDown:d=>t.onThumbPointerDown(d.y),onDragScroll:d=>t.onDragScroll(d.y),onWheelScroll:(d,h)=>{if(i.viewport){const p=i.viewport.scrollTop+d.deltaY;t.onWheelScroll(p),KP(p,h)&&d.preventDefault()}},onResize:()=>{l.current&&i.viewport&&o&&r({content:i.viewport.scrollHeight,viewport:i.viewport.offsetHeight,scrollbar:{size:l.current.clientHeight,paddingStart:Th(o.paddingTop),paddingEnd:Th(o.paddingBottom)}})}})}),[u7,BP]=VP(kr),zP=y.forwardRef((t,e)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:s,onThumbChange:i,onThumbPointerUp:o,onThumbPointerDown:a,onThumbPositionChange:l,onDragScroll:u,onWheelScroll:d,onResize:h,...p}=t,g=kn(kr,n),[S,E]=y.useState(null),x=Re(e,C=>E(C)),v=y.useRef(null),_=y.useRef(""),T=g.viewport,P=r.content-r.viewport,M=Je(d),O=Je(l),I=kf(h,10);function b(C){if(v.current){const R=C.clientX-v.current.left,N=C.clientY-v.current.top;u({x:R,y:N})}}return y.useEffect(()=>{const C=R=>{const N=R.target;(S==null?void 0:S.contains(N))&&M(R,P)};return document.addEventListener("wheel",C,{passive:!1}),()=>document.removeEventListener("wheel",C,{passive:!1})},[T,S,P,M]),y.useEffect(O,[r,O]),Ia(S,I),Ia(g.content,I),f.jsx(u7,{scope:n,scrollbar:S,hasThumb:s,onThumbChange:Je(i),onThumbPointerUp:Je(o),onThumbPositionChange:O,onThumbPointerDown:Je(a),children:f.jsx(_e.div,{...p,ref:x,style:{position:"absolute",...p.style},onPointerDown:J(t.onPointerDown,C=>{C.button===0&&(C.target.setPointerCapture(C.pointerId),v.current=S.getBoundingClientRect(),_.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",g.viewport&&(g.viewport.style.scrollBehavior="auto"),b(C))}),onPointerMove:J(t.onPointerMove,b),onPointerUp:J(t.onPointerUp,C=>{const R=C.target;R.hasPointerCapture(C.pointerId)&&R.releasePointerCapture(C.pointerId),document.body.style.webkitUserSelect=_.current,g.viewport&&(g.viewport.style.scrollBehavior=""),v.current=null})})})}),xh="ScrollAreaThumb",HP=y.forwardRef((t,e)=>{const{forceMount:n,...r}=t,s=BP(xh,t.__scopeScrollArea);return f.jsx(Zt,{present:n||s.hasThumb,children:f.jsx(d7,{ref:e,...r})})}),d7=y.forwardRef((t,e)=>{const{__scopeScrollArea:n,style:r,...s}=t,i=kn(xh,n),o=BP(xh,n),{onThumbPositionChange:a}=o,l=Re(e,h=>o.onThumbChange(h)),u=y.useRef(void 0),d=kf(()=>{u.current&&(u.current(),u.current=void 0)},100);return y.useEffect(()=>{const h=i.viewport;if(h){const p=()=>{if(d(),!u.current){const g=p7(h,a);u.current=g,a()}};return a(),h.addEventListener("scroll",p),()=>h.removeEventListener("scroll",p)}},[i.viewport,d,a]),f.jsx(_e.div,{"data-state":o.hasThumb?"visible":"hidden",...s,ref:l,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:J(t.onPointerDownCapture,h=>{const g=h.target.getBoundingClientRect(),S=h.clientX-g.left,E=h.clientY-g.top;o.onThumbPointerDown({x:S,y:E})}),onPointerUp:J(t.onPointerUp,o.onThumbPointerUp)})});HP.displayName=xh;var jw="ScrollAreaCorner",WP=y.forwardRef((t,e)=>{const n=kn(jw,t.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?f.jsx(h7,{...t,ref:e}):null});WP.displayName=jw;var h7=y.forwardRef((t,e)=>{const{__scopeScrollArea:n,...r}=t,s=kn(jw,n),[i,o]=y.useState(0),[a,l]=y.useState(0),u=!!(i&&a);return Ia(s.scrollbarX,()=>{var h;const d=((h=s.scrollbarX)==null?void 0:h.offsetHeight)||0;s.onCornerHeightChange(d),l(d)}),Ia(s.scrollbarY,()=>{var h;const d=((h=s.scrollbarY)==null?void 0:h.offsetWidth)||0;s.onCornerWidthChange(d),o(d)}),u?f.jsx(_e.div,{...r,ref:e,style:{width:i,height:a,position:"absolute",right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:0,...t.style}}):null});function Th(t){return t?parseInt(t,10):0}function qP(t,e){const n=t/e;return isNaN(n)?0:n}function Pf(t){const e=qP(t.viewport,t.content),n=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,r=(t.scrollbar.size-n)*e;return Math.max(r,18)}function f7(t,e,n,r="ltr"){const s=Pf(n),i=s/2,o=e||i,a=s-o,l=n.scrollbar.paddingStart+o,u=n.scrollbar.size-n.scrollbar.paddingEnd-a,d=n.content-n.viewport,h=r==="ltr"?[0,d]:[d*-1,0];return GP([l,u],h)(t)}function xx(t,e,n="ltr"){const r=Pf(e),s=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,i=e.scrollbar.size-s,o=e.content-e.viewport,a=i-r,l=n==="ltr"?[0,o]:[o*-1,0],u=r7(t,l);return GP([0,o],[0,a])(u)}function GP(t,e){return n=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const r=(e[1]-e[0])/(t[1]-t[0]);return e[0]+r*(n-t[0])}}function KP(t,e){return t>0&&t<e}var p7=(t,e=()=>{})=>{let n={left:t.scrollLeft,top:t.scrollTop},r=0;return function s(){const i={left:t.scrollLeft,top:t.scrollTop},o=n.left!==i.left,a=n.top!==i.top;(o||a)&&e(),n=i,r=window.requestAnimationFrame(s)}(),()=>window.cancelAnimationFrame(r)};function kf(t,e){const n=Je(t),r=y.useRef(0);return y.useEffect(()=>()=>window.clearTimeout(r.current),[]),y.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,e)},[n,e])}function Ia(t,e){const n=Je(e);hn(()=>{let r=0;if(t){const s=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return s.observe(t),()=>{window.cancelAnimationFrame(r),s.unobserve(t)}}},[t,n])}var QP=jP,m7=UP,g7=WP;const Nf=y.forwardRef(({className:t,children:e,...n},r)=>f.jsxs(QP,{ref:r,className:me("relative overflow-hidden",t),...n,children:[f.jsx(m7,{className:"h-full w-full rounded-[inherit]",children:e}),f.jsx(YP,{}),f.jsx(g7,{})]}));Nf.displayName=QP.displayName;const YP=y.forwardRef(({className:t,orientation:e="vertical",...n},r)=>f.jsx(Lw,{ref:r,orientation:e,className:me("flex touch-none select-none transition-colors",e==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",e==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",t),...n,children:f.jsx(HP,{className:"relative flex-1 rounded-full bg-border"})}));YP.displayName=Lw.displayName;const y7=[{id:"EmKKSQ0Dy4M",title:"Video 1",thumbnail:"https://img.youtube.com/vi/EmKKSQ0Dy4M/mqdefault.jpg"},{id:"gJctVD_oMx4",title:"Video 2",thumbnail:"https://img.youtube.com/vi/gJctVD_oMx4/mqdefault.jpg"},{id:"0KqmvRtQV-E",title:"Video 3",thumbnail:"https://img.youtube.com/vi/0KqmvRtQV-E/mqdefault.jpg"},{id:"bxkUSK3H6Hk",title:"Video 4",thumbnail:"https://img.youtube.com/vi/bxkUSK3H6Hk/mqdefault.jpg"},{id:"l7ImtskJx8c",title:"Video 5",thumbnail:"https://img.youtube.com/vi/l7ImtskJx8c/mqdefault.jpg"},{id:"KnAMJXuE0Cc",title:"Video 6",thumbnail:"https://img.youtube.com/vi/KnAMJXuE0Cc/mqdefault.jpg"},{id:"tBAzIyPTJX0",title:"Video 7",thumbnail:"https://img.youtube.com/vi/tBAzIyPTJX0/mqdefault.jpg"},{id:"u4j2d7iLWsw",title:"Video 8",thumbnail:"https://img.youtube.com/vi/u4j2d7iLWsw/mqdefault.jpg"},{id:"Y5Oapy7C4gE",title:"Video 9",thumbnail:"https://img.youtube.com/vi/Y5Oapy7C4gE/mqdefault.jpg"},{id:"aHb_I2oSlyY",title:"Video 10",thumbnail:"https://img.youtube.com/vi/aHb_I2oSlyY/mqdefault.jpg"},{id:"7FP5BN8r4ig",title:"Video 11",thumbnail:"https://img.youtube.com/vi/7FP5BN8r4ig/mqdefault.jpg"},{id:"vWSyGIDXIFE",title:"Video 12",thumbnail:"https://img.youtube.com/vi/vWSyGIDXIFE/mqdefault.jpg"},{id:"-VtGmNlCvG8",title:"Video 13",thumbnail:"https://img.youtube.com/vi/-VtGmNlCvG8/mqdefault.jpg"},{id:"ZFYRfryUECE",title:"Video 14",thumbnail:"https://img.youtube.com/vi/ZFYRfryUECE/mqdefault.jpg"},{id:"t1XfAlE_lHk",title:"Video 15",thumbnail:"https://img.youtube.com/vi/t1XfAlE_lHk/mqdefault.jpg"},{id:"63SXG7YV7lc",title:"Video 16",thumbnail:"https://img.youtube.com/vi/63SXG7YV7lc/mqdefault.jpg"},{id:"O8tcQ_77TB4",title:"Video 17",thumbnail:"https://img.youtube.com/vi/O8tcQ_77TB4/mqdefault.jpg"},{id:"yq_7WEBBvKA",title:"Video 18",thumbnail:"https://img.youtube.com/vi/yq_7WEBBvKA/mqdefault.jpg"},{id:"FTsC9j7kRTc",title:"Video 19",thumbnail:"https://img.youtube.com/vi/FTsC9j7kRTc/mqdefault.jpg"},{id:"qpn8Lifa5s4",title:"Video 20",thumbnail:"https://img.youtube.com/vi/qpn8Lifa5s4/mqdefault.jpg"},{id:"vrsoCEUqErk",title:"Video 21",thumbnail:"https://img.youtube.com/vi/vrsoCEUqErk/mqdefault.jpg"},{id:"72Cc1EZl-mM",title:"Video 22",thumbnail:"https://img.youtube.com/vi/72Cc1EZl-mM/mqdefault.jpg"},{id:"J4B7zvHFiQY",title:"Video 23",thumbnail:"https://img.youtube.com/vi/J4B7zvHFiQY/mqdefault.jpg"},{id:"WDKXBSq8pJs",title:"Video 24",thumbnail:"https://img.youtube.com/vi/WDKXBSq8pJs/mqdefault.jpg"},{id:"QmOF0crdyRU",title:"Video 25",thumbnail:"https://img.youtube.com/vi/QmOF0crdyRU/mqdefault.jpg"},{id:"5HNO_JfY2Y0",title:"Video 26",thumbnail:"https://img.youtube.com/vi/5HNO_JfY2Y0/mqdefault.jpg"},{id:"Bh1XdxUTkfw",title:"Video 27",thumbnail:"https://img.youtube.com/vi/Bh1XdxUTkfw/mqdefault.jpg"}],v7=({open:t,onOpenChange:e})=>{const{currentUser:n}=di(),[r,s]=y.useState(null),i=y.useRef(null),o=y.useRef(!1),a=n!=null&&n.isGuest?"guest":"google";y.useEffect(()=>{t&&!o.current&&(xz(a),o.current=!0),t||(o.current=!1)},[t,a]),y.useEffect(()=>()=>{if(r&&i.current){const h=Math.round((Date.now()-i.current)/1e3);h>0&&Vu(r.id,r.title,h,a)}},[r,a]);const l=h=>{if(r&&i.current){const p=Math.round((Date.now()-i.current)/1e3);p>0&&Vu(r.id,r.title,p,a)}Tz(h.id,h.title,a),i.current=Date.now(),s(h)},u=()=>{if(r&&i.current){const h=Math.round((Date.now()-i.current)/1e3);h>0&&Vu(r.id,r.title,h,a)}i.current=null,s(null)},d=()=>{if(r&&i.current){const h=Math.round((Date.now()-i.current)/1e3);h>0&&Vu(r.id,r.title,h,a)}i.current=null,s(null),e(!1)};return f.jsx(Gg,{open:t,onOpenChange:d,children:f.jsxs(wh,{className:"max-w-7xl w-[98vw] h-[85vh] max-h-[85vh] p-0 bg-card border-border overflow-hidden",children:[f.jsx(_h,{className:"p-4 pb-2 border-b border-border/50",children:f.jsx(Eh,{className:"font-display text-xl",children:r?f.jsxs("button",{onClick:u,className:"flex items-center gap-2 hover:text-primary transition-colors",children:[f.jsx("span",{className:"text-muted-foreground",children:""}),f.jsx("span",{children:"Back to Videos"})]}):"Motivational Media"})}),r?f.jsxs("div",{className:"flex-1 p-4",children:[f.jsx("div",{className:"aspect-video w-full rounded-lg overflow-hidden bg-black",children:f.jsx("iframe",{src:`https://www.youtube.com/embed/${r.id}?autoplay=1`,title:r.title,allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,className:"w-full h-full"})}),f.jsx("h3",{className:"mt-4 text-lg font-semibold",children:r.title})]}):f.jsx(Nf,{className:"flex-1 h-[calc(85vh-80px)]",children:f.jsx("div",{className:"p-4 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:y7.map(h=>f.jsxs("button",{onClick:()=>l(h),className:"group relative rounded-lg overflow-hidden bg-secondary/30 border border-border/50 hover:border-primary/50 transition-all hover:scale-[1.02]",children:[f.jsxs("div",{className:"aspect-video relative",children:[f.jsx("img",{src:h.thumbnail,alt:h.title,className:"w-full h-full object-cover"}),f.jsx("div",{className:"absolute inset-0 bg-black/40 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity",children:f.jsx("div",{className:"w-14 h-14 rounded-full bg-primary/90 flex items-center justify-center",children:f.jsx(vO,{className:"h-6 w-6 text-primary-foreground ml-1"})})})]}),f.jsx("div",{className:"p-3",children:f.jsx("h4",{className:"text-sm font-medium text-left line-clamp-2",children:h.title})})]},h.id))})})]})})};var XP={exports:{}},JP={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ca=y;function w7(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var _7=typeof Object.is=="function"?Object.is:w7,E7=Ca.useState,x7=Ca.useEffect,T7=Ca.useLayoutEffect,S7=Ca.useDebugValue;function b7(t,e){var n=e(),r=E7({inst:{value:n,getSnapshot:e}}),s=r[0].inst,i=r[1];return T7(function(){s.value=n,s.getSnapshot=e,om(s)&&i({inst:s})},[t,n,e]),x7(function(){return om(s)&&i({inst:s}),t(function(){om(s)&&i({inst:s})})},[t]),S7(n),n}function om(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!_7(t,n)}catch{return!0}}function I7(t,e){return e()}var C7=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?I7:b7;JP.useSyncExternalStore=Ca.useSyncExternalStore!==void 0?Ca.useSyncExternalStore:C7;XP.exports=JP;var A7=XP.exports;function R7(){return A7.useSyncExternalStore(P7,()=>!0,()=>!1)}function P7(){return()=>{}}var Fw="Avatar",[k7,OW]=er(Fw),[N7,ZP]=k7(Fw),ek=y.forwardRef((t,e)=>{const{__scopeAvatar:n,...r}=t,[s,i]=y.useState("idle");return f.jsx(N7,{scope:n,imageLoadingStatus:s,onImageLoadingStatusChange:i,children:f.jsx(_e.span,{...r,ref:e})})});ek.displayName=Fw;var tk="AvatarImage",nk=y.forwardRef((t,e)=>{const{__scopeAvatar:n,src:r,onLoadingStatusChange:s=()=>{},...i}=t,o=ZP(tk,n),a=D7(r,i),l=Je(u=>{s(u),o.onImageLoadingStatusChange(u)});return hn(()=>{a!=="idle"&&l(a)},[a,l]),a==="loaded"?f.jsx(_e.img,{...i,ref:e,src:r}):null});nk.displayName=tk;var rk="AvatarFallback",sk=y.forwardRef((t,e)=>{const{__scopeAvatar:n,delayMs:r,...s}=t,i=ZP(rk,n),[o,a]=y.useState(r===void 0);return y.useEffect(()=>{if(r!==void 0){const l=window.setTimeout(()=>a(!0),r);return()=>window.clearTimeout(l)}},[r]),o&&i.imageLoadingStatus!=="loaded"?f.jsx(_e.span,{...s,ref:e}):null});sk.displayName=rk;function Tx(t,e){return t?e?(t.src!==e&&(t.src=e),t.complete&&t.naturalWidth>0?"loaded":"loading"):"error":"idle"}function D7(t,{referrerPolicy:e,crossOrigin:n}){const r=R7(),s=y.useRef(null),i=r?(s.current||(s.current=new window.Image),s.current):null,[o,a]=y.useState(()=>Tx(i,t));return hn(()=>{a(Tx(i,t))},[i,t]),hn(()=>{const l=h=>()=>{a(h)};if(!i)return;const u=l("loaded"),d=l("error");return i.addEventListener("load",u),i.addEventListener("error",d),e&&(i.referrerPolicy=e),typeof n=="string"&&(i.crossOrigin=n),()=>{i.removeEventListener("load",u),i.removeEventListener("error",d)}},[i,n,e]),o}var ik=ek,ok=nk,ak=sk;const Df=y.forwardRef(({className:t,...e},n)=>f.jsx(ik,{ref:n,className:me("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",t),...e}));Df.displayName=ik.displayName;const Mf=y.forwardRef(({className:t,...e},n)=>f.jsx(ok,{ref:n,className:me("aspect-square h-full w-full",t),referrerPolicy:"no-referrer",...e}));Mf.displayName=ok.displayName;const Of=y.forwardRef(({className:t,...e},n)=>f.jsx(ak,{ref:n,className:me("flex h-full w-full items-center justify-center rounded-full bg-muted",t),...e}));Of.displayName=ak.displayName;const M7=({rank:t,name:e,photoUrl:n,daysCount:r,isActive:s,isCurrentUser:i,isGuest:o,rankChange:a=0,isRecentlyRelapsed:l=!1})=>{const u=()=>{switch(t){case 1:return"bg-gradient-gold glow-gold border-gold/30";case 2:return"bg-gradient-silver border-silver/30";case 3:return"bg-gradient-bronze border-bronze/30";default:return"bg-secondary/30 border-border/50"}},d=()=>t<=3?f.jsx("div",{className:`
          flex items-center justify-center w-8 h-8 rounded-full 
          ${t===1?"bg-gradient-gold":t===2?"bg-gradient-silver":"bg-gradient-bronze"}
        `,children:t===1?f.jsx(ya,{className:"h-4 w-4 text-background"}):f.jsx("span",{className:"text-sm font-bold text-background",children:t})}):f.jsx("div",{className:"flex items-center justify-center w-8 h-8 rounded-full bg-secondary",children:f.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:t})});return f.jsxs("div",{className:`
      relative flex items-center gap-4 p-4 rounded-xl border transition-all duration-300
      ${i?"ring-2 ring-primary/50":""}
      ${t<=3?u():"bg-card/50 border-border/30 hover:bg-card/80"}
    `,children:[d(),f.jsxs(Df,{className:`h-12 w-12 ${t<=3?"border-2 border-background/30":"border border-border"}`,children:[f.jsx(Mf,{src:n,alt:e}),f.jsx(Of,{className:`${t<=3?"bg-background/20 text-background font-semibold":"bg-secondary"}`,children:e.slice(0,2).toUpperCase()})]}),f.jsxs("div",{className:"flex-1 min-w-0",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("span",{className:`font-medium truncate ${t<=3?"text-background":"text-foreground"}`,children:e}),i&&f.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full ${t<=3?"bg-background/20 text-background":"bg-primary/10 text-primary"}`,children:"You"})]}),f.jsx("div",{className:`flex items-center gap-1 text-sm ${t<=3?"text-background/80":"text-muted-foreground"}`,children:s?f.jsxs(f.Fragment,{children:[f.jsx(Zy,{className:"h-3 w-3"}),f.jsx("span",{children:"Active streak"})]}):f.jsxs(f.Fragment,{children:[f.jsx(iO,{className:"h-3 w-3"}),f.jsx("span",{children:"Inactive"})]})})]}),a!==0&&f.jsx("div",{className:"flex flex-col items-center justify-center",children:a>0?f.jsx("div",{className:"flex flex-col items-center",children:f.jsx(G_,{className:"h-4 w-4 text-green-500 fill-green-500"})}):f.jsx("div",{className:"flex flex-col items-center",children:f.jsx(G_,{className:"h-4 w-4 text-red-500 fill-red-500 rotate-180"})})}),f.jsxs("div",{className:"text-right",children:[f.jsx("div",{className:`text-2xl font-display font-bold ${l?"text-red-500":t<=3?"text-background":"text-foreground"}`,children:r}),f.jsx("div",{className:`text-xs ${l?"text-red-400":t<=3?"text-background/70":"text-muted-foreground"}`,children:r===1?"day":"days"})]})]})},Sx=t=>{if(!t)return!1;const e=new Date(t);return(new Date().getTime()-e.getTime())/(1e3*60*60)<=24},O7=()=>{const{leaderboard:t,currentUser:e}=di();y.useEffect(()=>{e&&wz(e.isGuest?"guest":"google")},[e==null?void 0:e.id]);const n=y.useMemo(()=>[...t].sort((s,i)=>{if(s.streak.isActive!==i.streak.isActive)return s.streak.isActive?-1:1;if(i.daysCount!==s.daysCount)return i.daysCount-s.daysCount;const o=s.streak.startDate?new Date(s.streak.startDate).getTime():1/0,a=i.streak.startDate?new Date(i.streak.startDate).getTime():1/0;return o-a}),[t]),r=y.useMemo(()=>{const s=new Map;return n.filter(o=>Sx(o.streak.relapseTime)).forEach(o=>{s.set(o.user.id,-1);const a=o.streak.previousStartDate?new Date(o.streak.previousStartDate).getTime():null,l=o.streak.relapseTime?new Date(o.streak.relapseTime).getTime():null;a&&l&&n.forEach(u=>{if(u.user.id===o.user.id||Sx(u.streak.relapseTime)||!u.streak.startDate||!u.streak.isActive)return;const d=new Date(u.streak.startDate).getTime();d>a&&d<l&&s.set(u.user.id,1)})}),s},[n]);return f.jsxs("div",{className:"card-elevated p-6",children:[f.jsxs("div",{className:"flex items-center justify-between mb-6",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(Sb,{className:"h-5 w-5 text-primary"}),f.jsx("h2",{className:"text-lg font-semibold",children:"Leaderboard"})]}),f.jsxs("div",{className:"flex items-center gap-1.5 text-sm text-muted-foreground",children:[f.jsx(TO,{className:"h-4 w-4"}),f.jsxs("span",{children:[t.length," warriors"]})]})]}),f.jsx(Nf,{className:"h-[400px] sm:h-[500px] pr-4 -mr-4",children:f.jsx("div",{className:"space-y-3",children:n.map((s,i)=>f.jsx(M7,{rank:i+1,name:s.user.name,photoUrl:s.user.photoUrl,daysCount:s.daysCount,isActive:s.streak.isActive,isCurrentUser:(e==null?void 0:e.id)===s.user.id,isGuest:s.user.isGuest,rankChange:r.get(s.user.id)||0,isRecentlyRelapsed:s.isRecentlyRelapsed},s.user.id))})}),f.jsx("div",{className:"mt-6 pt-4 border-t border-border/50",children:f.jsxs("p",{className:"text-xs text-center text-muted-foreground",children:[" ",f.jsx("span",{className:"font-medium",children:"Truthfulness to the community"}),"  We honor honest participation"]})})]})};var am="rovingFocusGroup.onEntryFocus",L7={bubbles:!1,cancelable:!0},Hc="RovingFocusGroup",[Qg,lk,V7]=Gy(Hc),[j7,ck]=er(Hc,[V7]),[F7,U7]=j7(Hc),uk=y.forwardRef((t,e)=>f.jsx(Qg.Provider,{scope:t.__scopeRovingFocusGroup,children:f.jsx(Qg.Slot,{scope:t.__scopeRovingFocusGroup,children:f.jsx($7,{...t,ref:e})})}));uk.displayName=Hc;var $7=y.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:l,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...h}=t,p=y.useRef(null),g=Re(e,p),S=Mw(i),[E,x]=Nc({prop:o,defaultProp:a??null,onChange:l,caller:Hc}),[v,_]=y.useState(!1),T=Je(u),P=lk(n),M=y.useRef(!1),[O,I]=y.useState(0);return y.useEffect(()=>{const b=p.current;if(b)return b.addEventListener(am,T),()=>b.removeEventListener(am,T)},[T]),f.jsx(F7,{scope:n,orientation:r,dir:S,loop:s,currentTabStopId:E,onItemFocus:y.useCallback(b=>x(b),[x]),onItemShiftTab:y.useCallback(()=>_(!0),[]),onFocusableItemAdd:y.useCallback(()=>I(b=>b+1),[]),onFocusableItemRemove:y.useCallback(()=>I(b=>b-1),[]),children:f.jsx(_e.div,{tabIndex:v||O===0?-1:0,"data-orientation":r,...h,ref:g,style:{outline:"none",...t.style},onMouseDown:J(t.onMouseDown,()=>{M.current=!0}),onFocus:J(t.onFocus,b=>{const C=!M.current;if(b.target===b.currentTarget&&C&&!v){const R=new CustomEvent(am,L7);if(b.currentTarget.dispatchEvent(R),!R.defaultPrevented){const N=P().filter(Z=>Z.focusable),D=N.find(Z=>Z.active),k=N.find(Z=>Z.id===E),se=[D,k,...N].filter(Boolean).map(Z=>Z.ref.current);fk(se,d)}}M.current=!1}),onBlur:J(t.onBlur,()=>_(!1))})})}),dk="RovingFocusGroupItem",hk=y.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:i,children:o,...a}=t,l=Fi(),u=i||l,d=U7(dk,n),h=d.currentTabStopId===u,p=lk(n),{onFocusableItemAdd:g,onFocusableItemRemove:S,currentTabStopId:E}=d;return y.useEffect(()=>{if(r)return g(),()=>S()},[r,g,S]),f.jsx(Qg.ItemSlot,{scope:n,id:u,focusable:r,active:s,children:f.jsx(_e.span,{tabIndex:h?0:-1,"data-orientation":d.orientation,...a,ref:e,onMouseDown:J(t.onMouseDown,x=>{r?d.onItemFocus(u):x.preventDefault()}),onFocus:J(t.onFocus,()=>d.onItemFocus(u)),onKeyDown:J(t.onKeyDown,x=>{if(x.key==="Tab"&&x.shiftKey){d.onItemShiftTab();return}if(x.target!==x.currentTarget)return;const v=H7(x,d.orientation,d.dir);if(v!==void 0){if(x.metaKey||x.ctrlKey||x.altKey||x.shiftKey)return;x.preventDefault();let T=p().filter(P=>P.focusable).map(P=>P.ref.current);if(v==="last")T.reverse();else if(v==="prev"||v==="next"){v==="prev"&&T.reverse();const P=T.indexOf(x.currentTarget);T=d.loop?W7(T,P+1):T.slice(P+1)}setTimeout(()=>fk(T))}}),children:typeof o=="function"?o({isCurrentTabStop:h,hasTabStop:E!=null}):o})})});hk.displayName=dk;var B7={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function z7(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function H7(t,e,n){const r=z7(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return B7[r]}function fk(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function W7(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var q7=uk,G7=hk,Yg=["Enter"," "],K7=["ArrowDown","PageUp","Home"],pk=["ArrowUp","PageDown","End"],Q7=[...K7,...pk],Y7={ltr:[...Yg,"ArrowRight"],rtl:[...Yg,"ArrowLeft"]},X7={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Wc="Menu",[Ec,J7,Z7]=Gy(Wc),[uo,mk]=er(Wc,[Z7,Qh,ck]),Lf=Qh(),gk=ck(),[eH,ho]=uo(Wc),[tH,qc]=uo(Wc),yk=t=>{const{__scopeMenu:e,open:n=!1,children:r,dir:s,onOpenChange:i,modal:o=!0}=t,a=Lf(e),[l,u]=y.useState(null),d=y.useRef(!1),h=Je(i),p=Mw(s);return y.useEffect(()=>{const g=()=>{d.current=!0,document.addEventListener("pointerdown",S,{capture:!0,once:!0}),document.addEventListener("pointermove",S,{capture:!0,once:!0})},S=()=>d.current=!1;return document.addEventListener("keydown",g,{capture:!0}),()=>{document.removeEventListener("keydown",g,{capture:!0}),document.removeEventListener("pointerdown",S,{capture:!0}),document.removeEventListener("pointermove",S,{capture:!0})}},[]),f.jsx(nI,{...a,children:f.jsx(eH,{scope:e,open:n,onOpenChange:h,content:l,onContentChange:u,children:f.jsx(tH,{scope:e,onClose:y.useCallback(()=>h(!1),[h]),isUsingKeyboardRef:d,dir:p,modal:o,children:r})})})};yk.displayName=Wc;var nH="MenuAnchor",Uw=y.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,s=Lf(n);return f.jsx(rI,{...s,...r,ref:e})});Uw.displayName=nH;var $w="MenuPortal",[rH,vk]=uo($w,{forceMount:void 0}),wk=t=>{const{__scopeMenu:e,forceMount:n,children:r,container:s}=t,i=ho($w,e);return f.jsx(rH,{scope:e,forceMount:n,children:f.jsx(Zt,{present:n||i.open,children:f.jsx(zh,{asChild:!0,container:s,children:r})})})};wk.displayName=$w;var Cn="MenuContent",[sH,Bw]=uo(Cn),_k=y.forwardRef((t,e)=>{const n=vk(Cn,t.__scopeMenu),{forceMount:r=n.forceMount,...s}=t,i=ho(Cn,t.__scopeMenu),o=qc(Cn,t.__scopeMenu);return f.jsx(Ec.Provider,{scope:t.__scopeMenu,children:f.jsx(Zt,{present:r||i.open,children:f.jsx(Ec.Slot,{scope:t.__scopeMenu,children:o.modal?f.jsx(iH,{...s,ref:e}):f.jsx(oH,{...s,ref:e})})})})}),iH=y.forwardRef((t,e)=>{const n=ho(Cn,t.__scopeMenu),r=y.useRef(null),s=Re(e,r);return y.useEffect(()=>{const i=r.current;if(i)return BR(i)},[]),f.jsx(zw,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:J(t.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),oH=y.forwardRef((t,e)=>{const n=ho(Cn,t.__scopeMenu);return f.jsx(zw,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),aH=ga("MenuContent.ScrollLock"),zw=y.forwardRef((t,e)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:s,onOpenAutoFocus:i,onCloseAutoFocus:o,disableOutsidePointerEvents:a,onEntryFocus:l,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:h,onInteractOutside:p,onDismiss:g,disableOutsideScroll:S,...E}=t,x=ho(Cn,n),v=qc(Cn,n),_=Lf(n),T=gk(n),P=J7(n),[M,O]=y.useState(null),I=y.useRef(null),b=Re(e,I,x.onContentChange),C=y.useRef(0),R=y.useRef(""),N=y.useRef(0),D=y.useRef(null),k=y.useRef("right"),H=y.useRef(0),se=S?bw:y.Fragment,Z=S?{as:aH,allowPinchZoom:!0}:void 0,oe=V=>{var he,en;const q=R.current+V,ee=P().filter(Qe=>!Qe.disabled),X=document.activeElement,ce=(he=ee.find(Qe=>Qe.ref.current===X))==null?void 0:he.textValue,ae=ee.map(Qe=>Qe.textValue),Pe=wH(ae,q,ce),Ne=(en=ee.find(Qe=>Qe.textValue===Pe))==null?void 0:en.ref.current;(function Qe(mn){R.current=mn,window.clearTimeout(C.current),mn!==""&&(C.current=window.setTimeout(()=>Qe(""),1e3))})(q),Ne&&setTimeout(()=>Ne.focus())};y.useEffect(()=>()=>window.clearTimeout(C.current),[]),DR();const F=y.useCallback(V=>{var ee,X;return k.current===((ee=D.current)==null?void 0:ee.side)&&EH(V,(X=D.current)==null?void 0:X.area)},[]);return f.jsx(sH,{scope:n,searchRef:R,onItemEnter:y.useCallback(V=>{F(V)&&V.preventDefault()},[F]),onItemLeave:y.useCallback(V=>{var q;F(V)||((q=I.current)==null||q.focus(),O(null))},[F]),onTriggerLeave:y.useCallback(V=>{F(V)&&V.preventDefault()},[F]),pointerGraceTimerRef:N,onPointerGraceIntentChange:y.useCallback(V=>{D.current=V},[]),children:f.jsx(se,{...Z,children:f.jsx(Sw,{asChild:!0,trapped:s,onMountAutoFocus:J(i,V=>{var q;V.preventDefault(),(q=I.current)==null||q.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:f.jsx(kc,{asChild:!0,disableOutsidePointerEvents:a,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:h,onInteractOutside:p,onDismiss:g,children:f.jsx(q7,{asChild:!0,...T,dir:v.dir,orientation:"vertical",loop:r,currentTabStopId:M,onCurrentTabStopIdChange:O,onEntryFocus:J(l,V=>{v.isUsingKeyboardRef.current||V.preventDefault()}),preventScrollOnEntryFocus:!0,children:f.jsx(sI,{role:"menu","aria-orientation":"vertical","data-state":Lk(x.open),"data-radix-menu-content":"",dir:v.dir,..._,...E,ref:b,style:{outline:"none",...E.style},onKeyDown:J(E.onKeyDown,V=>{const ee=V.target.closest("[data-radix-menu-content]")===V.currentTarget,X=V.ctrlKey||V.altKey||V.metaKey,ce=V.key.length===1;ee&&(V.key==="Tab"&&V.preventDefault(),!X&&ce&&oe(V.key));const ae=I.current;if(V.target!==ae||!Q7.includes(V.key))return;V.preventDefault();const Ne=P().filter(he=>!he.disabled).map(he=>he.ref.current);pk.includes(V.key)&&Ne.reverse(),yH(Ne)}),onBlur:J(t.onBlur,V=>{V.currentTarget.contains(V.target)||(window.clearTimeout(C.current),R.current="")}),onPointerMove:J(t.onPointerMove,xc(V=>{const q=V.target,ee=H.current!==V.clientX;if(V.currentTarget.contains(q)&&ee){const X=V.clientX>H.current?"right":"left";k.current=X,H.current=V.clientX}}))})})})})})})});_k.displayName=Cn;var lH="MenuGroup",Hw=y.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return f.jsx(_e.div,{role:"group",...r,ref:e})});Hw.displayName=lH;var cH="MenuLabel",Ek=y.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return f.jsx(_e.div,{...r,ref:e})});Ek.displayName=cH;var Sh="MenuItem",bx="menu.itemSelect",Vf=y.forwardRef((t,e)=>{const{disabled:n=!1,onSelect:r,...s}=t,i=y.useRef(null),o=qc(Sh,t.__scopeMenu),a=Bw(Sh,t.__scopeMenu),l=Re(e,i),u=y.useRef(!1),d=()=>{const h=i.current;if(!n&&h){const p=new CustomEvent(bx,{bubbles:!0,cancelable:!0});h.addEventListener(bx,g=>r==null?void 0:r(g),{once:!0}),Ky(h,p),p.defaultPrevented?u.current=!1:o.onClose()}};return f.jsx(xk,{...s,ref:l,disabled:n,onClick:J(t.onClick,d),onPointerDown:h=>{var p;(p=t.onPointerDown)==null||p.call(t,h),u.current=!0},onPointerUp:J(t.onPointerUp,h=>{var p;u.current||(p=h.currentTarget)==null||p.click()}),onKeyDown:J(t.onKeyDown,h=>{const p=a.searchRef.current!=="";n||p&&h.key===" "||Yg.includes(h.key)&&(h.currentTarget.click(),h.preventDefault())})})});Vf.displayName=Sh;var xk=y.forwardRef((t,e)=>{const{__scopeMenu:n,disabled:r=!1,textValue:s,...i}=t,o=Bw(Sh,n),a=gk(n),l=y.useRef(null),u=Re(e,l),[d,h]=y.useState(!1),[p,g]=y.useState("");return y.useEffect(()=>{const S=l.current;S&&g((S.textContent??"").trim())},[i.children]),f.jsx(Ec.ItemSlot,{scope:n,disabled:r,textValue:s??p,children:f.jsx(G7,{asChild:!0,...a,focusable:!r,children:f.jsx(_e.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...i,ref:u,onPointerMove:J(t.onPointerMove,xc(S=>{r?o.onItemLeave(S):(o.onItemEnter(S),S.defaultPrevented||S.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:J(t.onPointerLeave,xc(S=>o.onItemLeave(S))),onFocus:J(t.onFocus,()=>h(!0)),onBlur:J(t.onBlur,()=>h(!1))})})})}),uH="MenuCheckboxItem",Tk=y.forwardRef((t,e)=>{const{checked:n=!1,onCheckedChange:r,...s}=t;return f.jsx(Ak,{scope:t.__scopeMenu,checked:n,children:f.jsx(Vf,{role:"menuitemcheckbox","aria-checked":bh(n)?"mixed":n,...s,ref:e,"data-state":qw(n),onSelect:J(s.onSelect,()=>r==null?void 0:r(bh(n)?!0:!n),{checkForDefaultPrevented:!1})})})});Tk.displayName=uH;var Sk="MenuRadioGroup",[dH,hH]=uo(Sk,{value:void 0,onValueChange:()=>{}}),bk=y.forwardRef((t,e)=>{const{value:n,onValueChange:r,...s}=t,i=Je(r);return f.jsx(dH,{scope:t.__scopeMenu,value:n,onValueChange:i,children:f.jsx(Hw,{...s,ref:e})})});bk.displayName=Sk;var Ik="MenuRadioItem",Ck=y.forwardRef((t,e)=>{const{value:n,...r}=t,s=hH(Ik,t.__scopeMenu),i=n===s.value;return f.jsx(Ak,{scope:t.__scopeMenu,checked:i,children:f.jsx(Vf,{role:"menuitemradio","aria-checked":i,...r,ref:e,"data-state":qw(i),onSelect:J(r.onSelect,()=>{var o;return(o=s.onValueChange)==null?void 0:o.call(s,n)},{checkForDefaultPrevented:!1})})})});Ck.displayName=Ik;var Ww="MenuItemIndicator",[Ak,fH]=uo(Ww,{checked:!1}),Rk=y.forwardRef((t,e)=>{const{__scopeMenu:n,forceMount:r,...s}=t,i=fH(Ww,n);return f.jsx(Zt,{present:r||bh(i.checked)||i.checked===!0,children:f.jsx(_e.span,{...s,ref:e,"data-state":qw(i.checked)})})});Rk.displayName=Ww;var pH="MenuSeparator",Pk=y.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return f.jsx(_e.div,{role:"separator","aria-orientation":"horizontal",...r,ref:e})});Pk.displayName=pH;var mH="MenuArrow",kk=y.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,s=Lf(n);return f.jsx(iI,{...s,...r,ref:e})});kk.displayName=mH;var gH="MenuSub",[LW,Nk]=uo(gH),Tl="MenuSubTrigger",Dk=y.forwardRef((t,e)=>{const n=ho(Tl,t.__scopeMenu),r=qc(Tl,t.__scopeMenu),s=Nk(Tl,t.__scopeMenu),i=Bw(Tl,t.__scopeMenu),o=y.useRef(null),{pointerGraceTimerRef:a,onPointerGraceIntentChange:l}=i,u={__scopeMenu:t.__scopeMenu},d=y.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return y.useEffect(()=>d,[d]),y.useEffect(()=>{const h=a.current;return()=>{window.clearTimeout(h),l(null)}},[a,l]),f.jsx(Uw,{asChild:!0,...u,children:f.jsx(xk,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":s.contentId,"data-state":Lk(n.open),...t,ref:Bh(e,s.onTriggerChange),onClick:h=>{var p;(p=t.onClick)==null||p.call(t,h),!(t.disabled||h.defaultPrevented)&&(h.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:J(t.onPointerMove,xc(h=>{i.onItemEnter(h),!h.defaultPrevented&&!t.disabled&&!n.open&&!o.current&&(i.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{n.onOpenChange(!0),d()},100))})),onPointerLeave:J(t.onPointerLeave,xc(h=>{var g,S;d();const p=(g=n.content)==null?void 0:g.getBoundingClientRect();if(p){const E=(S=n.content)==null?void 0:S.dataset.side,x=E==="right",v=x?-5:5,_=p[x?"left":"right"],T=p[x?"right":"left"];i.onPointerGraceIntentChange({area:[{x:h.clientX+v,y:h.clientY},{x:_,y:p.top},{x:T,y:p.top},{x:T,y:p.bottom},{x:_,y:p.bottom}],side:E}),window.clearTimeout(a.current),a.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(h),h.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:J(t.onKeyDown,h=>{var g;const p=i.searchRef.current!=="";t.disabled||p&&h.key===" "||Y7[r.dir].includes(h.key)&&(n.onOpenChange(!0),(g=n.content)==null||g.focus(),h.preventDefault())})})})});Dk.displayName=Tl;var Mk="MenuSubContent",Ok=y.forwardRef((t,e)=>{const n=vk(Cn,t.__scopeMenu),{forceMount:r=n.forceMount,...s}=t,i=ho(Cn,t.__scopeMenu),o=qc(Cn,t.__scopeMenu),a=Nk(Mk,t.__scopeMenu),l=y.useRef(null),u=Re(e,l);return f.jsx(Ec.Provider,{scope:t.__scopeMenu,children:f.jsx(Zt,{present:r||i.open,children:f.jsx(Ec.Slot,{scope:t.__scopeMenu,children:f.jsx(zw,{id:a.contentId,"aria-labelledby":a.triggerId,...s,ref:u,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{var h;o.isUsingKeyboardRef.current&&((h=l.current)==null||h.focus()),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:J(t.onFocusOutside,d=>{d.target!==a.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:J(t.onEscapeKeyDown,d=>{o.onClose(),d.preventDefault()}),onKeyDown:J(t.onKeyDown,d=>{var g;const h=d.currentTarget.contains(d.target),p=X7[o.dir].includes(d.key);h&&p&&(i.onOpenChange(!1),(g=a.trigger)==null||g.focus(),d.preventDefault())})})})})})});Ok.displayName=Mk;function Lk(t){return t?"open":"closed"}function bh(t){return t==="indeterminate"}function qw(t){return bh(t)?"indeterminate":t?"checked":"unchecked"}function yH(t){const e=document.activeElement;for(const n of t)if(n===e||(n.focus(),document.activeElement!==e))return}function vH(t,e){return t.map((n,r)=>t[(e+r)%t.length])}function wH(t,e,n){const s=e.length>1&&Array.from(e).every(u=>u===e[0])?e[0]:e,i=n?t.indexOf(n):-1;let o=vH(t,Math.max(i,0));s.length===1&&(o=o.filter(u=>u!==n));const l=o.find(u=>u.toLowerCase().startsWith(s.toLowerCase()));return l!==n?l:void 0}function _H(t,e){const{x:n,y:r}=t;let s=!1;for(let i=0,o=e.length-1;i<e.length;o=i++){const a=e[i],l=e[o],u=a.x,d=a.y,h=l.x,p=l.y;d>r!=p>r&&n<(h-u)*(r-d)/(p-d)+u&&(s=!s)}return s}function EH(t,e){if(!e)return!1;const n={x:t.clientX,y:t.clientY};return _H(n,e)}function xc(t){return e=>e.pointerType==="mouse"?t(e):void 0}var xH=yk,TH=Uw,SH=wk,bH=_k,IH=Hw,CH=Ek,AH=Vf,RH=Tk,PH=bk,kH=Ck,NH=Rk,DH=Pk,MH=kk,OH=Dk,LH=Ok,jf="DropdownMenu",[VH,VW]=er(jf,[mk]),Bt=mk(),[jH,Vk]=VH(jf),jk=t=>{const{__scopeDropdownMenu:e,children:n,dir:r,open:s,defaultOpen:i,onOpenChange:o,modal:a=!0}=t,l=Bt(e),u=y.useRef(null),[d,h]=Nc({prop:s,defaultProp:i??!1,onChange:o,caller:jf});return f.jsx(jH,{scope:e,triggerId:Fi(),triggerRef:u,contentId:Fi(),open:d,onOpenChange:h,onOpenToggle:y.useCallback(()=>h(p=>!p),[h]),modal:a,children:f.jsx(xH,{...l,open:d,onOpenChange:h,dir:r,modal:a,children:n})})};jk.displayName=jf;var Fk="DropdownMenuTrigger",Uk=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...s}=t,i=Vk(Fk,n),o=Bt(n);return f.jsx(TH,{asChild:!0,...o,children:f.jsx(_e.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...s,ref:Bh(e,i.triggerRef),onPointerDown:J(t.onPointerDown,a=>{!r&&a.button===0&&a.ctrlKey===!1&&(i.onOpenToggle(),i.open||a.preventDefault())}),onKeyDown:J(t.onKeyDown,a=>{r||(["Enter"," "].includes(a.key)&&i.onOpenToggle(),a.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(a.key)&&a.preventDefault())})})})});Uk.displayName=Fk;var FH="DropdownMenuPortal",$k=t=>{const{__scopeDropdownMenu:e,...n}=t,r=Bt(e);return f.jsx(SH,{...r,...n})};$k.displayName=FH;var Bk="DropdownMenuContent",zk=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Vk(Bk,n),i=Bt(n),o=y.useRef(!1);return f.jsx(bH,{id:s.contentId,"aria-labelledby":s.triggerId,...i,...r,ref:e,onCloseAutoFocus:J(t.onCloseAutoFocus,a=>{var l;o.current||(l=s.triggerRef.current)==null||l.focus(),o.current=!1,a.preventDefault()}),onInteractOutside:J(t.onInteractOutside,a=>{const l=a.detail.originalEvent,u=l.button===0&&l.ctrlKey===!0,d=l.button===2||u;(!s.modal||d)&&(o.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});zk.displayName=Bk;var UH="DropdownMenuGroup",$H=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Bt(n);return f.jsx(IH,{...s,...r,ref:e})});$H.displayName=UH;var BH="DropdownMenuLabel",Hk=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Bt(n);return f.jsx(CH,{...s,...r,ref:e})});Hk.displayName=BH;var zH="DropdownMenuItem",Wk=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Bt(n);return f.jsx(AH,{...s,...r,ref:e})});Wk.displayName=zH;var HH="DropdownMenuCheckboxItem",qk=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Bt(n);return f.jsx(RH,{...s,...r,ref:e})});qk.displayName=HH;var WH="DropdownMenuRadioGroup",qH=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Bt(n);return f.jsx(PH,{...s,...r,ref:e})});qH.displayName=WH;var GH="DropdownMenuRadioItem",Gk=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Bt(n);return f.jsx(kH,{...s,...r,ref:e})});Gk.displayName=GH;var KH="DropdownMenuItemIndicator",Kk=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Bt(n);return f.jsx(NH,{...s,...r,ref:e})});Kk.displayName=KH;var QH="DropdownMenuSeparator",Qk=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Bt(n);return f.jsx(DH,{...s,...r,ref:e})});Qk.displayName=QH;var YH="DropdownMenuArrow",XH=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Bt(n);return f.jsx(MH,{...s,...r,ref:e})});XH.displayName=YH;var JH="DropdownMenuSubTrigger",Yk=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Bt(n);return f.jsx(OH,{...s,...r,ref:e})});Yk.displayName=JH;var ZH="DropdownMenuSubContent",Xk=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Bt(n);return f.jsx(LH,{...s,...r,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});Xk.displayName=ZH;var eW=jk,tW=Uk,nW=$k,Jk=zk,Zk=Hk,eN=Wk,tN=qk,nN=Gk,rN=Kk,sN=Qk,iN=Yk,oN=Xk;const rW=eW,sW=tW,iW=y.forwardRef(({className:t,inset:e,children:n,...r},s)=>f.jsxs(iN,{ref:s,className:me("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[state=open]:bg-accent focus:bg-accent",e&&"pl-8",t),...r,children:[n,f.jsx(sO,{className:"ml-auto h-4 w-4"})]}));iW.displayName=iN.displayName;const oW=y.forwardRef(({className:t,...e},n)=>f.jsx(oN,{ref:n,className:me("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...e}));oW.displayName=oN.displayName;const aN=y.forwardRef(({className:t,sideOffset:e=4,...n},r)=>f.jsx(nW,{children:f.jsx(Jk,{ref:r,sideOffset:e,className:me("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n})}));aN.displayName=Jk.displayName;const Xg=y.forwardRef(({className:t,inset:e,...n},r)=>f.jsx(eN,{ref:r,className:me("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e&&"pl-8",t),...n}));Xg.displayName=eN.displayName;const aW=y.forwardRef(({className:t,children:e,checked:n,...r},s)=>f.jsxs(tN,{ref:s,className:me("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",t),checked:n,...r,children:[f.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:f.jsx(rN,{children:f.jsx(nO,{className:"h-4 w-4"})})}),e]}));aW.displayName=tN.displayName;const lW=y.forwardRef(({className:t,children:e,...n},r)=>f.jsxs(nN,{ref:r,className:me("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",t),...n,children:[f.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:f.jsx(rN,{children:f.jsx(aO,{className:"h-2 w-2 fill-current"})})}),e]}));lW.displayName=nN.displayName;const cW=y.forwardRef(({className:t,inset:e,...n},r)=>f.jsx(Zk,{ref:r,className:me("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",t),...n}));cW.displayName=Zk.displayName;const lN=y.forwardRef(({className:t,...e},n)=>f.jsx(sN,{ref:n,className:me("-mx-1 my-1 h-px bg-muted",t),...e}));lN.displayName=sN.displayName;const cN=y.forwardRef(({className:t,...e},n)=>f.jsx("textarea",{className:me("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:n,...e}));cN.displayName="Textarea";const uW=()=>{const{currentUser:t,logout:e,submitFeedback:n}=di(),{theme:r,toggleTheme:s}=kz(),[i,o]=y.useState(!1),[a,l]=y.useState(!1),[u,d]=y.useState(""),[h,p]=y.useState(!1),[g,S]=y.useState(!1),E=async()=>{if(!u.trim())return;p(!0);const x=await n(u);p(!1),x&&(S(!0),d(""),setTimeout(()=>{l(!1),S(!1)},2e3))};return f.jsxs("header",{className:"sticky top-0 z-50 w-full border-b border-border/40 bg-background/80 backdrop-blur-xl",children:[f.jsxs("div",{className:"container flex h-16 items-center justify-between",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsxs("div",{className:"relative",children:[f.jsx(ya,{className:"h-8 w-8 text-primary crown-shadow"}),f.jsx("div",{className:"absolute inset-0 animate-pulse-glow",children:f.jsx(ya,{className:"h-8 w-8 text-primary opacity-50"})})]}),f.jsxs("span",{className:"font-display text-xl font-bold tracking-tight",children:["LetsGo",f.jsx("span",{className:"text-gradient-gold",children:"Kings"})]})]}),t&&f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsxs(tt,{variant:"ghost",onClick:()=>{o(!0),_z(t.isGuest?"guest":"google")},className:"text-muted-foreground hover:text-foreground text-xs px-2",title:"View Rules",children:[f.jsx(cO,{className:"h-3.5 w-3.5 mr-1"}),"Rules"]}),f.jsx(tt,{variant:"ghost",size:"icon",onClick:s,className:"text-muted-foreground hover:text-foreground",title:r==="dark"?"Switch to light mode":"Switch to dark mode",children:r==="dark"?f.jsx(EO,{className:"h-4 w-4"}):f.jsx(yO,{className:"h-4 w-4"})}),f.jsxs(rW,{children:[f.jsx(sW,{asChild:!0,children:f.jsxs(tt,{variant:"ghost",className:"flex items-center gap-2 px-2 hover:bg-secondary/50",children:[f.jsxs(Df,{className:"h-8 w-8 border-2 border-primary/30",children:[f.jsx(Mf,{src:t.photoUrl,alt:t.name}),f.jsx(Of,{className:"bg-secondary text-xs font-medium",children:t.name.slice(0,2).toUpperCase()})]}),f.jsxs("div",{className:"hidden sm:flex flex-col text-left",children:[f.jsx("span",{className:"text-sm font-medium leading-none",children:t.name}),t.isGuest&&f.jsx("span",{className:"text-xs text-muted-foreground",children:"Guest"})]}),f.jsx(rO,{className:"h-5 w-5 text-muted-foreground",strokeWidth:2.5})]})}),f.jsxs(aN,{align:"end",className:"w-32",children:[f.jsxs(Xg,{onClick:()=>l(!0),className:"cursor-pointer",children:[f.jsx(mO,{className:"h-4 w-4 mr-2"}),"Feedback"]}),f.jsx(lN,{}),f.jsxs(Xg,{onClick:e,className:"cursor-pointer text-success focus:text-success",children:[f.jsx(fO,{className:"h-4 w-4 mr-2"}),"Logout"]})]})]})]})]}),f.jsx(Gg,{open:i,onOpenChange:o,children:f.jsxs(wh,{className:"bg-card border-border",children:[f.jsx(_h,{children:f.jsx(Eh,{className:"font-display text-xl",children:"Platform Rules"})}),f.jsxs("div",{className:"space-y-4 py-4",children:[f.jsxs("div",{className:"flex items-start gap-3 p-3 rounded-lg bg-secondary/30 border border-border/30",children:[f.jsx("span",{className:"text-lg",children:"1."}),f.jsx("p",{className:"text-sm text-foreground/90",children:f.jsx("span",{className:"font-semibold",children:"Authenticated users will be move above guest users in the leaderboard."})})]}),f.jsxs("div",{className:"flex items-start gap-3 p-3 rounded-lg bg-secondary/30 border border-border/30",children:[f.jsx("span",{className:"text-lg",children:"2."}),f.jsx("p",{className:"text-sm text-foreground/90",children:f.jsxs("span",{className:"font-semibold",children:["Confirm ",f.jsx("span",{className:"text-success",children:"I am on track"})," within 24 hours to stay active  otherwise, you'll be marked as ",f.jsx("span",{className:"text-destructive",children:"relapsed"}),"."]})})]}),f.jsxs("div",{className:"flex items-start gap-3 p-3 rounded-lg bg-secondary/30 border border-border/30",children:[f.jsx("span",{className:"text-lg",children:"3."}),f.jsx("p",{className:"text-sm text-foreground/90",children:f.jsx("span",{className:"font-semibold",children:"Relapsed warriors will be removed from the leaderboard after 24 hours of inactivity."})})]}),f.jsxs("div",{className:"flex items-start gap-3 p-3 rounded-lg bg-secondary/30 border border-border/30",children:[f.jsx("span",{className:"text-lg",children:"4."}),f.jsx("p",{className:"text-sm text-foreground/90",children:f.jsx("span",{className:"font-semibold",children:"Sign in to keep your streak safe and secure across devices."})})]})]}),f.jsx(Kg,{children:f.jsx(tt,{onClick:()=>o(!1),className:"bg-primary text-primary-foreground",children:"Got it"})})]})}),f.jsx(Gg,{open:a,onOpenChange:l,children:f.jsxs(wh,{className:"bg-card border-border",children:[f.jsxs(_h,{children:[f.jsx(Eh,{className:"font-display text-xl",children:"Share Your Feedback"}),f.jsx(LP,{children:"Please let us know what we can improve on this platform to serve your journey better."})]}),g?f.jsxs("div",{className:"py-8 text-center",children:[f.jsx("div",{className:"text-4xl mb-3",children:""}),f.jsx("p",{className:"text-lg font-medium text-success",children:"Thank you for your feedback!"}),f.jsx("p",{className:"text-sm text-muted-foreground",children:"We appreciate you helping us improve."})]}):f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"py-4",children:f.jsx(cN,{placeholder:"Share your thoughts, suggestions, or ideas...",value:u,onChange:x=>d(x.target.value),className:"min-h-[120px] resize-none"})}),f.jsxs(Kg,{children:[f.jsx(tt,{variant:"outline",onClick:()=>l(!1),className:"border-border/50",children:"Cancel"}),f.jsx(tt,{onClick:E,disabled:!u.trim()||h,className:"bg-primary text-primary-foreground",children:h?"Submitting...":"Submit Feedback"})]})]})]})})]})},dW=["Remember why you started this journey.","Guard your seed, guard your future.","Hold your energy, rise above urges.","Every urge mastered builds a stronger you.","Do not spend your power on seconds of pleasure.","Control your lust or lust controls your life.","The real flex is disciplined energy.","Retention is self-love in its rawest form.","Sacrifice cheap pleasure for priceless power.","You are stronger than a five-second urge.","Every time you say no, your future says thank you.","Self-mastery begins where instant pleasure ends.","Stop spilling your greatness for pixels.","What you retain, you become.","Choose purpose over porn, always.","Feed your goals, not your urges.","Hold, build, conquer.","Nofap: because your brain deserves better.","Retention sharpens focus like a blade.","Cheap pleasure is the most expensive habit.","You are not your urges; you are your choices.","Turn lust into fuel for greatness.","Every streak is a brick in your new life.","Stop draining your power to a screen.","Seed wasted is potential buried.","The more you retain, the more you attain.","Your future woman deserves your strongest self.","Starve your addiction, feed your ambition.","Hold your seed, hold your standards.","Youre not quitting pleasure, youre choosing power.","Urge resisted, spirit uplifted.","Retention builds the man you pretend to be.","Real kings do not bow to urges.","Do not trade your kingdom for a climax.","Power leaks drop by drop; seal the cracks.","Porn kills drive; retention revives it.","Let your eyes reflect purpose, not addiction.","Nofap: reclaim your mind, reclaim your life.","Your seed is your silent strength.","Save the energy, become the upgrade.","Retention turns chaos into clarity.","A man who controls his lust controls his path.","Every clean day is a victory lap.","Nothing is worth losing your self-respect.","Guard your focus like you guard your phone.","Quit the screen; build the dream.","Retention is the gym for your willpower.","Porn offers illusion; discipline offers evolution.","The longest high is long-term self-mastery.","Resisting once makes resisting twice easier.","Do not let pixels steal your purpose.","Your seed is royal; do not spill it for scraps.","Retention makes your presence louder than your words.","If it drains you, it owns you.","You are here to create, not to consume.","Hold back now to push forward later.","Nofap is not punishment, it is preparation.","Energy preserved is confidence amplified.","Lust fades; legacy remains.","Semen retained, spirit maintained.","Every urge overcome is proof youre changing.","Dont numb your pain; build your power.","Choose discipline when nobody is watching.","Porn is a shortcut to long-term regret.","Retention: less scrolling, more becoming.","Win the battle in your mind, the body will follow.","Your future self is watching your current habits.","Hold your seed; watch your aura grow.","You are not missing out; you are leveling up.","Killing the urge is building the king.","Retention gives your eyes their fire back.","Stop rehearsing pleasure and start practicing power.","A clear mind beats a quick climax.","Trade late-night relapse for early-morning progress.","When you master semen, you master self.","Your seed is the ink writing your destiny.","Real strength is saying no when its hardest.","Protect your energy like the rare currency it is.","Retention turns boys into focused men.","No relapse is worth your rebuilt confidence.","Stop resetting, start rising.","Your seed is meant for creation, not recreation.","Nofap: starve the weakness, feed the warrior.","Every urge you beat is a lifetime skill gained.","Hold the line today, be unstoppable tomorrow.","A man who holds his seed holds his throne.","Retention is the quiet rebellion against mediocrity.","Less ejaculation, more elevation.","Control your seed, rewrite your story."],Ix={quotes:dW},hW=()=>{const{currentUser:t,streakData:e,startChallenge:n,relapse:r,confirmActive:s,getDaysCount:i}=di(),[o,a]=y.useState(!1),[l,u]=y.useState(!1),d=(e==null?void 0:e.isActive)&&(e==null?void 0:e.startDate),h=i(),p=()=>{if(!(e!=null&&e.lastUpdateTime))return!1;const S=new Date(e.lastUpdateTime);return(new Date().getTime()-S.getTime())/(1e3*60*60)>=24},g=()=>{s(),a(!0),setTimeout(()=>a(!1),2e3)};return f.jsxs("div",{className:"min-h-screen bg-gradient-hero",children:[f.jsx(uW,{}),f.jsxs("main",{className:"container py-6 sm:py-8",children:[f.jsxs("div",{className:"mb-8 text-center",children:[f.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 rounded-full bg-primary/10 border border-primary/20 mb-4",children:[f.jsx(ya,{className:"h-4 w-4 text-primary"}),f.jsx("span",{className:"text-sm font-medium text-primary",children:"Rise Above"})]}),f.jsx("h1",{className:"font-display text-2xl sm:text-3xl font-bold mb-2",children:d?f.jsxs(f.Fragment,{children:["Keep Going, ",f.jsx("span",{className:"text-gradient-gold",children:"King"})]}):f.jsxs(f.Fragment,{children:["Your Journey Awaits, ",f.jsx("span",{className:"text-gradient-gold",children:"King"})]})}),f.jsx("p",{className:"text-muted-foreground max-w-md mx-auto",children:d?`${h} days of power. Every moment strengthens your resolve.`:"Semen retention is the answer you are searching for."})]}),f.jsxs("div",{className:"grid lg:grid-cols-2 gap-6 sm:gap-8",children:[f.jsxs("div",{className:"space-y-6",children:[f.jsxs(tt,{onClick:()=>u(!0),variant:"outline",className:"w-full h-12 border-primary/50 text-primary hover:bg-primary/10 hover:border-primary font-medium",children:[f.jsx(uO,{className:"h-5 w-5 mr-2"}),"Media"]}),f.jsx(e7,{}),f.jsxs("div",{className:"card-elevated p-6",children:[f.jsx("h3",{className:"font-semibold mb-4",children:"Actions"}),f.jsx("div",{className:"space-y-3",children:d?f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"flex gap-3",children:[f.jsx(tt,{onClick:g,variant:"outline",className:"flex-1 h-12 border-success/50 text-success hover:bg-success/10 hover:border-success font-medium",children:o?f.jsxs(f.Fragment,{children:[f.jsx(oO,{className:"h-5 w-5 mr-2"}),"Confirmed!"]}):f.jsxs(f.Fragment,{children:[f.jsx(wO,{className:"h-5 w-5 mr-2"}),"I Am On Track"]})}),f.jsxs(X8,{children:[f.jsx(J8,{asChild:!0,children:f.jsxs(tt,{variant:"outline",className:"flex-1 h-12 border-destructive/50 text-destructive hover:bg-destructive/10 hover:border-destructive font-medium",children:[f.jsx(xO,{className:"h-5 w-5 mr-2"}),"I Relapsed"]})}),f.jsxs(AP,{className:"bg-card border-border",children:[f.jsxs(RP,{children:[f.jsx(kP,{className:"font-display",children:"Reset Your Streak?"}),f.jsx(NP,{children:"This will reset your streak to 0 days. Remember, every king falls  what matters is that you rise again. Your honesty strengthens the community."})]}),f.jsxs(PP,{children:[f.jsx(MP,{className:"border-border/50",children:"Keep Going"}),f.jsx(DP,{onClick:r,className:"bg-success text-success-foreground hover:bg-success/90",children:"Reset & Rise Again"})]})]})]})]}),p()&&f.jsx("p",{className:"text-xs text-amber-500 text-center",children:" Please confirm your status within 24 hours to stay active"})]}):f.jsx(pI,{children:f.jsxs(SV,{children:[f.jsx(bV,{asChild:!0,children:f.jsx("span",{className:"w-full",children:f.jsxs(tt,{onClick:n,disabled:t==null?void 0:t.isGuest,className:"w-full h-12 bg-gradient-gold text-primary-foreground hover:opacity-90 font-semibold text-base glow-primary disabled:opacity-50 disabled:cursor-not-allowed",children:[f.jsx(Zy,{className:"h-5 w-5 mr-2"}),"Start Challenge"]})})}),(t==null?void 0:t.isGuest)&&f.jsx(mI,{className:"px-4 py-2 text-sm",children:f.jsx("p",{children:"Sign in to start your challenge"})})]})})}),d&&f.jsx("div",{className:"mt-4 p-3 rounded-lg bg-secondary/30 border border-border/30",children:f.jsxs("p",{className:"text-xs text-muted-foreground text-center",children:[" ",f.jsx("span",{className:"font-medium",children:"Honesty is power."})," The community respects truthful warriors."]})})]}),d&&f.jsx("div",{className:"overflow-hidden py-4",children:f.jsxs("p",{className:"text-sm italic text-foreground/90 leading-relaxed whitespace-nowrap animate-marquee",children:['"',Ix.quotes[Math.max(0,h-1)%Ix.quotes.length],'"']})})]}),f.jsx(O7,{})]})]}),f.jsx(v7,{open:l,onOpenChange:u})]})},Cx="chat_messages",fW=100,pW=()=>{try{const t=new(window.AudioContext||window.webkitAudioContext),e=t.createOscillator(),n=t.createGain();e.connect(n),n.connect(t.destination),e.frequency.setValueAtTime(800,t.currentTime),e.frequency.setValueAtTime(600,t.currentTime+.1),n.gain.setValueAtTime(.3,t.currentTime),n.gain.exponentialRampToValueAtTime(.01,t.currentTime+.2),e.start(t.currentTime),e.stop(t.currentTime+.2)}catch(t){console.warn("Could not play notification sound:",t)}},mW=()=>{const{currentUser:t}=di(),[e,n]=y.useState(!1),[r,s]=y.useState(!1),[i,o]=y.useState([]),[a,l]=y.useState(""),[u,d]=y.useState(!1),h=y.useRef(null),p=y.useRef(null),g=y.useRef(!0),S=y.useRef(0);y.useEffect(()=>{const P=jg(wc(rn,Cx),LU("createdAt","desc"),VU(fW)),M=Fg(P,O=>{const I=[];O.forEach(C=>{I.push({id:C.id,...C.data()})});const b=I.reverse();if(!g.current&&b.length>S.current){const C=b[b.length-1];C&&t&&C.userId!==t.id&&pW()}g.current=!1,S.current=b.length,o(b)});return()=>M()},[t]),y.useEffect(()=>{h.current&&h.current.scrollIntoView({behavior:"smooth"})},[i]),y.useEffect(()=>{e&&!r&&p.current&&p.current.focus()},[e,r]);const E=async P=>{if(P.preventDefault(),!(!t||!a.trim()||u)&&!t.isGuest){d(!0);try{await UU(wc(rn,Cx),{text:a.trim(),userId:t.id,userName:t.name,userPhoto:t.photoUrl||null,createdAt:MU()}),l("")}catch(M){console.error("Error sending message:",M)}finally{d(!1)}}},x=P=>P.split(" ").map(M=>M[0]).join("").toUpperCase().slice(0,2),v=P=>{const M=["#FF6B6B","#4ECDC4","#45B7D1","#96CEB4","#FFEAA7","#DDA0DD","#98D8C8","#F7DC6F","#BB8FCE","#85C1E9","#F8B500","#FF6F61","#6B5B95","#88B04B","#F7CAC9","#92A8D1","#955251","#B565A7","#009B77","#DD4124"];let O=0;for(let I=0;I<P.length;I++)O=P.charCodeAt(I)+((O<<5)-O);return M[Math.abs(O)%M.length]},_=()=>{n(!0),t&&lx(t.isGuest?"guest":"google")},T=()=>{s(!1),t&&lx(t.isGuest?"guest":"google")};return e?f.jsxs("div",{className:`fixed bottom-6 right-6 z-50 flex flex-col bg-background border border-border rounded-lg shadow-2xl transition-all duration-200 ${r?"w-72 h-12":"w-80 sm:w-96 h-[28rem]"}`,children:[f.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-gradient-to-r from-amber-500 to-yellow-500 rounded-t-lg cursor-pointer",onClick:()=>r&&T(),children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(kp,{className:"h-5 w-5 text-white"}),f.jsx("span",{className:"font-semibold text-white",children:"Live Chat"}),f.jsxs("span",{className:"text-xs text-white/80",children:["(",i.length,")"]})]}),f.jsxs("div",{className:"flex items-center gap-1",children:[f.jsx(tt,{variant:"ghost",size:"icon",className:"h-7 w-7 text-white hover:bg-white/20",onClick:P=>{P.stopPropagation(),r?T():s(!0)},children:r?f.jsx(pO,{className:"h-4 w-4"}):f.jsx(gO,{className:"h-4 w-4"})}),f.jsx(tt,{variant:"ghost",size:"icon",className:"h-7 w-7 text-white hover:bg-white/20",onClick:P=>{P.stopPropagation(),n(!1)},children:f.jsx(sc,{className:"h-4 w-4"})})]})]}),!r&&f.jsxs(f.Fragment,{children:[f.jsx(Nf,{className:"flex-1 p-3",children:f.jsxs("div",{className:"space-y-0.5",children:[i.length===0?f.jsxs("div",{className:"text-center text-muted-foreground py-8",children:[f.jsx(kp,{className:"h-10 w-10 mx-auto mb-2 opacity-50"}),f.jsx("p",{className:"text-sm",children:"No messages yet"}),f.jsx("p",{className:"text-xs",children:"Be the first to say something!"})]}):i.map(P=>f.jsxs("div",{className:"flex items-start gap-1.5 py-0.5 hover:bg-muted/50 px-1 rounded",children:[f.jsxs(Df,{className:"h-5 w-5 flex-shrink-0 mt-0.5",children:[f.jsx(Mf,{src:P.userPhoto}),f.jsx(Of,{className:"text-[10px] bg-amber-100 text-amber-700",children:x(P.userName)})]}),f.jsxs("p",{className:"text-sm leading-relaxed break-words min-w-0",children:[f.jsxs("span",{className:"font-semibold mr-1",style:{color:v(P.userName)},children:[P.userName,":"]}),f.jsx("span",{className:"text-foreground",children:P.text})]})]},P.id)),f.jsx("div",{ref:h})]})}),f.jsx("div",{className:"p-3 border-t border-border",children:t&&!t.isGuest?f.jsxs("form",{onSubmit:E,className:"flex gap-2",children:[f.jsx(Tw,{ref:p,value:a,onChange:P=>l(P.target.value),placeholder:"Type a message...",className:"flex-1 h-9 text-sm",maxLength:500,disabled:u}),f.jsx(tt,{type:"submit",size:"icon",className:"h-9 w-9 bg-amber-500 hover:bg-amber-600",disabled:!a.trim()||u,children:f.jsx(_O,{className:"h-4 w-4"})})]}):f.jsx("div",{className:"text-center text-sm text-muted-foreground py-2",children:t!=null&&t.isGuest?"Sign in with Google to chat":"Sign in to join the chat"})})]})]}):f.jsx(tt,{onClick:_,className:"fixed bottom-6 right-6 h-14 w-14 rounded-full shadow-lg bg-gradient-to-r from-amber-500 to-yellow-500 hover:from-amber-600 hover:to-yellow-600 z-50",size:"icon",children:f.jsx(kp,{className:"h-6 w-6 text-white"})})},gW=()=>{const{currentUser:t,isLoading:e}=di();return e?f.jsxs("div",{className:"min-h-screen bg-[#0f1419] flex flex-col items-center justify-center",children:[f.jsx(ya,{className:"h-12 w-12 text-yellow-400 animate-pulse mb-4"}),f.jsx("p",{className:"text-gray-400 text-sm",children:"Loading..."})]}):t?f.jsxs(f.Fragment,{children:[f.jsx(hW,{}),f.jsx(mW,{})]}):f.jsx(Oz,{})},yW=()=>f.jsx(Pz,{children:f.jsx(Rz,{children:f.jsx(gW,{})})}),vW=()=>{const t=kI();return y.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",t.pathname)},[t.pathname]),f.jsx("div",{className:"flex min-h-screen items-center justify-center bg-muted",children:f.jsxs("div",{className:"text-center",children:[f.jsx("h1",{className:"mb-4 text-4xl font-bold",children:"404"}),f.jsx("p",{className:"mb-4 text-xl text-muted-foreground",children:"Oops! Page not found"}),f.jsx("a",{href:"/",className:"text-primary underline hover:text-primary/90",children:"Return to Home"})]})})};function wW(){const[t,e]=y.useState(null),[n,r]=y.useState(!1),[s,i]=y.useState(!1);return y.useEffect(()=>{if(window.matchMedia("(display-mode: standalone)").matches){i(!0);return}const a=u=>{u.preventDefault(),e(u),r(!0)},l=()=>{i(!0),r(!1),e(null)};return window.addEventListener("beforeinstallprompt",a),window.addEventListener("appinstalled",l),()=>{window.removeEventListener("beforeinstallprompt",a),window.removeEventListener("appinstalled",l)}},[]),{isInstallable:n,isInstalled:s,install:async()=>{if(!t)return!1;await t.prompt();const{outcome:a}=await t.userChoice;return a==="accepted"?(r(!1),e(null),!0):!1}}}function _W(){return typeof navigator>"u"?!1:/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream}function EW(){return window.matchMedia("(display-mode: standalone)").matches||navigator.standalone===!0}function xW(){const{isInstallable:t,isInstalled:e,install:n}=wW(),[r,s]=y.useState(!1),[i,o]=y.useState(!1);y.useEffect(()=>{if(_W()&&!EW()&&!localStorage.getItem("pwa-ios-dismissed")){const u=setTimeout(()=>o(!0),2e3);return()=>clearTimeout(u)}},[]);const a=()=>{s(!0),i&&(localStorage.setItem("pwa-ios-dismissed","true"),o(!1))};return e||r?null:i?f.jsxs("div",{className:"fixed bottom-4 left-4 right-4 md:left-auto md:right-4 md:w-80 bg-card border border-border rounded-lg p-4 shadow-lg z-50 animate-in slide-in-from-bottom-4",children:[f.jsx("button",{onClick:a,className:"absolute top-2 right-2 text-muted-foreground hover:text-foreground","aria-label":"Dismiss",children:f.jsx(sc,{className:"h-4 w-4"})}),f.jsxs("div",{className:"flex items-start gap-3",children:[f.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-primary/10 rounded-lg flex items-center justify-center",children:f.jsx(Np,{className:"h-5 w-5 text-primary"})}),f.jsxs("div",{className:"flex-1 min-w-0",children:[f.jsx("h3",{className:"font-semibold text-sm",children:"Install LetsGoKings"}),f.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Tap ",f.jsx("span",{className:"inline-flex items-center",children:f.jsx(Np,{className:"h-3 w-3 mx-0.5"})})," then ",f.jsx("strong",{children:'"Add to Home Screen"'})]}),f.jsx("div",{className:"mt-2 flex items-center gap-2 text-xs text-muted-foreground",children:f.jsxs("div",{className:"flex items-center gap-1",children:[f.jsx("span",{className:"w-5 h-5 rounded bg-muted flex items-center justify-center",children:f.jsx(Np,{className:"h-3 w-3"})}),f.jsx("span",{children:""}),f.jsx("span",{className:"px-1.5 py-0.5 rounded bg-muted text-[10px]",children:"Add to Home Screen"})]})})]})]})]}):t?f.jsxs("div",{className:"fixed bottom-4 left-4 right-4 md:left-auto md:right-4 md:w-80 bg-card border border-border rounded-lg p-4 shadow-lg z-50 animate-in slide-in-from-bottom-4",children:[f.jsx("button",{onClick:a,className:"absolute top-2 right-2 text-muted-foreground hover:text-foreground","aria-label":"Dismiss",children:f.jsx(sc,{className:"h-4 w-4"})}),f.jsxs("div",{className:"flex items-start gap-3",children:[f.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-primary/10 rounded-lg flex items-center justify-center",children:f.jsx(lO,{className:"h-5 w-5 text-primary"})}),f.jsxs("div",{className:"flex-1 min-w-0",children:[f.jsx("h3",{className:"font-semibold text-sm",children:"Install LetsGoKings"}),f.jsx("p",{className:"text-xs text-muted-foreground mt-0.5",children:"Add to your home screen for quick access"}),f.jsx(tt,{onClick:()=>{Ez("android"),n()},size:"sm",className:"mt-2 w-full",children:"Install App"})]})]})]}):null}const TW=new KV,SW=()=>f.jsx(YV,{client:TW,children:f.jsxs(pI,{children:[f.jsx(iL,{}),f.jsx(VL,{}),f.jsx(xW,{}),f.jsx(Oj,{children:f.jsxs(Nj,{children:[f.jsx(mg,{path:"/",element:f.jsx(yW,{})}),f.jsx(mg,{path:"*",element:f.jsx(vW,{})})]})})]})});CR.then(t=>{t&&console.log("Google Analytics initialized")});YS(document.getElementById("root")).render(f.jsx(SW,{}));
