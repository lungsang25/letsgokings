var v0=t=>{throw TypeError(t)};var Hf=(t,e,n)=>e.has(t)||v0("Cannot "+n);var U=(t,e,n)=>(Hf(t,e,"read from private field"),n?n.call(t):e.get(t)),Te=(t,e,n)=>e.has(t)?v0("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),de=(t,e,n,r)=>(Hf(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),Tt=(t,e,n)=>(Hf(t,e,"access private method"),n);var ru=(t,e,n,r)=>({set _(s){de(t,e,s,n)},get _(){return U(t,e,r)}});function vN(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function Cx(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Ax={exports:{}},yh={},Rx={exports:{}},ge={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tc=Symbol.for("react.element"),wN=Symbol.for("react.portal"),_N=Symbol.for("react.fragment"),EN=Symbol.for("react.strict_mode"),xN=Symbol.for("react.profiler"),TN=Symbol.for("react.provider"),SN=Symbol.for("react.context"),IN=Symbol.for("react.forward_ref"),bN=Symbol.for("react.suspense"),CN=Symbol.for("react.memo"),AN=Symbol.for("react.lazy"),w0=Symbol.iterator;function RN(t){return t===null||typeof t!="object"?null:(t=w0&&t[w0]||t["@@iterator"],typeof t=="function"?t:null)}var Px={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},kx=Object.assign,Nx={};function ba(t,e,n){this.props=t,this.context=e,this.refs=Nx,this.updater=n||Px}ba.prototype.isReactComponent={};ba.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};ba.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Dx(){}Dx.prototype=ba.prototype;function Bg(t,e,n){this.props=t,this.context=e,this.refs=Nx,this.updater=n||Px}var Hg=Bg.prototype=new Dx;Hg.constructor=Bg;kx(Hg,ba.prototype);Hg.isPureReactComponent=!0;var _0=Array.isArray,Mx=Object.prototype.hasOwnProperty,Wg={current:null},Ox={key:!0,ref:!0,__self:!0,__source:!0};function Lx(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)Mx.call(e,r)&&!Ox.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];s.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:Tc,type:t,key:i,ref:o,props:s,_owner:Wg.current}}function PN(t,e){return{$$typeof:Tc,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Gg(t){return typeof t=="object"&&t!==null&&t.$$typeof===Tc}function kN(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var E0=/\/+/g;function Wf(t,e){return typeof t=="object"&&t!==null&&t.key!=null?kN(""+t.key):e.toString(36)}function ju(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Tc:case wN:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+Wf(o,0):r,_0(s)?(n="",t!=null&&(n=t.replace(E0,"$&/")+"/"),ju(s,e,n,"",function(u){return u})):s!=null&&(Gg(s)&&(s=PN(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(E0,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",_0(t))for(var a=0;a<t.length;a++){i=t[a];var l=r+Wf(i,a);o+=ju(i,e,n,l,s)}else if(l=RN(t),typeof l=="function")for(t=l.call(t),a=0;!(i=t.next()).done;)i=i.value,l=r+Wf(i,a++),o+=ju(i,e,n,l,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function su(t,e,n){if(t==null)return t;var r=[],s=0;return ju(t,r,"","",function(i){return e.call(n,i,s++)}),r}function NN(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Ft={current:null},Fu={transition:null},DN={ReactCurrentDispatcher:Ft,ReactCurrentBatchConfig:Fu,ReactCurrentOwner:Wg};function Vx(){throw Error("act(...) is not supported in production builds of React.")}ge.Children={map:su,forEach:function(t,e,n){su(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return su(t,function(){e++}),e},toArray:function(t){return su(t,function(e){return e})||[]},only:function(t){if(!Gg(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ge.Component=ba;ge.Fragment=_N;ge.Profiler=xN;ge.PureComponent=Bg;ge.StrictMode=EN;ge.Suspense=bN;ge.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=DN;ge.act=Vx;ge.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=kx({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=Wg.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)Mx.call(e,l)&&!Ox.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:Tc,type:t.type,key:s,ref:i,props:r,_owner:o}};ge.createContext=function(t){return t={$$typeof:SN,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:TN,_context:t},t.Consumer=t};ge.createElement=Lx;ge.createFactory=function(t){var e=Lx.bind(null,t);return e.type=t,e};ge.createRef=function(){return{current:null}};ge.forwardRef=function(t){return{$$typeof:IN,render:t}};ge.isValidElement=Gg;ge.lazy=function(t){return{$$typeof:AN,_payload:{_status:-1,_result:t},_init:NN}};ge.memo=function(t,e){return{$$typeof:CN,type:t,compare:e===void 0?null:e}};ge.startTransition=function(t){var e=Fu.transition;Fu.transition={};try{t()}finally{Fu.transition=e}};ge.unstable_act=Vx;ge.useCallback=function(t,e){return Ft.current.useCallback(t,e)};ge.useContext=function(t){return Ft.current.useContext(t)};ge.useDebugValue=function(){};ge.useDeferredValue=function(t){return Ft.current.useDeferredValue(t)};ge.useEffect=function(t,e){return Ft.current.useEffect(t,e)};ge.useId=function(){return Ft.current.useId()};ge.useImperativeHandle=function(t,e,n){return Ft.current.useImperativeHandle(t,e,n)};ge.useInsertionEffect=function(t,e){return Ft.current.useInsertionEffect(t,e)};ge.useLayoutEffect=function(t,e){return Ft.current.useLayoutEffect(t,e)};ge.useMemo=function(t,e){return Ft.current.useMemo(t,e)};ge.useReducer=function(t,e,n){return Ft.current.useReducer(t,e,n)};ge.useRef=function(t){return Ft.current.useRef(t)};ge.useState=function(t){return Ft.current.useState(t)};ge.useSyncExternalStore=function(t,e,n){return Ft.current.useSyncExternalStore(t,e,n)};ge.useTransition=function(){return Ft.current.useTransition()};ge.version="18.3.1";Rx.exports=ge;var y=Rx.exports;const W=Cx(y),qg=vN({__proto__:null,default:W},[y]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var MN=y,ON=Symbol.for("react.element"),LN=Symbol.for("react.fragment"),VN=Object.prototype.hasOwnProperty,jN=MN.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,FN={key:!0,ref:!0,__self:!0,__source:!0};function jx(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)VN.call(e,r)&&!FN.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:ON,type:t,key:i,ref:o,props:s,_owner:jN.current}}yh.Fragment=LN;yh.jsx=jx;yh.jsxs=jx;Ax.exports=yh;var f=Ax.exports,Fx={exports:{}},dn={},Ux={exports:{}},$x={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(F,V){var G=F.length;F.push(V);e:for(;0<G;){var ee=G-1>>>1,X=F[ee];if(0<s(X,V))F[ee]=V,F[G]=X,G=ee;else break e}}function n(F){return F.length===0?null:F[0]}function r(F){if(F.length===0)return null;var V=F[0],G=F.pop();if(G!==V){F[0]=G;e:for(var ee=0,X=F.length,ce=X>>>1;ee<ce;){var ae=2*(ee+1)-1,Re=F[ae],Ne=ae+1,he=F[Ne];if(0>s(Re,G))Ne<X&&0>s(he,Re)?(F[ee]=he,F[Ne]=G,ee=Ne):(F[ee]=Re,F[ae]=G,ee=ae);else if(Ne<X&&0>s(he,G))F[ee]=he,F[Ne]=G,ee=Ne;else break e}}return V}function s(F,V){var G=F.sortIndex-V.sortIndex;return G!==0?G:F.id-V.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],d=1,h=null,p=3,g=!1,S=!1,E=!1,x=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function T(F){for(var V=n(u);V!==null;){if(V.callback===null)r(u);else if(V.startTime<=F)r(u),V.sortIndex=V.expirationTime,e(l,V);else break;V=n(u)}}function P(F){if(E=!1,T(F),!S)if(n(l)!==null)S=!0,Z(M);else{var V=n(u);V!==null&&oe(P,V.startTime-F)}}function M(F,V){S=!1,E&&(E=!1,w(I),I=-1),g=!0;var G=p;try{for(T(V),h=n(l);h!==null&&(!(h.expirationTime>V)||F&&!N());){var ee=h.callback;if(typeof ee=="function"){h.callback=null,p=h.priorityLevel;var X=ee(h.expirationTime<=V);V=t.unstable_now(),typeof X=="function"?h.callback=X:h===n(l)&&r(l),T(V)}else r(l);h=n(l)}if(h!==null)var ce=!0;else{var ae=n(u);ae!==null&&oe(P,ae.startTime-V),ce=!1}return ce}finally{h=null,p=G,g=!1}}var O=!1,b=null,I=-1,C=5,R=-1;function N(){return!(t.unstable_now()-R<C)}function D(){if(b!==null){var F=t.unstable_now();R=F;var V=!0;try{V=b(!0,F)}finally{V?k():(O=!1,b=null)}}else O=!1}var k;if(typeof _=="function")k=function(){_(D)};else if(typeof MessageChannel<"u"){var H=new MessageChannel,se=H.port2;H.port1.onmessage=D,k=function(){se.postMessage(null)}}else k=function(){x(D,0)};function Z(F){b=F,O||(O=!0,k())}function oe(F,V){I=x(function(){F(t.unstable_now())},V)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(F){F.callback=null},t.unstable_continueExecution=function(){S||g||(S=!0,Z(M))},t.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<F?Math.floor(1e3/F):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(F){switch(p){case 1:case 2:case 3:var V=3;break;default:V=p}var G=p;p=V;try{return F()}finally{p=G}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(F,V){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var G=p;p=F;try{return V()}finally{p=G}},t.unstable_scheduleCallback=function(F,V,G){var ee=t.unstable_now();switch(typeof G=="object"&&G!==null?(G=G.delay,G=typeof G=="number"&&0<G?ee+G:ee):G=ee,F){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=G+X,F={id:d++,callback:V,priorityLevel:F,startTime:G,expirationTime:X,sortIndex:-1},G>ee?(F.sortIndex=G,e(u,F),n(l)===null&&F===n(u)&&(E?(w(I),I=-1):E=!0,oe(P,G-ee))):(F.sortIndex=X,e(l,F),S||g||(S=!0,Z(M))),F},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(F){var V=p;return function(){var G=p;p=V;try{return F.apply(this,arguments)}finally{p=G}}}})($x);Ux.exports=$x;var UN=Ux.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $N=y,cn=UN;function B(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var zx=new Set,$l={};function Yi(t,e){oa(t,e),oa(t+"Capture",e)}function oa(t,e){for($l[t]=e,t=0;t<e.length;t++)zx.add(e[t])}var Gr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Xp=Object.prototype.hasOwnProperty,zN=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,x0={},T0={};function BN(t){return Xp.call(T0,t)?!0:Xp.call(x0,t)?!1:zN.test(t)?T0[t]=!0:(x0[t]=!0,!1)}function HN(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function WN(t,e,n,r){if(e===null||typeof e>"u"||HN(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Ut(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var Et={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Et[t]=new Ut(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Et[e]=new Ut(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Et[t]=new Ut(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Et[t]=new Ut(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Et[t]=new Ut(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Et[t]=new Ut(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Et[t]=new Ut(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Et[t]=new Ut(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Et[t]=new Ut(t,5,!1,t.toLowerCase(),null,!1,!1)});var Kg=/[\-:]([a-z])/g;function Qg(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Kg,Qg);Et[e]=new Ut(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Kg,Qg);Et[e]=new Ut(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Kg,Qg);Et[e]=new Ut(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Et[t]=new Ut(t,1,!1,t.toLowerCase(),null,!1,!1)});Et.xlinkHref=new Ut("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Et[t]=new Ut(t,1,!1,t.toLowerCase(),null,!0,!0)});function Yg(t,e,n,r){var s=Et.hasOwnProperty(e)?Et[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(WN(e,n,s,r)&&(n=null),r||s===null?BN(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var ns=$N.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,iu=Symbol.for("react.element"),Eo=Symbol.for("react.portal"),xo=Symbol.for("react.fragment"),Xg=Symbol.for("react.strict_mode"),Jp=Symbol.for("react.profiler"),Bx=Symbol.for("react.provider"),Hx=Symbol.for("react.context"),Jg=Symbol.for("react.forward_ref"),Zp=Symbol.for("react.suspense"),em=Symbol.for("react.suspense_list"),Zg=Symbol.for("react.memo"),ws=Symbol.for("react.lazy"),Wx=Symbol.for("react.offscreen"),S0=Symbol.iterator;function nl(t){return t===null||typeof t!="object"?null:(t=S0&&t[S0]||t["@@iterator"],typeof t=="function"?t:null)}var He=Object.assign,Gf;function ml(t){if(Gf===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Gf=e&&e[1]||""}return`
`+Gf+t}var qf=!1;function Kf(t,e){if(!t||qf)return"";qf=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{qf=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?ml(t):""}function GN(t){switch(t.tag){case 5:return ml(t.type);case 16:return ml("Lazy");case 13:return ml("Suspense");case 19:return ml("SuspenseList");case 0:case 2:case 15:return t=Kf(t.type,!1),t;case 11:return t=Kf(t.type.render,!1),t;case 1:return t=Kf(t.type,!0),t;default:return""}}function tm(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case xo:return"Fragment";case Eo:return"Portal";case Jp:return"Profiler";case Xg:return"StrictMode";case Zp:return"Suspense";case em:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Hx:return(t.displayName||"Context")+".Consumer";case Bx:return(t._context.displayName||"Context")+".Provider";case Jg:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Zg:return e=t.displayName||null,e!==null?e:tm(t.type)||"Memo";case ws:e=t._payload,t=t._init;try{return tm(t(e))}catch{}}return null}function qN(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return tm(e);case 8:return e===Xg?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Qs(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Gx(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function KN(t){var e=Gx(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function ou(t){t._valueTracker||(t._valueTracker=KN(t))}function qx(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Gx(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function dd(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function nm(t,e){var n=e.checked;return He({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function I0(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Qs(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Kx(t,e){e=e.checked,e!=null&&Yg(t,"checked",e,!1)}function rm(t,e){Kx(t,e);var n=Qs(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?sm(t,e.type,n):e.hasOwnProperty("defaultValue")&&sm(t,e.type,Qs(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function b0(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function sm(t,e,n){(e!=="number"||dd(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var gl=Array.isArray;function Do(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Qs(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function im(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(B(91));return He({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function C0(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(B(92));if(gl(n)){if(1<n.length)throw Error(B(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Qs(n)}}function Qx(t,e){var n=Qs(e.value),r=Qs(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function A0(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Yx(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function om(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Yx(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var au,Xx=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(au=au||document.createElement("div"),au.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=au.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function zl(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Sl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},QN=["Webkit","ms","Moz","O"];Object.keys(Sl).forEach(function(t){QN.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Sl[e]=Sl[t]})});function Jx(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Sl.hasOwnProperty(t)&&Sl[t]?(""+e).trim():e+"px"}function Zx(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=Jx(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var YN=He({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function am(t,e){if(e){if(YN[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(B(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(B(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(B(61))}if(e.style!=null&&typeof e.style!="object")throw Error(B(62))}}function lm(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var cm=null;function ey(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var um=null,Mo=null,Oo=null;function R0(t){if(t=bc(t)){if(typeof um!="function")throw Error(B(280));var e=t.stateNode;e&&(e=xh(e),um(t.stateNode,t.type,e))}}function eT(t){Mo?Oo?Oo.push(t):Oo=[t]:Mo=t}function tT(){if(Mo){var t=Mo,e=Oo;if(Oo=Mo=null,R0(t),e)for(t=0;t<e.length;t++)R0(e[t])}}function nT(t,e){return t(e)}function rT(){}var Qf=!1;function sT(t,e,n){if(Qf)return t(e,n);Qf=!0;try{return nT(t,e,n)}finally{Qf=!1,(Mo!==null||Oo!==null)&&(rT(),tT())}}function Bl(t,e){var n=t.stateNode;if(n===null)return null;var r=xh(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(B(231,e,typeof n));return n}var dm=!1;if(Gr)try{var rl={};Object.defineProperty(rl,"passive",{get:function(){dm=!0}}),window.addEventListener("test",rl,rl),window.removeEventListener("test",rl,rl)}catch{dm=!1}function XN(t,e,n,r,s,i,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(d){this.onError(d)}}var Il=!1,hd=null,fd=!1,hm=null,JN={onError:function(t){Il=!0,hd=t}};function ZN(t,e,n,r,s,i,o,a,l){Il=!1,hd=null,XN.apply(JN,arguments)}function e2(t,e,n,r,s,i,o,a,l){if(ZN.apply(this,arguments),Il){if(Il){var u=hd;Il=!1,hd=null}else throw Error(B(198));fd||(fd=!0,hm=u)}}function Xi(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function iT(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function P0(t){if(Xi(t)!==t)throw Error(B(188))}function t2(t){var e=t.alternate;if(!e){if(e=Xi(t),e===null)throw Error(B(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return P0(s),t;if(i===r)return P0(s),e;i=i.sibling}throw Error(B(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(B(189))}}if(n.alternate!==r)throw Error(B(190))}if(n.tag!==3)throw Error(B(188));return n.stateNode.current===n?t:e}function oT(t){return t=t2(t),t!==null?aT(t):null}function aT(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=aT(t);if(e!==null)return e;t=t.sibling}return null}var lT=cn.unstable_scheduleCallback,k0=cn.unstable_cancelCallback,n2=cn.unstable_shouldYield,r2=cn.unstable_requestPaint,Xe=cn.unstable_now,s2=cn.unstable_getCurrentPriorityLevel,ty=cn.unstable_ImmediatePriority,cT=cn.unstable_UserBlockingPriority,pd=cn.unstable_NormalPriority,i2=cn.unstable_LowPriority,uT=cn.unstable_IdlePriority,vh=null,yr=null;function o2(t){if(yr&&typeof yr.onCommitFiberRoot=="function")try{yr.onCommitFiberRoot(vh,t,void 0,(t.current.flags&128)===128)}catch{}}var zn=Math.clz32?Math.clz32:c2,a2=Math.log,l2=Math.LN2;function c2(t){return t>>>=0,t===0?32:31-(a2(t)/l2|0)|0}var lu=64,cu=4194304;function yl(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function md(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=yl(a):(i&=o,i!==0&&(r=yl(i)))}else o=n&~s,o!==0?r=yl(o):i!==0&&(r=yl(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-zn(e),s=1<<n,r|=t[n],e&=~s;return r}function u2(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function d2(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-zn(i),a=1<<o,l=s[o];l===-1?(!(a&n)||a&r)&&(s[o]=u2(a,e)):l<=e&&(t.expiredLanes|=a),i&=~a}}function fm(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function dT(){var t=lu;return lu<<=1,!(lu&4194240)&&(lu=64),t}function Yf(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Sc(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-zn(e),t[e]=n}function h2(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-zn(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function ny(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-zn(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var Ce=0;function hT(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var fT,ry,pT,mT,gT,pm=!1,uu=[],Os=null,Ls=null,Vs=null,Hl=new Map,Wl=new Map,Es=[],f2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function N0(t,e){switch(t){case"focusin":case"focusout":Os=null;break;case"dragenter":case"dragleave":Ls=null;break;case"mouseover":case"mouseout":Vs=null;break;case"pointerover":case"pointerout":Hl.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Wl.delete(e.pointerId)}}function sl(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=bc(e),e!==null&&ry(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function p2(t,e,n,r,s){switch(e){case"focusin":return Os=sl(Os,t,e,n,r,s),!0;case"dragenter":return Ls=sl(Ls,t,e,n,r,s),!0;case"mouseover":return Vs=sl(Vs,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return Hl.set(i,sl(Hl.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Wl.set(i,sl(Wl.get(i)||null,t,e,n,r,s)),!0}return!1}function yT(t){var e=xi(t.target);if(e!==null){var n=Xi(e);if(n!==null){if(e=n.tag,e===13){if(e=iT(n),e!==null){t.blockedOn=e,gT(t.priority,function(){pT(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Uu(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=mm(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);cm=r,n.target.dispatchEvent(r),cm=null}else return e=bc(n),e!==null&&ry(e),t.blockedOn=n,!1;e.shift()}return!0}function D0(t,e,n){Uu(t)&&n.delete(e)}function m2(){pm=!1,Os!==null&&Uu(Os)&&(Os=null),Ls!==null&&Uu(Ls)&&(Ls=null),Vs!==null&&Uu(Vs)&&(Vs=null),Hl.forEach(D0),Wl.forEach(D0)}function il(t,e){t.blockedOn===e&&(t.blockedOn=null,pm||(pm=!0,cn.unstable_scheduleCallback(cn.unstable_NormalPriority,m2)))}function Gl(t){function e(s){return il(s,t)}if(0<uu.length){il(uu[0],t);for(var n=1;n<uu.length;n++){var r=uu[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Os!==null&&il(Os,t),Ls!==null&&il(Ls,t),Vs!==null&&il(Vs,t),Hl.forEach(e),Wl.forEach(e),n=0;n<Es.length;n++)r=Es[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Es.length&&(n=Es[0],n.blockedOn===null);)yT(n),n.blockedOn===null&&Es.shift()}var Lo=ns.ReactCurrentBatchConfig,gd=!0;function g2(t,e,n,r){var s=Ce,i=Lo.transition;Lo.transition=null;try{Ce=1,sy(t,e,n,r)}finally{Ce=s,Lo.transition=i}}function y2(t,e,n,r){var s=Ce,i=Lo.transition;Lo.transition=null;try{Ce=4,sy(t,e,n,r)}finally{Ce=s,Lo.transition=i}}function sy(t,e,n,r){if(gd){var s=mm(t,e,n,r);if(s===null)op(t,e,r,yd,n),N0(t,r);else if(p2(s,t,e,n,r))r.stopPropagation();else if(N0(t,r),e&4&&-1<f2.indexOf(t)){for(;s!==null;){var i=bc(s);if(i!==null&&fT(i),i=mm(t,e,n,r),i===null&&op(t,e,r,yd,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else op(t,e,r,null,n)}}var yd=null;function mm(t,e,n,r){if(yd=null,t=ey(r),t=xi(t),t!==null)if(e=Xi(t),e===null)t=null;else if(n=e.tag,n===13){if(t=iT(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return yd=t,null}function vT(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(s2()){case ty:return 1;case cT:return 4;case pd:case i2:return 16;case uT:return 536870912;default:return 16}default:return 16}}var ks=null,iy=null,$u=null;function wT(){if($u)return $u;var t,e=iy,n=e.length,r,s="value"in ks?ks.value:ks.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return $u=s.slice(t,1<r?1-r:void 0)}function zu(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function du(){return!0}function M0(){return!1}function hn(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?du:M0,this.isPropagationStopped=M0,this}return He(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=du)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=du)},persist:function(){},isPersistent:du}),e}var Ca={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},oy=hn(Ca),Ic=He({},Ca,{view:0,detail:0}),v2=hn(Ic),Xf,Jf,ol,wh=He({},Ic,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ay,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ol&&(ol&&t.type==="mousemove"?(Xf=t.screenX-ol.screenX,Jf=t.screenY-ol.screenY):Jf=Xf=0,ol=t),Xf)},movementY:function(t){return"movementY"in t?t.movementY:Jf}}),O0=hn(wh),w2=He({},wh,{dataTransfer:0}),_2=hn(w2),E2=He({},Ic,{relatedTarget:0}),Zf=hn(E2),x2=He({},Ca,{animationName:0,elapsedTime:0,pseudoElement:0}),T2=hn(x2),S2=He({},Ca,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),I2=hn(S2),b2=He({},Ca,{data:0}),L0=hn(b2),C2={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},A2={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},R2={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function P2(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=R2[t])?!!e[t]:!1}function ay(){return P2}var k2=He({},Ic,{key:function(t){if(t.key){var e=C2[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=zu(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?A2[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ay,charCode:function(t){return t.type==="keypress"?zu(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?zu(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),N2=hn(k2),D2=He({},wh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),V0=hn(D2),M2=He({},Ic,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ay}),O2=hn(M2),L2=He({},Ca,{propertyName:0,elapsedTime:0,pseudoElement:0}),V2=hn(L2),j2=He({},wh,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),F2=hn(j2),U2=[9,13,27,32],ly=Gr&&"CompositionEvent"in window,bl=null;Gr&&"documentMode"in document&&(bl=document.documentMode);var $2=Gr&&"TextEvent"in window&&!bl,_T=Gr&&(!ly||bl&&8<bl&&11>=bl),j0=" ",F0=!1;function ET(t,e){switch(t){case"keyup":return U2.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function xT(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var To=!1;function z2(t,e){switch(t){case"compositionend":return xT(e);case"keypress":return e.which!==32?null:(F0=!0,j0);case"textInput":return t=e.data,t===j0&&F0?null:t;default:return null}}function B2(t,e){if(To)return t==="compositionend"||!ly&&ET(t,e)?(t=wT(),$u=iy=ks=null,To=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return _T&&e.locale!=="ko"?null:e.data;default:return null}}var H2={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function U0(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!H2[t.type]:e==="textarea"}function TT(t,e,n,r){eT(r),e=vd(e,"onChange"),0<e.length&&(n=new oy("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Cl=null,ql=null;function W2(t){MT(t,0)}function _h(t){var e=bo(t);if(qx(e))return t}function G2(t,e){if(t==="change")return e}var ST=!1;if(Gr){var ep;if(Gr){var tp="oninput"in document;if(!tp){var $0=document.createElement("div");$0.setAttribute("oninput","return;"),tp=typeof $0.oninput=="function"}ep=tp}else ep=!1;ST=ep&&(!document.documentMode||9<document.documentMode)}function z0(){Cl&&(Cl.detachEvent("onpropertychange",IT),ql=Cl=null)}function IT(t){if(t.propertyName==="value"&&_h(ql)){var e=[];TT(e,ql,t,ey(t)),sT(W2,e)}}function q2(t,e,n){t==="focusin"?(z0(),Cl=e,ql=n,Cl.attachEvent("onpropertychange",IT)):t==="focusout"&&z0()}function K2(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return _h(ql)}function Q2(t,e){if(t==="click")return _h(e)}function Y2(t,e){if(t==="input"||t==="change")return _h(e)}function X2(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Gn=typeof Object.is=="function"?Object.is:X2;function Kl(t,e){if(Gn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Xp.call(e,s)||!Gn(t[s],e[s]))return!1}return!0}function B0(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function H0(t,e){var n=B0(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=B0(n)}}function bT(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?bT(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function CT(){for(var t=window,e=dd();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=dd(t.document)}return e}function cy(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function J2(t){var e=CT(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&bT(n.ownerDocument.documentElement,n)){if(r!==null&&cy(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=H0(n,i);var o=H0(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Z2=Gr&&"documentMode"in document&&11>=document.documentMode,So=null,gm=null,Al=null,ym=!1;function W0(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;ym||So==null||So!==dd(r)||(r=So,"selectionStart"in r&&cy(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Al&&Kl(Al,r)||(Al=r,r=vd(gm,"onSelect"),0<r.length&&(e=new oy("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=So)))}function hu(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Io={animationend:hu("Animation","AnimationEnd"),animationiteration:hu("Animation","AnimationIteration"),animationstart:hu("Animation","AnimationStart"),transitionend:hu("Transition","TransitionEnd")},np={},AT={};Gr&&(AT=document.createElement("div").style,"AnimationEvent"in window||(delete Io.animationend.animation,delete Io.animationiteration.animation,delete Io.animationstart.animation),"TransitionEvent"in window||delete Io.transitionend.transition);function Eh(t){if(np[t])return np[t];if(!Io[t])return t;var e=Io[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in AT)return np[t]=e[n];return t}var RT=Eh("animationend"),PT=Eh("animationiteration"),kT=Eh("animationstart"),NT=Eh("transitionend"),DT=new Map,G0="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function oi(t,e){DT.set(t,e),Yi(e,[t])}for(var rp=0;rp<G0.length;rp++){var sp=G0[rp],eD=sp.toLowerCase(),tD=sp[0].toUpperCase()+sp.slice(1);oi(eD,"on"+tD)}oi(RT,"onAnimationEnd");oi(PT,"onAnimationIteration");oi(kT,"onAnimationStart");oi("dblclick","onDoubleClick");oi("focusin","onFocus");oi("focusout","onBlur");oi(NT,"onTransitionEnd");oa("onMouseEnter",["mouseout","mouseover"]);oa("onMouseLeave",["mouseout","mouseover"]);oa("onPointerEnter",["pointerout","pointerover"]);oa("onPointerLeave",["pointerout","pointerover"]);Yi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Yi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Yi("onBeforeInput",["compositionend","keypress","textInput","paste"]);Yi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Yi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Yi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var vl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),nD=new Set("cancel close invalid load scroll toggle".split(" ").concat(vl));function q0(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,e2(r,e,void 0,t),t.currentTarget=null}function MT(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;q0(s,a,u),i=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;q0(s,a,u),i=l}}}if(fd)throw t=hm,fd=!1,hm=null,t}function je(t,e){var n=e[xm];n===void 0&&(n=e[xm]=new Set);var r=t+"__bubble";n.has(r)||(OT(e,t,2,!1),n.add(r))}function ip(t,e,n){var r=0;e&&(r|=4),OT(n,t,r,e)}var fu="_reactListening"+Math.random().toString(36).slice(2);function Ql(t){if(!t[fu]){t[fu]=!0,zx.forEach(function(n){n!=="selectionchange"&&(nD.has(n)||ip(n,!1,t),ip(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[fu]||(e[fu]=!0,ip("selectionchange",!1,e))}}function OT(t,e,n,r){switch(vT(e)){case 1:var s=g2;break;case 4:s=y2;break;default:s=sy}n=s.bind(null,e,n,t),s=void 0,!dm||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function op(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=xi(a),o===null)return;if(l=o.tag,l===5||l===6){r=i=o;continue e}a=a.parentNode}}r=r.return}sT(function(){var u=i,d=ey(n),h=[];e:{var p=DT.get(t);if(p!==void 0){var g=oy,S=t;switch(t){case"keypress":if(zu(n)===0)break e;case"keydown":case"keyup":g=N2;break;case"focusin":S="focus",g=Zf;break;case"focusout":S="blur",g=Zf;break;case"beforeblur":case"afterblur":g=Zf;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=O0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=_2;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=O2;break;case RT:case PT:case kT:g=T2;break;case NT:g=V2;break;case"scroll":g=v2;break;case"wheel":g=F2;break;case"copy":case"cut":case"paste":g=I2;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=V0}var E=(e&4)!==0,x=!E&&t==="scroll",w=E?p!==null?p+"Capture":null:p;E=[];for(var _=u,T;_!==null;){T=_;var P=T.stateNode;if(T.tag===5&&P!==null&&(T=P,w!==null&&(P=Bl(_,w),P!=null&&E.push(Yl(_,P,T)))),x)break;_=_.return}0<E.length&&(p=new g(p,S,null,n,d),h.push({event:p,listeners:E}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",p&&n!==cm&&(S=n.relatedTarget||n.fromElement)&&(xi(S)||S[qr]))break e;if((g||p)&&(p=d.window===d?d:(p=d.ownerDocument)?p.defaultView||p.parentWindow:window,g?(S=n.relatedTarget||n.toElement,g=u,S=S?xi(S):null,S!==null&&(x=Xi(S),S!==x||S.tag!==5&&S.tag!==6)&&(S=null)):(g=null,S=u),g!==S)){if(E=O0,P="onMouseLeave",w="onMouseEnter",_="mouse",(t==="pointerout"||t==="pointerover")&&(E=V0,P="onPointerLeave",w="onPointerEnter",_="pointer"),x=g==null?p:bo(g),T=S==null?p:bo(S),p=new E(P,_+"leave",g,n,d),p.target=x,p.relatedTarget=T,P=null,xi(d)===u&&(E=new E(w,_+"enter",S,n,d),E.target=T,E.relatedTarget=x,P=E),x=P,g&&S)t:{for(E=g,w=S,_=0,T=E;T;T=fo(T))_++;for(T=0,P=w;P;P=fo(P))T++;for(;0<_-T;)E=fo(E),_--;for(;0<T-_;)w=fo(w),T--;for(;_--;){if(E===w||w!==null&&E===w.alternate)break t;E=fo(E),w=fo(w)}E=null}else E=null;g!==null&&K0(h,p,g,E,!1),S!==null&&x!==null&&K0(h,x,S,E,!0)}}e:{if(p=u?bo(u):window,g=p.nodeName&&p.nodeName.toLowerCase(),g==="select"||g==="input"&&p.type==="file")var M=G2;else if(U0(p))if(ST)M=Y2;else{M=K2;var O=q2}else(g=p.nodeName)&&g.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(M=Q2);if(M&&(M=M(t,u))){TT(h,M,n,d);break e}O&&O(t,p,u),t==="focusout"&&(O=p._wrapperState)&&O.controlled&&p.type==="number"&&sm(p,"number",p.value)}switch(O=u?bo(u):window,t){case"focusin":(U0(O)||O.contentEditable==="true")&&(So=O,gm=u,Al=null);break;case"focusout":Al=gm=So=null;break;case"mousedown":ym=!0;break;case"contextmenu":case"mouseup":case"dragend":ym=!1,W0(h,n,d);break;case"selectionchange":if(Z2)break;case"keydown":case"keyup":W0(h,n,d)}var b;if(ly)e:{switch(t){case"compositionstart":var I="onCompositionStart";break e;case"compositionend":I="onCompositionEnd";break e;case"compositionupdate":I="onCompositionUpdate";break e}I=void 0}else To?ET(t,n)&&(I="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(I="onCompositionStart");I&&(_T&&n.locale!=="ko"&&(To||I!=="onCompositionStart"?I==="onCompositionEnd"&&To&&(b=wT()):(ks=d,iy="value"in ks?ks.value:ks.textContent,To=!0)),O=vd(u,I),0<O.length&&(I=new L0(I,t,null,n,d),h.push({event:I,listeners:O}),b?I.data=b:(b=xT(n),b!==null&&(I.data=b)))),(b=$2?z2(t,n):B2(t,n))&&(u=vd(u,"onBeforeInput"),0<u.length&&(d=new L0("onBeforeInput","beforeinput",null,n,d),h.push({event:d,listeners:u}),d.data=b))}MT(h,e)})}function Yl(t,e,n){return{instance:t,listener:e,currentTarget:n}}function vd(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Bl(t,n),i!=null&&r.unshift(Yl(t,i,s)),i=Bl(t,e),i!=null&&r.push(Yl(t,i,s))),t=t.return}return r}function fo(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function K0(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,s?(l=Bl(n,i),l!=null&&o.unshift(Yl(n,l,a))):s||(l=Bl(n,i),l!=null&&o.push(Yl(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var rD=/\r\n?/g,sD=/\u0000|\uFFFD/g;function Q0(t){return(typeof t=="string"?t:""+t).replace(rD,`
`).replace(sD,"")}function pu(t,e,n){if(e=Q0(e),Q0(t)!==e&&n)throw Error(B(425))}function wd(){}var vm=null,wm=null;function _m(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Em=typeof setTimeout=="function"?setTimeout:void 0,iD=typeof clearTimeout=="function"?clearTimeout:void 0,Y0=typeof Promise=="function"?Promise:void 0,oD=typeof queueMicrotask=="function"?queueMicrotask:typeof Y0<"u"?function(t){return Y0.resolve(null).then(t).catch(aD)}:Em;function aD(t){setTimeout(function(){throw t})}function ap(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),Gl(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Gl(e)}function js(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function X0(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Aa=Math.random().toString(36).slice(2),pr="__reactFiber$"+Aa,Xl="__reactProps$"+Aa,qr="__reactContainer$"+Aa,xm="__reactEvents$"+Aa,lD="__reactListeners$"+Aa,cD="__reactHandles$"+Aa;function xi(t){var e=t[pr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[qr]||n[pr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=X0(t);t!==null;){if(n=t[pr])return n;t=X0(t)}return e}t=n,n=t.parentNode}return null}function bc(t){return t=t[pr]||t[qr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function bo(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(B(33))}function xh(t){return t[Xl]||null}var Tm=[],Co=-1;function ai(t){return{current:t}}function Fe(t){0>Co||(t.current=Tm[Co],Tm[Co]=null,Co--)}function Oe(t,e){Co++,Tm[Co]=t.current,t.current=e}var Ys={},kt=ai(Ys),Kt=ai(!1),Vi=Ys;function aa(t,e){var n=t.type.contextTypes;if(!n)return Ys;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Qt(t){return t=t.childContextTypes,t!=null}function _d(){Fe(Kt),Fe(kt)}function J0(t,e,n){if(kt.current!==Ys)throw Error(B(168));Oe(kt,e),Oe(Kt,n)}function LT(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(B(108,qN(t)||"Unknown",s));return He({},n,r)}function Ed(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ys,Vi=kt.current,Oe(kt,t),Oe(Kt,Kt.current),!0}function Z0(t,e,n){var r=t.stateNode;if(!r)throw Error(B(169));n?(t=LT(t,e,Vi),r.__reactInternalMemoizedMergedChildContext=t,Fe(Kt),Fe(kt),Oe(kt,t)):Fe(Kt),Oe(Kt,n)}var Vr=null,Th=!1,lp=!1;function VT(t){Vr===null?Vr=[t]:Vr.push(t)}function uD(t){Th=!0,VT(t)}function li(){if(!lp&&Vr!==null){lp=!0;var t=0,e=Ce;try{var n=Vr;for(Ce=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Vr=null,Th=!1}catch(s){throw Vr!==null&&(Vr=Vr.slice(t+1)),lT(ty,li),s}finally{Ce=e,lp=!1}}return null}var Ao=[],Ro=0,xd=null,Td=0,yn=[],vn=0,ji=null,Ur=1,$r="";function vi(t,e){Ao[Ro++]=Td,Ao[Ro++]=xd,xd=t,Td=e}function jT(t,e,n){yn[vn++]=Ur,yn[vn++]=$r,yn[vn++]=ji,ji=t;var r=Ur;t=$r;var s=32-zn(r)-1;r&=~(1<<s),n+=1;var i=32-zn(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,Ur=1<<32-zn(e)+s|n<<s|r,$r=i+t}else Ur=1<<i|n<<s|r,$r=t}function uy(t){t.return!==null&&(vi(t,1),jT(t,1,0))}function dy(t){for(;t===xd;)xd=Ao[--Ro],Ao[Ro]=null,Td=Ao[--Ro],Ao[Ro]=null;for(;t===ji;)ji=yn[--vn],yn[vn]=null,$r=yn[--vn],yn[vn]=null,Ur=yn[--vn],yn[vn]=null}var on=null,sn=null,Ue=!1,Fn=null;function FT(t,e){var n=xn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function e_(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,on=t,sn=js(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,on=t,sn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=ji!==null?{id:Ur,overflow:$r}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=xn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,on=t,sn=null,!0):!1;default:return!1}}function Sm(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Im(t){if(Ue){var e=sn;if(e){var n=e;if(!e_(t,e)){if(Sm(t))throw Error(B(418));e=js(n.nextSibling);var r=on;e&&e_(t,e)?FT(r,n):(t.flags=t.flags&-4097|2,Ue=!1,on=t)}}else{if(Sm(t))throw Error(B(418));t.flags=t.flags&-4097|2,Ue=!1,on=t}}}function t_(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;on=t}function mu(t){if(t!==on)return!1;if(!Ue)return t_(t),Ue=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!_m(t.type,t.memoizedProps)),e&&(e=sn)){if(Sm(t))throw UT(),Error(B(418));for(;e;)FT(t,e),e=js(e.nextSibling)}if(t_(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(B(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){sn=js(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}sn=null}}else sn=on?js(t.stateNode.nextSibling):null;return!0}function UT(){for(var t=sn;t;)t=js(t.nextSibling)}function la(){sn=on=null,Ue=!1}function hy(t){Fn===null?Fn=[t]:Fn.push(t)}var dD=ns.ReactCurrentBatchConfig;function al(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(B(309));var r=n.stateNode}if(!r)throw Error(B(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(B(284));if(!n._owner)throw Error(B(290,t))}return t}function gu(t,e){throw t=Object.prototype.toString.call(e),Error(B(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function n_(t){var e=t._init;return e(t._payload)}function $T(t){function e(w,_){if(t){var T=w.deletions;T===null?(w.deletions=[_],w.flags|=16):T.push(_)}}function n(w,_){if(!t)return null;for(;_!==null;)e(w,_),_=_.sibling;return null}function r(w,_){for(w=new Map;_!==null;)_.key!==null?w.set(_.key,_):w.set(_.index,_),_=_.sibling;return w}function s(w,_){return w=zs(w,_),w.index=0,w.sibling=null,w}function i(w,_,T){return w.index=T,t?(T=w.alternate,T!==null?(T=T.index,T<_?(w.flags|=2,_):T):(w.flags|=2,_)):(w.flags|=1048576,_)}function o(w){return t&&w.alternate===null&&(w.flags|=2),w}function a(w,_,T,P){return _===null||_.tag!==6?(_=mp(T,w.mode,P),_.return=w,_):(_=s(_,T),_.return=w,_)}function l(w,_,T,P){var M=T.type;return M===xo?d(w,_,T.props.children,P,T.key):_!==null&&(_.elementType===M||typeof M=="object"&&M!==null&&M.$$typeof===ws&&n_(M)===_.type)?(P=s(_,T.props),P.ref=al(w,_,T),P.return=w,P):(P=Qu(T.type,T.key,T.props,null,w.mode,P),P.ref=al(w,_,T),P.return=w,P)}function u(w,_,T,P){return _===null||_.tag!==4||_.stateNode.containerInfo!==T.containerInfo||_.stateNode.implementation!==T.implementation?(_=gp(T,w.mode,P),_.return=w,_):(_=s(_,T.children||[]),_.return=w,_)}function d(w,_,T,P,M){return _===null||_.tag!==7?(_=Oi(T,w.mode,P,M),_.return=w,_):(_=s(_,T),_.return=w,_)}function h(w,_,T){if(typeof _=="string"&&_!==""||typeof _=="number")return _=mp(""+_,w.mode,T),_.return=w,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case iu:return T=Qu(_.type,_.key,_.props,null,w.mode,T),T.ref=al(w,null,_),T.return=w,T;case Eo:return _=gp(_,w.mode,T),_.return=w,_;case ws:var P=_._init;return h(w,P(_._payload),T)}if(gl(_)||nl(_))return _=Oi(_,w.mode,T,null),_.return=w,_;gu(w,_)}return null}function p(w,_,T,P){var M=_!==null?_.key:null;if(typeof T=="string"&&T!==""||typeof T=="number")return M!==null?null:a(w,_,""+T,P);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case iu:return T.key===M?l(w,_,T,P):null;case Eo:return T.key===M?u(w,_,T,P):null;case ws:return M=T._init,p(w,_,M(T._payload),P)}if(gl(T)||nl(T))return M!==null?null:d(w,_,T,P,null);gu(w,T)}return null}function g(w,_,T,P,M){if(typeof P=="string"&&P!==""||typeof P=="number")return w=w.get(T)||null,a(_,w,""+P,M);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case iu:return w=w.get(P.key===null?T:P.key)||null,l(_,w,P,M);case Eo:return w=w.get(P.key===null?T:P.key)||null,u(_,w,P,M);case ws:var O=P._init;return g(w,_,T,O(P._payload),M)}if(gl(P)||nl(P))return w=w.get(T)||null,d(_,w,P,M,null);gu(_,P)}return null}function S(w,_,T,P){for(var M=null,O=null,b=_,I=_=0,C=null;b!==null&&I<T.length;I++){b.index>I?(C=b,b=null):C=b.sibling;var R=p(w,b,T[I],P);if(R===null){b===null&&(b=C);break}t&&b&&R.alternate===null&&e(w,b),_=i(R,_,I),O===null?M=R:O.sibling=R,O=R,b=C}if(I===T.length)return n(w,b),Ue&&vi(w,I),M;if(b===null){for(;I<T.length;I++)b=h(w,T[I],P),b!==null&&(_=i(b,_,I),O===null?M=b:O.sibling=b,O=b);return Ue&&vi(w,I),M}for(b=r(w,b);I<T.length;I++)C=g(b,w,I,T[I],P),C!==null&&(t&&C.alternate!==null&&b.delete(C.key===null?I:C.key),_=i(C,_,I),O===null?M=C:O.sibling=C,O=C);return t&&b.forEach(function(N){return e(w,N)}),Ue&&vi(w,I),M}function E(w,_,T,P){var M=nl(T);if(typeof M!="function")throw Error(B(150));if(T=M.call(T),T==null)throw Error(B(151));for(var O=M=null,b=_,I=_=0,C=null,R=T.next();b!==null&&!R.done;I++,R=T.next()){b.index>I?(C=b,b=null):C=b.sibling;var N=p(w,b,R.value,P);if(N===null){b===null&&(b=C);break}t&&b&&N.alternate===null&&e(w,b),_=i(N,_,I),O===null?M=N:O.sibling=N,O=N,b=C}if(R.done)return n(w,b),Ue&&vi(w,I),M;if(b===null){for(;!R.done;I++,R=T.next())R=h(w,R.value,P),R!==null&&(_=i(R,_,I),O===null?M=R:O.sibling=R,O=R);return Ue&&vi(w,I),M}for(b=r(w,b);!R.done;I++,R=T.next())R=g(b,w,I,R.value,P),R!==null&&(t&&R.alternate!==null&&b.delete(R.key===null?I:R.key),_=i(R,_,I),O===null?M=R:O.sibling=R,O=R);return t&&b.forEach(function(D){return e(w,D)}),Ue&&vi(w,I),M}function x(w,_,T,P){if(typeof T=="object"&&T!==null&&T.type===xo&&T.key===null&&(T=T.props.children),typeof T=="object"&&T!==null){switch(T.$$typeof){case iu:e:{for(var M=T.key,O=_;O!==null;){if(O.key===M){if(M=T.type,M===xo){if(O.tag===7){n(w,O.sibling),_=s(O,T.props.children),_.return=w,w=_;break e}}else if(O.elementType===M||typeof M=="object"&&M!==null&&M.$$typeof===ws&&n_(M)===O.type){n(w,O.sibling),_=s(O,T.props),_.ref=al(w,O,T),_.return=w,w=_;break e}n(w,O);break}else e(w,O);O=O.sibling}T.type===xo?(_=Oi(T.props.children,w.mode,P,T.key),_.return=w,w=_):(P=Qu(T.type,T.key,T.props,null,w.mode,P),P.ref=al(w,_,T),P.return=w,w=P)}return o(w);case Eo:e:{for(O=T.key;_!==null;){if(_.key===O)if(_.tag===4&&_.stateNode.containerInfo===T.containerInfo&&_.stateNode.implementation===T.implementation){n(w,_.sibling),_=s(_,T.children||[]),_.return=w,w=_;break e}else{n(w,_);break}else e(w,_);_=_.sibling}_=gp(T,w.mode,P),_.return=w,w=_}return o(w);case ws:return O=T._init,x(w,_,O(T._payload),P)}if(gl(T))return S(w,_,T,P);if(nl(T))return E(w,_,T,P);gu(w,T)}return typeof T=="string"&&T!==""||typeof T=="number"?(T=""+T,_!==null&&_.tag===6?(n(w,_.sibling),_=s(_,T),_.return=w,w=_):(n(w,_),_=mp(T,w.mode,P),_.return=w,w=_),o(w)):n(w,_)}return x}var ca=$T(!0),zT=$T(!1),Sd=ai(null),Id=null,Po=null,fy=null;function py(){fy=Po=Id=null}function my(t){var e=Sd.current;Fe(Sd),t._currentValue=e}function bm(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Vo(t,e){Id=t,fy=Po=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(qt=!0),t.firstContext=null)}function bn(t){var e=t._currentValue;if(fy!==t)if(t={context:t,memoizedValue:e,next:null},Po===null){if(Id===null)throw Error(B(308));Po=t,Id.dependencies={lanes:0,firstContext:t}}else Po=Po.next=t;return e}var Ti=null;function gy(t){Ti===null?Ti=[t]:Ti.push(t)}function BT(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,gy(e)):(n.next=s.next,s.next=n),e.interleaved=n,Kr(t,r)}function Kr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var _s=!1;function yy(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function HT(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Hr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Fs(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,xe&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,Kr(t,n)}return s=r.interleaved,s===null?(e.next=e,gy(r)):(e.next=s.next,s.next=e),r.interleaved=e,Kr(t,n)}function Bu(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,ny(t,n)}}function r_(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function bd(t,e,n,r){var s=t.updateQueue;_s=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?i=u:o.next=u,o=l;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=u:a.next=u,d.lastBaseUpdate=l))}if(i!==null){var h=s.baseState;o=0,d=u=l=null,a=i;do{var p=a.lane,g=a.eventTime;if((r&p)===p){d!==null&&(d=d.next={eventTime:g,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var S=t,E=a;switch(p=e,g=n,E.tag){case 1:if(S=E.payload,typeof S=="function"){h=S.call(g,h,p);break e}h=S;break e;case 3:S.flags=S.flags&-65537|128;case 0:if(S=E.payload,p=typeof S=="function"?S.call(g,h,p):S,p==null)break e;h=He({},h,p);break e;case 2:_s=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,p=s.effects,p===null?s.effects=[a]:p.push(a))}else g={eventTime:g,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(u=d=g,l=h):d=d.next=g,o|=p;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;p=a,a=p.next,p.next=null,s.lastBaseUpdate=p,s.shared.pending=null}}while(!0);if(d===null&&(l=h),s.baseState=l,s.firstBaseUpdate=u,s.lastBaseUpdate=d,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);Ui|=o,t.lanes=o,t.memoizedState=h}}function s_(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(B(191,s));s.call(r)}}}var Cc={},vr=ai(Cc),Jl=ai(Cc),Zl=ai(Cc);function Si(t){if(t===Cc)throw Error(B(174));return t}function vy(t,e){switch(Oe(Zl,e),Oe(Jl,t),Oe(vr,Cc),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:om(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=om(e,t)}Fe(vr),Oe(vr,e)}function ua(){Fe(vr),Fe(Jl),Fe(Zl)}function WT(t){Si(Zl.current);var e=Si(vr.current),n=om(e,t.type);e!==n&&(Oe(Jl,t),Oe(vr,n))}function wy(t){Jl.current===t&&(Fe(vr),Fe(Jl))}var ze=ai(0);function Cd(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var cp=[];function _y(){for(var t=0;t<cp.length;t++)cp[t]._workInProgressVersionPrimary=null;cp.length=0}var Hu=ns.ReactCurrentDispatcher,up=ns.ReactCurrentBatchConfig,Fi=0,Be=null,ot=null,pt=null,Ad=!1,Rl=!1,ec=0,hD=0;function St(){throw Error(B(321))}function Ey(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Gn(t[n],e[n]))return!1;return!0}function xy(t,e,n,r,s,i){if(Fi=i,Be=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Hu.current=t===null||t.memoizedState===null?gD:yD,t=n(r,s),Rl){i=0;do{if(Rl=!1,ec=0,25<=i)throw Error(B(301));i+=1,pt=ot=null,e.updateQueue=null,Hu.current=vD,t=n(r,s)}while(Rl)}if(Hu.current=Rd,e=ot!==null&&ot.next!==null,Fi=0,pt=ot=Be=null,Ad=!1,e)throw Error(B(300));return t}function Ty(){var t=ec!==0;return ec=0,t}function lr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return pt===null?Be.memoizedState=pt=t:pt=pt.next=t,pt}function Cn(){if(ot===null){var t=Be.alternate;t=t!==null?t.memoizedState:null}else t=ot.next;var e=pt===null?Be.memoizedState:pt.next;if(e!==null)pt=e,ot=t;else{if(t===null)throw Error(B(310));ot=t,t={memoizedState:ot.memoizedState,baseState:ot.baseState,baseQueue:ot.baseQueue,queue:ot.queue,next:null},pt===null?Be.memoizedState=pt=t:pt=pt.next=t}return pt}function tc(t,e){return typeof e=="function"?e(t):e}function dp(t){var e=Cn(),n=e.queue;if(n===null)throw Error(B(311));n.lastRenderedReducer=t;var r=ot,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,l=null,u=i;do{var d=u.lane;if((Fi&d)===d)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=h,o=r):l=l.next=h,Be.lanes|=d,Ui|=d}u=u.next}while(u!==null&&u!==i);l===null?o=r:l.next=a,Gn(r,e.memoizedState)||(qt=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,Be.lanes|=i,Ui|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function hp(t){var e=Cn(),n=e.queue;if(n===null)throw Error(B(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);Gn(i,e.memoizedState)||(qt=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function GT(){}function qT(t,e){var n=Be,r=Cn(),s=e(),i=!Gn(r.memoizedState,s);if(i&&(r.memoizedState=s,qt=!0),r=r.queue,Sy(YT.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||pt!==null&&pt.memoizedState.tag&1){if(n.flags|=2048,nc(9,QT.bind(null,n,r,s,e),void 0,null),mt===null)throw Error(B(349));Fi&30||KT(n,e,s)}return s}function KT(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Be.updateQueue,e===null?(e={lastEffect:null,stores:null},Be.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function QT(t,e,n,r){e.value=n,e.getSnapshot=r,XT(e)&&JT(t)}function YT(t,e,n){return n(function(){XT(e)&&JT(t)})}function XT(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Gn(t,n)}catch{return!0}}function JT(t){var e=Kr(t,1);e!==null&&Bn(e,t,1,-1)}function i_(t){var e=lr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:tc,lastRenderedState:t},e.queue=t,t=t.dispatch=mD.bind(null,Be,t),[e.memoizedState,t]}function nc(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Be.updateQueue,e===null?(e={lastEffect:null,stores:null},Be.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function ZT(){return Cn().memoizedState}function Wu(t,e,n,r){var s=lr();Be.flags|=t,s.memoizedState=nc(1|e,n,void 0,r===void 0?null:r)}function Sh(t,e,n,r){var s=Cn();r=r===void 0?null:r;var i=void 0;if(ot!==null){var o=ot.memoizedState;if(i=o.destroy,r!==null&&Ey(r,o.deps)){s.memoizedState=nc(e,n,i,r);return}}Be.flags|=t,s.memoizedState=nc(1|e,n,i,r)}function o_(t,e){return Wu(8390656,8,t,e)}function Sy(t,e){return Sh(2048,8,t,e)}function eS(t,e){return Sh(4,2,t,e)}function tS(t,e){return Sh(4,4,t,e)}function nS(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function rS(t,e,n){return n=n!=null?n.concat([t]):null,Sh(4,4,nS.bind(null,e,t),n)}function Iy(){}function sS(t,e){var n=Cn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Ey(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function iS(t,e){var n=Cn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Ey(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function oS(t,e,n){return Fi&21?(Gn(n,e)||(n=dT(),Be.lanes|=n,Ui|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,qt=!0),t.memoizedState=n)}function fD(t,e){var n=Ce;Ce=n!==0&&4>n?n:4,t(!0);var r=up.transition;up.transition={};try{t(!1),e()}finally{Ce=n,up.transition=r}}function aS(){return Cn().memoizedState}function pD(t,e,n){var r=$s(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},lS(t))cS(e,n);else if(n=BT(t,e,n,r),n!==null){var s=Vt();Bn(n,t,r,s),uS(n,e,r)}}function mD(t,e,n){var r=$s(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(lS(t))cS(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,Gn(a,o)){var l=e.interleaved;l===null?(s.next=s,gy(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}n=BT(t,e,s,r),n!==null&&(s=Vt(),Bn(n,t,r,s),uS(n,e,r))}}function lS(t){var e=t.alternate;return t===Be||e!==null&&e===Be}function cS(t,e){Rl=Ad=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function uS(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,ny(t,n)}}var Rd={readContext:bn,useCallback:St,useContext:St,useEffect:St,useImperativeHandle:St,useInsertionEffect:St,useLayoutEffect:St,useMemo:St,useReducer:St,useRef:St,useState:St,useDebugValue:St,useDeferredValue:St,useTransition:St,useMutableSource:St,useSyncExternalStore:St,useId:St,unstable_isNewReconciler:!1},gD={readContext:bn,useCallback:function(t,e){return lr().memoizedState=[t,e===void 0?null:e],t},useContext:bn,useEffect:o_,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Wu(4194308,4,nS.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Wu(4194308,4,t,e)},useInsertionEffect:function(t,e){return Wu(4,2,t,e)},useMemo:function(t,e){var n=lr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=lr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=pD.bind(null,Be,t),[r.memoizedState,t]},useRef:function(t){var e=lr();return t={current:t},e.memoizedState=t},useState:i_,useDebugValue:Iy,useDeferredValue:function(t){return lr().memoizedState=t},useTransition:function(){var t=i_(!1),e=t[0];return t=fD.bind(null,t[1]),lr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Be,s=lr();if(Ue){if(n===void 0)throw Error(B(407));n=n()}else{if(n=e(),mt===null)throw Error(B(349));Fi&30||KT(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,o_(YT.bind(null,r,i,t),[t]),r.flags|=2048,nc(9,QT.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=lr(),e=mt.identifierPrefix;if(Ue){var n=$r,r=Ur;n=(r&~(1<<32-zn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=ec++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=hD++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},yD={readContext:bn,useCallback:sS,useContext:bn,useEffect:Sy,useImperativeHandle:rS,useInsertionEffect:eS,useLayoutEffect:tS,useMemo:iS,useReducer:dp,useRef:ZT,useState:function(){return dp(tc)},useDebugValue:Iy,useDeferredValue:function(t){var e=Cn();return oS(e,ot.memoizedState,t)},useTransition:function(){var t=dp(tc)[0],e=Cn().memoizedState;return[t,e]},useMutableSource:GT,useSyncExternalStore:qT,useId:aS,unstable_isNewReconciler:!1},vD={readContext:bn,useCallback:sS,useContext:bn,useEffect:Sy,useImperativeHandle:rS,useInsertionEffect:eS,useLayoutEffect:tS,useMemo:iS,useReducer:hp,useRef:ZT,useState:function(){return hp(tc)},useDebugValue:Iy,useDeferredValue:function(t){var e=Cn();return ot===null?e.memoizedState=t:oS(e,ot.memoizedState,t)},useTransition:function(){var t=hp(tc)[0],e=Cn().memoizedState;return[t,e]},useMutableSource:GT,useSyncExternalStore:qT,useId:aS,unstable_isNewReconciler:!1};function Mn(t,e){if(t&&t.defaultProps){e=He({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Cm(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:He({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Ih={isMounted:function(t){return(t=t._reactInternals)?Xi(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Vt(),s=$s(t),i=Hr(r,s);i.payload=e,n!=null&&(i.callback=n),e=Fs(t,i,s),e!==null&&(Bn(e,t,s,r),Bu(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Vt(),s=$s(t),i=Hr(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=Fs(t,i,s),e!==null&&(Bn(e,t,s,r),Bu(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Vt(),r=$s(t),s=Hr(n,r);s.tag=2,e!=null&&(s.callback=e),e=Fs(t,s,r),e!==null&&(Bn(e,t,r,n),Bu(e,t,r))}};function a_(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!Kl(n,r)||!Kl(s,i):!0}function dS(t,e,n){var r=!1,s=Ys,i=e.contextType;return typeof i=="object"&&i!==null?i=bn(i):(s=Qt(e)?Vi:kt.current,r=e.contextTypes,i=(r=r!=null)?aa(t,s):Ys),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Ih,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function l_(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Ih.enqueueReplaceState(e,e.state,null)}function Am(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},yy(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=bn(i):(i=Qt(e)?Vi:kt.current,s.context=aa(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Cm(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&Ih.enqueueReplaceState(s,s.state,null),bd(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function da(t,e){try{var n="",r=e;do n+=GN(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function fp(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Rm(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var wD=typeof WeakMap=="function"?WeakMap:Map;function hS(t,e,n){n=Hr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){kd||(kd=!0,Fm=r),Rm(t,e)},n}function fS(t,e,n){n=Hr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){Rm(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Rm(t,e),typeof r!="function"&&(Us===null?Us=new Set([this]):Us.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function c_(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new wD;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=DD.bind(null,t,e,n),e.then(t,t))}function u_(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function d_(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Hr(-1,1),e.tag=2,Fs(n,e,1))),n.lanes|=1),t)}var _D=ns.ReactCurrentOwner,qt=!1;function Ot(t,e,n,r){e.child=t===null?zT(e,null,n,r):ca(e,t.child,n,r)}function h_(t,e,n,r,s){n=n.render;var i=e.ref;return Vo(e,s),r=xy(t,e,n,r,i,s),n=Ty(),t!==null&&!qt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Qr(t,e,s)):(Ue&&n&&uy(e),e.flags|=1,Ot(t,e,r,s),e.child)}function f_(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!Dy(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,pS(t,e,i,r,s)):(t=Qu(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Kl,n(o,r)&&t.ref===e.ref)return Qr(t,e,s)}return e.flags|=1,t=zs(i,r),t.ref=e.ref,t.return=e,e.child=t}function pS(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(Kl(i,r)&&t.ref===e.ref)if(qt=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(qt=!0);else return e.lanes=t.lanes,Qr(t,e,s)}return Pm(t,e,n,r,s)}function mS(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Oe(No,nn),nn|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Oe(No,nn),nn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,Oe(No,nn),nn|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,Oe(No,nn),nn|=r;return Ot(t,e,s,n),e.child}function gS(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Pm(t,e,n,r,s){var i=Qt(n)?Vi:kt.current;return i=aa(e,i),Vo(e,s),n=xy(t,e,n,r,i,s),r=Ty(),t!==null&&!qt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Qr(t,e,s)):(Ue&&r&&uy(e),e.flags|=1,Ot(t,e,n,s),e.child)}function p_(t,e,n,r,s){if(Qt(n)){var i=!0;Ed(e)}else i=!1;if(Vo(e,s),e.stateNode===null)Gu(t,e),dS(e,n,r),Am(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=bn(u):(u=Qt(n)?Vi:kt.current,u=aa(e,u));var d=n.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&l_(e,o,r,u),_s=!1;var p=e.memoizedState;o.state=p,bd(e,r,o,s),l=e.memoizedState,a!==r||p!==l||Kt.current||_s?(typeof d=="function"&&(Cm(e,n,d,r),l=e.memoizedState),(a=_s||a_(e,n,a,r,p,l,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,HT(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:Mn(e.type,a),o.props=u,h=e.pendingProps,p=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=bn(l):(l=Qt(n)?Vi:kt.current,l=aa(e,l));var g=n.getDerivedStateFromProps;(d=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||p!==l)&&l_(e,o,r,l),_s=!1,p=e.memoizedState,o.state=p,bd(e,r,o,s);var S=e.memoizedState;a!==h||p!==S||Kt.current||_s?(typeof g=="function"&&(Cm(e,n,g,r),S=e.memoizedState),(u=_s||a_(e,n,u,r,p,S,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,S,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,S,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=S),o.props=r,o.state=S,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),r=!1)}return km(t,e,n,r,i,s)}function km(t,e,n,r,s,i){gS(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&Z0(e,n,!1),Qr(t,e,i);r=e.stateNode,_D.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=ca(e,t.child,null,i),e.child=ca(e,null,a,i)):Ot(t,e,a,i),e.memoizedState=r.state,s&&Z0(e,n,!0),e.child}function yS(t){var e=t.stateNode;e.pendingContext?J0(t,e.pendingContext,e.pendingContext!==e.context):e.context&&J0(t,e.context,!1),vy(t,e.containerInfo)}function m_(t,e,n,r,s){return la(),hy(s),e.flags|=256,Ot(t,e,n,r),e.child}var Nm={dehydrated:null,treeContext:null,retryLane:0};function Dm(t){return{baseLanes:t,cachePool:null,transitions:null}}function vS(t,e,n){var r=e.pendingProps,s=ze.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),Oe(ze,s&1),t===null)return Im(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Ah(o,r,0,null),t=Oi(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=Dm(n),e.memoizedState=Nm,t):by(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return ED(t,e,o,r,a,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=zs(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=zs(a,i):(i=Oi(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?Dm(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=Nm,r}return i=t.child,t=i.sibling,r=zs(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function by(t,e){return e=Ah({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function yu(t,e,n,r){return r!==null&&hy(r),ca(e,t.child,null,n),t=by(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function ED(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=fp(Error(B(422))),yu(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=Ah({mode:"visible",children:r.children},s,0,null),i=Oi(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&ca(e,t.child,null,o),e.child.memoizedState=Dm(o),e.memoizedState=Nm,i);if(!(e.mode&1))return yu(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(B(419)),r=fp(i,r,void 0),yu(t,e,o,r)}if(a=(o&t.childLanes)!==0,qt||a){if(r=mt,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Kr(t,s),Bn(r,t,s,-1))}return Ny(),r=fp(Error(B(421))),yu(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=MD.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,sn=js(s.nextSibling),on=e,Ue=!0,Fn=null,t!==null&&(yn[vn++]=Ur,yn[vn++]=$r,yn[vn++]=ji,Ur=t.id,$r=t.overflow,ji=e),e=by(e,r.children),e.flags|=4096,e)}function g_(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),bm(t.return,e,n)}function pp(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function wS(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(Ot(t,e,r.children,n),r=ze.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&g_(t,n,e);else if(t.tag===19)g_(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Oe(ze,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&Cd(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),pp(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Cd(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}pp(e,!0,n,null,i);break;case"together":pp(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Gu(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Qr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Ui|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(B(153));if(e.child!==null){for(t=e.child,n=zs(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=zs(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function xD(t,e,n){switch(e.tag){case 3:yS(e),la();break;case 5:WT(e);break;case 1:Qt(e.type)&&Ed(e);break;case 4:vy(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;Oe(Sd,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Oe(ze,ze.current&1),e.flags|=128,null):n&e.child.childLanes?vS(t,e,n):(Oe(ze,ze.current&1),t=Qr(t,e,n),t!==null?t.sibling:null);Oe(ze,ze.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return wS(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Oe(ze,ze.current),r)break;return null;case 22:case 23:return e.lanes=0,mS(t,e,n)}return Qr(t,e,n)}var _S,Mm,ES,xS;_S=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Mm=function(){};ES=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,Si(vr.current);var i=null;switch(n){case"input":s=nm(t,s),r=nm(t,r),i=[];break;case"select":s=He({},s,{value:void 0}),r=He({},r,{value:void 0}),i=[];break;case"textarea":s=im(t,s),r=im(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=wd)}am(n,r);var o;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var a=s[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&($l.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var l=r[u];if(a=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&($l.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&je("scroll",t),i||a===l||(i=[])):(i=i||[]).push(u,l))}n&&(i=i||[]).push("style",n);var u=i;(e.updateQueue=u)&&(e.flags|=4)}};xS=function(t,e,n,r){n!==r&&(e.flags|=4)};function ll(t,e){if(!Ue)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function It(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function TD(t,e,n){var r=e.pendingProps;switch(dy(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return It(e),null;case 1:return Qt(e.type)&&_d(),It(e),null;case 3:return r=e.stateNode,ua(),Fe(Kt),Fe(kt),_y(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(mu(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Fn!==null&&(zm(Fn),Fn=null))),Mm(t,e),It(e),null;case 5:wy(e);var s=Si(Zl.current);if(n=e.type,t!==null&&e.stateNode!=null)ES(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(B(166));return It(e),null}if(t=Si(vr.current),mu(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[pr]=e,r[Xl]=i,t=(e.mode&1)!==0,n){case"dialog":je("cancel",r),je("close",r);break;case"iframe":case"object":case"embed":je("load",r);break;case"video":case"audio":for(s=0;s<vl.length;s++)je(vl[s],r);break;case"source":je("error",r);break;case"img":case"image":case"link":je("error",r),je("load",r);break;case"details":je("toggle",r);break;case"input":I0(r,i),je("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},je("invalid",r);break;case"textarea":C0(r,i),je("invalid",r)}am(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&pu(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&pu(r.textContent,a,t),s=["children",""+a]):$l.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&je("scroll",r)}switch(n){case"input":ou(r),b0(r,i,!0);break;case"textarea":ou(r),A0(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=wd)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Yx(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[pr]=e,t[Xl]=r,_S(t,e,!1,!1),e.stateNode=t;e:{switch(o=lm(n,r),n){case"dialog":je("cancel",t),je("close",t),s=r;break;case"iframe":case"object":case"embed":je("load",t),s=r;break;case"video":case"audio":for(s=0;s<vl.length;s++)je(vl[s],t);s=r;break;case"source":je("error",t),s=r;break;case"img":case"image":case"link":je("error",t),je("load",t),s=r;break;case"details":je("toggle",t),s=r;break;case"input":I0(t,r),s=nm(t,r),je("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=He({},r,{value:void 0}),je("invalid",t);break;case"textarea":C0(t,r),s=im(t,r),je("invalid",t);break;default:s=r}am(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?Zx(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Xx(t,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&zl(t,l):typeof l=="number"&&zl(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&($l.hasOwnProperty(i)?l!=null&&i==="onScroll"&&je("scroll",t):l!=null&&Yg(t,i,l,o))}switch(n){case"input":ou(t),b0(t,r,!1);break;case"textarea":ou(t),A0(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Qs(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?Do(t,!!r.multiple,i,!1):r.defaultValue!=null&&Do(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=wd)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return It(e),null;case 6:if(t&&e.stateNode!=null)xS(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(B(166));if(n=Si(Zl.current),Si(vr.current),mu(e)){if(r=e.stateNode,n=e.memoizedProps,r[pr]=e,(i=r.nodeValue!==n)&&(t=on,t!==null))switch(t.tag){case 3:pu(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&pu(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[pr]=e,e.stateNode=r}return It(e),null;case 13:if(Fe(ze),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ue&&sn!==null&&e.mode&1&&!(e.flags&128))UT(),la(),e.flags|=98560,i=!1;else if(i=mu(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(B(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(B(317));i[pr]=e}else la(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;It(e),i=!1}else Fn!==null&&(zm(Fn),Fn=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||ze.current&1?lt===0&&(lt=3):Ny())),e.updateQueue!==null&&(e.flags|=4),It(e),null);case 4:return ua(),Mm(t,e),t===null&&Ql(e.stateNode.containerInfo),It(e),null;case 10:return my(e.type._context),It(e),null;case 17:return Qt(e.type)&&_d(),It(e),null;case 19:if(Fe(ze),i=e.memoizedState,i===null)return It(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)ll(i,!1);else{if(lt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Cd(t),o!==null){for(e.flags|=128,ll(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Oe(ze,ze.current&1|2),e.child}t=t.sibling}i.tail!==null&&Xe()>ha&&(e.flags|=128,r=!0,ll(i,!1),e.lanes=4194304)}else{if(!r)if(t=Cd(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),ll(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Ue)return It(e),null}else 2*Xe()-i.renderingStartTime>ha&&n!==1073741824&&(e.flags|=128,r=!0,ll(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=Xe(),e.sibling=null,n=ze.current,Oe(ze,r?n&1|2:n&1),e):(It(e),null);case 22:case 23:return ky(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?nn&1073741824&&(It(e),e.subtreeFlags&6&&(e.flags|=8192)):It(e),null;case 24:return null;case 25:return null}throw Error(B(156,e.tag))}function SD(t,e){switch(dy(e),e.tag){case 1:return Qt(e.type)&&_d(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return ua(),Fe(Kt),Fe(kt),_y(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return wy(e),null;case 13:if(Fe(ze),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(B(340));la()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Fe(ze),null;case 4:return ua(),null;case 10:return my(e.type._context),null;case 22:case 23:return ky(),null;case 24:return null;default:return null}}var vu=!1,Rt=!1,ID=typeof WeakSet=="function"?WeakSet:Set,Y=null;function ko(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ke(t,e,r)}else n.current=null}function Om(t,e,n){try{n()}catch(r){Ke(t,e,r)}}var y_=!1;function bD(t,e){if(vm=gd,t=CT(),cy(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,d=0,h=t,p=null;t:for(;;){for(var g;h!==n||s!==0&&h.nodeType!==3||(a=o+s),h!==i||r!==0&&h.nodeType!==3||(l=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(g=h.firstChild)!==null;)p=h,h=g;for(;;){if(h===t)break t;if(p===n&&++u===s&&(a=o),p===i&&++d===r&&(l=o),(g=h.nextSibling)!==null)break;h=p,p=h.parentNode}h=g}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(wm={focusedElem:t,selectionRange:n},gd=!1,Y=e;Y!==null;)if(e=Y,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Y=t;else for(;Y!==null;){e=Y;try{var S=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(S!==null){var E=S.memoizedProps,x=S.memoizedState,w=e.stateNode,_=w.getSnapshotBeforeUpdate(e.elementType===e.type?E:Mn(e.type,E),x);w.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var T=e.stateNode.containerInfo;T.nodeType===1?T.textContent="":T.nodeType===9&&T.documentElement&&T.removeChild(T.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(B(163))}}catch(P){Ke(e,e.return,P)}if(t=e.sibling,t!==null){t.return=e.return,Y=t;break}Y=e.return}return S=y_,y_=!1,S}function Pl(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&Om(e,n,i)}s=s.next}while(s!==r)}}function bh(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Lm(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function TS(t){var e=t.alternate;e!==null&&(t.alternate=null,TS(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[pr],delete e[Xl],delete e[xm],delete e[lD],delete e[cD])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function SS(t){return t.tag===5||t.tag===3||t.tag===4}function v_(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||SS(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Vm(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=wd));else if(r!==4&&(t=t.child,t!==null))for(Vm(t,e,n),t=t.sibling;t!==null;)Vm(t,e,n),t=t.sibling}function jm(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(jm(t,e,n),t=t.sibling;t!==null;)jm(t,e,n),t=t.sibling}var yt=null,jn=!1;function fs(t,e,n){for(n=n.child;n!==null;)IS(t,e,n),n=n.sibling}function IS(t,e,n){if(yr&&typeof yr.onCommitFiberUnmount=="function")try{yr.onCommitFiberUnmount(vh,n)}catch{}switch(n.tag){case 5:Rt||ko(n,e);case 6:var r=yt,s=jn;yt=null,fs(t,e,n),yt=r,jn=s,yt!==null&&(jn?(t=yt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):yt.removeChild(n.stateNode));break;case 18:yt!==null&&(jn?(t=yt,n=n.stateNode,t.nodeType===8?ap(t.parentNode,n):t.nodeType===1&&ap(t,n),Gl(t)):ap(yt,n.stateNode));break;case 4:r=yt,s=jn,yt=n.stateNode.containerInfo,jn=!0,fs(t,e,n),yt=r,jn=s;break;case 0:case 11:case 14:case 15:if(!Rt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Om(n,e,o),s=s.next}while(s!==r)}fs(t,e,n);break;case 1:if(!Rt&&(ko(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Ke(n,e,a)}fs(t,e,n);break;case 21:fs(t,e,n);break;case 22:n.mode&1?(Rt=(r=Rt)||n.memoizedState!==null,fs(t,e,n),Rt=r):fs(t,e,n);break;default:fs(t,e,n)}}function w_(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new ID),e.forEach(function(r){var s=OD.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Nn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:yt=a.stateNode,jn=!1;break e;case 3:yt=a.stateNode.containerInfo,jn=!0;break e;case 4:yt=a.stateNode.containerInfo,jn=!0;break e}a=a.return}if(yt===null)throw Error(B(160));IS(i,o,s),yt=null,jn=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(u){Ke(s,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)bS(e,t),e=e.sibling}function bS(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Nn(e,t),ar(t),r&4){try{Pl(3,t,t.return),bh(3,t)}catch(E){Ke(t,t.return,E)}try{Pl(5,t,t.return)}catch(E){Ke(t,t.return,E)}}break;case 1:Nn(e,t),ar(t),r&512&&n!==null&&ko(n,n.return);break;case 5:if(Nn(e,t),ar(t),r&512&&n!==null&&ko(n,n.return),t.flags&32){var s=t.stateNode;try{zl(s,"")}catch(E){Ke(t,t.return,E)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&Kx(s,i),lm(a,o);var u=lm(a,i);for(o=0;o<l.length;o+=2){var d=l[o],h=l[o+1];d==="style"?Zx(s,h):d==="dangerouslySetInnerHTML"?Xx(s,h):d==="children"?zl(s,h):Yg(s,d,h,u)}switch(a){case"input":rm(s,i);break;case"textarea":Qx(s,i);break;case"select":var p=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var g=i.value;g!=null?Do(s,!!i.multiple,g,!1):p!==!!i.multiple&&(i.defaultValue!=null?Do(s,!!i.multiple,i.defaultValue,!0):Do(s,!!i.multiple,i.multiple?[]:"",!1))}s[Xl]=i}catch(E){Ke(t,t.return,E)}}break;case 6:if(Nn(e,t),ar(t),r&4){if(t.stateNode===null)throw Error(B(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(E){Ke(t,t.return,E)}}break;case 3:if(Nn(e,t),ar(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Gl(e.containerInfo)}catch(E){Ke(t,t.return,E)}break;case 4:Nn(e,t),ar(t);break;case 13:Nn(e,t),ar(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Ry=Xe())),r&4&&w_(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(Rt=(u=Rt)||d,Nn(e,t),Rt=u):Nn(e,t),ar(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(Y=t,d=t.child;d!==null;){for(h=Y=d;Y!==null;){switch(p=Y,g=p.child,p.tag){case 0:case 11:case 14:case 15:Pl(4,p,p.return);break;case 1:ko(p,p.return);var S=p.stateNode;if(typeof S.componentWillUnmount=="function"){r=p,n=p.return;try{e=r,S.props=e.memoizedProps,S.state=e.memoizedState,S.componentWillUnmount()}catch(E){Ke(r,n,E)}}break;case 5:ko(p,p.return);break;case 22:if(p.memoizedState!==null){E_(h);continue}}g!==null?(g.return=p,Y=g):E_(h)}d=d.sibling}e:for(d=null,h=t;;){if(h.tag===5){if(d===null){d=h;try{s=h.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=Jx("display",o))}catch(E){Ke(t,t.return,E)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(E){Ke(t,t.return,E)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Nn(e,t),ar(t),r&4&&w_(t);break;case 21:break;default:Nn(e,t),ar(t)}}function ar(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(SS(n)){var r=n;break e}n=n.return}throw Error(B(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(zl(s,""),r.flags&=-33);var i=v_(t);jm(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=v_(t);Vm(t,a,o);break;default:throw Error(B(161))}}catch(l){Ke(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function CD(t,e,n){Y=t,CS(t)}function CS(t,e,n){for(var r=(t.mode&1)!==0;Y!==null;){var s=Y,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||vu;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||Rt;a=vu;var u=Rt;if(vu=o,(Rt=l)&&!u)for(Y=s;Y!==null;)o=Y,l=o.child,o.tag===22&&o.memoizedState!==null?x_(s):l!==null?(l.return=o,Y=l):x_(s);for(;i!==null;)Y=i,CS(i),i=i.sibling;Y=s,vu=a,Rt=u}__(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,Y=i):__(t)}}function __(t){for(;Y!==null;){var e=Y;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Rt||bh(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Rt)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:Mn(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&s_(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}s_(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&Gl(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(B(163))}Rt||e.flags&512&&Lm(e)}catch(p){Ke(e,e.return,p)}}if(e===t){Y=null;break}if(n=e.sibling,n!==null){n.return=e.return,Y=n;break}Y=e.return}}function E_(t){for(;Y!==null;){var e=Y;if(e===t){Y=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Y=n;break}Y=e.return}}function x_(t){for(;Y!==null;){var e=Y;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{bh(4,e)}catch(l){Ke(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(l){Ke(e,s,l)}}var i=e.return;try{Lm(e)}catch(l){Ke(e,i,l)}break;case 5:var o=e.return;try{Lm(e)}catch(l){Ke(e,o,l)}}}catch(l){Ke(e,e.return,l)}if(e===t){Y=null;break}var a=e.sibling;if(a!==null){a.return=e.return,Y=a;break}Y=e.return}}var AD=Math.ceil,Pd=ns.ReactCurrentDispatcher,Cy=ns.ReactCurrentOwner,Tn=ns.ReactCurrentBatchConfig,xe=0,mt=null,tt=null,_t=0,nn=0,No=ai(0),lt=0,rc=null,Ui=0,Ch=0,Ay=0,kl=null,Gt=null,Ry=0,ha=1/0,Lr=null,kd=!1,Fm=null,Us=null,wu=!1,Ns=null,Nd=0,Nl=0,Um=null,qu=-1,Ku=0;function Vt(){return xe&6?Xe():qu!==-1?qu:qu=Xe()}function $s(t){return t.mode&1?xe&2&&_t!==0?_t&-_t:dD.transition!==null?(Ku===0&&(Ku=dT()),Ku):(t=Ce,t!==0||(t=window.event,t=t===void 0?16:vT(t.type)),t):1}function Bn(t,e,n,r){if(50<Nl)throw Nl=0,Um=null,Error(B(185));Sc(t,n,r),(!(xe&2)||t!==mt)&&(t===mt&&(!(xe&2)&&(Ch|=n),lt===4&&xs(t,_t)),Yt(t,r),n===1&&xe===0&&!(e.mode&1)&&(ha=Xe()+500,Th&&li()))}function Yt(t,e){var n=t.callbackNode;d2(t,e);var r=md(t,t===mt?_t:0);if(r===0)n!==null&&k0(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&k0(n),e===1)t.tag===0?uD(T_.bind(null,t)):VT(T_.bind(null,t)),oD(function(){!(xe&6)&&li()}),n=null;else{switch(hT(r)){case 1:n=ty;break;case 4:n=cT;break;case 16:n=pd;break;case 536870912:n=uT;break;default:n=pd}n=OS(n,AS.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function AS(t,e){if(qu=-1,Ku=0,xe&6)throw Error(B(327));var n=t.callbackNode;if(jo()&&t.callbackNode!==n)return null;var r=md(t,t===mt?_t:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Dd(t,r);else{e=r;var s=xe;xe|=2;var i=PS();(mt!==t||_t!==e)&&(Lr=null,ha=Xe()+500,Mi(t,e));do try{kD();break}catch(a){RS(t,a)}while(!0);py(),Pd.current=i,xe=s,tt!==null?e=0:(mt=null,_t=0,e=lt)}if(e!==0){if(e===2&&(s=fm(t),s!==0&&(r=s,e=$m(t,s))),e===1)throw n=rc,Mi(t,0),xs(t,r),Yt(t,Xe()),n;if(e===6)xs(t,r);else{if(s=t.current.alternate,!(r&30)&&!RD(s)&&(e=Dd(t,r),e===2&&(i=fm(t),i!==0&&(r=i,e=$m(t,i))),e===1))throw n=rc,Mi(t,0),xs(t,r),Yt(t,Xe()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(B(345));case 2:wi(t,Gt,Lr);break;case 3:if(xs(t,r),(r&130023424)===r&&(e=Ry+500-Xe(),10<e)){if(md(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){Vt(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=Em(wi.bind(null,t,Gt,Lr),e);break}wi(t,Gt,Lr);break;case 4:if(xs(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-zn(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=Xe()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*AD(r/1960))-r,10<r){t.timeoutHandle=Em(wi.bind(null,t,Gt,Lr),r);break}wi(t,Gt,Lr);break;case 5:wi(t,Gt,Lr);break;default:throw Error(B(329))}}}return Yt(t,Xe()),t.callbackNode===n?AS.bind(null,t):null}function $m(t,e){var n=kl;return t.current.memoizedState.isDehydrated&&(Mi(t,e).flags|=256),t=Dd(t,e),t!==2&&(e=Gt,Gt=n,e!==null&&zm(e)),t}function zm(t){Gt===null?Gt=t:Gt.push.apply(Gt,t)}function RD(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!Gn(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function xs(t,e){for(e&=~Ay,e&=~Ch,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-zn(e),r=1<<n;t[n]=-1,e&=~r}}function T_(t){if(xe&6)throw Error(B(327));jo();var e=md(t,0);if(!(e&1))return Yt(t,Xe()),null;var n=Dd(t,e);if(t.tag!==0&&n===2){var r=fm(t);r!==0&&(e=r,n=$m(t,r))}if(n===1)throw n=rc,Mi(t,0),xs(t,e),Yt(t,Xe()),n;if(n===6)throw Error(B(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,wi(t,Gt,Lr),Yt(t,Xe()),null}function Py(t,e){var n=xe;xe|=1;try{return t(e)}finally{xe=n,xe===0&&(ha=Xe()+500,Th&&li())}}function $i(t){Ns!==null&&Ns.tag===0&&!(xe&6)&&jo();var e=xe;xe|=1;var n=Tn.transition,r=Ce;try{if(Tn.transition=null,Ce=1,t)return t()}finally{Ce=r,Tn.transition=n,xe=e,!(xe&6)&&li()}}function ky(){nn=No.current,Fe(No)}function Mi(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,iD(n)),tt!==null)for(n=tt.return;n!==null;){var r=n;switch(dy(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&_d();break;case 3:ua(),Fe(Kt),Fe(kt),_y();break;case 5:wy(r);break;case 4:ua();break;case 13:Fe(ze);break;case 19:Fe(ze);break;case 10:my(r.type._context);break;case 22:case 23:ky()}n=n.return}if(mt=t,tt=t=zs(t.current,null),_t=nn=e,lt=0,rc=null,Ay=Ch=Ui=0,Gt=kl=null,Ti!==null){for(e=0;e<Ti.length;e++)if(n=Ti[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}Ti=null}return t}function RS(t,e){do{var n=tt;try{if(py(),Hu.current=Rd,Ad){for(var r=Be.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Ad=!1}if(Fi=0,pt=ot=Be=null,Rl=!1,ec=0,Cy.current=null,n===null||n.return===null){lt=1,rc=e,tt=null;break}e:{var i=t,o=n.return,a=n,l=e;if(e=_t,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,d=a,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var g=u_(o);if(g!==null){g.flags&=-257,d_(g,o,a,i,e),g.mode&1&&c_(i,u,e),e=g,l=u;var S=e.updateQueue;if(S===null){var E=new Set;E.add(l),e.updateQueue=E}else S.add(l);break e}else{if(!(e&1)){c_(i,u,e),Ny();break e}l=Error(B(426))}}else if(Ue&&a.mode&1){var x=u_(o);if(x!==null){!(x.flags&65536)&&(x.flags|=256),d_(x,o,a,i,e),hy(da(l,a));break e}}i=l=da(l,a),lt!==4&&(lt=2),kl===null?kl=[i]:kl.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var w=hS(i,l,e);r_(i,w);break e;case 1:a=l;var _=i.type,T=i.stateNode;if(!(i.flags&128)&&(typeof _.getDerivedStateFromError=="function"||T!==null&&typeof T.componentDidCatch=="function"&&(Us===null||!Us.has(T)))){i.flags|=65536,e&=-e,i.lanes|=e;var P=fS(i,a,e);r_(i,P);break e}}i=i.return}while(i!==null)}NS(n)}catch(M){e=M,tt===n&&n!==null&&(tt=n=n.return);continue}break}while(!0)}function PS(){var t=Pd.current;return Pd.current=Rd,t===null?Rd:t}function Ny(){(lt===0||lt===3||lt===2)&&(lt=4),mt===null||!(Ui&268435455)&&!(Ch&268435455)||xs(mt,_t)}function Dd(t,e){var n=xe;xe|=2;var r=PS();(mt!==t||_t!==e)&&(Lr=null,Mi(t,e));do try{PD();break}catch(s){RS(t,s)}while(!0);if(py(),xe=n,Pd.current=r,tt!==null)throw Error(B(261));return mt=null,_t=0,lt}function PD(){for(;tt!==null;)kS(tt)}function kD(){for(;tt!==null&&!n2();)kS(tt)}function kS(t){var e=MS(t.alternate,t,nn);t.memoizedProps=t.pendingProps,e===null?NS(t):tt=e,Cy.current=null}function NS(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=SD(n,e),n!==null){n.flags&=32767,tt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{lt=6,tt=null;return}}else if(n=TD(n,e,nn),n!==null){tt=n;return}if(e=e.sibling,e!==null){tt=e;return}tt=e=t}while(e!==null);lt===0&&(lt=5)}function wi(t,e,n){var r=Ce,s=Tn.transition;try{Tn.transition=null,Ce=1,ND(t,e,n,r)}finally{Tn.transition=s,Ce=r}return null}function ND(t,e,n,r){do jo();while(Ns!==null);if(xe&6)throw Error(B(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(B(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(h2(t,i),t===mt&&(tt=mt=null,_t=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||wu||(wu=!0,OS(pd,function(){return jo(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Tn.transition,Tn.transition=null;var o=Ce;Ce=1;var a=xe;xe|=4,Cy.current=null,bD(t,n),bS(n,t),J2(wm),gd=!!vm,wm=vm=null,t.current=n,CD(n),r2(),xe=a,Ce=o,Tn.transition=i}else t.current=n;if(wu&&(wu=!1,Ns=t,Nd=s),i=t.pendingLanes,i===0&&(Us=null),o2(n.stateNode),Yt(t,Xe()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(kd)throw kd=!1,t=Fm,Fm=null,t;return Nd&1&&t.tag!==0&&jo(),i=t.pendingLanes,i&1?t===Um?Nl++:(Nl=0,Um=t):Nl=0,li(),null}function jo(){if(Ns!==null){var t=hT(Nd),e=Tn.transition,n=Ce;try{if(Tn.transition=null,Ce=16>t?16:t,Ns===null)var r=!1;else{if(t=Ns,Ns=null,Nd=0,xe&6)throw Error(B(331));var s=xe;for(xe|=4,Y=t.current;Y!==null;){var i=Y,o=i.child;if(Y.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(Y=u;Y!==null;){var d=Y;switch(d.tag){case 0:case 11:case 15:Pl(8,d,i)}var h=d.child;if(h!==null)h.return=d,Y=h;else for(;Y!==null;){d=Y;var p=d.sibling,g=d.return;if(TS(d),d===u){Y=null;break}if(p!==null){p.return=g,Y=p;break}Y=g}}}var S=i.alternate;if(S!==null){var E=S.child;if(E!==null){S.child=null;do{var x=E.sibling;E.sibling=null,E=x}while(E!==null)}}Y=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,Y=o;else e:for(;Y!==null;){if(i=Y,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Pl(9,i,i.return)}var w=i.sibling;if(w!==null){w.return=i.return,Y=w;break e}Y=i.return}}var _=t.current;for(Y=_;Y!==null;){o=Y;var T=o.child;if(o.subtreeFlags&2064&&T!==null)T.return=o,Y=T;else e:for(o=_;Y!==null;){if(a=Y,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:bh(9,a)}}catch(M){Ke(a,a.return,M)}if(a===o){Y=null;break e}var P=a.sibling;if(P!==null){P.return=a.return,Y=P;break e}Y=a.return}}if(xe=s,li(),yr&&typeof yr.onPostCommitFiberRoot=="function")try{yr.onPostCommitFiberRoot(vh,t)}catch{}r=!0}return r}finally{Ce=n,Tn.transition=e}}return!1}function S_(t,e,n){e=da(n,e),e=hS(t,e,1),t=Fs(t,e,1),e=Vt(),t!==null&&(Sc(t,1,e),Yt(t,e))}function Ke(t,e,n){if(t.tag===3)S_(t,t,n);else for(;e!==null;){if(e.tag===3){S_(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Us===null||!Us.has(r))){t=da(n,t),t=fS(e,t,1),e=Fs(e,t,1),t=Vt(),e!==null&&(Sc(e,1,t),Yt(e,t));break}}e=e.return}}function DD(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Vt(),t.pingedLanes|=t.suspendedLanes&n,mt===t&&(_t&n)===n&&(lt===4||lt===3&&(_t&130023424)===_t&&500>Xe()-Ry?Mi(t,0):Ay|=n),Yt(t,e)}function DS(t,e){e===0&&(t.mode&1?(e=cu,cu<<=1,!(cu&130023424)&&(cu=4194304)):e=1);var n=Vt();t=Kr(t,e),t!==null&&(Sc(t,e,n),Yt(t,n))}function MD(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),DS(t,n)}function OD(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(B(314))}r!==null&&r.delete(e),DS(t,n)}var MS;MS=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Kt.current)qt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return qt=!1,xD(t,e,n);qt=!!(t.flags&131072)}else qt=!1,Ue&&e.flags&1048576&&jT(e,Td,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Gu(t,e),t=e.pendingProps;var s=aa(e,kt.current);Vo(e,n),s=xy(null,e,r,t,s,n);var i=Ty();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Qt(r)?(i=!0,Ed(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,yy(e),s.updater=Ih,e.stateNode=s,s._reactInternals=e,Am(e,r,t,n),e=km(null,e,r,!0,i,n)):(e.tag=0,Ue&&i&&uy(e),Ot(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Gu(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=VD(r),t=Mn(r,t),s){case 0:e=Pm(null,e,r,t,n);break e;case 1:e=p_(null,e,r,t,n);break e;case 11:e=h_(null,e,r,t,n);break e;case 14:e=f_(null,e,r,Mn(r.type,t),n);break e}throw Error(B(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Mn(r,s),Pm(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Mn(r,s),p_(t,e,r,s,n);case 3:e:{if(yS(e),t===null)throw Error(B(387));r=e.pendingProps,i=e.memoizedState,s=i.element,HT(t,e),bd(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=da(Error(B(423)),e),e=m_(t,e,r,n,s);break e}else if(r!==s){s=da(Error(B(424)),e),e=m_(t,e,r,n,s);break e}else for(sn=js(e.stateNode.containerInfo.firstChild),on=e,Ue=!0,Fn=null,n=zT(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(la(),r===s){e=Qr(t,e,n);break e}Ot(t,e,r,n)}e=e.child}return e;case 5:return WT(e),t===null&&Im(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,_m(r,s)?o=null:i!==null&&_m(r,i)&&(e.flags|=32),gS(t,e),Ot(t,e,o,n),e.child;case 6:return t===null&&Im(e),null;case 13:return vS(t,e,n);case 4:return vy(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=ca(e,null,r,n):Ot(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Mn(r,s),h_(t,e,r,s,n);case 7:return Ot(t,e,e.pendingProps,n),e.child;case 8:return Ot(t,e,e.pendingProps.children,n),e.child;case 12:return Ot(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,Oe(Sd,r._currentValue),r._currentValue=o,i!==null)if(Gn(i.value,o)){if(i.children===s.children&&!Kt.current){e=Qr(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=Hr(-1,n&-n),l.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?l.next=l:(l.next=d.next,d.next=l),u.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),bm(i.return,n,e),a.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(B(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),bm(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Ot(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,Vo(e,n),s=bn(s),r=r(s),e.flags|=1,Ot(t,e,r,n),e.child;case 14:return r=e.type,s=Mn(r,e.pendingProps),s=Mn(r.type,s),f_(t,e,r,s,n);case 15:return pS(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Mn(r,s),Gu(t,e),e.tag=1,Qt(r)?(t=!0,Ed(e)):t=!1,Vo(e,n),dS(e,r,s),Am(e,r,s,n),km(null,e,r,!0,t,n);case 19:return wS(t,e,n);case 22:return mS(t,e,n)}throw Error(B(156,e.tag))};function OS(t,e){return lT(t,e)}function LD(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function xn(t,e,n,r){return new LD(t,e,n,r)}function Dy(t){return t=t.prototype,!(!t||!t.isReactComponent)}function VD(t){if(typeof t=="function")return Dy(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Jg)return 11;if(t===Zg)return 14}return 2}function zs(t,e){var n=t.alternate;return n===null?(n=xn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Qu(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")Dy(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case xo:return Oi(n.children,s,i,e);case Xg:o=8,s|=8;break;case Jp:return t=xn(12,n,e,s|2),t.elementType=Jp,t.lanes=i,t;case Zp:return t=xn(13,n,e,s),t.elementType=Zp,t.lanes=i,t;case em:return t=xn(19,n,e,s),t.elementType=em,t.lanes=i,t;case Wx:return Ah(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Bx:o=10;break e;case Hx:o=9;break e;case Jg:o=11;break e;case Zg:o=14;break e;case ws:o=16,r=null;break e}throw Error(B(130,t==null?t:typeof t,""))}return e=xn(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function Oi(t,e,n,r){return t=xn(7,t,r,e),t.lanes=n,t}function Ah(t,e,n,r){return t=xn(22,t,r,e),t.elementType=Wx,t.lanes=n,t.stateNode={isHidden:!1},t}function mp(t,e,n){return t=xn(6,t,null,e),t.lanes=n,t}function gp(t,e,n){return e=xn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function jD(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Yf(0),this.expirationTimes=Yf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Yf(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function My(t,e,n,r,s,i,o,a,l){return t=new jD(t,e,n,a,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=xn(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},yy(i),t}function FD(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Eo,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function LS(t){if(!t)return Ys;t=t._reactInternals;e:{if(Xi(t)!==t||t.tag!==1)throw Error(B(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Qt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(B(171))}if(t.tag===1){var n=t.type;if(Qt(n))return LT(t,n,e)}return e}function VS(t,e,n,r,s,i,o,a,l){return t=My(n,r,!0,t,s,i,o,a,l),t.context=LS(null),n=t.current,r=Vt(),s=$s(n),i=Hr(r,s),i.callback=e??null,Fs(n,i,s),t.current.lanes=s,Sc(t,s,r),Yt(t,r),t}function Rh(t,e,n,r){var s=e.current,i=Vt(),o=$s(s);return n=LS(n),e.context===null?e.context=n:e.pendingContext=n,e=Hr(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Fs(s,e,o),t!==null&&(Bn(t,s,o,i),Bu(t,s,o)),o}function Md(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function I_(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Oy(t,e){I_(t,e),(t=t.alternate)&&I_(t,e)}function UD(){return null}var jS=typeof reportError=="function"?reportError:function(t){console.error(t)};function Ly(t){this._internalRoot=t}Ph.prototype.render=Ly.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(B(409));Rh(t,e,null,null)};Ph.prototype.unmount=Ly.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;$i(function(){Rh(null,t,null,null)}),e[qr]=null}};function Ph(t){this._internalRoot=t}Ph.prototype.unstable_scheduleHydration=function(t){if(t){var e=mT();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Es.length&&e!==0&&e<Es[n].priority;n++);Es.splice(n,0,t),n===0&&yT(t)}};function Vy(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function kh(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function b_(){}function $D(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var u=Md(o);i.call(u)}}var o=VS(e,r,t,0,null,!1,!1,"",b_);return t._reactRootContainer=o,t[qr]=o.current,Ql(t.nodeType===8?t.parentNode:t),$i(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var u=Md(l);a.call(u)}}var l=My(t,0,!1,null,null,!1,!1,"",b_);return t._reactRootContainer=l,t[qr]=l.current,Ql(t.nodeType===8?t.parentNode:t),$i(function(){Rh(e,l,n,r)}),l}function Nh(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=Md(o);a.call(l)}}Rh(e,o,t,s)}else o=$D(n,e,t,s,r);return Md(o)}fT=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=yl(e.pendingLanes);n!==0&&(ny(e,n|1),Yt(e,Xe()),!(xe&6)&&(ha=Xe()+500,li()))}break;case 13:$i(function(){var r=Kr(t,1);if(r!==null){var s=Vt();Bn(r,t,1,s)}}),Oy(t,1)}};ry=function(t){if(t.tag===13){var e=Kr(t,134217728);if(e!==null){var n=Vt();Bn(e,t,134217728,n)}Oy(t,134217728)}};pT=function(t){if(t.tag===13){var e=$s(t),n=Kr(t,e);if(n!==null){var r=Vt();Bn(n,t,e,r)}Oy(t,e)}};mT=function(){return Ce};gT=function(t,e){var n=Ce;try{return Ce=t,e()}finally{Ce=n}};um=function(t,e,n){switch(e){case"input":if(rm(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=xh(r);if(!s)throw Error(B(90));qx(r),rm(r,s)}}}break;case"textarea":Qx(t,n);break;case"select":e=n.value,e!=null&&Do(t,!!n.multiple,e,!1)}};nT=Py;rT=$i;var zD={usingClientEntryPoint:!1,Events:[bc,bo,xh,eT,tT,Py]},cl={findFiberByHostInstance:xi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},BD={bundleType:cl.bundleType,version:cl.version,rendererPackageName:cl.rendererPackageName,rendererConfig:cl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ns.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=oT(t),t===null?null:t.stateNode},findFiberByHostInstance:cl.findFiberByHostInstance||UD,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var _u=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!_u.isDisabled&&_u.supportsFiber)try{vh=_u.inject(BD),yr=_u}catch{}}dn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=zD;dn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Vy(e))throw Error(B(200));return FD(t,e,null,n)};dn.createRoot=function(t,e){if(!Vy(t))throw Error(B(299));var n=!1,r="",s=jS;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=My(t,1,!1,null,null,n,!1,r,s),t[qr]=e.current,Ql(t.nodeType===8?t.parentNode:t),new Ly(e)};dn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(B(188)):(t=Object.keys(t).join(","),Error(B(268,t)));return t=oT(e),t=t===null?null:t.stateNode,t};dn.flushSync=function(t){return $i(t)};dn.hydrate=function(t,e,n){if(!kh(e))throw Error(B(200));return Nh(null,t,e,!0,n)};dn.hydrateRoot=function(t,e,n){if(!Vy(t))throw Error(B(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=jS;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=VS(e,null,t,1,n??null,s,!1,i,o),t[qr]=e.current,Ql(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new Ph(e)};dn.render=function(t,e,n){if(!kh(e))throw Error(B(200));return Nh(null,t,e,!1,n)};dn.unmountComponentAtNode=function(t){if(!kh(t))throw Error(B(40));return t._reactRootContainer?($i(function(){Nh(null,null,t,!1,function(){t._reactRootContainer=null,t[qr]=null})}),!0):!1};dn.unstable_batchedUpdates=Py;dn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!kh(n))throw Error(B(200));if(t==null||t._reactInternals===void 0)throw Error(B(38));return Nh(t,e,n,!1,r)};dn.version="18.3.1-next-f1338f8080-20240426";function FS(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(FS)}catch(t){console.error(t)}}FS(),Fx.exports=dn;var Ac=Fx.exports;const US=Cx(Ac);var $S,C_=Ac;$S=C_.createRoot,C_.hydrateRoot;const HD=1,WD=1e6;let yp=0;function GD(){return yp=(yp+1)%Number.MAX_SAFE_INTEGER,yp.toString()}const vp=new Map,A_=t=>{if(vp.has(t))return;const e=setTimeout(()=>{vp.delete(t),Dl({type:"REMOVE_TOAST",toastId:t})},WD);vp.set(t,e)},qD=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,HD)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?A_(n):t.toasts.forEach(r=>{A_(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},Yu=[];let Xu={toasts:[]};function Dl(t){Xu=qD(Xu,t),Yu.forEach(e=>{e(Xu)})}function KD({...t}){const e=GD(),n=s=>Dl({type:"UPDATE_TOAST",toast:{...s,id:e}}),r=()=>Dl({type:"DISMISS_TOAST",toastId:e});return Dl({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:s=>{s||r()}}}),{id:e,dismiss:r,update:n}}function QD(){const[t,e]=y.useState(Xu);return y.useEffect(()=>(Yu.push(e),()=>{const n=Yu.indexOf(e);n>-1&&Yu.splice(n,1)}),[t]),{...t,toast:KD,dismiss:n=>Dl({type:"DISMISS_TOAST",toastId:n})}}function J(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t==null||t(s),n===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function R_(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function Dh(...t){return e=>{let n=!1;const r=t.map(s=>{const i=R_(s,e);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():R_(t[s],null)}}}}function Ae(...t){return y.useCallback(Dh(...t),t)}function YD(t,e){const n=y.createContext(e),r=i=>{const{children:o,...a}=i,l=y.useMemo(()=>a,Object.values(a));return f.jsx(n.Provider,{value:l,children:o})};r.displayName=t+"Provider";function s(i){const o=y.useContext(n);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${i}\` must be used within \`${t}\``)}return[r,s]}function Xn(t,e=[]){let n=[];function r(i,o){const a=y.createContext(o),l=n.length;n=[...n,o];const u=h=>{var w;const{scope:p,children:g,...S}=h,E=((w=p==null?void 0:p[t])==null?void 0:w[l])||a,x=y.useMemo(()=>S,Object.values(S));return f.jsx(E.Provider,{value:x,children:g})};u.displayName=i+"Provider";function d(h,p){var E;const g=((E=p==null?void 0:p[t])==null?void 0:E[l])||a,S=y.useContext(g);if(S)return S;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${i}\``)}return[u,d]}const s=()=>{const i=n.map(o=>y.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return y.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,XD(s,...e)]}function XD(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:u})=>{const h=l(i)[`__scope${u}`];return{...a,...h}},{});return y.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function fa(t){const e=ZD(t),n=y.forwardRef((r,s)=>{const{children:i,...o}=r,a=y.Children.toArray(i),l=a.find(eM);if(l){const u=l.props.children,d=a.map(h=>h===l?y.Children.count(u)>1?y.Children.only(null):y.isValidElement(u)?u.props.children:null:h);return f.jsx(e,{...o,ref:s,children:y.isValidElement(u)?y.cloneElement(u,void 0,d):null})}return f.jsx(e,{...o,ref:s,children:i})});return n.displayName=`${t}.Slot`,n}var JD=fa("Slot");function ZD(t){const e=y.forwardRef((n,r)=>{const{children:s,...i}=n;if(y.isValidElement(s)){const o=nM(s),a=tM(i,s.props);return s.type!==y.Fragment&&(a.ref=r?Dh(r,o):o),y.cloneElement(s,a)}return y.Children.count(s)>1?y.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var zS=Symbol("radix.slottable");function BS(t){const e=({children:n})=>f.jsx(f.Fragment,{children:n});return e.displayName=`${t}.Slottable`,e.__radixId=zS,e}function eM(t){return y.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===zS}function tM(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...a)=>{const l=i(...a);return s(...a),l}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function nM(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function jy(t){const e=t+"CollectionProvider",[n,r]=Xn(e),[s,i]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=E=>{const{scope:x,children:w}=E,_=W.useRef(null),T=W.useRef(new Map).current;return f.jsx(s,{scope:x,itemMap:T,collectionRef:_,children:w})};o.displayName=e;const a=t+"CollectionSlot",l=fa(a),u=W.forwardRef((E,x)=>{const{scope:w,children:_}=E,T=i(a,w),P=Ae(x,T.collectionRef);return f.jsx(l,{ref:P,children:_})});u.displayName=a;const d=t+"CollectionItemSlot",h="data-radix-collection-item",p=fa(d),g=W.forwardRef((E,x)=>{const{scope:w,children:_,...T}=E,P=W.useRef(null),M=Ae(x,P),O=i(d,w);return W.useEffect(()=>(O.itemMap.set(P,{ref:P,...T}),()=>void O.itemMap.delete(P))),f.jsx(p,{[h]:"",ref:M,children:_})});g.displayName=d;function S(E){const x=i(t+"CollectionConsumer",E);return W.useCallback(()=>{const _=x.collectionRef.current;if(!_)return[];const T=Array.from(_.querySelectorAll(`[${h}]`));return Array.from(x.itemMap.values()).sort((O,b)=>T.indexOf(O.ref.current)-T.indexOf(b.ref.current))},[x.collectionRef,x.itemMap])}return[{Provider:o,Slot:u,ItemSlot:g},S,r]}var rM=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],_e=rM.reduce((t,e)=>{const n=fa(`Primitive.${e}`),r=y.forwardRef((s,i)=>{const{asChild:o,...a}=s,l=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),f.jsx(l,{...a,ref:i})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function Fy(t,e){t&&Ac.flushSync(()=>t.dispatchEvent(e))}function Je(t){const e=y.useRef(t);return y.useEffect(()=>{e.current=t}),y.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function sM(t,e=globalThis==null?void 0:globalThis.document){const n=Je(t);y.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var iM="DismissableLayer",Bm="dismissableLayer.update",oM="dismissableLayer.pointerDownOutside",aM="dismissableLayer.focusOutside",P_,HS=y.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Rc=y.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:a,...l}=t,u=y.useContext(HS),[d,h]=y.useState(null),p=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,g]=y.useState({}),S=Ae(e,b=>h(b)),E=Array.from(u.layers),[x]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),w=E.indexOf(x),_=d?E.indexOf(d):-1,T=u.layersWithOutsidePointerEventsDisabled.size>0,P=_>=w,M=cM(b=>{const I=b.target,C=[...u.branches].some(R=>R.contains(I));!P||C||(s==null||s(b),o==null||o(b),b.defaultPrevented||a==null||a())},p),O=uM(b=>{const I=b.target;[...u.branches].some(R=>R.contains(I))||(i==null||i(b),o==null||o(b),b.defaultPrevented||a==null||a())},p);return sM(b=>{_===u.layers.size-1&&(r==null||r(b),!b.defaultPrevented&&a&&(b.preventDefault(),a()))},p),y.useEffect(()=>{if(d)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(P_=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),k_(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=P_)}},[d,p,n,u]),y.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),k_())},[d,u]),y.useEffect(()=>{const b=()=>g({});return document.addEventListener(Bm,b),()=>document.removeEventListener(Bm,b)},[]),f.jsx(_e.div,{...l,ref:S,style:{pointerEvents:T?P?"auto":"none":void 0,...t.style},onFocusCapture:J(t.onFocusCapture,O.onFocusCapture),onBlurCapture:J(t.onBlurCapture,O.onBlurCapture),onPointerDownCapture:J(t.onPointerDownCapture,M.onPointerDownCapture)})});Rc.displayName=iM;var lM="DismissableLayerBranch",WS=y.forwardRef((t,e)=>{const n=y.useContext(HS),r=y.useRef(null),s=Ae(e,r);return y.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),f.jsx(_e.div,{...t,ref:s})});WS.displayName=lM;function cM(t,e=globalThis==null?void 0:globalThis.document){const n=Je(t),r=y.useRef(!1),s=y.useRef(()=>{});return y.useEffect(()=>{const i=a=>{if(a.target&&!r.current){let l=function(){GS(oM,n,u,{discrete:!0})};const u={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=l,e.addEventListener("click",s.current,{once:!0})):l()}else e.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function uM(t,e=globalThis==null?void 0:globalThis.document){const n=Je(t),r=y.useRef(!1);return y.useEffect(()=>{const s=i=>{i.target&&!r.current&&GS(aM,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function k_(){const t=new CustomEvent(Bm);document.dispatchEvent(t)}function GS(t,e,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?Fy(s,i):s.dispatchEvent(i)}var dM=Rc,hM=WS,un=globalThis!=null&&globalThis.document?y.useLayoutEffect:()=>{},fM="Portal",Mh=y.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[s,i]=y.useState(!1);un(()=>i(!0),[]);const o=n||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?US.createPortal(f.jsx(_e.div,{...r,ref:e}),o):null});Mh.displayName=fM;function pM(t,e){return y.useReducer((n,r)=>e[n][r]??n,t)}var Jt=t=>{const{present:e,children:n}=t,r=mM(e),s=typeof n=="function"?n({present:r.isPresent}):y.Children.only(n),i=Ae(r.ref,gM(s));return typeof n=="function"||r.isPresent?y.cloneElement(s,{ref:i}):null};Jt.displayName="Presence";function mM(t){const[e,n]=y.useState(),r=y.useRef(null),s=y.useRef(t),i=y.useRef("none"),o=t?"mounted":"unmounted",[a,l]=pM(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return y.useEffect(()=>{const u=Eu(r.current);i.current=a==="mounted"?u:"none"},[a]),un(()=>{const u=r.current,d=s.current;if(d!==t){const p=i.current,g=Eu(u);t?l("MOUNT"):g==="none"||(u==null?void 0:u.display)==="none"?l("UNMOUNT"):l(d&&p!==g?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,l]),un(()=>{if(e){let u;const d=e.ownerDocument.defaultView??window,h=g=>{const E=Eu(r.current).includes(g.animationName);if(g.target===e&&E&&(l("ANIMATION_END"),!s.current)){const x=e.style.animationFillMode;e.style.animationFillMode="forwards",u=d.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=x)})}},p=g=>{g.target===e&&(i.current=Eu(r.current))};return e.addEventListener("animationstart",p),e.addEventListener("animationcancel",h),e.addEventListener("animationend",h),()=>{d.clearTimeout(u),e.removeEventListener("animationstart",p),e.removeEventListener("animationcancel",h),e.removeEventListener("animationend",h)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:y.useCallback(u=>{r.current=u?getComputedStyle(u):null,n(u)},[])}}function Eu(t){return(t==null?void 0:t.animationName)||"none"}function gM(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var yM=qg[" useInsertionEffect ".trim().toString()]||un;function Oh({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[s,i,o]=vM({defaultProp:e,onChange:n}),a=t!==void 0,l=a?t:s;{const d=y.useRef(t!==void 0);y.useEffect(()=>{const h=d.current;h!==a&&console.warn(`${r} is changing from ${h?"controlled":"uncontrolled"} to ${a?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=a},[a,r])}const u=y.useCallback(d=>{var h;if(a){const p=wM(d)?d(t):d;p!==t&&((h=o.current)==null||h.call(o,p))}else i(d)},[a,t,i,o]);return[l,u]}function vM({defaultProp:t,onChange:e}){const[n,r]=y.useState(t),s=y.useRef(n),i=y.useRef(e);return yM(()=>{i.current=e},[e]),y.useEffect(()=>{var o;s.current!==n&&((o=i.current)==null||o.call(i,n),s.current=n)},[n,s]),[n,r,i]}function wM(t){return typeof t=="function"}var _M=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),EM="VisuallyHidden",Lh=y.forwardRef((t,e)=>f.jsx(_e.span,{...t,ref:e,style:{..._M,...t.style}}));Lh.displayName=EM;var xM=Lh,Uy="ToastProvider",[$y,TM,SM]=jy("Toast"),[qS,aW]=Xn("Toast",[SM]),[IM,Vh]=qS(Uy),KS=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:i=50,children:o}=t,[a,l]=y.useState(null),[u,d]=y.useState(0),h=y.useRef(!1),p=y.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${Uy}\`. Expected non-empty \`string\`.`),f.jsx($y.Provider,{scope:e,children:f.jsx(IM,{scope:e,label:n,duration:r,swipeDirection:s,swipeThreshold:i,toastCount:u,viewport:a,onViewportChange:l,onToastAdd:y.useCallback(()=>d(g=>g+1),[]),onToastRemove:y.useCallback(()=>d(g=>g-1),[]),isFocusedToastEscapeKeyDownRef:h,isClosePausedRef:p,children:o})})};KS.displayName=Uy;var QS="ToastViewport",bM=["F8"],Hm="toast.viewportPause",Wm="toast.viewportResume",YS=y.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=bM,label:s="Notifications ({hotkey})",...i}=t,o=Vh(QS,n),a=TM(n),l=y.useRef(null),u=y.useRef(null),d=y.useRef(null),h=y.useRef(null),p=Ae(e,h,o.onViewportChange),g=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),S=o.toastCount>0;y.useEffect(()=>{const x=w=>{var T;r.length!==0&&r.every(P=>w[P]||w.code===P)&&((T=h.current)==null||T.focus())};return document.addEventListener("keydown",x),()=>document.removeEventListener("keydown",x)},[r]),y.useEffect(()=>{const x=l.current,w=h.current;if(S&&x&&w){const _=()=>{if(!o.isClosePausedRef.current){const O=new CustomEvent(Hm);w.dispatchEvent(O),o.isClosePausedRef.current=!0}},T=()=>{if(o.isClosePausedRef.current){const O=new CustomEvent(Wm);w.dispatchEvent(O),o.isClosePausedRef.current=!1}},P=O=>{!x.contains(O.relatedTarget)&&T()},M=()=>{x.contains(document.activeElement)||T()};return x.addEventListener("focusin",_),x.addEventListener("focusout",P),x.addEventListener("pointermove",_),x.addEventListener("pointerleave",M),window.addEventListener("blur",_),window.addEventListener("focus",T),()=>{x.removeEventListener("focusin",_),x.removeEventListener("focusout",P),x.removeEventListener("pointermove",_),x.removeEventListener("pointerleave",M),window.removeEventListener("blur",_),window.removeEventListener("focus",T)}}},[S,o.isClosePausedRef]);const E=y.useCallback(({tabbingDirection:x})=>{const _=a().map(T=>{const P=T.ref.current,M=[P,...FM(P)];return x==="forwards"?M:M.reverse()});return(x==="forwards"?_.reverse():_).flat()},[a]);return y.useEffect(()=>{const x=h.current;if(x){const w=_=>{var M,O,b;const T=_.altKey||_.ctrlKey||_.metaKey;if(_.key==="Tab"&&!T){const I=document.activeElement,C=_.shiftKey;if(_.target===x&&C){(M=u.current)==null||M.focus();return}const D=E({tabbingDirection:C?"backwards":"forwards"}),k=D.findIndex(H=>H===I);wp(D.slice(k+1))?_.preventDefault():C?(O=u.current)==null||O.focus():(b=d.current)==null||b.focus()}};return x.addEventListener("keydown",w),()=>x.removeEventListener("keydown",w)}},[a,E]),f.jsxs(hM,{ref:l,role:"region","aria-label":s.replace("{hotkey}",g),tabIndex:-1,style:{pointerEvents:S?void 0:"none"},children:[S&&f.jsx(Gm,{ref:u,onFocusFromOutsideViewport:()=>{const x=E({tabbingDirection:"forwards"});wp(x)}}),f.jsx($y.Slot,{scope:n,children:f.jsx(_e.ol,{tabIndex:-1,...i,ref:p})}),S&&f.jsx(Gm,{ref:d,onFocusFromOutsideViewport:()=>{const x=E({tabbingDirection:"backwards"});wp(x)}})]})});YS.displayName=QS;var XS="ToastFocusProxy",Gm=y.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...s}=t,i=Vh(XS,n);return f.jsx(Lh,{"aria-hidden":!0,tabIndex:0,...s,ref:e,style:{position:"fixed"},onFocus:o=>{var u;const a=o.relatedTarget;!((u=i.viewport)!=null&&u.contains(a))&&r()}})});Gm.displayName=XS;var Pc="Toast",CM="toast.swipeStart",AM="toast.swipeMove",RM="toast.swipeCancel",PM="toast.swipeEnd",JS=y.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:s,onOpenChange:i,...o}=t,[a,l]=Oh({prop:r,defaultProp:s??!0,onChange:i,caller:Pc});return f.jsx(Jt,{present:n||a,children:f.jsx(DM,{open:a,...o,ref:e,onClose:()=>l(!1),onPause:Je(t.onPause),onResume:Je(t.onResume),onSwipeStart:J(t.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:J(t.onSwipeMove,u=>{const{x:d,y:h}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${h}px`)}),onSwipeCancel:J(t.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:J(t.onSwipeEnd,u=>{const{x:d,y:h}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${h}px`),l(!1)})})})});JS.displayName=Pc;var[kM,NM]=qS(Pc,{onClose(){}}),DM=y.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:s,open:i,onClose:o,onEscapeKeyDown:a,onPause:l,onResume:u,onSwipeStart:d,onSwipeMove:h,onSwipeCancel:p,onSwipeEnd:g,...S}=t,E=Vh(Pc,n),[x,w]=y.useState(null),_=Ae(e,H=>w(H)),T=y.useRef(null),P=y.useRef(null),M=s||E.duration,O=y.useRef(0),b=y.useRef(M),I=y.useRef(0),{onToastAdd:C,onToastRemove:R}=E,N=Je(()=>{var se;(x==null?void 0:x.contains(document.activeElement))&&((se=E.viewport)==null||se.focus()),o()}),D=y.useCallback(H=>{!H||H===1/0||(window.clearTimeout(I.current),O.current=new Date().getTime(),I.current=window.setTimeout(N,H))},[N]);y.useEffect(()=>{const H=E.viewport;if(H){const se=()=>{D(b.current),u==null||u()},Z=()=>{const oe=new Date().getTime()-O.current;b.current=b.current-oe,window.clearTimeout(I.current),l==null||l()};return H.addEventListener(Hm,Z),H.addEventListener(Wm,se),()=>{H.removeEventListener(Hm,Z),H.removeEventListener(Wm,se)}}},[E.viewport,M,l,u,D]),y.useEffect(()=>{i&&!E.isClosePausedRef.current&&D(M)},[i,M,E.isClosePausedRef,D]),y.useEffect(()=>(C(),()=>R()),[C,R]);const k=y.useMemo(()=>x?iI(x):null,[x]);return E.viewport?f.jsxs(f.Fragment,{children:[k&&f.jsx(MM,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:k}),f.jsx(kM,{scope:n,onClose:N,children:Ac.createPortal(f.jsx($y.ItemSlot,{scope:n,children:f.jsx(dM,{asChild:!0,onEscapeKeyDown:J(a,()=>{E.isFocusedToastEscapeKeyDownRef.current||N(),E.isFocusedToastEscapeKeyDownRef.current=!1}),children:f.jsx(_e.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":E.swipeDirection,...S,ref:_,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:J(t.onKeyDown,H=>{H.key==="Escape"&&(a==null||a(H.nativeEvent),H.nativeEvent.defaultPrevented||(E.isFocusedToastEscapeKeyDownRef.current=!0,N()))}),onPointerDown:J(t.onPointerDown,H=>{H.button===0&&(T.current={x:H.clientX,y:H.clientY})}),onPointerMove:J(t.onPointerMove,H=>{if(!T.current)return;const se=H.clientX-T.current.x,Z=H.clientY-T.current.y,oe=!!P.current,F=["left","right"].includes(E.swipeDirection),V=["left","up"].includes(E.swipeDirection)?Math.min:Math.max,G=F?V(0,se):0,ee=F?0:V(0,Z),X=H.pointerType==="touch"?10:2,ce={x:G,y:ee},ae={originalEvent:H,delta:ce};oe?(P.current=ce,xu(AM,h,ae,{discrete:!1})):N_(ce,E.swipeDirection,X)?(P.current=ce,xu(CM,d,ae,{discrete:!1}),H.target.setPointerCapture(H.pointerId)):(Math.abs(se)>X||Math.abs(Z)>X)&&(T.current=null)}),onPointerUp:J(t.onPointerUp,H=>{const se=P.current,Z=H.target;if(Z.hasPointerCapture(H.pointerId)&&Z.releasePointerCapture(H.pointerId),P.current=null,T.current=null,se){const oe=H.currentTarget,F={originalEvent:H,delta:se};N_(se,E.swipeDirection,E.swipeThreshold)?xu(PM,g,F,{discrete:!0}):xu(RM,p,F,{discrete:!0}),oe.addEventListener("click",V=>V.preventDefault(),{once:!0})}})})})}),E.viewport)})]}):null}),MM=t=>{const{__scopeToast:e,children:n,...r}=t,s=Vh(Pc,e),[i,o]=y.useState(!1),[a,l]=y.useState(!1);return VM(()=>o(!0)),y.useEffect(()=>{const u=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(u)},[]),a?null:f.jsx(Mh,{asChild:!0,children:f.jsx(Lh,{...r,children:i&&f.jsxs(f.Fragment,{children:[s.label," ",n]})})})},OM="ToastTitle",ZS=y.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return f.jsx(_e.div,{...r,ref:e})});ZS.displayName=OM;var LM="ToastDescription",eI=y.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return f.jsx(_e.div,{...r,ref:e})});eI.displayName=LM;var tI="ToastAction",nI=y.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?f.jsx(sI,{altText:n,asChild:!0,children:f.jsx(zy,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${tI}\`. Expected non-empty \`string\`.`),null)});nI.displayName=tI;var rI="ToastClose",zy=y.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,s=NM(rI,n);return f.jsx(sI,{asChild:!0,children:f.jsx(_e.button,{type:"button",...r,ref:e,onClick:J(t.onClick,s.onClose)})})});zy.displayName=rI;var sI=y.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...s}=t;return f.jsx(_e.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...s,ref:e})});function iI(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),jM(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",i=r.dataset.radixToastAnnounceExclude==="";if(!s)if(i){const o=r.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...iI(r))}}),e}function xu(t,e,n,{discrete:r}){const s=n.originalEvent.currentTarget,i=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?Fy(s,i):s.dispatchEvent(i)}var N_=(t,e,n=0)=>{const r=Math.abs(t.x),s=Math.abs(t.y),i=r>s;return e==="left"||e==="right"?i&&r>n:!i&&s>n};function VM(t=()=>{}){const e=Je(t);un(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function jM(t){return t.nodeType===t.ELEMENT_NODE}function FM(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function wp(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var UM=KS,oI=YS,aI=JS,lI=ZS,cI=eI,uI=nI,dI=zy;function hI(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=hI(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function fI(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=hI(t))&&(r&&(r+=" "),r+=e);return r}const D_=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,M_=fI,By=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return M_(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:i}=e,o=Object.keys(s).map(u=>{const d=n==null?void 0:n[u],h=i==null?void 0:i[u];if(d===null)return null;const p=D_(d)||D_(h);return s[u][p]}),a=n&&Object.entries(n).reduce((u,d)=>{let[h,p]=d;return p===void 0||(u[h]=p),u},{}),l=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((u,d)=>{let{class:h,className:p,...g}=d;return Object.entries(g).every(S=>{let[E,x]=S;return Array.isArray(x)?x.includes({...i,...a}[E]):{...i,...a}[E]===x})?[...u,h,p]:u},[]);return M_(t,o,l,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $M=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),pI=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var zM={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BM=y.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:o,...a},l)=>y.createElement("svg",{ref:l,...zM,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:pI("lucide",s),...a},[...o.map(([u,d])=>y.createElement(u,d)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const be=(t,e)=>{const n=y.forwardRef(({className:r,...s},i)=>y.createElement(BM,{ref:i,iconNode:e,className:pI(`lucide-${$M(t)}`,r),...s}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HM=be("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WM=be("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GM=be("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qM=be("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KM=be("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QM=be("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YM=be("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XM=be("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pa=be("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JM=be("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZM=be("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hy=be("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eO=be("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tO=be("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nO=be("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rO=be("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _p=be("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sO=be("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iO=be("Minimize2",[["polyline",{points:"4 14 10 14 10 20",key:"11kfnr"}],["polyline",{points:"20 10 14 10 14 4",key:"rlmsce"}],["line",{x1:"14",x2:"21",y1:"10",y2:"3",key:"o5lafz"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oO=be("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aO=be("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lO=be("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ep=be("Share",[["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["polyline",{points:"16 6 12 2 8 6",key:"m901s6"}],["line",{x1:"12",x2:"12",y1:"2",y2:"15",key:"1p0rca"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cO=be("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uO=be("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O_=be("Triangle",[["path",{d:"M13.73 4a2 2 0 0 0-3.46 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"14u9p9"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mI=be("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L_=be("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dO=be("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sc=be("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Wy="-",hO=t=>{const e=pO(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const a=o.split(Wy);return a[0]===""&&a.length!==1&&a.shift(),gI(a,e)||fO(o)},getConflictingClassGroupIds:(o,a)=>{const l=n[o]||[];return a&&r[o]?[...l,...r[o]]:l}}},gI=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),s=r?gI(t.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const i=t.join(Wy);return(o=e.validators.find(({validator:a})=>a(i)))==null?void 0:o.classGroupId},V_=/^\[(.+)\]$/,fO=t=>{if(V_.test(t)){const e=V_.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},pO=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return gO(Object.entries(t.classGroups),n).forEach(([i,o])=>{qm(o,r,i,e)}),r},qm=(t,e,n,r)=>{t.forEach(s=>{if(typeof s=="string"){const i=s===""?e:j_(e,s);i.classGroupId=n;return}if(typeof s=="function"){if(mO(s)){qm(s(r),e,n,r);return}e.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([i,o])=>{qm(o,j_(e,i),n,r)})})},j_=(t,e)=>{let n=t;return e.split(Wy).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},mO=t=>t.isThemeGetter,gO=(t,e)=>e?t.map(([n,r])=>{const s=r.map(i=>typeof i=="string"?e+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,a])=>[e+o,a])):i);return[n,s]}):t,yO=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const s=(i,o)=>{n.set(i,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(i){let o=n.get(i);if(o!==void 0)return o;if((o=r.get(i))!==void 0)return s(i,o),o},set(i,o){n.has(i)?n.set(i,o):s(i,o)}}},yI="!",vO=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,s=e[0],i=e.length,o=a=>{const l=[];let u=0,d=0,h;for(let x=0;x<a.length;x++){let w=a[x];if(u===0){if(w===s&&(r||a.slice(x,x+i)===e)){l.push(a.slice(d,x)),d=x+i;continue}if(w==="/"){h=x;continue}}w==="["?u++:w==="]"&&u--}const p=l.length===0?a:a.substring(d),g=p.startsWith(yI),S=g?p.substring(1):p,E=h&&h>d?h-d:void 0;return{modifiers:l,hasImportantModifier:g,baseClassName:S,maybePostfixModifierPosition:E}};return n?a=>n({className:a,parseClassName:o}):o},wO=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},_O=t=>({cache:yO(t.cacheSize),parseClassName:vO(t),...hO(t)}),EO=/\s+/,xO=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=e,i=[],o=t.trim().split(EO);let a="";for(let l=o.length-1;l>=0;l-=1){const u=o[l],{modifiers:d,hasImportantModifier:h,baseClassName:p,maybePostfixModifierPosition:g}=n(u);let S=!!g,E=r(S?p.substring(0,g):p);if(!E){if(!S){a=u+(a.length>0?" "+a:a);continue}if(E=r(p),!E){a=u+(a.length>0?" "+a:a);continue}S=!1}const x=wO(d).join(":"),w=h?x+yI:x,_=w+E;if(i.includes(_))continue;i.push(_);const T=s(E,S);for(let P=0;P<T.length;++P){const M=T[P];i.push(w+M)}a=u+(a.length>0?" "+a:a)}return a};function TO(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=vI(e))&&(r&&(r+=" "),r+=n);return r}const vI=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=vI(t[r]))&&(n&&(n+=" "),n+=e);return n};function SO(t,...e){let n,r,s,i=o;function o(l){const u=e.reduce((d,h)=>h(d),t());return n=_O(u),r=n.cache.get,s=n.cache.set,i=a,a(l)}function a(l){const u=r(l);if(u)return u;const d=xO(l,n);return s(l,d),d}return function(){return i(TO.apply(null,arguments))}}const Ve=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},wI=/^\[(?:([a-z-]+):)?(.+)\]$/i,IO=/^\d+\/\d+$/,bO=new Set(["px","full","screen"]),CO=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,AO=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,RO=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,PO=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,kO=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Mr=t=>Fo(t)||bO.has(t)||IO.test(t),ps=t=>Ra(t,"length",FO),Fo=t=>!!t&&!Number.isNaN(Number(t)),xp=t=>Ra(t,"number",Fo),ul=t=>!!t&&Number.isInteger(Number(t)),NO=t=>t.endsWith("%")&&Fo(t.slice(0,-1)),fe=t=>wI.test(t),ms=t=>CO.test(t),DO=new Set(["length","size","percentage"]),MO=t=>Ra(t,DO,_I),OO=t=>Ra(t,"position",_I),LO=new Set(["image","url"]),VO=t=>Ra(t,LO,$O),jO=t=>Ra(t,"",UO),dl=()=>!0,Ra=(t,e,n)=>{const r=wI.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},FO=t=>AO.test(t)&&!RO.test(t),_I=()=>!1,UO=t=>PO.test(t),$O=t=>kO.test(t),zO=()=>{const t=Ve("colors"),e=Ve("spacing"),n=Ve("blur"),r=Ve("brightness"),s=Ve("borderColor"),i=Ve("borderRadius"),o=Ve("borderSpacing"),a=Ve("borderWidth"),l=Ve("contrast"),u=Ve("grayscale"),d=Ve("hueRotate"),h=Ve("invert"),p=Ve("gap"),g=Ve("gradientColorStops"),S=Ve("gradientColorStopPositions"),E=Ve("inset"),x=Ve("margin"),w=Ve("opacity"),_=Ve("padding"),T=Ve("saturate"),P=Ve("scale"),M=Ve("sepia"),O=Ve("skew"),b=Ve("space"),I=Ve("translate"),C=()=>["auto","contain","none"],R=()=>["auto","hidden","clip","visible","scroll"],N=()=>["auto",fe,e],D=()=>[fe,e],k=()=>["",Mr,ps],H=()=>["auto",Fo,fe],se=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],Z=()=>["solid","dashed","dotted","double","none"],oe=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],F=()=>["start","end","center","between","around","evenly","stretch"],V=()=>["","0",fe],G=()=>["auto","avoid","all","avoid-page","page","left","right","column"],ee=()=>[Fo,fe];return{cacheSize:500,separator:":",theme:{colors:[dl],spacing:[Mr,ps],blur:["none","",ms,fe],brightness:ee(),borderColor:[t],borderRadius:["none","","full",ms,fe],borderSpacing:D(),borderWidth:k(),contrast:ee(),grayscale:V(),hueRotate:ee(),invert:V(),gap:D(),gradientColorStops:[t],gradientColorStopPositions:[NO,ps],inset:N(),margin:N(),opacity:ee(),padding:D(),saturate:ee(),scale:ee(),sepia:V(),skew:ee(),space:D(),translate:D()},classGroups:{aspect:[{aspect:["auto","square","video",fe]}],container:["container"],columns:[{columns:[ms]}],"break-after":[{"break-after":G()}],"break-before":[{"break-before":G()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...se(),fe]}],overflow:[{overflow:R()}],"overflow-x":[{"overflow-x":R()}],"overflow-y":[{"overflow-y":R()}],overscroll:[{overscroll:C()}],"overscroll-x":[{"overscroll-x":C()}],"overscroll-y":[{"overscroll-y":C()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[E]}],"inset-x":[{"inset-x":[E]}],"inset-y":[{"inset-y":[E]}],start:[{start:[E]}],end:[{end:[E]}],top:[{top:[E]}],right:[{right:[E]}],bottom:[{bottom:[E]}],left:[{left:[E]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",ul,fe]}],basis:[{basis:N()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",fe]}],grow:[{grow:V()}],shrink:[{shrink:V()}],order:[{order:["first","last","none",ul,fe]}],"grid-cols":[{"grid-cols":[dl]}],"col-start-end":[{col:["auto",{span:["full",ul,fe]},fe]}],"col-start":[{"col-start":H()}],"col-end":[{"col-end":H()}],"grid-rows":[{"grid-rows":[dl]}],"row-start-end":[{row:["auto",{span:[ul,fe]},fe]}],"row-start":[{"row-start":H()}],"row-end":[{"row-end":H()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",fe]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",fe]}],gap:[{gap:[p]}],"gap-x":[{"gap-x":[p]}],"gap-y":[{"gap-y":[p]}],"justify-content":[{justify:["normal",...F()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...F(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...F(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[_]}],px:[{px:[_]}],py:[{py:[_]}],ps:[{ps:[_]}],pe:[{pe:[_]}],pt:[{pt:[_]}],pr:[{pr:[_]}],pb:[{pb:[_]}],pl:[{pl:[_]}],m:[{m:[x]}],mx:[{mx:[x]}],my:[{my:[x]}],ms:[{ms:[x]}],me:[{me:[x]}],mt:[{mt:[x]}],mr:[{mr:[x]}],mb:[{mb:[x]}],ml:[{ml:[x]}],"space-x":[{"space-x":[b]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[b]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",fe,e]}],"min-w":[{"min-w":[fe,e,"min","max","fit"]}],"max-w":[{"max-w":[fe,e,"none","full","min","max","fit","prose",{screen:[ms]},ms]}],h:[{h:[fe,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[fe,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[fe,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[fe,e,"auto","min","max","fit"]}],"font-size":[{text:["base",ms,ps]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",xp]}],"font-family":[{font:[dl]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",fe]}],"line-clamp":[{"line-clamp":["none",Fo,xp]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Mr,fe]}],"list-image":[{"list-image":["none",fe]}],"list-style-type":[{list:["none","disc","decimal",fe]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[w]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[w]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Z(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Mr,ps]}],"underline-offset":[{"underline-offset":["auto",Mr,fe]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:D()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",fe]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",fe]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[w]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...se(),OO]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",MO]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},VO]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[S]}],"gradient-via-pos":[{via:[S]}],"gradient-to-pos":[{to:[S]}],"gradient-from":[{from:[g]}],"gradient-via":[{via:[g]}],"gradient-to":[{to:[g]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[w]}],"border-style":[{border:[...Z(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[w]}],"divide-style":[{divide:Z()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...Z()]}],"outline-offset":[{"outline-offset":[Mr,fe]}],"outline-w":[{outline:[Mr,ps]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:k()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[w]}],"ring-offset-w":[{"ring-offset":[Mr,ps]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",ms,jO]}],"shadow-color":[{shadow:[dl]}],opacity:[{opacity:[w]}],"mix-blend":[{"mix-blend":[...oe(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":oe()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",ms,fe]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[h]}],saturate:[{saturate:[T]}],sepia:[{sepia:[M]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[w]}],"backdrop-saturate":[{"backdrop-saturate":[T]}],"backdrop-sepia":[{"backdrop-sepia":[M]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",fe]}],duration:[{duration:ee()}],ease:[{ease:["linear","in","out","in-out",fe]}],delay:[{delay:ee()}],animate:[{animate:["none","spin","ping","pulse","bounce",fe]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[P]}],"scale-x":[{"scale-x":[P]}],"scale-y":[{"scale-y":[P]}],rotate:[{rotate:[ul,fe]}],"translate-x":[{"translate-x":[I]}],"translate-y":[{"translate-y":[I]}],"skew-x":[{"skew-x":[O]}],"skew-y":[{"skew-y":[O]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",fe]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",fe]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":D()}],"scroll-mx":[{"scroll-mx":D()}],"scroll-my":[{"scroll-my":D()}],"scroll-ms":[{"scroll-ms":D()}],"scroll-me":[{"scroll-me":D()}],"scroll-mt":[{"scroll-mt":D()}],"scroll-mr":[{"scroll-mr":D()}],"scroll-mb":[{"scroll-mb":D()}],"scroll-ml":[{"scroll-ml":D()}],"scroll-p":[{"scroll-p":D()}],"scroll-px":[{"scroll-px":D()}],"scroll-py":[{"scroll-py":D()}],"scroll-ps":[{"scroll-ps":D()}],"scroll-pe":[{"scroll-pe":D()}],"scroll-pt":[{"scroll-pt":D()}],"scroll-pr":[{"scroll-pr":D()}],"scroll-pb":[{"scroll-pb":D()}],"scroll-pl":[{"scroll-pl":D()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",fe]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Mr,ps,xp]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},BO=SO(zO);function me(...t){return BO(fI(t))}const HO=UM,EI=y.forwardRef(({className:t,...e},n)=>f.jsx(oI,{ref:n,className:me("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));EI.displayName=oI.displayName;const WO=By("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),xI=y.forwardRef(({className:t,variant:e,...n},r)=>f.jsx(aI,{ref:r,className:me(WO({variant:e}),t),...n}));xI.displayName=aI.displayName;const GO=y.forwardRef(({className:t,...e},n)=>f.jsx(uI,{ref:n,className:me("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors group-[.destructive]:border-muted/40 hover:bg-secondary group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 group-[.destructive]:focus:ring-destructive disabled:pointer-events-none disabled:opacity-50",t),...e}));GO.displayName=uI.displayName;const TI=y.forwardRef(({className:t,...e},n)=>f.jsx(dI,{ref:n,className:me("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity group-hover:opacity-100 group-[.destructive]:text-red-300 hover:text-foreground group-[.destructive]:hover:text-red-50 focus:opacity-100 focus:outline-none focus:ring-2 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:f.jsx(sc,{className:"h-4 w-4"})}));TI.displayName=dI.displayName;const SI=y.forwardRef(({className:t,...e},n)=>f.jsx(lI,{ref:n,className:me("text-sm font-semibold",t),...e}));SI.displayName=lI.displayName;const II=y.forwardRef(({className:t,...e},n)=>f.jsx(cI,{ref:n,className:me("text-sm opacity-90",t),...e}));II.displayName=cI.displayName;function qO(){const{toasts:t}=QD();return f.jsxs(HO,{children:[t.map(function({id:e,title:n,description:r,action:s,...i}){return f.jsxs(xI,{...i,children:[f.jsxs("div",{className:"grid gap-1",children:[n&&f.jsx(SI,{children:n}),r&&f.jsx(II,{children:r})]}),s,f.jsx(TI,{})]},e)}),f.jsx(EI,{})]})}var F_=["light","dark"],KO="(prefers-color-scheme: dark)",QO=y.createContext(void 0),YO={setTheme:t=>{},themes:[]},XO=()=>{var t;return(t=y.useContext(QO))!=null?t:YO};y.memo(({forcedTheme:t,storageKey:e,attribute:n,enableSystem:r,enableColorScheme:s,defaultTheme:i,value:o,attrs:a,nonce:l})=>{let u=i==="system",d=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${a.map(S=>`'${S}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,h=s?F_.includes(i)&&i?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${i}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",p=(S,E=!1,x=!0)=>{let w=o?o[S]:S,_=E?S+"|| ''":`'${w}'`,T="";return s&&x&&!E&&F_.includes(S)&&(T+=`d.style.colorScheme = '${S}';`),n==="class"?E||w?T+=`c.add(${_})`:T+="null":w&&(T+=`d[s](n,${_})`),T},g=t?`!function(){${d}${p(t)}}()`:r?`!function(){try{${d}var e=localStorage.getItem('${e}');if('system'===e||(!e&&${u})){var t='${KO}',m=window.matchMedia(t);if(m.media!==t||m.matches){${p("dark")}}else{${p("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${p(o?"x[e]":"e",!0)}}${u?"":"else{"+p(i,!1,!1)+"}"}${h}}catch(e){}}()`:`!function(){try{${d}var e=localStorage.getItem('${e}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${p(o?"x[e]":"e",!0)}}else{${p(i,!1,!1)};}${h}}catch(t){}}();`;return y.createElement("script",{nonce:l,dangerouslySetInnerHTML:{__html:g}})});var JO=t=>{switch(t){case"success":return tL;case"info":return rL;case"warning":return nL;case"error":return sL;default:return null}},ZO=Array(12).fill(0),eL=({visible:t,className:e})=>W.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},W.createElement("div",{className:"sonner-spinner"},ZO.map((n,r)=>W.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),tL=W.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},W.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),nL=W.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},W.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),rL=W.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},W.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),sL=W.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},W.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),iL=W.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},W.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),W.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),oL=()=>{let[t,e]=W.useState(document.hidden);return W.useEffect(()=>{let n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t},Km=1,aL=class{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{let e=this.subscribers.indexOf(t);this.subscribers.splice(e,1)}),this.publish=t=>{this.subscribers.forEach(e=>e(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var e;let{message:n,...r}=t,s=typeof(t==null?void 0:t.id)=="number"||((e=t.id)==null?void 0:e.length)>0?t.id:Km++,i=this.toasts.find(a=>a.id===s),o=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(s)&&this.dismissedToasts.delete(s),i?this.toasts=this.toasts.map(a=>a.id===s?(this.publish({...a,...t,id:s,title:n}),{...a,...t,id:s,dismissible:o,title:n}):a):this.addToast({title:n,...r,dismissible:o,id:s}),s},this.dismiss=t=>(this.dismissedToasts.add(t),t||this.toasts.forEach(e=>{this.subscribers.forEach(n=>n({id:e.id,dismiss:!0}))}),this.subscribers.forEach(e=>e({id:t,dismiss:!0})),t),this.message=(t,e)=>this.create({...e,message:t}),this.error=(t,e)=>this.create({...e,message:t,type:"error"}),this.success=(t,e)=>this.create({...e,type:"success",message:t}),this.info=(t,e)=>this.create({...e,type:"info",message:t}),this.warning=(t,e)=>this.create({...e,type:"warning",message:t}),this.loading=(t,e)=>this.create({...e,type:"loading",message:t}),this.promise=(t,e)=>{if(!e)return;let n;e.loading!==void 0&&(n=this.create({...e,promise:t,type:"loading",message:e.loading,description:typeof e.description!="function"?e.description:void 0}));let r=t instanceof Promise?t:t(),s=n!==void 0,i,o=r.then(async l=>{if(i=["resolve",l],W.isValidElement(l))s=!1,this.create({id:n,type:"default",message:l});else if(cL(l)&&!l.ok){s=!1;let u=typeof e.error=="function"?await e.error(`HTTP error! status: ${l.status}`):e.error,d=typeof e.description=="function"?await e.description(`HTTP error! status: ${l.status}`):e.description;this.create({id:n,type:"error",message:u,description:d})}else if(e.success!==void 0){s=!1;let u=typeof e.success=="function"?await e.success(l):e.success,d=typeof e.description=="function"?await e.description(l):e.description;this.create({id:n,type:"success",message:u,description:d})}}).catch(async l=>{if(i=["reject",l],e.error!==void 0){s=!1;let u=typeof e.error=="function"?await e.error(l):e.error,d=typeof e.description=="function"?await e.description(l):e.description;this.create({id:n,type:"error",message:u,description:d})}}).finally(()=>{var l;s&&(this.dismiss(n),n=void 0),(l=e.finally)==null||l.call(e)}),a=()=>new Promise((l,u)=>o.then(()=>i[0]==="reject"?u(i[1]):l(i[1])).catch(u));return typeof n!="string"&&typeof n!="number"?{unwrap:a}:Object.assign(n,{unwrap:a})},this.custom=(t,e)=>{let n=(e==null?void 0:e.id)||Km++;return this.create({jsx:t(n),id:n,...e}),n},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},Ht=new aL,lL=(t,e)=>{let n=(e==null?void 0:e.id)||Km++;return Ht.addToast({title:t,...e,id:n}),n},cL=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",uL=lL,dL=()=>Ht.toasts,hL=()=>Ht.getActiveToasts();Object.assign(uL,{success:Ht.success,info:Ht.info,warning:Ht.warning,error:Ht.error,custom:Ht.custom,message:Ht.message,promise:Ht.promise,dismiss:Ht.dismiss,loading:Ht.loading},{getHistory:dL,getToasts:hL});function fL(t,{insertAt:e}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}fL(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Tu(t){return t.label!==void 0}var pL=3,mL="32px",gL="16px",U_=4e3,yL=356,vL=14,wL=20,_L=200;function Dn(...t){return t.filter(Boolean).join(" ")}function EL(t){let[e,n]=t.split("-"),r=[];return e&&r.push(e),n&&r.push(n),r}var xL=t=>{var e,n,r,s,i,o,a,l,u,d,h;let{invert:p,toast:g,unstyled:S,interacting:E,setHeights:x,visibleToasts:w,heights:_,index:T,toasts:P,expanded:M,removeToast:O,defaultRichColors:b,closeButton:I,style:C,cancelButtonStyle:R,actionButtonStyle:N,className:D="",descriptionClassName:k="",duration:H,position:se,gap:Z,loadingIcon:oe,expandByDefault:F,classNames:V,icons:G,closeButtonAriaLabel:ee="Close toast",pauseWhenPageIsHidden:X}=t,[ce,ae]=W.useState(null),[Re,Ne]=W.useState(null),[he,Zt]=W.useState(!1),[Qe,fn]=W.useState(!1),[er,kr]=W.useState(!1),[pn,ui]=W.useState(!1),[$a,ss]=W.useState(!1),[di,is]=W.useState(0),[$e,ut]=W.useState(0),tr=W.useRef(g.duration||H||U_),Hc=W.useRef(null),nr=W.useRef(null),Af=T===0,hi=T+1<=w,Dt=g.type,Nr=g.dismissible!==!1,za=g.className||"",Rf=g.descriptionClassName||"",ao=W.useMemo(()=>_.findIndex(ne=>ne.toastId===g.id)||0,[_,g.id]),Wc=W.useMemo(()=>{var ne;return(ne=g.closeButton)!=null?ne:I},[g.closeButton,I]),Ba=W.useMemo(()=>g.duration||H||U_,[g.duration,H]),Dr=W.useRef(0),rr=W.useRef(0),lo=W.useRef(0),zt=W.useRef(null),[Gc,co]=se.split("-"),Ha=W.useMemo(()=>_.reduce((ne,Se,De)=>De>=ao?ne:ne+Se.height,0),[_,ao]),os=oL(),qc=g.invert||p,st=Dt==="loading";rr.current=W.useMemo(()=>ao*Z+Ha,[ao,Ha]),W.useEffect(()=>{tr.current=Ba},[Ba]),W.useEffect(()=>{Zt(!0)},[]),W.useEffect(()=>{let ne=nr.current;if(ne){let Se=ne.getBoundingClientRect().height;return ut(Se),x(De=>[{toastId:g.id,height:Se,position:g.position},...De]),()=>x(De=>De.filter(dt=>dt.toastId!==g.id))}},[x,g.id]),W.useLayoutEffect(()=>{if(!he)return;let ne=nr.current,Se=ne.style.height;ne.style.height="auto";let De=ne.getBoundingClientRect().height;ne.style.height=Se,ut(De),x(dt=>dt.find(en=>en.toastId===g.id)?dt.map(en=>en.toastId===g.id?{...en,height:De}:en):[{toastId:g.id,height:De,position:g.position},...dt])},[he,g.title,g.description,x,g.id]);let Pn=W.useCallback(()=>{fn(!0),is(rr.current),x(ne=>ne.filter(Se=>Se.toastId!==g.id)),setTimeout(()=>{O(g)},_L)},[g,O,x,rr]);W.useEffect(()=>{if(g.promise&&Dt==="loading"||g.duration===1/0||g.type==="loading")return;let ne;return M||E||X&&os?(()=>{if(lo.current<Dr.current){let Se=new Date().getTime()-Dr.current;tr.current=tr.current-Se}lo.current=new Date().getTime()})():tr.current!==1/0&&(Dr.current=new Date().getTime(),ne=setTimeout(()=>{var Se;(Se=g.onAutoClose)==null||Se.call(g,g),Pn()},tr.current)),()=>clearTimeout(ne)},[M,E,g,Dt,X,os,Pn]),W.useEffect(()=>{g.delete&&Pn()},[Pn,g.delete]);function fi(){var ne,Se,De;return G!=null&&G.loading?W.createElement("div",{className:Dn(V==null?void 0:V.loader,(ne=g==null?void 0:g.classNames)==null?void 0:ne.loader,"sonner-loader"),"data-visible":Dt==="loading"},G.loading):oe?W.createElement("div",{className:Dn(V==null?void 0:V.loader,(Se=g==null?void 0:g.classNames)==null?void 0:Se.loader,"sonner-loader"),"data-visible":Dt==="loading"},oe):W.createElement(eL,{className:Dn(V==null?void 0:V.loader,(De=g==null?void 0:g.classNames)==null?void 0:De.loader),visible:Dt==="loading"})}return W.createElement("li",{tabIndex:0,ref:nr,className:Dn(D,za,V==null?void 0:V.toast,(e=g==null?void 0:g.classNames)==null?void 0:e.toast,V==null?void 0:V.default,V==null?void 0:V[Dt],(n=g==null?void 0:g.classNames)==null?void 0:n[Dt]),"data-sonner-toast":"","data-rich-colors":(r=g.richColors)!=null?r:b,"data-styled":!(g.jsx||g.unstyled||S),"data-mounted":he,"data-promise":!!g.promise,"data-swiped":$a,"data-removed":Qe,"data-visible":hi,"data-y-position":Gc,"data-x-position":co,"data-index":T,"data-front":Af,"data-swiping":er,"data-dismissible":Nr,"data-type":Dt,"data-invert":qc,"data-swipe-out":pn,"data-swipe-direction":Re,"data-expanded":!!(M||F&&he),style:{"--index":T,"--toasts-before":T,"--z-index":P.length-T,"--offset":`${Qe?di:rr.current}px`,"--initial-height":F?"auto":`${$e}px`,...C,...g.style},onDragEnd:()=>{kr(!1),ae(null),zt.current=null},onPointerDown:ne=>{st||!Nr||(Hc.current=new Date,is(rr.current),ne.target.setPointerCapture(ne.pointerId),ne.target.tagName!=="BUTTON"&&(kr(!0),zt.current={x:ne.clientX,y:ne.clientY}))},onPointerUp:()=>{var ne,Se,De,dt;if(pn||!Nr)return;zt.current=null;let en=Number(((ne=nr.current)==null?void 0:ne.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),sr=Number(((Se=nr.current)==null?void 0:Se.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),mn=new Date().getTime()-((De=Hc.current)==null?void 0:De.getTime()),Bt=ce==="x"?en:sr,kn=Math.abs(Bt)/mn;if(Math.abs(Bt)>=wL||kn>.11){is(rr.current),(dt=g.onDismiss)==null||dt.call(g,g),Ne(ce==="x"?en>0?"right":"left":sr>0?"down":"up"),Pn(),ui(!0),ss(!1);return}kr(!1),ae(null)},onPointerMove:ne=>{var Se,De,dt,en;if(!zt.current||!Nr||((Se=window.getSelection())==null?void 0:Se.toString().length)>0)return;let sr=ne.clientY-zt.current.y,mn=ne.clientX-zt.current.x,Bt=(De=t.swipeDirections)!=null?De:EL(se);!ce&&(Math.abs(mn)>1||Math.abs(sr)>1)&&ae(Math.abs(mn)>Math.abs(sr)?"x":"y");let kn={x:0,y:0};ce==="y"?(Bt.includes("top")||Bt.includes("bottom"))&&(Bt.includes("top")&&sr<0||Bt.includes("bottom")&&sr>0)&&(kn.y=sr):ce==="x"&&(Bt.includes("left")||Bt.includes("right"))&&(Bt.includes("left")&&mn<0||Bt.includes("right")&&mn>0)&&(kn.x=mn),(Math.abs(kn.x)>0||Math.abs(kn.y)>0)&&ss(!0),(dt=nr.current)==null||dt.style.setProperty("--swipe-amount-x",`${kn.x}px`),(en=nr.current)==null||en.style.setProperty("--swipe-amount-y",`${kn.y}px`)}},Wc&&!g.jsx?W.createElement("button",{"aria-label":ee,"data-disabled":st,"data-close-button":!0,onClick:st||!Nr?()=>{}:()=>{var ne;Pn(),(ne=g.onDismiss)==null||ne.call(g,g)},className:Dn(V==null?void 0:V.closeButton,(s=g==null?void 0:g.classNames)==null?void 0:s.closeButton)},(i=G==null?void 0:G.close)!=null?i:iL):null,g.jsx||y.isValidElement(g.title)?g.jsx?g.jsx:typeof g.title=="function"?g.title():g.title:W.createElement(W.Fragment,null,Dt||g.icon||g.promise?W.createElement("div",{"data-icon":"",className:Dn(V==null?void 0:V.icon,(o=g==null?void 0:g.classNames)==null?void 0:o.icon)},g.promise||g.type==="loading"&&!g.icon?g.icon||fi():null,g.type!=="loading"?g.icon||(G==null?void 0:G[Dt])||JO(Dt):null):null,W.createElement("div",{"data-content":"",className:Dn(V==null?void 0:V.content,(a=g==null?void 0:g.classNames)==null?void 0:a.content)},W.createElement("div",{"data-title":"",className:Dn(V==null?void 0:V.title,(l=g==null?void 0:g.classNames)==null?void 0:l.title)},typeof g.title=="function"?g.title():g.title),g.description?W.createElement("div",{"data-description":"",className:Dn(k,Rf,V==null?void 0:V.description,(u=g==null?void 0:g.classNames)==null?void 0:u.description)},typeof g.description=="function"?g.description():g.description):null),y.isValidElement(g.cancel)?g.cancel:g.cancel&&Tu(g.cancel)?W.createElement("button",{"data-button":!0,"data-cancel":!0,style:g.cancelButtonStyle||R,onClick:ne=>{var Se,De;Tu(g.cancel)&&Nr&&((De=(Se=g.cancel).onClick)==null||De.call(Se,ne),Pn())},className:Dn(V==null?void 0:V.cancelButton,(d=g==null?void 0:g.classNames)==null?void 0:d.cancelButton)},g.cancel.label):null,y.isValidElement(g.action)?g.action:g.action&&Tu(g.action)?W.createElement("button",{"data-button":!0,"data-action":!0,style:g.actionButtonStyle||N,onClick:ne=>{var Se,De;Tu(g.action)&&((De=(Se=g.action).onClick)==null||De.call(Se,ne),!ne.defaultPrevented&&Pn())},className:Dn(V==null?void 0:V.actionButton,(h=g==null?void 0:g.classNames)==null?void 0:h.actionButton)},g.action.label):null))};function $_(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function TL(t,e){let n={};return[t,e].forEach((r,s)=>{let i=s===1,o=i?"--mobile-offset":"--offset",a=i?gL:mL;function l(u){["top","right","bottom","left"].forEach(d=>{n[`${o}-${d}`]=typeof u=="number"?`${u}px`:u})}typeof r=="number"||typeof r=="string"?l(r):typeof r=="object"?["top","right","bottom","left"].forEach(u=>{r[u]===void 0?n[`${o}-${u}`]=a:n[`${o}-${u}`]=typeof r[u]=="number"?`${r[u]}px`:r[u]}):l(a)}),n}var SL=y.forwardRef(function(t,e){let{invert:n,position:r="bottom-right",hotkey:s=["altKey","KeyT"],expand:i,closeButton:o,className:a,offset:l,mobileOffset:u,theme:d="light",richColors:h,duration:p,style:g,visibleToasts:S=pL,toastOptions:E,dir:x=$_(),gap:w=vL,loadingIcon:_,icons:T,containerAriaLabel:P="Notifications",pauseWhenPageIsHidden:M}=t,[O,b]=W.useState([]),I=W.useMemo(()=>Array.from(new Set([r].concat(O.filter(X=>X.position).map(X=>X.position)))),[O,r]),[C,R]=W.useState([]),[N,D]=W.useState(!1),[k,H]=W.useState(!1),[se,Z]=W.useState(d!=="system"?d:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),oe=W.useRef(null),F=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),V=W.useRef(null),G=W.useRef(!1),ee=W.useCallback(X=>{b(ce=>{var ae;return(ae=ce.find(Re=>Re.id===X.id))!=null&&ae.delete||Ht.dismiss(X.id),ce.filter(({id:Re})=>Re!==X.id)})},[]);return W.useEffect(()=>Ht.subscribe(X=>{if(X.dismiss){b(ce=>ce.map(ae=>ae.id===X.id?{...ae,delete:!0}:ae));return}setTimeout(()=>{US.flushSync(()=>{b(ce=>{let ae=ce.findIndex(Re=>Re.id===X.id);return ae!==-1?[...ce.slice(0,ae),{...ce[ae],...X},...ce.slice(ae+1)]:[X,...ce]})})})}),[]),W.useEffect(()=>{if(d!=="system"){Z(d);return}if(d==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?Z("dark"):Z("light")),typeof window>"u")return;let X=window.matchMedia("(prefers-color-scheme: dark)");try{X.addEventListener("change",({matches:ce})=>{Z(ce?"dark":"light")})}catch{X.addListener(({matches:ae})=>{try{Z(ae?"dark":"light")}catch(Re){console.error(Re)}})}},[d]),W.useEffect(()=>{O.length<=1&&D(!1)},[O]),W.useEffect(()=>{let X=ce=>{var ae,Re;s.every(Ne=>ce[Ne]||ce.code===Ne)&&(D(!0),(ae=oe.current)==null||ae.focus()),ce.code==="Escape"&&(document.activeElement===oe.current||(Re=oe.current)!=null&&Re.contains(document.activeElement))&&D(!1)};return document.addEventListener("keydown",X),()=>document.removeEventListener("keydown",X)},[s]),W.useEffect(()=>{if(oe.current)return()=>{V.current&&(V.current.focus({preventScroll:!0}),V.current=null,G.current=!1)}},[oe.current]),W.createElement("section",{ref:e,"aria-label":`${P} ${F}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},I.map((X,ce)=>{var ae;let[Re,Ne]=X.split("-");return O.length?W.createElement("ol",{key:X,dir:x==="auto"?$_():x,tabIndex:-1,ref:oe,className:a,"data-sonner-toaster":!0,"data-theme":se,"data-y-position":Re,"data-lifted":N&&O.length>1&&!i,"data-x-position":Ne,style:{"--front-toast-height":`${((ae=C[0])==null?void 0:ae.height)||0}px`,"--width":`${yL}px`,"--gap":`${w}px`,...g,...TL(l,u)},onBlur:he=>{G.current&&!he.currentTarget.contains(he.relatedTarget)&&(G.current=!1,V.current&&(V.current.focus({preventScroll:!0}),V.current=null))},onFocus:he=>{he.target instanceof HTMLElement&&he.target.dataset.dismissible==="false"||G.current||(G.current=!0,V.current=he.relatedTarget)},onMouseEnter:()=>D(!0),onMouseMove:()=>D(!0),onMouseLeave:()=>{k||D(!1)},onDragEnd:()=>D(!1),onPointerDown:he=>{he.target instanceof HTMLElement&&he.target.dataset.dismissible==="false"||H(!0)},onPointerUp:()=>H(!1)},O.filter(he=>!he.position&&ce===0||he.position===X).map((he,Zt)=>{var Qe,fn;return W.createElement(xL,{key:he.id,icons:T,index:Zt,toast:he,defaultRichColors:h,duration:(Qe=E==null?void 0:E.duration)!=null?Qe:p,className:E==null?void 0:E.className,descriptionClassName:E==null?void 0:E.descriptionClassName,invert:n,visibleToasts:S,closeButton:(fn=E==null?void 0:E.closeButton)!=null?fn:o,interacting:k,position:X,style:E==null?void 0:E.style,unstyled:E==null?void 0:E.unstyled,classNames:E==null?void 0:E.classNames,cancelButtonStyle:E==null?void 0:E.cancelButtonStyle,actionButtonStyle:E==null?void 0:E.actionButtonStyle,removeToast:ee,toasts:O.filter(er=>er.position==he.position),heights:C.filter(er=>er.position==he.position),setHeights:R,expandByDefault:i,gap:w,loadingIcon:_,expanded:N,pauseWhenPageIsHidden:M,swipeDirections:t.swipeDirections})})):null}))});const IL=({...t})=>{const{theme:e="system"}=XO();return f.jsx(SL,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})};var bL=qg[" useId ".trim().toString()]||(()=>{}),CL=0;function Uo(t){const[e,n]=y.useState(bL());return un(()=>{n(r=>r??String(CL++))},[t]),e?`radix-${e}`:""}const AL=["top","right","bottom","left"],Xs=Math.min,rn=Math.max,Od=Math.round,Su=Math.floor,wr=t=>({x:t,y:t}),RL={left:"right",right:"left",bottom:"top",top:"bottom"},PL={start:"end",end:"start"};function Qm(t,e,n){return rn(t,Xs(e,n))}function Yr(t,e){return typeof t=="function"?t(e):t}function Xr(t){return t.split("-")[0]}function Pa(t){return t.split("-")[1]}function Gy(t){return t==="x"?"y":"x"}function qy(t){return t==="y"?"height":"width"}const kL=new Set(["top","bottom"]);function gr(t){return kL.has(Xr(t))?"y":"x"}function Ky(t){return Gy(gr(t))}function NL(t,e,n){n===void 0&&(n=!1);const r=Pa(t),s=Ky(t),i=qy(s);let o=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(o=Ld(o)),[o,Ld(o)]}function DL(t){const e=Ld(t);return[Ym(t),e,Ym(e)]}function Ym(t){return t.replace(/start|end/g,e=>PL[e])}const z_=["left","right"],B_=["right","left"],ML=["top","bottom"],OL=["bottom","top"];function LL(t,e,n){switch(t){case"top":case"bottom":return n?e?B_:z_:e?z_:B_;case"left":case"right":return e?ML:OL;default:return[]}}function VL(t,e,n,r){const s=Pa(t);let i=LL(Xr(t),n==="start",r);return s&&(i=i.map(o=>o+"-"+s),e&&(i=i.concat(i.map(Ym)))),i}function Ld(t){return t.replace(/left|right|bottom|top/g,e=>RL[e])}function jL(t){return{top:0,right:0,bottom:0,left:0,...t}}function bI(t){return typeof t!="number"?jL(t):{top:t,right:t,bottom:t,left:t}}function Vd(t){const{x:e,y:n,width:r,height:s}=t;return{width:r,height:s,top:n,left:e,right:e+r,bottom:n+s,x:e,y:n}}function H_(t,e,n){let{reference:r,floating:s}=t;const i=gr(e),o=Ky(e),a=qy(o),l=Xr(e),u=i==="y",d=r.x+r.width/2-s.width/2,h=r.y+r.height/2-s.height/2,p=r[a]/2-s[a]/2;let g;switch(l){case"top":g={x:d,y:r.y-s.height};break;case"bottom":g={x:d,y:r.y+r.height};break;case"right":g={x:r.x+r.width,y:h};break;case"left":g={x:r.x-s.width,y:h};break;default:g={x:r.x,y:r.y}}switch(Pa(e)){case"start":g[o]-=p*(n&&u?-1:1);break;case"end":g[o]+=p*(n&&u?-1:1);break}return g}const FL=async(t,e,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:o}=n,a=i.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let u=await o.getElementRects({reference:t,floating:e,strategy:s}),{x:d,y:h}=H_(u,r,l),p=r,g={},S=0;for(let E=0;E<a.length;E++){const{name:x,fn:w}=a[E],{x:_,y:T,data:P,reset:M}=await w({x:d,y:h,initialPlacement:r,placement:p,strategy:s,middlewareData:g,rects:u,platform:o,elements:{reference:t,floating:e}});d=_??d,h=T??h,g={...g,[x]:{...g[x],...P}},M&&S<=50&&(S++,typeof M=="object"&&(M.placement&&(p=M.placement),M.rects&&(u=M.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:s}):M.rects),{x:d,y:h}=H_(u,p,l)),E=-1)}return{x:d,y:h,placement:p,strategy:s,middlewareData:g}};async function ic(t,e){var n;e===void 0&&(e={});const{x:r,y:s,platform:i,rects:o,elements:a,strategy:l}=t,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:h="floating",altBoundary:p=!1,padding:g=0}=Yr(e,t),S=bI(g),x=a[p?h==="floating"?"reference":"floating":h],w=Vd(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(x)))==null||n?x:x.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(a.floating)),boundary:u,rootBoundary:d,strategy:l})),_=h==="floating"?{x:r,y:s,width:o.floating.width,height:o.floating.height}:o.reference,T=await(i.getOffsetParent==null?void 0:i.getOffsetParent(a.floating)),P=await(i.isElement==null?void 0:i.isElement(T))?await(i.getScale==null?void 0:i.getScale(T))||{x:1,y:1}:{x:1,y:1},M=Vd(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:_,offsetParent:T,strategy:l}):_);return{top:(w.top-M.top+S.top)/P.y,bottom:(M.bottom-w.bottom+S.bottom)/P.y,left:(w.left-M.left+S.left)/P.x,right:(M.right-w.right+S.right)/P.x}}const UL=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:s,rects:i,platform:o,elements:a,middlewareData:l}=e,{element:u,padding:d=0}=Yr(t,e)||{};if(u==null)return{};const h=bI(d),p={x:n,y:r},g=Ky(s),S=qy(g),E=await o.getDimensions(u),x=g==="y",w=x?"top":"left",_=x?"bottom":"right",T=x?"clientHeight":"clientWidth",P=i.reference[S]+i.reference[g]-p[g]-i.floating[S],M=p[g]-i.reference[g],O=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let b=O?O[T]:0;(!b||!await(o.isElement==null?void 0:o.isElement(O)))&&(b=a.floating[T]||i.floating[S]);const I=P/2-M/2,C=b/2-E[S]/2-1,R=Xs(h[w],C),N=Xs(h[_],C),D=R,k=b-E[S]-N,H=b/2-E[S]/2+I,se=Qm(D,H,k),Z=!l.arrow&&Pa(s)!=null&&H!==se&&i.reference[S]/2-(H<D?R:N)-E[S]/2<0,oe=Z?H<D?H-D:H-k:0;return{[g]:p[g]+oe,data:{[g]:se,centerOffset:H-se-oe,...Z&&{alignmentOffset:oe}},reset:Z}}}),$L=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:s,middlewareData:i,rects:o,initialPlacement:a,platform:l,elements:u}=e,{mainAxis:d=!0,crossAxis:h=!0,fallbackPlacements:p,fallbackStrategy:g="bestFit",fallbackAxisSideDirection:S="none",flipAlignment:E=!0,...x}=Yr(t,e);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const w=Xr(s),_=gr(a),T=Xr(a)===a,P=await(l.isRTL==null?void 0:l.isRTL(u.floating)),M=p||(T||!E?[Ld(a)]:DL(a)),O=S!=="none";!p&&O&&M.push(...VL(a,E,S,P));const b=[a,...M],I=await ic(e,x),C=[];let R=((r=i.flip)==null?void 0:r.overflows)||[];if(d&&C.push(I[w]),h){const H=NL(s,o,P);C.push(I[H[0]],I[H[1]])}if(R=[...R,{placement:s,overflows:C}],!C.every(H=>H<=0)){var N,D;const H=(((N=i.flip)==null?void 0:N.index)||0)+1,se=b[H];if(se&&(!(h==="alignment"?_!==gr(se):!1)||R.every(F=>F.overflows[0]>0&&gr(F.placement)===_)))return{data:{index:H,overflows:R},reset:{placement:se}};let Z=(D=R.filter(oe=>oe.overflows[0]<=0).sort((oe,F)=>oe.overflows[1]-F.overflows[1])[0])==null?void 0:D.placement;if(!Z)switch(g){case"bestFit":{var k;const oe=(k=R.filter(F=>{if(O){const V=gr(F.placement);return V===_||V==="y"}return!0}).map(F=>[F.placement,F.overflows.filter(V=>V>0).reduce((V,G)=>V+G,0)]).sort((F,V)=>F[1]-V[1])[0])==null?void 0:k[0];oe&&(Z=oe);break}case"initialPlacement":Z=a;break}if(s!==Z)return{reset:{placement:Z}}}return{}}}};function W_(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function G_(t){return AL.some(e=>t[e]>=0)}const zL=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...s}=Yr(t,e);switch(r){case"referenceHidden":{const i=await ic(e,{...s,elementContext:"reference"}),o=W_(i,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:G_(o)}}}case"escaped":{const i=await ic(e,{...s,altBoundary:!0}),o=W_(i,n.floating);return{data:{escapedOffsets:o,escaped:G_(o)}}}default:return{}}}}},CI=new Set(["left","top"]);async function BL(t,e){const{placement:n,platform:r,elements:s}=t,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),o=Xr(n),a=Pa(n),l=gr(n)==="y",u=CI.has(o)?-1:1,d=i&&l?-1:1,h=Yr(e,t);let{mainAxis:p,crossAxis:g,alignmentAxis:S}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return a&&typeof S=="number"&&(g=a==="end"?S*-1:S),l?{x:g*d,y:p*u}:{x:p*u,y:g*d}}const HL=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:s,y:i,placement:o,middlewareData:a}=e,l=await BL(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:s+l.x,y:i+l.y,data:{...l,placement:o}}}}},WL=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:s}=e,{mainAxis:i=!0,crossAxis:o=!1,limiter:a={fn:x=>{let{x:w,y:_}=x;return{x:w,y:_}}},...l}=Yr(t,e),u={x:n,y:r},d=await ic(e,l),h=gr(Xr(s)),p=Gy(h);let g=u[p],S=u[h];if(i){const x=p==="y"?"top":"left",w=p==="y"?"bottom":"right",_=g+d[x],T=g-d[w];g=Qm(_,g,T)}if(o){const x=h==="y"?"top":"left",w=h==="y"?"bottom":"right",_=S+d[x],T=S-d[w];S=Qm(_,S,T)}const E=a.fn({...e,[p]:g,[h]:S});return{...E,data:{x:E.x-n,y:E.y-r,enabled:{[p]:i,[h]:o}}}}}},GL=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:s,rects:i,middlewareData:o}=e,{offset:a=0,mainAxis:l=!0,crossAxis:u=!0}=Yr(t,e),d={x:n,y:r},h=gr(s),p=Gy(h);let g=d[p],S=d[h];const E=Yr(a,e),x=typeof E=="number"?{mainAxis:E,crossAxis:0}:{mainAxis:0,crossAxis:0,...E};if(l){const T=p==="y"?"height":"width",P=i.reference[p]-i.floating[T]+x.mainAxis,M=i.reference[p]+i.reference[T]-x.mainAxis;g<P?g=P:g>M&&(g=M)}if(u){var w,_;const T=p==="y"?"width":"height",P=CI.has(Xr(s)),M=i.reference[h]-i.floating[T]+(P&&((w=o.offset)==null?void 0:w[h])||0)+(P?0:x.crossAxis),O=i.reference[h]+i.reference[T]+(P?0:((_=o.offset)==null?void 0:_[h])||0)-(P?x.crossAxis:0);S<M?S=M:S>O&&(S=O)}return{[p]:g,[h]:S}}}},qL=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:s,rects:i,platform:o,elements:a}=e,{apply:l=()=>{},...u}=Yr(t,e),d=await ic(e,u),h=Xr(s),p=Pa(s),g=gr(s)==="y",{width:S,height:E}=i.floating;let x,w;h==="top"||h==="bottom"?(x=h,w=p===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(w=h,x=p==="end"?"top":"bottom");const _=E-d.top-d.bottom,T=S-d.left-d.right,P=Xs(E-d[x],_),M=Xs(S-d[w],T),O=!e.middlewareData.shift;let b=P,I=M;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(I=T),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(b=_),O&&!p){const R=rn(d.left,0),N=rn(d.right,0),D=rn(d.top,0),k=rn(d.bottom,0);g?I=S-2*(R!==0||N!==0?R+N:rn(d.left,d.right)):b=E-2*(D!==0||k!==0?D+k:rn(d.top,d.bottom))}await l({...e,availableWidth:I,availableHeight:b});const C=await o.getDimensions(a.floating);return S!==C.width||E!==C.height?{reset:{rects:!0}}:{}}}};function jh(){return typeof window<"u"}function ka(t){return AI(t)?(t.nodeName||"").toLowerCase():"#document"}function an(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Rr(t){var e;return(e=(AI(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function AI(t){return jh()?t instanceof Node||t instanceof an(t).Node:!1}function qn(t){return jh()?t instanceof Element||t instanceof an(t).Element:!1}function Ir(t){return jh()?t instanceof HTMLElement||t instanceof an(t).HTMLElement:!1}function q_(t){return!jh()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof an(t).ShadowRoot}const KL=new Set(["inline","contents"]);function kc(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=Kn(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!KL.has(s)}const QL=new Set(["table","td","th"]);function YL(t){return QL.has(ka(t))}const XL=[":popover-open",":modal"];function Fh(t){return XL.some(e=>{try{return t.matches(e)}catch{return!1}})}const JL=["transform","translate","scale","rotate","perspective"],ZL=["transform","translate","scale","rotate","perspective","filter"],e4=["paint","layout","strict","content"];function Qy(t){const e=Yy(),n=qn(t)?Kn(t):t;return JL.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||ZL.some(r=>(n.willChange||"").includes(r))||e4.some(r=>(n.contain||"").includes(r))}function t4(t){let e=Js(t);for(;Ir(e)&&!ma(e);){if(Qy(e))return e;if(Fh(e))return null;e=Js(e)}return null}function Yy(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const n4=new Set(["html","body","#document"]);function ma(t){return n4.has(ka(t))}function Kn(t){return an(t).getComputedStyle(t)}function Uh(t){return qn(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Js(t){if(ka(t)==="html")return t;const e=t.assignedSlot||t.parentNode||q_(t)&&t.host||Rr(t);return q_(e)?e.host:e}function RI(t){const e=Js(t);return ma(e)?t.ownerDocument?t.ownerDocument.body:t.body:Ir(e)&&kc(e)?e:RI(e)}function oc(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=RI(t),i=s===((r=t.ownerDocument)==null?void 0:r.body),o=an(s);if(i){const a=Xm(o);return e.concat(o,o.visualViewport||[],kc(s)?s:[],a&&n?oc(a):[])}return e.concat(s,oc(s,[],n))}function Xm(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function PI(t){const e=Kn(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=Ir(t),i=s?t.offsetWidth:n,o=s?t.offsetHeight:r,a=Od(n)!==i||Od(r)!==o;return a&&(n=i,r=o),{width:n,height:r,$:a}}function Xy(t){return qn(t)?t:t.contextElement}function $o(t){const e=Xy(t);if(!Ir(e))return wr(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:i}=PI(e);let o=(i?Od(n.width):n.width)/r,a=(i?Od(n.height):n.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const r4=wr(0);function kI(t){const e=an(t);return!Yy()||!e.visualViewport?r4:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function s4(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==an(t)?!1:e}function zi(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),i=Xy(t);let o=wr(1);e&&(r?qn(r)&&(o=$o(r)):o=$o(t));const a=s4(i,n,r)?kI(i):wr(0);let l=(s.left+a.x)/o.x,u=(s.top+a.y)/o.y,d=s.width/o.x,h=s.height/o.y;if(i){const p=an(i),g=r&&qn(r)?an(r):r;let S=p,E=Xm(S);for(;E&&r&&g!==S;){const x=$o(E),w=E.getBoundingClientRect(),_=Kn(E),T=w.left+(E.clientLeft+parseFloat(_.paddingLeft))*x.x,P=w.top+(E.clientTop+parseFloat(_.paddingTop))*x.y;l*=x.x,u*=x.y,d*=x.x,h*=x.y,l+=T,u+=P,S=an(E),E=Xm(S)}}return Vd({width:d,height:h,x:l,y:u})}function Jy(t,e){const n=Uh(t).scrollLeft;return e?e.left+n:zi(Rr(t)).left+n}function NI(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),s=r.left+e.scrollLeft-(n?0:Jy(t,r)),i=r.top+e.scrollTop;return{x:s,y:i}}function i4(t){let{elements:e,rect:n,offsetParent:r,strategy:s}=t;const i=s==="fixed",o=Rr(r),a=e?Fh(e.floating):!1;if(r===o||a&&i)return n;let l={scrollLeft:0,scrollTop:0},u=wr(1);const d=wr(0),h=Ir(r);if((h||!h&&!i)&&((ka(r)!=="body"||kc(o))&&(l=Uh(r)),Ir(r))){const g=zi(r);u=$o(r),d.x=g.x+r.clientLeft,d.y=g.y+r.clientTop}const p=o&&!h&&!i?NI(o,l,!0):wr(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-l.scrollLeft*u.x+d.x+p.x,y:n.y*u.y-l.scrollTop*u.y+d.y+p.y}}function o4(t){return Array.from(t.getClientRects())}function a4(t){const e=Rr(t),n=Uh(t),r=t.ownerDocument.body,s=rn(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),i=rn(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+Jy(t);const a=-n.scrollTop;return Kn(r).direction==="rtl"&&(o+=rn(e.clientWidth,r.clientWidth)-s),{width:s,height:i,x:o,y:a}}function l4(t,e){const n=an(t),r=Rr(t),s=n.visualViewport;let i=r.clientWidth,o=r.clientHeight,a=0,l=0;if(s){i=s.width,o=s.height;const u=Yy();(!u||u&&e==="fixed")&&(a=s.offsetLeft,l=s.offsetTop)}return{width:i,height:o,x:a,y:l}}const c4=new Set(["absolute","fixed"]);function u4(t,e){const n=zi(t,!0,e==="fixed"),r=n.top+t.clientTop,s=n.left+t.clientLeft,i=Ir(t)?$o(t):wr(1),o=t.clientWidth*i.x,a=t.clientHeight*i.y,l=s*i.x,u=r*i.y;return{width:o,height:a,x:l,y:u}}function K_(t,e,n){let r;if(e==="viewport")r=l4(t,n);else if(e==="document")r=a4(Rr(t));else if(qn(e))r=u4(e,n);else{const s=kI(t);r={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return Vd(r)}function DI(t,e){const n=Js(t);return n===e||!qn(n)||ma(n)?!1:Kn(n).position==="fixed"||DI(n,e)}function d4(t,e){const n=e.get(t);if(n)return n;let r=oc(t,[],!1).filter(a=>qn(a)&&ka(a)!=="body"),s=null;const i=Kn(t).position==="fixed";let o=i?Js(t):t;for(;qn(o)&&!ma(o);){const a=Kn(o),l=Qy(o);!l&&a.position==="fixed"&&(s=null),(i?!l&&!s:!l&&a.position==="static"&&!!s&&c4.has(s.position)||kc(o)&&!l&&DI(t,o))?r=r.filter(d=>d!==o):s=a,o=Js(o)}return e.set(t,r),r}function h4(t){let{element:e,boundary:n,rootBoundary:r,strategy:s}=t;const o=[...n==="clippingAncestors"?Fh(e)?[]:d4(e,this._c):[].concat(n),r],a=o[0],l=o.reduce((u,d)=>{const h=K_(e,d,s);return u.top=rn(h.top,u.top),u.right=Xs(h.right,u.right),u.bottom=Xs(h.bottom,u.bottom),u.left=rn(h.left,u.left),u},K_(e,a,s));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function f4(t){const{width:e,height:n}=PI(t);return{width:e,height:n}}function p4(t,e,n){const r=Ir(e),s=Rr(e),i=n==="fixed",o=zi(t,!0,i,e);let a={scrollLeft:0,scrollTop:0};const l=wr(0);function u(){l.x=Jy(s)}if(r||!r&&!i)if((ka(e)!=="body"||kc(s))&&(a=Uh(e)),r){const g=zi(e,!0,i,e);l.x=g.x+e.clientLeft,l.y=g.y+e.clientTop}else s&&u();i&&!r&&s&&u();const d=s&&!r&&!i?NI(s,a):wr(0),h=o.left+a.scrollLeft-l.x-d.x,p=o.top+a.scrollTop-l.y-d.y;return{x:h,y:p,width:o.width,height:o.height}}function Tp(t){return Kn(t).position==="static"}function Q_(t,e){if(!Ir(t)||Kn(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Rr(t)===n&&(n=n.ownerDocument.body),n}function MI(t,e){const n=an(t);if(Fh(t))return n;if(!Ir(t)){let s=Js(t);for(;s&&!ma(s);){if(qn(s)&&!Tp(s))return s;s=Js(s)}return n}let r=Q_(t,e);for(;r&&YL(r)&&Tp(r);)r=Q_(r,e);return r&&ma(r)&&Tp(r)&&!Qy(r)?n:r||t4(t)||n}const m4=async function(t){const e=this.getOffsetParent||MI,n=this.getDimensions,r=await n(t.floating);return{reference:p4(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function g4(t){return Kn(t).direction==="rtl"}const y4={convertOffsetParentRelativeRectToViewportRelativeRect:i4,getDocumentElement:Rr,getClippingRect:h4,getOffsetParent:MI,getElementRects:m4,getClientRects:o4,getDimensions:f4,getScale:$o,isElement:qn,isRTL:g4};function OI(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function v4(t,e){let n=null,r;const s=Rr(t);function i(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),i();const u=t.getBoundingClientRect(),{left:d,top:h,width:p,height:g}=u;if(a||e(),!p||!g)return;const S=Su(h),E=Su(s.clientWidth-(d+p)),x=Su(s.clientHeight-(h+g)),w=Su(d),T={rootMargin:-S+"px "+-E+"px "+-x+"px "+-w+"px",threshold:rn(0,Xs(1,l))||1};let P=!0;function M(O){const b=O[0].intersectionRatio;if(b!==l){if(!P)return o();b?o(!1,b):r=setTimeout(()=>{o(!1,1e-7)},1e3)}b===1&&!OI(u,t.getBoundingClientRect())&&o(),P=!1}try{n=new IntersectionObserver(M,{...T,root:s.ownerDocument})}catch{n=new IntersectionObserver(M,T)}n.observe(t)}return o(!0),i}function w4(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,u=Xy(t),d=s||i?[...u?oc(u):[],...oc(e)]:[];d.forEach(w=>{s&&w.addEventListener("scroll",n,{passive:!0}),i&&w.addEventListener("resize",n)});const h=u&&a?v4(u,n):null;let p=-1,g=null;o&&(g=new ResizeObserver(w=>{let[_]=w;_&&_.target===u&&g&&(g.unobserve(e),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var T;(T=g)==null||T.observe(e)})),n()}),u&&!l&&g.observe(u),g.observe(e));let S,E=l?zi(t):null;l&&x();function x(){const w=zi(t);E&&!OI(E,w)&&n(),E=w,S=requestAnimationFrame(x)}return n(),()=>{var w;d.forEach(_=>{s&&_.removeEventListener("scroll",n),i&&_.removeEventListener("resize",n)}),h==null||h(),(w=g)==null||w.disconnect(),g=null,l&&cancelAnimationFrame(S)}}const _4=HL,E4=WL,x4=$L,T4=qL,S4=zL,Y_=UL,I4=GL,b4=(t,e,n)=>{const r=new Map,s={platform:y4,...n},i={...s.platform,_c:r};return FL(t,e,{...s,platform:i})};var C4=typeof document<"u",A4=function(){},Ju=C4?y.useLayoutEffect:A4;function jd(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!jd(t[r],e[r]))return!1;return!0}if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(!(i==="_owner"&&t.$$typeof)&&!jd(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function LI(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function X_(t,e){const n=LI(t);return Math.round(e*n)/n}function Sp(t){const e=y.useRef(t);return Ju(()=>{e.current=t}),e}function R4(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:i,floating:o}={},transform:a=!0,whileElementsMounted:l,open:u}=t,[d,h]=y.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[p,g]=y.useState(r);jd(p,r)||g(r);const[S,E]=y.useState(null),[x,w]=y.useState(null),_=y.useCallback(F=>{F!==O.current&&(O.current=F,E(F))},[]),T=y.useCallback(F=>{F!==b.current&&(b.current=F,w(F))},[]),P=i||S,M=o||x,O=y.useRef(null),b=y.useRef(null),I=y.useRef(d),C=l!=null,R=Sp(l),N=Sp(s),D=Sp(u),k=y.useCallback(()=>{if(!O.current||!b.current)return;const F={placement:e,strategy:n,middleware:p};N.current&&(F.platform=N.current),b4(O.current,b.current,F).then(V=>{const G={...V,isPositioned:D.current!==!1};H.current&&!jd(I.current,G)&&(I.current=G,Ac.flushSync(()=>{h(G)}))})},[p,e,n,N,D]);Ju(()=>{u===!1&&I.current.isPositioned&&(I.current.isPositioned=!1,h(F=>({...F,isPositioned:!1})))},[u]);const H=y.useRef(!1);Ju(()=>(H.current=!0,()=>{H.current=!1}),[]),Ju(()=>{if(P&&(O.current=P),M&&(b.current=M),P&&M){if(R.current)return R.current(P,M,k);k()}},[P,M,k,R,C]);const se=y.useMemo(()=>({reference:O,floating:b,setReference:_,setFloating:T}),[_,T]),Z=y.useMemo(()=>({reference:P,floating:M}),[P,M]),oe=y.useMemo(()=>{const F={position:n,left:0,top:0};if(!Z.floating)return F;const V=X_(Z.floating,d.x),G=X_(Z.floating,d.y);return a?{...F,transform:"translate("+V+"px, "+G+"px)",...LI(Z.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:V,top:G}},[n,a,Z.floating,d.x,d.y]);return y.useMemo(()=>({...d,update:k,refs:se,elements:Z,floatingStyles:oe}),[d,k,se,Z,oe])}const P4=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:s}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?Y_({element:r.current,padding:s}).fn(n):{}:r?Y_({element:r,padding:s}).fn(n):{}}}},k4=(t,e)=>({..._4(t),options:[t,e]}),N4=(t,e)=>({...E4(t),options:[t,e]}),D4=(t,e)=>({...I4(t),options:[t,e]}),M4=(t,e)=>({...x4(t),options:[t,e]}),O4=(t,e)=>({...T4(t),options:[t,e]}),L4=(t,e)=>({...S4(t),options:[t,e]}),V4=(t,e)=>({...P4(t),options:[t,e]});var j4="Arrow",VI=y.forwardRef((t,e)=>{const{children:n,width:r=10,height:s=5,...i}=t;return f.jsx(_e.svg,{...i,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:f.jsx("polygon",{points:"0,0 30,0 15,10"})})});VI.displayName=j4;var F4=VI;function U4(t){const[e,n]=y.useState(void 0);return un(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,a;if("borderBoxSize"in i){const l=i.borderBoxSize,u=Array.isArray(l)?l[0]:l;o=u.inlineSize,a=u.blockSize}else o=t.offsetWidth,a=t.offsetHeight;n({width:o,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var Zy="Popper",[jI,$h]=Xn(Zy),[$4,FI]=jI(Zy),UI=t=>{const{__scopePopper:e,children:n}=t,[r,s]=y.useState(null);return f.jsx($4,{scope:e,anchor:r,onAnchorChange:s,children:n})};UI.displayName=Zy;var $I="PopperAnchor",zI=y.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...s}=t,i=FI($I,n),o=y.useRef(null),a=Ae(e,o);return y.useEffect(()=>{i.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:f.jsx(_e.div,{...s,ref:a})});zI.displayName=$I;var ev="PopperContent",[z4,B4]=jI(ev),BI=y.forwardRef((t,e)=>{var he,Zt,Qe,fn,er,kr;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:i="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:h="partial",hideWhenDetached:p=!1,updatePositionStrategy:g="optimized",onPlaced:S,...E}=t,x=FI(ev,n),[w,_]=y.useState(null),T=Ae(e,pn=>_(pn)),[P,M]=y.useState(null),O=U4(P),b=(O==null?void 0:O.width)??0,I=(O==null?void 0:O.height)??0,C=r+(i!=="center"?"-"+i:""),R=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},N=Array.isArray(u)?u:[u],D=N.length>0,k={padding:R,boundary:N.filter(W4),altBoundary:D},{refs:H,floatingStyles:se,placement:Z,isPositioned:oe,middlewareData:F}=R4({strategy:"fixed",placement:C,whileElementsMounted:(...pn)=>w4(...pn,{animationFrame:g==="always"}),elements:{reference:x.anchor},middleware:[k4({mainAxis:s+I,alignmentAxis:o}),l&&N4({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?D4():void 0,...k}),l&&M4({...k}),O4({...k,apply:({elements:pn,rects:ui,availableWidth:$a,availableHeight:ss})=>{const{width:di,height:is}=ui.reference,$e=pn.floating.style;$e.setProperty("--radix-popper-available-width",`${$a}px`),$e.setProperty("--radix-popper-available-height",`${ss}px`),$e.setProperty("--radix-popper-anchor-width",`${di}px`),$e.setProperty("--radix-popper-anchor-height",`${is}px`)}}),P&&V4({element:P,padding:a}),G4({arrowWidth:b,arrowHeight:I}),p&&L4({strategy:"referenceHidden",...k})]}),[V,G]=GI(Z),ee=Je(S);un(()=>{oe&&(ee==null||ee())},[oe,ee]);const X=(he=F.arrow)==null?void 0:he.x,ce=(Zt=F.arrow)==null?void 0:Zt.y,ae=((Qe=F.arrow)==null?void 0:Qe.centerOffset)!==0,[Re,Ne]=y.useState();return un(()=>{w&&Ne(window.getComputedStyle(w).zIndex)},[w]),f.jsx("div",{ref:H.setFloating,"data-radix-popper-content-wrapper":"",style:{...se,transform:oe?se.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Re,"--radix-popper-transform-origin":[(fn=F.transformOrigin)==null?void 0:fn.x,(er=F.transformOrigin)==null?void 0:er.y].join(" "),...((kr=F.hide)==null?void 0:kr.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:f.jsx(z4,{scope:n,placedSide:V,onArrowChange:M,arrowX:X,arrowY:ce,shouldHideArrow:ae,children:f.jsx(_e.div,{"data-side":V,"data-align":G,...E,ref:T,style:{...E.style,animation:oe?void 0:"none"}})})})});BI.displayName=ev;var HI="PopperArrow",H4={top:"bottom",right:"left",bottom:"top",left:"right"},WI=y.forwardRef(function(e,n){const{__scopePopper:r,...s}=e,i=B4(HI,r),o=H4[i.placedSide];return f.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:f.jsx(F4,{...s,ref:n,style:{...s.style,display:"block"}})})});WI.displayName=HI;function W4(t){return t!==null}var G4=t=>({name:"transformOrigin",options:t,fn(e){var x,w,_;const{placement:n,rects:r,middlewareData:s}=e,o=((x=s.arrow)==null?void 0:x.centerOffset)!==0,a=o?0:t.arrowWidth,l=o?0:t.arrowHeight,[u,d]=GI(n),h={start:"0%",center:"50%",end:"100%"}[d],p=(((w=s.arrow)==null?void 0:w.x)??0)+a/2,g=(((_=s.arrow)==null?void 0:_.y)??0)+l/2;let S="",E="";return u==="bottom"?(S=o?h:`${p}px`,E=`${-l}px`):u==="top"?(S=o?h:`${p}px`,E=`${r.floating.height+l}px`):u==="right"?(S=`${-l}px`,E=o?h:`${g}px`):u==="left"&&(S=`${r.floating.width+l}px`,E=o?h:`${g}px`),{data:{x:S,y:E}}}});function GI(t){const[e,n="center"]=t.split("-");return[e,n]}var q4=UI,qI=zI,KI=BI,QI=WI,[zh,lW]=Xn("Tooltip",[$h]),tv=$h(),YI="TooltipProvider",K4=700,J_="tooltip.open",[Q4,XI]=zh(YI),JI=t=>{const{__scopeTooltip:e,delayDuration:n=K4,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:i}=t,o=y.useRef(!0),a=y.useRef(!1),l=y.useRef(0);return y.useEffect(()=>{const u=l.current;return()=>window.clearTimeout(u)},[]),f.jsx(Q4,{scope:e,isOpenDelayedRef:o,delayDuration:n,onOpen:y.useCallback(()=>{window.clearTimeout(l.current),o.current=!1},[]),onClose:y.useCallback(()=>{window.clearTimeout(l.current),l.current=window.setTimeout(()=>o.current=!0,r)},[r]),isPointerInTransitRef:a,onPointerInTransitChange:y.useCallback(u=>{a.current=u},[]),disableHoverableContent:s,children:i})};JI.displayName=YI;var ZI="Tooltip",[cW,Bh]=zh(ZI),Jm="TooltipTrigger",Y4=y.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=Bh(Jm,n),i=XI(Jm,n),o=tv(n),a=y.useRef(null),l=Ae(e,a,s.onTriggerChange),u=y.useRef(!1),d=y.useRef(!1),h=y.useCallback(()=>u.current=!1,[]);return y.useEffect(()=>()=>document.removeEventListener("pointerup",h),[h]),f.jsx(qI,{asChild:!0,...o,children:f.jsx(_e.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:l,onPointerMove:J(t.onPointerMove,p=>{p.pointerType!=="touch"&&!d.current&&!i.isPointerInTransitRef.current&&(s.onTriggerEnter(),d.current=!0)}),onPointerLeave:J(t.onPointerLeave,()=>{s.onTriggerLeave(),d.current=!1}),onPointerDown:J(t.onPointerDown,()=>{s.open&&s.onClose(),u.current=!0,document.addEventListener("pointerup",h,{once:!0})}),onFocus:J(t.onFocus,()=>{u.current||s.onOpen()}),onBlur:J(t.onBlur,s.onClose),onClick:J(t.onClick,s.onClose)})})});Y4.displayName=Jm;var X4="TooltipPortal",[uW,J4]=zh(X4,{forceMount:void 0}),ga="TooltipContent",eb=y.forwardRef((t,e)=>{const n=J4(ga,t.__scopeTooltip),{forceMount:r=n.forceMount,side:s="top",...i}=t,o=Bh(ga,t.__scopeTooltip);return f.jsx(Jt,{present:r||o.open,children:o.disableHoverableContent?f.jsx(tb,{side:s,...i,ref:e}):f.jsx(Z4,{side:s,...i,ref:e})})}),Z4=y.forwardRef((t,e)=>{const n=Bh(ga,t.__scopeTooltip),r=XI(ga,t.__scopeTooltip),s=y.useRef(null),i=Ae(e,s),[o,a]=y.useState(null),{trigger:l,onClose:u}=n,d=s.current,{onPointerInTransitChange:h}=r,p=y.useCallback(()=>{a(null),h(!1)},[h]),g=y.useCallback((S,E)=>{const x=S.currentTarget,w={x:S.clientX,y:S.clientY},_=sV(w,x.getBoundingClientRect()),T=iV(w,_),P=oV(E.getBoundingClientRect()),M=lV([...T,...P]);a(M),h(!0)},[h]);return y.useEffect(()=>()=>p(),[p]),y.useEffect(()=>{if(l&&d){const S=x=>g(x,d),E=x=>g(x,l);return l.addEventListener("pointerleave",S),d.addEventListener("pointerleave",E),()=>{l.removeEventListener("pointerleave",S),d.removeEventListener("pointerleave",E)}}},[l,d,g,p]),y.useEffect(()=>{if(o){const S=E=>{const x=E.target,w={x:E.clientX,y:E.clientY},_=(l==null?void 0:l.contains(x))||(d==null?void 0:d.contains(x)),T=!aV(w,o);_?p():T&&(p(),u())};return document.addEventListener("pointermove",S),()=>document.removeEventListener("pointermove",S)}},[l,d,o,u,p]),f.jsx(tb,{...t,ref:i})}),[eV,tV]=zh(ZI,{isInside:!1}),nV=BS("TooltipContent"),tb=y.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":s,onEscapeKeyDown:i,onPointerDownOutside:o,...a}=t,l=Bh(ga,n),u=tv(n),{onClose:d}=l;return y.useEffect(()=>(document.addEventListener(J_,d),()=>document.removeEventListener(J_,d)),[d]),y.useEffect(()=>{if(l.trigger){const h=p=>{const g=p.target;g!=null&&g.contains(l.trigger)&&d()};return window.addEventListener("scroll",h,{capture:!0}),()=>window.removeEventListener("scroll",h,{capture:!0})}},[l.trigger,d]),f.jsx(Rc,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:h=>h.preventDefault(),onDismiss:d,children:f.jsxs(KI,{"data-state":l.stateAttribute,...u,...a,ref:e,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[f.jsx(nV,{children:r}),f.jsx(eV,{scope:n,isInside:!0,children:f.jsx(xM,{id:l.contentId,role:"tooltip",children:s||r})})]})})});eb.displayName=ga;var nb="TooltipArrow",rV=y.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=tv(n);return tV(nb,n).isInside?null:f.jsx(QI,{...s,...r,ref:e})});rV.displayName=nb;function sV(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),s=Math.abs(e.right-t.x),i=Math.abs(e.left-t.x);switch(Math.min(n,r,s,i)){case i:return"left";case s:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function iV(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function oV(t){const{top:e,right:n,bottom:r,left:s}=t;return[{x:s,y:e},{x:n,y:e},{x:n,y:r},{x:s,y:r}]}function aV(t,e){const{x:n,y:r}=t;let s=!1;for(let i=0,o=e.length-1;i<e.length;o=i++){const a=e[i],l=e[o],u=a.x,d=a.y,h=l.x,p=l.y;d>r!=p>r&&n<(h-u)*(r-d)/(p-d)+u&&(s=!s)}return s}function lV(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),cV(e)}function cV(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const s=t[r];for(;e.length>=2;){const i=e[e.length-1],o=e[e.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))e.pop();else break}e.push(s)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const s=t[r];for(;n.length>=2;){const i=n[n.length-1],o=n[n.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))n.pop();else break}n.push(s)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var uV=JI,rb=eb;const dV=uV,hV=y.forwardRef(({className:t,sideOffset:e=4,...n},r)=>f.jsx(rb,{ref:r,sideOffset:e,className:me("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n}));hV.displayName=rb.displayName;var Hh=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Wh=typeof window>"u"||"Deno"in globalThis;function On(){}function fV(t,e){return typeof t=="function"?t(e):t}function pV(t){return typeof t=="number"&&t>=0&&t!==1/0}function mV(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Zm(t,e){return typeof t=="function"?t(e):t}function gV(t,e){return typeof t=="function"?t(e):t}function Z_(t,e){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:o,stale:a}=t;if(o){if(r){if(e.queryHash!==nv(o,e.options))return!1}else if(!lc(e.queryKey,o))return!1}if(n!=="all"){const l=e.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||s&&s!==e.state.fetchStatus||i&&!i(e))}function eE(t,e){const{exact:n,status:r,predicate:s,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(n){if(ac(e.options.mutationKey)!==ac(i))return!1}else if(!lc(e.options.mutationKey,i))return!1}return!(r&&e.state.status!==r||s&&!s(e))}function nv(t,e){return((e==null?void 0:e.queryKeyHashFn)||ac)(t)}function ac(t){return JSON.stringify(t,(e,n)=>eg(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function lc(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>lc(t[n],e[n])):!1}function sb(t,e){if(t===e)return t;const n=tE(t)&&tE(e);if(n||eg(t)&&eg(e)){const r=n?t:Object.keys(t),s=r.length,i=n?e:Object.keys(e),o=i.length,a=n?[]:{},l=new Set(r);let u=0;for(let d=0;d<o;d++){const h=n?d:i[d];(!n&&l.has(h)||n)&&t[h]===void 0&&e[h]===void 0?(a[h]=void 0,u++):(a[h]=sb(t[h],e[h]),a[h]===t[h]&&t[h]!==void 0&&u++)}return s===o&&u===s?t:a}return e}function tE(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function eg(t){if(!nE(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!nE(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function nE(t){return Object.prototype.toString.call(t)==="[object Object]"}function yV(t){return new Promise(e=>{setTimeout(e,t)})}function vV(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?sb(t,e):e}function wV(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function _V(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var rv=Symbol();function ib(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===rv?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var Ai,bs,Jo,wx,EV=(wx=class extends Hh{constructor(){super();Te(this,Ai);Te(this,bs);Te(this,Jo);de(this,Jo,e=>{if(!Wh&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){U(this,bs)||this.setEventListener(U(this,Jo))}onUnsubscribe(){var e;this.hasListeners()||((e=U(this,bs))==null||e.call(this),de(this,bs,void 0))}setEventListener(e){var n;de(this,Jo,e),(n=U(this,bs))==null||n.call(this),de(this,bs,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){U(this,Ai)!==e&&(de(this,Ai,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof U(this,Ai)=="boolean"?U(this,Ai):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Ai=new WeakMap,bs=new WeakMap,Jo=new WeakMap,wx),ob=new EV,Zo,Cs,ea,_x,xV=(_x=class extends Hh{constructor(){super();Te(this,Zo,!0);Te(this,Cs);Te(this,ea);de(this,ea,e=>{if(!Wh&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){U(this,Cs)||this.setEventListener(U(this,ea))}onUnsubscribe(){var e;this.hasListeners()||((e=U(this,Cs))==null||e.call(this),de(this,Cs,void 0))}setEventListener(e){var n;de(this,ea,e),(n=U(this,Cs))==null||n.call(this),de(this,Cs,e(this.setOnline.bind(this)))}setOnline(e){U(this,Zo)!==e&&(de(this,Zo,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return U(this,Zo)}},Zo=new WeakMap,Cs=new WeakMap,ea=new WeakMap,_x),Fd=new xV;function TV(){let t,e;const n=new Promise((s,i)=>{t=s,e=i});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),t(s)},n.reject=s=>{r({status:"rejected",reason:s}),e(s)},n}function SV(t){return Math.min(1e3*2**t,3e4)}function ab(t){return(t??"online")==="online"?Fd.isOnline():!0}var lb=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function Ip(t){return t instanceof lb}function cb(t){let e=!1,n=0,r=!1,s;const i=TV(),o=E=>{var x;r||(p(new lb(E)),(x=t.abort)==null||x.call(t))},a=()=>{e=!0},l=()=>{e=!1},u=()=>ob.isFocused()&&(t.networkMode==="always"||Fd.isOnline())&&t.canRun(),d=()=>ab(t.networkMode)&&t.canRun(),h=E=>{var x;r||(r=!0,(x=t.onSuccess)==null||x.call(t,E),s==null||s(),i.resolve(E))},p=E=>{var x;r||(r=!0,(x=t.onError)==null||x.call(t,E),s==null||s(),i.reject(E))},g=()=>new Promise(E=>{var x;s=w=>{(r||u())&&E(w)},(x=t.onPause)==null||x.call(t)}).then(()=>{var E;s=void 0,r||(E=t.onContinue)==null||E.call(t)}),S=()=>{if(r)return;let E;const x=n===0?t.initialPromise:void 0;try{E=x??t.fn()}catch(w){E=Promise.reject(w)}Promise.resolve(E).then(h).catch(w=>{var O;if(r)return;const _=t.retry??(Wh?0:3),T=t.retryDelay??SV,P=typeof T=="function"?T(n,w):T,M=_===!0||typeof _=="number"&&n<_||typeof _=="function"&&_(n,w);if(e||!M){p(w);return}n++,(O=t.onFail)==null||O.call(t,n,w),yV(P).then(()=>u()?void 0:g()).then(()=>{e?p(w):S()})})};return{promise:i,cancel:o,continue:()=>(s==null||s(),i),cancelRetry:a,continueRetry:l,canStart:d,start:()=>(d()?S():g().then(S),i)}}var IV=t=>setTimeout(t,0);function bV(){let t=[],e=0,n=a=>{a()},r=a=>{a()},s=IV;const i=a=>{e?t.push(a):s(()=>{n(a)})},o=()=>{const a=t;t=[],a.length&&s(()=>{r(()=>{a.forEach(l=>{n(l)})})})};return{batch:a=>{let l;e++;try{l=a()}finally{e--,e||o()}return l},batchCalls:a=>(...l)=>{i(()=>{a(...l)})},schedule:i,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{s=a}}}var Lt=bV(),Ri,Ex,ub=(Ex=class{constructor(){Te(this,Ri)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),pV(this.gcTime)&&de(this,Ri,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Wh?1/0:5*60*1e3))}clearGcTimeout(){U(this,Ri)&&(clearTimeout(U(this,Ri)),de(this,Ri,void 0))}},Ri=new WeakMap,Ex),ta,Pi,gn,ki,Ct,Ec,Ni,Ln,Or,xx,CV=(xx=class extends ub{constructor(n){super();Te(this,Ln);Te(this,ta);Te(this,Pi);Te(this,gn);Te(this,ki);Te(this,Ct);Te(this,Ec);Te(this,Ni);de(this,Ni,!1),de(this,Ec,n.defaultOptions),this.setOptions(n.options),this.observers=[],de(this,ki,n.client),de(this,gn,U(this,ki).getQueryCache()),this.queryKey=n.queryKey,this.queryHash=n.queryHash,de(this,ta,RV(this.options)),this.state=n.state??U(this,ta),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var n;return(n=U(this,Ct))==null?void 0:n.promise}setOptions(n){this.options={...U(this,Ec),...n},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&U(this,gn).remove(this)}setData(n,r){const s=vV(this.state.data,n,this.options);return Tt(this,Ln,Or).call(this,{data:s,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),s}setState(n,r){Tt(this,Ln,Or).call(this,{type:"setState",state:n,setStateOptions:r})}cancel(n){var s,i;const r=(s=U(this,Ct))==null?void 0:s.promise;return(i=U(this,Ct))==null||i.cancel(n),r?r.then(On).catch(On):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(U(this,ta))}isActive(){return this.observers.some(n=>gV(n.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===rv||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(n=>Zm(n.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(n=>n.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(n=0){return this.state.data===void 0?!0:n==="static"?!1:this.state.isInvalidated?!0:!mV(this.state.dataUpdatedAt,n)}onFocus(){var r;const n=this.observers.find(s=>s.shouldFetchOnWindowFocus());n==null||n.refetch({cancelRefetch:!1}),(r=U(this,Ct))==null||r.continue()}onOnline(){var r;const n=this.observers.find(s=>s.shouldFetchOnReconnect());n==null||n.refetch({cancelRefetch:!1}),(r=U(this,Ct))==null||r.continue()}addObserver(n){this.observers.includes(n)||(this.observers.push(n),this.clearGcTimeout(),U(this,gn).notify({type:"observerAdded",query:this,observer:n}))}removeObserver(n){this.observers.includes(n)&&(this.observers=this.observers.filter(r=>r!==n),this.observers.length||(U(this,Ct)&&(U(this,Ni)?U(this,Ct).cancel({revert:!0}):U(this,Ct).cancelRetry()),this.scheduleGc()),U(this,gn).notify({type:"observerRemoved",query:this,observer:n}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Tt(this,Ln,Or).call(this,{type:"invalidate"})}fetch(n,r){var d,h,p;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(U(this,Ct))return U(this,Ct).continueRetry(),U(this,Ct).promise}if(n&&this.setOptions(n),!this.options.queryFn){const g=this.observers.find(S=>S.options.queryFn);g&&this.setOptions(g.options)}const s=new AbortController,i=g=>{Object.defineProperty(g,"signal",{enumerable:!0,get:()=>(de(this,Ni,!0),s.signal)})},o=()=>{const g=ib(this.options,r),E=(()=>{const x={client:U(this,ki),queryKey:this.queryKey,meta:this.meta};return i(x),x})();return de(this,Ni,!1),this.options.persister?this.options.persister(g,E,this):g(E)},l=(()=>{const g={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:U(this,ki),state:this.state,fetchFn:o};return i(g),g})();(d=this.options.behavior)==null||d.onFetch(l,this),de(this,Pi,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((h=l.fetchOptions)==null?void 0:h.meta))&&Tt(this,Ln,Or).call(this,{type:"fetch",meta:(p=l.fetchOptions)==null?void 0:p.meta});const u=g=>{var S,E,x,w;Ip(g)&&g.silent||Tt(this,Ln,Or).call(this,{type:"error",error:g}),Ip(g)||((E=(S=U(this,gn).config).onError)==null||E.call(S,g,this),(w=(x=U(this,gn).config).onSettled)==null||w.call(x,this.state.data,g,this)),this.scheduleGc()};return de(this,Ct,cb({initialPromise:r==null?void 0:r.initialPromise,fn:l.fetchFn,abort:s.abort.bind(s),onSuccess:g=>{var S,E,x,w;if(g===void 0){u(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(g)}catch(_){u(_);return}(E=(S=U(this,gn).config).onSuccess)==null||E.call(S,g,this),(w=(x=U(this,gn).config).onSettled)==null||w.call(x,g,this.state.error,this),this.scheduleGc()},onError:u,onFail:(g,S)=>{Tt(this,Ln,Or).call(this,{type:"failed",failureCount:g,error:S})},onPause:()=>{Tt(this,Ln,Or).call(this,{type:"pause"})},onContinue:()=>{Tt(this,Ln,Or).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0})),U(this,Ct).start()}},ta=new WeakMap,Pi=new WeakMap,gn=new WeakMap,ki=new WeakMap,Ct=new WeakMap,Ec=new WeakMap,Ni=new WeakMap,Ln=new WeakSet,Or=function(n){const r=s=>{switch(n.type){case"failed":return{...s,fetchFailureCount:n.failureCount,fetchFailureReason:n.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...AV(s.data,this.options),fetchMeta:n.meta??null};case"success":return de(this,Pi,void 0),{...s,data:n.data,dataUpdateCount:s.dataUpdateCount+1,dataUpdatedAt:n.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!n.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=n.error;return Ip(i)&&i.revert&&U(this,Pi)?{...U(this,Pi),fetchStatus:"idle"}:{...s,error:i,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...n.state}}};this.state=r(this.state),Lt.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),U(this,gn).notify({query:this,type:"updated",action:n})})},xx);function AV(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:ab(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function RV(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var dr,Tx,PV=(Tx=class extends Hh{constructor(e={}){super();Te(this,dr);this.config=e,de(this,dr,new Map)}build(e,n,r){const s=n.queryKey,i=n.queryHash??nv(s,n);let o=this.get(i);return o||(o=new CV({client:e,queryKey:s,queryHash:i,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(s)}),this.add(o)),o}add(e){U(this,dr).has(e.queryHash)||(U(this,dr).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=U(this,dr).get(e.queryHash);n&&(e.destroy(),n===e&&U(this,dr).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Lt.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return U(this,dr).get(e)}getAll(){return[...U(this,dr).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>Z_(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>Z_(e,r)):n}notify(e){Lt.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){Lt.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Lt.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},dr=new WeakMap,Tx),hr,Mt,Di,fr,ys,Sx,kV=(Sx=class extends ub{constructor(n){super();Te(this,fr);Te(this,hr);Te(this,Mt);Te(this,Di);this.mutationId=n.mutationId,de(this,Mt,n.mutationCache),de(this,hr,[]),this.state=n.state||NV(),this.setOptions(n.options),this.scheduleGc()}setOptions(n){this.options=n,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(n){U(this,hr).includes(n)||(U(this,hr).push(n),this.clearGcTimeout(),U(this,Mt).notify({type:"observerAdded",mutation:this,observer:n}))}removeObserver(n){de(this,hr,U(this,hr).filter(r=>r!==n)),this.scheduleGc(),U(this,Mt).notify({type:"observerRemoved",mutation:this,observer:n})}optionalRemove(){U(this,hr).length||(this.state.status==="pending"?this.scheduleGc():U(this,Mt).remove(this))}continue(){var n;return((n=U(this,Di))==null?void 0:n.continue())??this.execute(this.state.variables)}async execute(n){var o,a,l,u,d,h,p,g,S,E,x,w,_,T,P,M,O,b,I,C;const r=()=>{Tt(this,fr,ys).call(this,{type:"continue"})};de(this,Di,cb({fn:()=>this.options.mutationFn?this.options.mutationFn(n):Promise.reject(new Error("No mutationFn found")),onFail:(R,N)=>{Tt(this,fr,ys).call(this,{type:"failed",failureCount:R,error:N})},onPause:()=>{Tt(this,fr,ys).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>U(this,Mt).canRun(this)}));const s=this.state.status==="pending",i=!U(this,Di).canStart();try{if(s)r();else{Tt(this,fr,ys).call(this,{type:"pending",variables:n,isPaused:i}),await((a=(o=U(this,Mt).config).onMutate)==null?void 0:a.call(o,n,this));const N=await((u=(l=this.options).onMutate)==null?void 0:u.call(l,n));N!==this.state.context&&Tt(this,fr,ys).call(this,{type:"pending",context:N,variables:n,isPaused:i})}const R=await U(this,Di).start();return await((h=(d=U(this,Mt).config).onSuccess)==null?void 0:h.call(d,R,n,this.state.context,this)),await((g=(p=this.options).onSuccess)==null?void 0:g.call(p,R,n,this.state.context)),await((E=(S=U(this,Mt).config).onSettled)==null?void 0:E.call(S,R,null,this.state.variables,this.state.context,this)),await((w=(x=this.options).onSettled)==null?void 0:w.call(x,R,null,n,this.state.context)),Tt(this,fr,ys).call(this,{type:"success",data:R}),R}catch(R){try{throw await((T=(_=U(this,Mt).config).onError)==null?void 0:T.call(_,R,n,this.state.context,this)),await((M=(P=this.options).onError)==null?void 0:M.call(P,R,n,this.state.context)),await((b=(O=U(this,Mt).config).onSettled)==null?void 0:b.call(O,void 0,R,this.state.variables,this.state.context,this)),await((C=(I=this.options).onSettled)==null?void 0:C.call(I,void 0,R,n,this.state.context)),R}finally{Tt(this,fr,ys).call(this,{type:"error",error:R})}}finally{U(this,Mt).runNext(this)}}},hr=new WeakMap,Mt=new WeakMap,Di=new WeakMap,fr=new WeakSet,ys=function(n){const r=s=>{switch(n.type){case"failed":return{...s,failureCount:n.failureCount,failureReason:n.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:n.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:n.isPaused,status:"pending",variables:n.variables,submittedAt:Date.now()};case"success":return{...s,data:n.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:n.error,failureCount:s.failureCount+1,failureReason:n.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Lt.batch(()=>{U(this,hr).forEach(s=>{s.onMutationUpdate(n)}),U(this,Mt).notify({mutation:this,type:"updated",action:n})})},Sx);function NV(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var jr,Vn,xc,Ix,DV=(Ix=class extends Hh{constructor(e={}){super();Te(this,jr);Te(this,Vn);Te(this,xc);this.config=e,de(this,jr,new Set),de(this,Vn,new Map),de(this,xc,0)}build(e,n,r){const s=new kV({mutationCache:this,mutationId:++ru(this,xc)._,options:e.defaultMutationOptions(n),state:r});return this.add(s),s}add(e){U(this,jr).add(e);const n=Iu(e);if(typeof n=="string"){const r=U(this,Vn).get(n);r?r.push(e):U(this,Vn).set(n,[e])}this.notify({type:"added",mutation:e})}remove(e){if(U(this,jr).delete(e)){const n=Iu(e);if(typeof n=="string"){const r=U(this,Vn).get(n);if(r)if(r.length>1){const s=r.indexOf(e);s!==-1&&r.splice(s,1)}else r[0]===e&&U(this,Vn).delete(n)}}this.notify({type:"removed",mutation:e})}canRun(e){const n=Iu(e);if(typeof n=="string"){const r=U(this,Vn).get(n),s=r==null?void 0:r.find(i=>i.state.status==="pending");return!s||s===e}else return!0}runNext(e){var r;const n=Iu(e);if(typeof n=="string"){const s=(r=U(this,Vn).get(n))==null?void 0:r.find(i=>i!==e&&i.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Lt.batch(()=>{U(this,jr).forEach(e=>{this.notify({type:"removed",mutation:e})}),U(this,jr).clear(),U(this,Vn).clear()})}getAll(){return Array.from(U(this,jr))}find(e){const n={exact:!0,...e};return this.getAll().find(r=>eE(n,r))}findAll(e={}){return this.getAll().filter(n=>eE(e,n))}notify(e){Lt.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return Lt.batch(()=>Promise.all(e.map(n=>n.continue().catch(On))))}},jr=new WeakMap,Vn=new WeakMap,xc=new WeakMap,Ix);function Iu(t){var e;return(e=t.options.scope)==null?void 0:e.id}function rE(t){return{onFetch:(e,n)=>{var d,h,p,g,S;const r=e.options,s=(p=(h=(d=e.fetchOptions)==null?void 0:d.meta)==null?void 0:h.fetchMore)==null?void 0:p.direction,i=((g=e.state.data)==null?void 0:g.pages)||[],o=((S=e.state.data)==null?void 0:S.pageParams)||[];let a={pages:[],pageParams:[]},l=0;const u=async()=>{let E=!1;const x=T=>{Object.defineProperty(T,"signal",{enumerable:!0,get:()=>(e.signal.aborted?E=!0:e.signal.addEventListener("abort",()=>{E=!0}),e.signal)})},w=ib(e.options,e.fetchOptions),_=async(T,P,M)=>{if(E)return Promise.reject();if(P==null&&T.pages.length)return Promise.resolve(T);const b=(()=>{const N={client:e.client,queryKey:e.queryKey,pageParam:P,direction:M?"backward":"forward",meta:e.options.meta};return x(N),N})(),I=await w(b),{maxPages:C}=e.options,R=M?_V:wV;return{pages:R(T.pages,I,C),pageParams:R(T.pageParams,P,C)}};if(s&&i.length){const T=s==="backward",P=T?MV:sE,M={pages:i,pageParams:o},O=P(r,M);a=await _(M,O,T)}else{const T=t??i.length;do{const P=l===0?o[0]??r.initialPageParam:sE(r,a);if(l>0&&P==null)break;a=await _(a,P),l++}while(l<T)}return a};e.options.persister?e.fetchFn=()=>{var E,x;return(x=(E=e.options).persister)==null?void 0:x.call(E,u,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=u}}}function sE(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function MV(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var qe,As,Rs,na,ra,Ps,sa,ia,bx,OV=(bx=class{constructor(t={}){Te(this,qe);Te(this,As);Te(this,Rs);Te(this,na);Te(this,ra);Te(this,Ps);Te(this,sa);Te(this,ia);de(this,qe,t.queryCache||new PV),de(this,As,t.mutationCache||new DV),de(this,Rs,t.defaultOptions||{}),de(this,na,new Map),de(this,ra,new Map),de(this,Ps,0)}mount(){ru(this,Ps)._++,U(this,Ps)===1&&(de(this,sa,ob.subscribe(async t=>{t&&(await this.resumePausedMutations(),U(this,qe).onFocus())})),de(this,ia,Fd.subscribe(async t=>{t&&(await this.resumePausedMutations(),U(this,qe).onOnline())})))}unmount(){var t,e;ru(this,Ps)._--,U(this,Ps)===0&&((t=U(this,sa))==null||t.call(this),de(this,sa,void 0),(e=U(this,ia))==null||e.call(this),de(this,ia,void 0))}isFetching(t){return U(this,qe).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return U(this,As).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=U(this,qe).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=U(this,qe).build(this,e),r=n.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(Zm(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(t){return U(this,qe).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),s=U(this,qe).get(r.queryHash),i=s==null?void 0:s.state.data,o=fV(e,i);if(o!==void 0)return U(this,qe).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return Lt.batch(()=>U(this,qe).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=U(this,qe).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=U(this,qe);Lt.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=U(this,qe);return Lt.batch(()=>(n.findAll(t).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},r=Lt.batch(()=>U(this,qe).findAll(t).map(s=>s.cancel(n)));return Promise.all(r).then(On).catch(On)}invalidateQueries(t,e={}){return Lt.batch(()=>(U(this,qe).findAll(t).forEach(n=>{n.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},r=Lt.batch(()=>U(this,qe).findAll(t).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(On)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(On)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=U(this,qe).build(this,e);return n.isStaleByTime(Zm(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(On).catch(On)}fetchInfiniteQuery(t){return t.behavior=rE(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(On).catch(On)}ensureInfiniteQueryData(t){return t.behavior=rE(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Fd.isOnline()?U(this,As).resumePausedMutations():Promise.resolve()}getQueryCache(){return U(this,qe)}getMutationCache(){return U(this,As)}getDefaultOptions(){return U(this,Rs)}setDefaultOptions(t){de(this,Rs,t)}setQueryDefaults(t,e){U(this,na).set(ac(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...U(this,na).values()],n={};return e.forEach(r=>{lc(t,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(t,e){U(this,ra).set(ac(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...U(this,ra).values()],n={};return e.forEach(r=>{lc(t,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...U(this,Rs).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=nv(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===rv&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...U(this,Rs).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){U(this,qe).clear(),U(this,As).clear()}},qe=new WeakMap,As=new WeakMap,Rs=new WeakMap,na=new WeakMap,ra=new WeakMap,Ps=new WeakMap,sa=new WeakMap,ia=new WeakMap,bx),LV=y.createContext(void 0),VV=({client:t,children:e})=>(y.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),f.jsx(LV.Provider,{value:t,children:e}));/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ud(){return Ud=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ud.apply(this,arguments)}var Ds;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Ds||(Ds={}));const iE="popstate";function jV(t){t===void 0&&(t={});function e(r,s){let{pathname:i,search:o,hash:a}=r.location;return tg("",{pathname:i,search:o,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:hb(s)}return UV(e,n,null,t)}function Xt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function db(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function FV(){return Math.random().toString(36).substr(2,8)}function oE(t,e){return{usr:t.state,key:t.key,idx:e}}function tg(t,e,n,r){return n===void 0&&(n=null),Ud({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Gh(e):e,{state:n,key:e&&e.key||r||FV()})}function hb(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Gh(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function UV(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,a=Ds.Pop,l=null,u=d();u==null&&(u=0,o.replaceState(Ud({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function h(){a=Ds.Pop;let x=d(),w=x==null?null:x-u;u=x,l&&l({action:a,location:E.location,delta:w})}function p(x,w){a=Ds.Push;let _=tg(E.location,x,w);u=d()+1;let T=oE(_,u),P=E.createHref(_);try{o.pushState(T,"",P)}catch(M){if(M instanceof DOMException&&M.name==="DataCloneError")throw M;s.location.assign(P)}i&&l&&l({action:a,location:E.location,delta:1})}function g(x,w){a=Ds.Replace;let _=tg(E.location,x,w);u=d();let T=oE(_,u),P=E.createHref(_);o.replaceState(T,"",P),i&&l&&l({action:a,location:E.location,delta:0})}function S(x){let w=s.location.origin!=="null"?s.location.origin:s.location.href,_=typeof x=="string"?x:hb(x);return _=_.replace(/ $/,"%20"),Xt(w,"No window.location.(origin|href) available to create URL for href: "+_),new URL(_,w)}let E={get action(){return a},get location(){return t(s,o)},listen(x){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(iE,h),l=x,()=>{s.removeEventListener(iE,h),l=null}},createHref(x){return e(s,x)},createURL:S,encodeLocation(x){let w=S(x);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:p,replace:g,go(x){return o.go(x)}};return E}var aE;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(aE||(aE={}));function $V(t,e,n){return n===void 0&&(n="/"),zV(t,e,n,!1)}function zV(t,e,n,r){let s=typeof e=="string"?Gh(e):e,i=mb(s.pathname||"/",n);if(i==null)return null;let o=fb(t);BV(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let u=ej(i);a=JV(o[l],u,r)}return a}function fb(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,o,a)=>{let l={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};l.relativePath.startsWith("/")&&(Xt(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=zo([r,l.relativePath]),d=n.concat(l);i.children&&i.children.length>0&&(Xt(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),fb(i.children,e,d,u)),!(i.path==null&&!i.index)&&e.push({path:u,score:YV(u,i.index),routesMeta:d})};return t.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let l of pb(i.path))s(i,o,l)}),e}function pb(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=pb(r.join("/")),a=[];return a.push(...o.map(l=>l===""?i:[i,l].join("/"))),s&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function BV(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:XV(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const HV=/^:[\w-]+$/,WV=3,GV=2,qV=1,KV=10,QV=-2,lE=t=>t==="*";function YV(t,e){let n=t.split("/"),r=n.length;return n.some(lE)&&(r+=QV),e&&(r+=GV),n.filter(s=>!lE(s)).reduce((s,i)=>s+(HV.test(i)?WV:i===""?qV:KV),r)}function XV(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function JV(t,e,n){let{routesMeta:r}=t,s={},i="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],u=a===r.length-1,d=i==="/"?e:e.slice(i.length)||"/",h=cE({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},d),p=l.route;if(!h&&u&&n&&!r[r.length-1].route.index&&(h=cE({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},d)),!h)return null;Object.assign(s,h.params),o.push({params:s,pathname:zo([i,h.pathname]),pathnameBase:tj(zo([i,h.pathnameBase])),route:p}),h.pathnameBase!=="/"&&(i=zo([i,h.pathnameBase]))}return o}function cE(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=ZV(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((u,d,h)=>{let{paramName:p,isOptional:g}=d;if(p==="*"){let E=a[h]||"";o=i.slice(0,i.length-E.length).replace(/(.)\/+$/,"$1")}const S=a[h];return g&&!S?u[p]=void 0:u[p]=(S||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:t}}function ZV(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),db(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function ej(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return db(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function mb(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}const zo=t=>t.join("/").replace(/\/\/+/g,"/"),tj=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/");function nj(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const gb=["post","put","patch","delete"];new Set(gb);const rj=["get",...gb];new Set(rj);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function $d(){return $d=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$d.apply(this,arguments)}const sj=y.createContext(null),ij=y.createContext(null),yb=y.createContext(null),qh=y.createContext(null),Kh=y.createContext({outlet:null,matches:[],isDataRoute:!1}),vb=y.createContext(null);function sv(){return y.useContext(qh)!=null}function wb(){return sv()||Xt(!1),y.useContext(qh).location}function oj(t,e){return aj(t,e)}function aj(t,e,n,r){sv()||Xt(!1);let{navigator:s}=y.useContext(yb),{matches:i}=y.useContext(Kh),o=i[i.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let u=wb(),d;if(e){var h;let x=typeof e=="string"?Gh(e):e;l==="/"||(h=x.pathname)!=null&&h.startsWith(l)||Xt(!1),d=x}else d=u;let p=d.pathname||"/",g=p;if(l!=="/"){let x=l.replace(/^\//,"").split("/");g="/"+p.replace(/^\//,"").split("/").slice(x.length).join("/")}let S=$V(t,{pathname:g}),E=hj(S&&S.map(x=>Object.assign({},x,{params:Object.assign({},a,x.params),pathname:zo([l,s.encodeLocation?s.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?l:zo([l,s.encodeLocation?s.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),i,n,r);return e&&E?y.createElement(qh.Provider,{value:{location:$d({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Ds.Pop}},E):E}function lj(){let t=gj(),e=nj(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return y.createElement(y.Fragment,null,y.createElement("h2",null,"Unexpected Application Error!"),y.createElement("h3",{style:{fontStyle:"italic"}},e),n?y.createElement("pre",{style:s},n):null,null)}const cj=y.createElement(lj,null);class uj extends y.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?y.createElement(Kh.Provider,{value:this.props.routeContext},y.createElement(vb.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function dj(t){let{routeContext:e,match:n,children:r}=t,s=y.useContext(sj);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),y.createElement(Kh.Provider,{value:e},r)}function hj(t,e,n,r){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var i;if(!n)return null;if(n.errors)t=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(s=n)==null?void 0:s.errors;if(a!=null){let d=o.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id])!==void 0);d>=0||Xt(!1),o=o.slice(0,Math.min(o.length,d+1))}let l=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<o.length;d++){let h=o[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=d),h.route.id){let{loaderData:p,errors:g}=n,S=h.route.loader&&p[h.route.id]===void 0&&(!g||g[h.route.id]===void 0);if(h.route.lazy||S){l=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,h,p)=>{let g,S=!1,E=null,x=null;n&&(g=a&&h.route.id?a[h.route.id]:void 0,E=h.route.errorElement||cj,l&&(u<0&&p===0?(S=!0,x=null):u===p&&(S=!0,x=h.route.hydrateFallbackElement||null)));let w=e.concat(o.slice(0,p+1)),_=()=>{let T;return g?T=E:S?T=x:h.route.Component?T=y.createElement(h.route.Component,null):h.route.element?T=h.route.element:T=d,y.createElement(dj,{match:h,routeContext:{outlet:d,matches:w,isDataRoute:n!=null},children:T})};return n&&(h.route.ErrorBoundary||h.route.errorElement||p===0)?y.createElement(uj,{location:n.location,revalidation:n.revalidation,component:E,error:g,children:_(),routeContext:{outlet:null,matches:w,isDataRoute:!0}}):_()},null)}var ng=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(ng||{});function fj(t){let e=y.useContext(ij);return e||Xt(!1),e}function pj(t){let e=y.useContext(Kh);return e||Xt(!1),e}function mj(t){let e=pj(),n=e.matches[e.matches.length-1];return n.route.id||Xt(!1),n.route.id}function gj(){var t;let e=y.useContext(vb),n=fj(ng.UseRouteError),r=mj(ng.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function yj(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function rg(t){Xt(!1)}function vj(t){let{basename:e="/",children:n=null,location:r,navigationType:s=Ds.Pop,navigator:i,static:o=!1,future:a}=t;sv()&&Xt(!1);let l=e.replace(/^\/*/,"/"),u=y.useMemo(()=>({basename:l,navigator:i,static:o,future:$d({v7_relativeSplatPath:!1},a)}),[l,a,i,o]);typeof r=="string"&&(r=Gh(r));let{pathname:d="/",search:h="",hash:p="",state:g=null,key:S="default"}=r,E=y.useMemo(()=>{let x=mb(d,l);return x==null?null:{location:{pathname:x,search:h,hash:p,state:g,key:S},navigationType:s}},[l,d,h,p,g,S,s]);return E==null?null:y.createElement(yb.Provider,{value:u},y.createElement(qh.Provider,{children:n,value:E}))}function wj(t){let{children:e,location:n}=t;return oj(sg(e),n)}new Promise(()=>{});function sg(t,e){e===void 0&&(e=[]);let n=[];return y.Children.forEach(t,(r,s)=>{if(!y.isValidElement(r))return;let i=[...e,s];if(r.type===y.Fragment){n.push.apply(n,sg(r.props.children,i));return}r.type!==rg&&Xt(!1),!r.props.index||!r.props.children||Xt(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=sg(r.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const _j="6";try{window.__reactRouterVersion=_j}catch{}const Ej="startTransition",uE=qg[Ej];function xj(t){let{basename:e,children:n,future:r,window:s}=t,i=y.useRef();i.current==null&&(i.current=jV({window:s,v5Compat:!0}));let o=i.current,[a,l]=y.useState({action:o.action,location:o.location}),{v7_startTransition:u}=r||{},d=y.useCallback(h=>{u&&uE?uE(()=>l(h)):l(h)},[l,u]);return y.useLayoutEffect(()=>o.listen(d),[o,d]),y.useEffect(()=>yj(r),[r]),y.createElement(vj,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}var dE;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(dE||(dE={}));var hE;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(hE||(hE={}));const Tj=()=>{};var fE={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _b=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},Sj=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],a=t[n++],l=((s&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},Eb={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,a=o?t[s+1]:0,l=s+2<t.length,u=l?t[s+2]:0,d=i>>2,h=(i&3)<<4|a>>4;let p=(a&15)<<2|u>>6,g=u&63;l||(g=64,o||(p=64)),r.push(n[d],n[h],n[p],n[g])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(_b(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Sj(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const u=s<t.length?n[t.charAt(s)]:64;++s;const h=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||a==null||u==null||h==null)throw new Ij;const p=i<<2|a>>4;if(r.push(p),u!==64){const g=a<<4&240|u>>2;if(r.push(g),h!==64){const S=u<<6&192|h;r.push(S)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Ij extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const bj=function(t){const e=_b(t);return Eb.encodeByteArray(e,!0)},zd=function(t){return bj(t).replace(/\./g,"")},xb=function(t){try{return Eb.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cj(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aj=()=>Cj().__FIREBASE_DEFAULTS__,Rj=()=>{if(typeof process>"u"||typeof fE>"u")return;const t=fE.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Pj=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&xb(t[1]);return e&&JSON.parse(e)},Qh=()=>{try{return Tj()||Aj()||Rj()||Pj()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Tb=t=>{var e,n;return(n=(e=Qh())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},kj=t=>{const e=Tb(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Sb=()=>{var t;return(t=Qh())==null?void 0:t.config},Ib=t=>{var e;return(e=Qh())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nj{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Na(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function bb(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dj(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}},...t};return[zd(JSON.stringify(n)),zd(JSON.stringify(o)),""].join(".")}const Ml={};function Mj(){const t={prod:[],emulator:[]};for(const e of Object.keys(Ml))Ml[e]?t.emulator.push(e):t.prod.push(e);return t}function Oj(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let pE=!1;function Cb(t,e){if(typeof window>"u"||typeof document>"u"||!Na(window.location.host)||Ml[t]===e||Ml[t]||pE)return;Ml[t]=e;function n(p){return`__firebase__banner__${p}`}const r="__firebase__banner",i=Mj().prod.length>0;function o(){const p=document.getElementById(r);p&&p.remove()}function a(p){p.style.display="flex",p.style.background="#7faaf0",p.style.position="fixed",p.style.bottom="5px",p.style.left="5px",p.style.padding=".5em",p.style.borderRadius="5px",p.style.alignItems="center"}function l(p,g){p.setAttribute("width","24"),p.setAttribute("id",g),p.setAttribute("height","24"),p.setAttribute("viewBox","0 0 24 24"),p.setAttribute("fill","none"),p.style.marginLeft="-6px"}function u(){const p=document.createElement("span");return p.style.cursor="pointer",p.style.marginLeft="16px",p.style.fontSize="24px",p.innerHTML=" &times;",p.onclick=()=>{pE=!0,o()},p}function d(p,g){p.setAttribute("id",g),p.innerText="Learn more",p.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",p.setAttribute("target","__blank"),p.style.paddingLeft="5px",p.style.textDecoration="underline"}function h(){const p=Oj(r),g=n("text"),S=document.getElementById(g)||document.createElement("span"),E=n("learnmore"),x=document.getElementById(E)||document.createElement("a"),w=n("preprendIcon"),_=document.getElementById(w)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(p.created){const T=p.element;a(T),d(x,E);const P=u();l(_,w),T.append(_,S,x,P),document.body.appendChild(T)}i?(S.innerText="Preview backend disconnected.",_.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(_.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,S.innerText="Preview backend running in this workspace."),S.setAttribute("id",g)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",h):h()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Lj(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Nt())}function Vj(){var e;const t=(e=Qh())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function jj(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function iv(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Fj(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Uj(){const t=Nt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function $j(){return!Vj()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ov(){try{return typeof indexedDB=="object"}catch{return!1}}function av(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)==null?void 0:i.message)||"")}}catch(n){e(n)}})}function Ab(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zj="FirebaseError";class An extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=zj,Object.setPrototypeOf(this,An.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ji.prototype.create)}}class Ji{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?Bj(i,r):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new An(s,a,r)}}function Bj(t,e){return t.replace(Hj,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const Hj=/\{\$([^}]+)}/g;function Wj(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Zs(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(mE(i)&&mE(o)){if(!Zs(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function mE(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nc(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Gj(t,e){const n=new qj(t,e);return n.subscribe.bind(n)}class qj{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");Kj(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=bp),s.error===void 0&&(s.error=bp),s.complete===void 0&&(s.complete=bp);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Kj(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function bp(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qj=1e3,Yj=2,Xj=4*60*60*1e3,Jj=.5;function gE(t,e=Qj,n=Yj){const r=e*Math.pow(n,t),s=Math.round(Jj*r*(Math.random()-.5)*2);return Math.min(Xj,r+s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gt(t){return t&&t._delegate?t._delegate:t}class Qn{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _i="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zj{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Nj;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(tF(e))try{this.getOrInitializeService({instanceIdentifier:_i})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=_i){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=_i){return this.instances.has(e)}getOptions(e=_i){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&o.resolve(s)}return s}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),s=this.onInitCallbacks.get(r)??new Set;s.add(e),this.onInitCallbacks.set(r,s);const i=this.instances.get(r);return i&&e(i,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:eF(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=_i){return this.component?this.component.multipleInstances?e:_i:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function eF(t){return t===_i?void 0:t}function tF(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nF{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Zj(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ye;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ye||(ye={}));const rF={debug:ye.DEBUG,verbose:ye.VERBOSE,info:ye.INFO,warn:ye.WARN,error:ye.ERROR,silent:ye.SILENT},sF=ye.INFO,iF={[ye.DEBUG]:"log",[ye.VERBOSE]:"log",[ye.INFO]:"info",[ye.WARN]:"warn",[ye.ERROR]:"error"},oF=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=iF[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Yh{constructor(e){this.name=e,this._logLevel=sF,this._logHandler=oF,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ye))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?rF[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ye.DEBUG,...e),this._logHandler(this,ye.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ye.VERBOSE,...e),this._logHandler(this,ye.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ye.INFO,...e),this._logHandler(this,ye.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ye.WARN,...e),this._logHandler(this,ye.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ye.ERROR,...e),this._logHandler(this,ye.ERROR,...e)}}const aF=(t,e)=>e.some(n=>t instanceof n);let yE,vE;function lF(){return yE||(yE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function cF(){return vE||(vE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Rb=new WeakMap,ig=new WeakMap,Pb=new WeakMap,Cp=new WeakMap,lv=new WeakMap;function uF(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(Bs(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&Rb.set(n,t)}).catch(()=>{}),lv.set(e,t),e}function dF(t){if(ig.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});ig.set(t,e)}let og={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return ig.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Pb.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Bs(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function hF(t){og=t(og)}function fF(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Ap(this),e,...n);return Pb.set(r,e.sort?e.sort():[e]),Bs(r)}:cF().includes(t)?function(...e){return t.apply(Ap(this),e),Bs(Rb.get(this))}:function(...e){return Bs(t.apply(Ap(this),e))}}function pF(t){return typeof t=="function"?fF(t):(t instanceof IDBTransaction&&dF(t),aF(t,lF())?new Proxy(t,og):t)}function Bs(t){if(t instanceof IDBRequest)return uF(t);if(Cp.has(t))return Cp.get(t);const e=pF(t);return e!==t&&(Cp.set(t,e),lv.set(e,t)),e}const Ap=t=>lv.get(t);function kb(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),a=Bs(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Bs(o.result),l.oldVersion,l.newVersion,Bs(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{i&&l.addEventListener("close",()=>i()),s&&l.addEventListener("versionchange",u=>s(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const mF=["get","getKey","getAll","getAllKeys","count"],gF=["put","add","delete","clear"],Rp=new Map;function wE(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Rp.get(e))return Rp.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=gF.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||mF.includes(n)))return;const i=async function(o,...a){const l=this.transaction(o,s?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),s&&l.done]))[0]};return Rp.set(e,i),i}hF(t=>({...t,get:(e,n,r)=>wE(e,n)||t.get(e,n,r),has:(e,n)=>!!wE(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yF{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(vF(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function vF(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const ag="@firebase/app",_E="0.14.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jr=new Yh("@firebase/app"),wF="@firebase/app-compat",_F="@firebase/analytics-compat",EF="@firebase/analytics",xF="@firebase/app-check-compat",TF="@firebase/app-check",SF="@firebase/auth",IF="@firebase/auth-compat",bF="@firebase/database",CF="@firebase/data-connect",AF="@firebase/database-compat",RF="@firebase/functions",PF="@firebase/functions-compat",kF="@firebase/installations",NF="@firebase/installations-compat",DF="@firebase/messaging",MF="@firebase/messaging-compat",OF="@firebase/performance",LF="@firebase/performance-compat",VF="@firebase/remote-config",jF="@firebase/remote-config-compat",FF="@firebase/storage",UF="@firebase/storage-compat",$F="@firebase/firestore",zF="@firebase/ai",BF="@firebase/firestore-compat",HF="firebase",WF="12.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lg="[DEFAULT]",GF={[ag]:"fire-core",[wF]:"fire-core-compat",[EF]:"fire-analytics",[_F]:"fire-analytics-compat",[TF]:"fire-app-check",[xF]:"fire-app-check-compat",[SF]:"fire-auth",[IF]:"fire-auth-compat",[bF]:"fire-rtdb",[CF]:"fire-data-connect",[AF]:"fire-rtdb-compat",[RF]:"fire-fn",[PF]:"fire-fn-compat",[kF]:"fire-iid",[NF]:"fire-iid-compat",[DF]:"fire-fcm",[MF]:"fire-fcm-compat",[OF]:"fire-perf",[LF]:"fire-perf-compat",[VF]:"fire-rc",[jF]:"fire-rc-compat",[FF]:"fire-gcs",[UF]:"fire-gcs-compat",[$F]:"fire-fst",[BF]:"fire-fst-compat",[zF]:"fire-vertex","fire-js":"fire-js",[HF]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bd=new Map,qF=new Map,cg=new Map;function EE(t,e){try{t.container.addComponent(e)}catch(n){Jr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function br(t){const e=t.name;if(cg.has(e))return Jr.debug(`There were multiple attempts to register component ${e}.`),!1;cg.set(e,t);for(const n of Bd.values())EE(n,t);for(const n of qF.values())EE(n,t);return!0}function Zi(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function wn(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KF={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Hs=new Ji("app","Firebase",KF);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QF{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Qn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Hs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Da=WF;function Nb(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:lg,automaticDataCollectionEnabled:!0,...e},s=r.name;if(typeof s!="string"||!s)throw Hs.create("bad-app-name",{appName:String(s)});if(n||(n=Sb()),!n)throw Hs.create("no-options");const i=Bd.get(s);if(i){if(Zs(n,i.options)&&Zs(r,i.config))return i;throw Hs.create("duplicate-app",{appName:s})}const o=new nF(s);for(const l of cg.values())o.addComponent(l);const a=new QF(n,r,o);return Bd.set(s,a),a}function cv(t=lg){const e=Bd.get(t);if(!e&&t===lg&&Sb())return Nb();if(!e)throw Hs.create("no-app",{appName:t});return e}function Sn(t,e,n){let r=GF[t]??t;n&&(r+=`-${n}`);const s=r.match(/\s|\//),i=e.match(/\s|\//);if(s||i){const o=[`Unable to register library "${r}" with version "${e}":`];s&&o.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&i&&o.push("and"),i&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Jr.warn(o.join(" "));return}br(new Qn(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YF="firebase-heartbeat-database",XF=1,cc="firebase-heartbeat-store";let Pp=null;function Db(){return Pp||(Pp=kb(YF,XF,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(cc)}catch(n){console.warn(n)}}}}).catch(t=>{throw Hs.create("idb-open",{originalErrorMessage:t.message})})),Pp}async function JF(t){try{const n=(await Db()).transaction(cc),r=await n.objectStore(cc).get(Mb(t));return await n.done,r}catch(e){if(e instanceof An)Jr.warn(e.message);else{const n=Hs.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Jr.warn(n.message)}}}async function xE(t,e){try{const r=(await Db()).transaction(cc,"readwrite");await r.objectStore(cc).put(e,Mb(t)),await r.done}catch(n){if(n instanceof An)Jr.warn(n.message);else{const r=Hs.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Jr.warn(r.message)}}}function Mb(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZF=1024,e3=30;class t3{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new r3(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=TE();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats.length>e3){const o=s3(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Jr.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=TE(),{heartbeatsToSend:r,unsentEntries:s}=n3(this._heartbeatsCache.heartbeats),i=zd(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return Jr.warn(n),""}}}function TE(){return new Date().toISOString().substring(0,10)}function n3(t,e=ZF){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),SE(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),SE(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class r3{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return ov()?av().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await JF(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return xE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return xE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function SE(t){return zd(JSON.stringify({version:2,heartbeats:t})).length}function s3(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i3(t){br(new Qn("platform-logger",e=>new yF(e),"PRIVATE")),br(new Qn("heartbeat",e=>new t3(e),"PRIVATE")),Sn(ag,_E,t),Sn(ag,_E,"esm2020"),Sn("fire-js","")}i3("");var IE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ws,Ob;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(b,I){function C(){}C.prototype=I.prototype,b.F=I.prototype,b.prototype=new C,b.prototype.constructor=b,b.D=function(R,N,D){for(var k=Array(arguments.length-2),H=2;H<arguments.length;H++)k[H-2]=arguments[H];return I.prototype[N].apply(R,k)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(b,I,C){C||(C=0);const R=Array(16);if(typeof I=="string")for(var N=0;N<16;++N)R[N]=I.charCodeAt(C++)|I.charCodeAt(C++)<<8|I.charCodeAt(C++)<<16|I.charCodeAt(C++)<<24;else for(N=0;N<16;++N)R[N]=I[C++]|I[C++]<<8|I[C++]<<16|I[C++]<<24;I=b.g[0],C=b.g[1],N=b.g[2];let D=b.g[3],k;k=I+(D^C&(N^D))+R[0]+3614090360&4294967295,I=C+(k<<7&4294967295|k>>>25),k=D+(N^I&(C^N))+R[1]+3905402710&4294967295,D=I+(k<<12&4294967295|k>>>20),k=N+(C^D&(I^C))+R[2]+606105819&4294967295,N=D+(k<<17&4294967295|k>>>15),k=C+(I^N&(D^I))+R[3]+3250441966&4294967295,C=N+(k<<22&4294967295|k>>>10),k=I+(D^C&(N^D))+R[4]+4118548399&4294967295,I=C+(k<<7&4294967295|k>>>25),k=D+(N^I&(C^N))+R[5]+1200080426&4294967295,D=I+(k<<12&4294967295|k>>>20),k=N+(C^D&(I^C))+R[6]+2821735955&4294967295,N=D+(k<<17&4294967295|k>>>15),k=C+(I^N&(D^I))+R[7]+4249261313&4294967295,C=N+(k<<22&4294967295|k>>>10),k=I+(D^C&(N^D))+R[8]+1770035416&4294967295,I=C+(k<<7&4294967295|k>>>25),k=D+(N^I&(C^N))+R[9]+2336552879&4294967295,D=I+(k<<12&4294967295|k>>>20),k=N+(C^D&(I^C))+R[10]+4294925233&4294967295,N=D+(k<<17&4294967295|k>>>15),k=C+(I^N&(D^I))+R[11]+2304563134&4294967295,C=N+(k<<22&4294967295|k>>>10),k=I+(D^C&(N^D))+R[12]+1804603682&4294967295,I=C+(k<<7&4294967295|k>>>25),k=D+(N^I&(C^N))+R[13]+4254626195&4294967295,D=I+(k<<12&4294967295|k>>>20),k=N+(C^D&(I^C))+R[14]+2792965006&4294967295,N=D+(k<<17&4294967295|k>>>15),k=C+(I^N&(D^I))+R[15]+1236535329&4294967295,C=N+(k<<22&4294967295|k>>>10),k=I+(N^D&(C^N))+R[1]+4129170786&4294967295,I=C+(k<<5&4294967295|k>>>27),k=D+(C^N&(I^C))+R[6]+3225465664&4294967295,D=I+(k<<9&4294967295|k>>>23),k=N+(I^C&(D^I))+R[11]+643717713&4294967295,N=D+(k<<14&4294967295|k>>>18),k=C+(D^I&(N^D))+R[0]+3921069994&4294967295,C=N+(k<<20&4294967295|k>>>12),k=I+(N^D&(C^N))+R[5]+3593408605&4294967295,I=C+(k<<5&4294967295|k>>>27),k=D+(C^N&(I^C))+R[10]+38016083&4294967295,D=I+(k<<9&4294967295|k>>>23),k=N+(I^C&(D^I))+R[15]+3634488961&4294967295,N=D+(k<<14&4294967295|k>>>18),k=C+(D^I&(N^D))+R[4]+3889429448&4294967295,C=N+(k<<20&4294967295|k>>>12),k=I+(N^D&(C^N))+R[9]+568446438&4294967295,I=C+(k<<5&4294967295|k>>>27),k=D+(C^N&(I^C))+R[14]+3275163606&4294967295,D=I+(k<<9&4294967295|k>>>23),k=N+(I^C&(D^I))+R[3]+4107603335&4294967295,N=D+(k<<14&4294967295|k>>>18),k=C+(D^I&(N^D))+R[8]+1163531501&4294967295,C=N+(k<<20&4294967295|k>>>12),k=I+(N^D&(C^N))+R[13]+2850285829&4294967295,I=C+(k<<5&4294967295|k>>>27),k=D+(C^N&(I^C))+R[2]+4243563512&4294967295,D=I+(k<<9&4294967295|k>>>23),k=N+(I^C&(D^I))+R[7]+1735328473&4294967295,N=D+(k<<14&4294967295|k>>>18),k=C+(D^I&(N^D))+R[12]+2368359562&4294967295,C=N+(k<<20&4294967295|k>>>12),k=I+(C^N^D)+R[5]+4294588738&4294967295,I=C+(k<<4&4294967295|k>>>28),k=D+(I^C^N)+R[8]+2272392833&4294967295,D=I+(k<<11&4294967295|k>>>21),k=N+(D^I^C)+R[11]+1839030562&4294967295,N=D+(k<<16&4294967295|k>>>16),k=C+(N^D^I)+R[14]+4259657740&4294967295,C=N+(k<<23&4294967295|k>>>9),k=I+(C^N^D)+R[1]+2763975236&4294967295,I=C+(k<<4&4294967295|k>>>28),k=D+(I^C^N)+R[4]+1272893353&4294967295,D=I+(k<<11&4294967295|k>>>21),k=N+(D^I^C)+R[7]+4139469664&4294967295,N=D+(k<<16&4294967295|k>>>16),k=C+(N^D^I)+R[10]+3200236656&4294967295,C=N+(k<<23&4294967295|k>>>9),k=I+(C^N^D)+R[13]+681279174&4294967295,I=C+(k<<4&4294967295|k>>>28),k=D+(I^C^N)+R[0]+3936430074&4294967295,D=I+(k<<11&4294967295|k>>>21),k=N+(D^I^C)+R[3]+3572445317&4294967295,N=D+(k<<16&4294967295|k>>>16),k=C+(N^D^I)+R[6]+76029189&4294967295,C=N+(k<<23&4294967295|k>>>9),k=I+(C^N^D)+R[9]+3654602809&4294967295,I=C+(k<<4&4294967295|k>>>28),k=D+(I^C^N)+R[12]+3873151461&4294967295,D=I+(k<<11&4294967295|k>>>21),k=N+(D^I^C)+R[15]+530742520&4294967295,N=D+(k<<16&4294967295|k>>>16),k=C+(N^D^I)+R[2]+3299628645&4294967295,C=N+(k<<23&4294967295|k>>>9),k=I+(N^(C|~D))+R[0]+4096336452&4294967295,I=C+(k<<6&4294967295|k>>>26),k=D+(C^(I|~N))+R[7]+1126891415&4294967295,D=I+(k<<10&4294967295|k>>>22),k=N+(I^(D|~C))+R[14]+2878612391&4294967295,N=D+(k<<15&4294967295|k>>>17),k=C+(D^(N|~I))+R[5]+4237533241&4294967295,C=N+(k<<21&4294967295|k>>>11),k=I+(N^(C|~D))+R[12]+1700485571&4294967295,I=C+(k<<6&4294967295|k>>>26),k=D+(C^(I|~N))+R[3]+2399980690&4294967295,D=I+(k<<10&4294967295|k>>>22),k=N+(I^(D|~C))+R[10]+4293915773&4294967295,N=D+(k<<15&4294967295|k>>>17),k=C+(D^(N|~I))+R[1]+2240044497&4294967295,C=N+(k<<21&4294967295|k>>>11),k=I+(N^(C|~D))+R[8]+1873313359&4294967295,I=C+(k<<6&4294967295|k>>>26),k=D+(C^(I|~N))+R[15]+4264355552&4294967295,D=I+(k<<10&4294967295|k>>>22),k=N+(I^(D|~C))+R[6]+2734768916&4294967295,N=D+(k<<15&4294967295|k>>>17),k=C+(D^(N|~I))+R[13]+1309151649&4294967295,C=N+(k<<21&4294967295|k>>>11),k=I+(N^(C|~D))+R[4]+4149444226&4294967295,I=C+(k<<6&4294967295|k>>>26),k=D+(C^(I|~N))+R[11]+3174756917&4294967295,D=I+(k<<10&4294967295|k>>>22),k=N+(I^(D|~C))+R[2]+718787259&4294967295,N=D+(k<<15&4294967295|k>>>17),k=C+(D^(N|~I))+R[9]+3951481745&4294967295,b.g[0]=b.g[0]+I&4294967295,b.g[1]=b.g[1]+(N+(k<<21&4294967295|k>>>11))&4294967295,b.g[2]=b.g[2]+N&4294967295,b.g[3]=b.g[3]+D&4294967295}r.prototype.v=function(b,I){I===void 0&&(I=b.length);const C=I-this.blockSize,R=this.C;let N=this.h,D=0;for(;D<I;){if(N==0)for(;D<=C;)s(this,b,D),D+=this.blockSize;if(typeof b=="string"){for(;D<I;)if(R[N++]=b.charCodeAt(D++),N==this.blockSize){s(this,R),N=0;break}}else for(;D<I;)if(R[N++]=b[D++],N==this.blockSize){s(this,R),N=0;break}}this.h=N,this.o+=I},r.prototype.A=function(){var b=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);b[0]=128;for(var I=1;I<b.length-8;++I)b[I]=0;I=this.o*8;for(var C=b.length-8;C<b.length;++C)b[C]=I&255,I/=256;for(this.v(b),b=Array(16),I=0,C=0;C<4;++C)for(let R=0;R<32;R+=8)b[I++]=this.g[C]>>>R&255;return b};function i(b,I){var C=a;return Object.prototype.hasOwnProperty.call(C,b)?C[b]:C[b]=I(b)}function o(b,I){this.h=I;const C=[];let R=!0;for(let N=b.length-1;N>=0;N--){const D=b[N]|0;R&&D==I||(C[N]=D,R=!1)}this.g=C}var a={};function l(b){return-128<=b&&b<128?i(b,function(I){return new o([I|0],I<0?-1:0)}):new o([b|0],b<0?-1:0)}function u(b){if(isNaN(b)||!isFinite(b))return h;if(b<0)return x(u(-b));const I=[];let C=1;for(let R=0;b>=C;R++)I[R]=b/C|0,C*=4294967296;return new o(I,0)}function d(b,I){if(b.length==0)throw Error("number format error: empty string");if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(b.charAt(0)=="-")return x(d(b.substring(1),I));if(b.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=u(Math.pow(I,8));let R=h;for(let D=0;D<b.length;D+=8){var N=Math.min(8,b.length-D);const k=parseInt(b.substring(D,D+N),I);N<8?(N=u(Math.pow(I,N)),R=R.j(N).add(u(k))):(R=R.j(C),R=R.add(u(k)))}return R}var h=l(0),p=l(1),g=l(16777216);t=o.prototype,t.m=function(){if(E(this))return-x(this).m();let b=0,I=1;for(let C=0;C<this.g.length;C++){const R=this.i(C);b+=(R>=0?R:4294967296+R)*I,I*=4294967296}return b},t.toString=function(b){if(b=b||10,b<2||36<b)throw Error("radix out of range: "+b);if(S(this))return"0";if(E(this))return"-"+x(this).toString(b);const I=u(Math.pow(b,6));var C=this;let R="";for(;;){const N=P(C,I).g;C=w(C,N.j(I));let D=((C.g.length>0?C.g[0]:C.h)>>>0).toString(b);if(C=N,S(C))return D+R;for(;D.length<6;)D="0"+D;R=D+R}},t.i=function(b){return b<0?0:b<this.g.length?this.g[b]:this.h};function S(b){if(b.h!=0)return!1;for(let I=0;I<b.g.length;I++)if(b.g[I]!=0)return!1;return!0}function E(b){return b.h==-1}t.l=function(b){return b=w(this,b),E(b)?-1:S(b)?0:1};function x(b){const I=b.g.length,C=[];for(let R=0;R<I;R++)C[R]=~b.g[R];return new o(C,~b.h).add(p)}t.abs=function(){return E(this)?x(this):this},t.add=function(b){const I=Math.max(this.g.length,b.g.length),C=[];let R=0;for(let N=0;N<=I;N++){let D=R+(this.i(N)&65535)+(b.i(N)&65535),k=(D>>>16)+(this.i(N)>>>16)+(b.i(N)>>>16);R=k>>>16,D&=65535,k&=65535,C[N]=k<<16|D}return new o(C,C[C.length-1]&-2147483648?-1:0)};function w(b,I){return b.add(x(I))}t.j=function(b){if(S(this)||S(b))return h;if(E(this))return E(b)?x(this).j(x(b)):x(x(this).j(b));if(E(b))return x(this.j(x(b)));if(this.l(g)<0&&b.l(g)<0)return u(this.m()*b.m());const I=this.g.length+b.g.length,C=[];for(var R=0;R<2*I;R++)C[R]=0;for(R=0;R<this.g.length;R++)for(let N=0;N<b.g.length;N++){const D=this.i(R)>>>16,k=this.i(R)&65535,H=b.i(N)>>>16,se=b.i(N)&65535;C[2*R+2*N]+=k*se,_(C,2*R+2*N),C[2*R+2*N+1]+=D*se,_(C,2*R+2*N+1),C[2*R+2*N+1]+=k*H,_(C,2*R+2*N+1),C[2*R+2*N+2]+=D*H,_(C,2*R+2*N+2)}for(b=0;b<I;b++)C[b]=C[2*b+1]<<16|C[2*b];for(b=I;b<2*I;b++)C[b]=0;return new o(C,0)};function _(b,I){for(;(b[I]&65535)!=b[I];)b[I+1]+=b[I]>>>16,b[I]&=65535,I++}function T(b,I){this.g=b,this.h=I}function P(b,I){if(S(I))throw Error("division by zero");if(S(b))return new T(h,h);if(E(b))return I=P(x(b),I),new T(x(I.g),x(I.h));if(E(I))return I=P(b,x(I)),new T(x(I.g),I.h);if(b.g.length>30){if(E(b)||E(I))throw Error("slowDivide_ only works with positive integers.");for(var C=p,R=I;R.l(b)<=0;)C=M(C),R=M(R);var N=O(C,1),D=O(R,1);for(R=O(R,2),C=O(C,2);!S(R);){var k=D.add(R);k.l(b)<=0&&(N=N.add(C),D=k),R=O(R,1),C=O(C,1)}return I=w(b,N.j(I)),new T(N,I)}for(N=h;b.l(I)>=0;){for(C=Math.max(1,Math.floor(b.m()/I.m())),R=Math.ceil(Math.log(C)/Math.LN2),R=R<=48?1:Math.pow(2,R-48),D=u(C),k=D.j(I);E(k)||k.l(b)>0;)C-=R,D=u(C),k=D.j(I);S(D)&&(D=p),N=N.add(D),b=w(b,k)}return new T(N,b)}t.B=function(b){return P(this,b).h},t.and=function(b){const I=Math.max(this.g.length,b.g.length),C=[];for(let R=0;R<I;R++)C[R]=this.i(R)&b.i(R);return new o(C,this.h&b.h)},t.or=function(b){const I=Math.max(this.g.length,b.g.length),C=[];for(let R=0;R<I;R++)C[R]=this.i(R)|b.i(R);return new o(C,this.h|b.h)},t.xor=function(b){const I=Math.max(this.g.length,b.g.length),C=[];for(let R=0;R<I;R++)C[R]=this.i(R)^b.i(R);return new o(C,this.h^b.h)};function M(b){const I=b.g.length+1,C=[];for(let R=0;R<I;R++)C[R]=b.i(R)<<1|b.i(R-1)>>>31;return new o(C,b.h)}function O(b,I){const C=I>>5;I%=32;const R=b.g.length-C,N=[];for(let D=0;D<R;D++)N[D]=I>0?b.i(D+C)>>>I|b.i(D+C+1)<<32-I:b.i(D+C);return new o(N,b.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,Ob=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.B,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=d,Ws=o}).apply(typeof IE<"u"?IE:typeof self<"u"?self:typeof window<"u"?window:{});var bu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Lb,wl,Vb,Zu,ug,jb,Fb,Ub;(function(){var t,e=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof bu=="object"&&bu];for(var m=0;m<c.length;++m){var v=c[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var r=n(this);function s(c,m){if(m)e:{var v=r;c=c.split(".");for(var A=0;A<c.length-1;A++){var L=c[A];if(!(L in v))break e;v=v[L]}c=c[c.length-1],A=v[c],m=m(A),m!=A&&m!=null&&e(v,c,{configurable:!0,writable:!0,value:m})}}s("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),s("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),s("Object.entries",function(c){return c||function(m){var v=[],A;for(A in m)Object.prototype.hasOwnProperty.call(m,A)&&v.push([A,m[A]]);return v}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var i=i||{},o=this||self;function a(c){var m=typeof c;return m=="object"&&c!=null||m=="function"}function l(c,m,v){return c.call.apply(c.bind,arguments)}function u(c,m,v){return u=l,u.apply(null,arguments)}function d(c,m){var v=Array.prototype.slice.call(arguments,1);return function(){var A=v.slice();return A.push.apply(A,arguments),c.apply(this,A)}}function h(c,m){function v(){}v.prototype=m.prototype,c.Z=m.prototype,c.prototype=new v,c.prototype.constructor=c,c.Ob=function(A,L,j){for(var q=Array(arguments.length-2),pe=2;pe<arguments.length;pe++)q[pe-2]=arguments[pe];return m.prototype[L].apply(A,q)}}var p=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function g(c){const m=c.length;if(m>0){const v=Array(m);for(let A=0;A<m;A++)v[A]=c[A];return v}return[]}function S(c,m){for(let A=1;A<arguments.length;A++){const L=arguments[A];var v=typeof L;if(v=v!="object"?v:L?Array.isArray(L)?"array":v:"null",v=="array"||v=="object"&&typeof L.length=="number"){v=c.length||0;const j=L.length||0;c.length=v+j;for(let q=0;q<j;q++)c[v+q]=L[q]}else c.push(L)}}class E{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function x(c){o.setTimeout(()=>{throw c},0)}function w(){var c=b;let m=null;return c.g&&(m=c.g,c.g=c.g.next,c.g||(c.h=null),m.next=null),m}class _{constructor(){this.h=this.g=null}add(m,v){const A=T.get();A.set(m,v),this.h?this.h.next=A:this.g=A,this.h=A}}var T=new E(()=>new P,c=>c.reset());class P{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let M,O=!1,b=new _,I=()=>{const c=Promise.resolve(void 0);M=()=>{c.then(C)}};function C(){for(var c;c=w();){try{c.h.call(c.g)}catch(v){x(v)}var m=T;m.j(c),m.h<100&&(m.h++,c.next=m.g,m.g=c)}O=!1}function R(){this.u=this.u,this.C=this.C}R.prototype.u=!1,R.prototype.dispose=function(){this.u||(this.u=!0,this.N())},R.prototype[Symbol.dispose]=function(){this.dispose()},R.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function N(c,m){this.type=c,this.g=this.target=m,this.defaultPrevented=!1}N.prototype.h=function(){this.defaultPrevented=!0};var D=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var c=!1,m=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};o.addEventListener("test",v,m),o.removeEventListener("test",v,m)}catch{}return c}();function k(c){return/^[\s\xa0]*$/.test(c)}function H(c,m){N.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,m)}h(H,N),H.prototype.init=function(c,m){const v=this.type=c.type,A=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=m,m=c.relatedTarget,m||(v=="mouseover"?m=c.fromElement:v=="mouseout"&&(m=c.toElement)),this.relatedTarget=m,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&H.Z.h.call(this)},H.prototype.h=function(){H.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var se="closure_listenable_"+(Math.random()*1e6|0),Z=0;function oe(c,m,v,A,L){this.listener=c,this.proxy=null,this.src=m,this.type=v,this.capture=!!A,this.ha=L,this.key=++Z,this.da=this.fa=!1}function F(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function V(c,m,v){for(const A in c)m.call(v,c[A],A,c)}function G(c,m){for(const v in c)m.call(void 0,c[v],v,c)}function ee(c){const m={};for(const v in c)m[v]=c[v];return m}const X="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ce(c,m){let v,A;for(let L=1;L<arguments.length;L++){A=arguments[L];for(v in A)c[v]=A[v];for(let j=0;j<X.length;j++)v=X[j],Object.prototype.hasOwnProperty.call(A,v)&&(c[v]=A[v])}}function ae(c){this.src=c,this.g={},this.h=0}ae.prototype.add=function(c,m,v,A,L){const j=c.toString();c=this.g[j],c||(c=this.g[j]=[],this.h++);const q=Ne(c,m,A,L);return q>-1?(m=c[q],v||(m.fa=!1)):(m=new oe(m,this.src,j,!!A,L),m.fa=v,c.push(m)),m};function Re(c,m){const v=m.type;if(v in c.g){var A=c.g[v],L=Array.prototype.indexOf.call(A,m,void 0),j;(j=L>=0)&&Array.prototype.splice.call(A,L,1),j&&(F(m),c.g[v].length==0&&(delete c.g[v],c.h--))}}function Ne(c,m,v,A){for(let L=0;L<c.length;++L){const j=c[L];if(!j.da&&j.listener==m&&j.capture==!!v&&j.ha==A)return L}return-1}var he="closure_lm_"+(Math.random()*1e6|0),Zt={};function Qe(c,m,v,A,L){if(Array.isArray(m)){for(let j=0;j<m.length;j++)Qe(c,m[j],v,A,L);return null}return v=is(v),c&&c[se]?c.J(m,v,a(A)?!!A.capture:!!A,L):fn(c,m,v,!1,A,L)}function fn(c,m,v,A,L,j){if(!m)throw Error("Invalid event type");const q=a(L)?!!L.capture:!!L;let pe=ss(c);if(pe||(c[he]=pe=new ae(c)),v=pe.add(m,v,A,q,j),v.proxy)return v;if(A=er(),v.proxy=A,A.src=c,A.listener=v,c.addEventListener)D||(L=q),L===void 0&&(L=!1),c.addEventListener(m.toString(),A,L);else if(c.attachEvent)c.attachEvent(ui(m.toString()),A);else if(c.addListener&&c.removeListener)c.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return v}function er(){function c(v){return m.call(c.src,c.listener,v)}const m=$a;return c}function kr(c,m,v,A,L){if(Array.isArray(m))for(var j=0;j<m.length;j++)kr(c,m[j],v,A,L);else A=a(A)?!!A.capture:!!A,v=is(v),c&&c[se]?(c=c.i,j=String(m).toString(),j in c.g&&(m=c.g[j],v=Ne(m,v,A,L),v>-1&&(F(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete c.g[j],c.h--)))):c&&(c=ss(c))&&(m=c.g[m.toString()],c=-1,m&&(c=Ne(m,v,A,L)),(v=c>-1?m[c]:null)&&pn(v))}function pn(c){if(typeof c!="number"&&c&&!c.da){var m=c.src;if(m&&m[se])Re(m.i,c);else{var v=c.type,A=c.proxy;m.removeEventListener?m.removeEventListener(v,A,c.capture):m.detachEvent?m.detachEvent(ui(v),A):m.addListener&&m.removeListener&&m.removeListener(A),(v=ss(m))?(Re(v,c),v.h==0&&(v.src=null,m[he]=null)):F(c)}}}function ui(c){return c in Zt?Zt[c]:Zt[c]="on"+c}function $a(c,m){if(c.da)c=!0;else{m=new H(m,this);const v=c.listener,A=c.ha||c.src;c.fa&&pn(c),c=v.call(A,m)}return c}function ss(c){return c=c[he],c instanceof ae?c:null}var di="__closure_events_fn_"+(Math.random()*1e9>>>0);function is(c){return typeof c=="function"?c:(c[di]||(c[di]=function(m){return c.handleEvent(m)}),c[di])}function $e(){R.call(this),this.i=new ae(this),this.M=this,this.G=null}h($e,R),$e.prototype[se]=!0,$e.prototype.removeEventListener=function(c,m,v,A){kr(this,c,m,v,A)};function ut(c,m){var v,A=c.G;if(A)for(v=[];A;A=A.G)v.push(A);if(c=c.M,A=m.type||m,typeof m=="string")m=new N(m,c);else if(m instanceof N)m.target=m.target||c;else{var L=m;m=new N(A,c),ce(m,L)}L=!0;let j,q;if(v)for(q=v.length-1;q>=0;q--)j=m.g=v[q],L=tr(j,A,!0,m)&&L;if(j=m.g=c,L=tr(j,A,!0,m)&&L,L=tr(j,A,!1,m)&&L,v)for(q=0;q<v.length;q++)j=m.g=v[q],L=tr(j,A,!1,m)&&L}$e.prototype.N=function(){if($e.Z.N.call(this),this.i){var c=this.i;for(const m in c.g){const v=c.g[m];for(let A=0;A<v.length;A++)F(v[A]);delete c.g[m],c.h--}}this.G=null},$e.prototype.J=function(c,m,v,A){return this.i.add(String(c),m,!1,v,A)},$e.prototype.K=function(c,m,v,A){return this.i.add(String(c),m,!0,v,A)};function tr(c,m,v,A){if(m=c.i.g[String(m)],!m)return!0;m=m.concat();let L=!0;for(let j=0;j<m.length;++j){const q=m[j];if(q&&!q.da&&q.capture==v){const pe=q.listener,it=q.ha||q.src;q.fa&&Re(c.i,q),L=pe.call(it,A)!==!1&&L}}return L&&!A.defaultPrevented}function Hc(c,m){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=u(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:o.setTimeout(c,m||0)}function nr(c){c.g=Hc(()=>{c.g=null,c.i&&(c.i=!1,nr(c))},c.l);const m=c.h;c.h=null,c.m.apply(null,m)}class Af extends R{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:nr(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function hi(c){R.call(this),this.h=c,this.g={}}h(hi,R);var Dt=[];function Nr(c){V(c.g,function(m,v){this.g.hasOwnProperty(v)&&pn(m)},c),c.g={}}hi.prototype.N=function(){hi.Z.N.call(this),Nr(this)},hi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var za=o.JSON.stringify,Rf=o.JSON.parse,ao=class{stringify(c){return o.JSON.stringify(c,void 0)}parse(c){return o.JSON.parse(c,void 0)}};function Wc(){}function Ba(){}var Dr={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function rr(){N.call(this,"d")}h(rr,N);function lo(){N.call(this,"c")}h(lo,N);var zt={},Gc=null;function co(){return Gc=Gc||new $e}zt.Ia="serverreachability";function Ha(c){N.call(this,zt.Ia,c)}h(Ha,N);function os(c){const m=co();ut(m,new Ha(m))}zt.STAT_EVENT="statevent";function qc(c,m){N.call(this,zt.STAT_EVENT,c),this.stat=m}h(qc,N);function st(c){const m=co();ut(m,new qc(m,c))}zt.Ja="timingevent";function Pn(c,m){N.call(this,zt.Ja,c),this.size=m}h(Pn,N);function fi(c,m){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){c()},m)}function ne(){this.g=!0}ne.prototype.ua=function(){this.g=!1};function Se(c,m,v,A,L,j){c.info(function(){if(c.g)if(j){var q="",pe=j.split("&");for(let Pe=0;Pe<pe.length;Pe++){var it=pe[Pe].split("=");if(it.length>1){const ht=it[0];it=it[1];const or=ht.split("_");q=or.length>=2&&or[1]=="type"?q+(ht+"="+it+"&"):q+(ht+"=redacted&")}}}else q=null;else q=j;return"XMLHTTP REQ ("+A+") [attempt "+L+"]: "+m+`
`+v+`
`+q})}function De(c,m,v,A,L,j,q){c.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+L+"]: "+m+`
`+v+`
`+j+" "+q})}function dt(c,m,v,A){c.info(function(){return"XMLHTTP TEXT ("+m+"): "+sr(c,v)+(A?" "+A:"")})}function en(c,m){c.info(function(){return"TIMEOUT: "+m})}ne.prototype.info=function(){};function sr(c,m){if(!c.g)return m;if(!m)return null;try{const j=JSON.parse(m);if(j){for(c=0;c<j.length;c++)if(Array.isArray(j[c])){var v=j[c];if(!(v.length<2)){var A=v[1];if(Array.isArray(A)&&!(A.length<1)){var L=A[0];if(L!="noop"&&L!="stop"&&L!="close")for(let q=1;q<A.length;q++)A[q]=""}}}}return za(j)}catch{return m}}var mn={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Bt={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},kn;function Pf(){}h(Pf,Wc),Pf.prototype.g=function(){return new XMLHttpRequest},kn=new Pf;function Wa(c){return encodeURIComponent(String(c))}function eN(c){var m=1;c=c.split(":");const v=[];for(;m>0&&c.length;)v.push(c.shift()),m--;return c.length&&v.push(c.join(":")),v}function as(c,m,v,A){this.j=c,this.i=m,this.l=v,this.S=A||1,this.V=new hi(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Ow}function Ow(){this.i=null,this.g="",this.h=!1}var Lw={},kf={};function Nf(c,m,v){c.M=1,c.A=Qc(ir(m)),c.u=v,c.R=!0,Vw(c,null)}function Vw(c,m){c.F=Date.now(),Kc(c),c.B=ir(c.A);var v=c.B,A=c.S;Array.isArray(A)||(A=[String(A)]),Yw(v.i,"t",A),c.C=0,v=c.j.L,c.h=new Ow,c.g=p0(c.j,v?m:null,!c.u),c.P>0&&(c.O=new Af(u(c.Y,c,c.g),c.P)),m=c.V,v=c.g,A=c.ba;var L="readystatechange";Array.isArray(L)||(L&&(Dt[0]=L.toString()),L=Dt);for(let j=0;j<L.length;j++){const q=Qe(v,L[j],A||m.handleEvent,!1,m.h||m);if(!q)break;m.g[q.key]=q}m=c.J?ee(c.J):{},c.u?(c.v||(c.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,m)):(c.v="GET",c.g.ea(c.B,c.v,null,m)),os(),Se(c.i,c.v,c.B,c.l,c.S,c.u)}as.prototype.ba=function(c){c=c.target;const m=this.O;m&&us(c)==3?m.j():this.Y(c)},as.prototype.Y=function(c){try{if(c==this.g)e:{const pe=us(this.g),it=this.g.ya(),Pe=this.g.ca();if(!(pe<3)&&(pe!=3||this.g&&(this.h.h||this.g.la()||r0(this.g)))){this.K||pe!=4||it==7||(it==8||Pe<=0?os(3):os(2)),Df(this);var m=this.g.ca();this.X=m;var v=tN(this);if(this.o=m==200,De(this.i,this.v,this.B,this.l,this.S,pe,m),this.o){if(this.U&&!this.L){t:{if(this.g){var A,L=this.g;if((A=L.g?L.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!k(A)){var j=A;break t}}j=null}if(c=j)dt(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Mf(this,c);else{this.o=!1,this.m=3,st(12),pi(this),Ga(this);break e}}if(this.R){c=!0;let ht;for(;!this.K&&this.C<v.length;)if(ht=nN(this,v),ht==kf){pe==4&&(this.m=4,st(14),c=!1),dt(this.i,this.l,null,"[Incomplete Response]");break}else if(ht==Lw){this.m=4,st(15),dt(this.i,this.l,v,"[Invalid Chunk]"),c=!1;break}else dt(this.i,this.l,ht,null),Mf(this,ht);if(jw(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),pe!=4||v.length!=0||this.h.h||(this.m=1,st(16),c=!1),this.o=this.o&&c,!c)dt(this.i,this.l,v,"[Invalid Chunked Response]"),pi(this),Ga(this);else if(v.length>0&&!this.W){this.W=!0;var q=this.j;q.g==this&&q.aa&&!q.P&&(q.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),zf(q),q.P=!0,st(11))}}else dt(this.i,this.l,v,null),Mf(this,v);pe==4&&pi(this),this.o&&!this.K&&(pe==4?u0(this.j,this):(this.o=!1,Kc(this)))}else gN(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,st(12)):(this.m=0,st(13)),pi(this),Ga(this)}}}catch{}finally{}};function tN(c){if(!jw(c))return c.g.la();const m=r0(c.g);if(m==="")return"";let v="";const A=m.length,L=us(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return pi(c),Ga(c),"";c.h.i=new o.TextDecoder}for(let j=0;j<A;j++)c.h.h=!0,v+=c.h.i.decode(m[j],{stream:!(L&&j==A-1)});return m.length=0,c.h.g+=v,c.C=0,c.h.g}function jw(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function nN(c,m){var v=c.C,A=m.indexOf(`
`,v);return A==-1?kf:(v=Number(m.substring(v,A)),isNaN(v)?Lw:(A+=1,A+v>m.length?kf:(m=m.slice(A,A+v),c.C=A+v,m)))}as.prototype.cancel=function(){this.K=!0,pi(this)};function Kc(c){c.T=Date.now()+c.H,Fw(c,c.H)}function Fw(c,m){if(c.D!=null)throw Error("WatchDog timer not null");c.D=fi(u(c.aa,c),m)}function Df(c){c.D&&(o.clearTimeout(c.D),c.D=null)}as.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(en(this.i,this.B),this.M!=2&&(os(),st(17)),pi(this),this.m=2,Ga(this)):Fw(this,this.T-c)};function Ga(c){c.j.I==0||c.K||u0(c.j,c)}function pi(c){Df(c);var m=c.O;m&&typeof m.dispose=="function"&&m.dispose(),c.O=null,Nr(c.V),c.g&&(m=c.g,c.g=null,m.abort(),m.dispose())}function Mf(c,m){try{var v=c.j;if(v.I!=0&&(v.g==c||Of(v.h,c))){if(!c.L&&Of(v.h,c)&&v.I==3){try{var A=v.Ba.g.parse(m)}catch{A=null}if(Array.isArray(A)&&A.length==3){var L=A;if(L[0]==0){e:if(!v.v){if(v.g)if(v.g.F+3e3<c.F)eu(v),Jc(v);else break e;$f(v),st(18)}}else v.xa=L[1],0<v.xa-v.K&&L[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=fi(u(v.Va,v),6e3));zw(v.h)<=1&&v.ta&&(v.ta=void 0)}else gi(v,11)}else if((c.L||v.g==c)&&eu(v),!k(m))for(L=v.Ba.g.parse(m),m=0;m<L.length;m++){let Pe=L[m];const ht=Pe[0];if(!(ht<=v.K))if(v.K=ht,Pe=Pe[1],v.I==2)if(Pe[0]=="c"){v.M=Pe[1],v.ba=Pe[2];const or=Pe[3];or!=null&&(v.ka=or,v.j.info("VER="+v.ka));const yi=Pe[4];yi!=null&&(v.za=yi,v.j.info("SVER="+v.za));const ds=Pe[5];ds!=null&&typeof ds=="number"&&ds>0&&(A=1.5*ds,v.O=A,v.j.info("backChannelRequestTimeoutMs_="+A)),A=v;const hs=c.g;if(hs){const nu=hs.g?hs.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(nu){var j=A.h;j.g||nu.indexOf("spdy")==-1&&nu.indexOf("quic")==-1&&nu.indexOf("h2")==-1||(j.j=j.l,j.g=new Set,j.h&&(Lf(j,j.h),j.h=null))}if(A.G){const Bf=hs.g?hs.g.getResponseHeader("X-HTTP-Session-Id"):null;Bf&&(A.wa=Bf,Le(A.J,A.G,Bf))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-c.F,v.j.info("Handshake RTT: "+v.T+"ms")),A=v;var q=c;if(A.na=f0(A,A.L?A.ba:null,A.W),q.L){Bw(A.h,q);var pe=q,it=A.O;it&&(pe.H=it),pe.D&&(Df(pe),Kc(pe)),A.g=q}else l0(A);v.i.length>0&&Zc(v)}else Pe[0]!="stop"&&Pe[0]!="close"||gi(v,7);else v.I==3&&(Pe[0]=="stop"||Pe[0]=="close"?Pe[0]=="stop"?gi(v,7):Uf(v):Pe[0]!="noop"&&v.l&&v.l.qa(Pe),v.A=0)}}os(4)}catch{}}var rN=class{constructor(c,m){this.g=c,this.map=m}};function Uw(c){this.l=c||10,o.PerformanceNavigationTiming?(c=o.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function $w(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function zw(c){return c.h?1:c.g?c.g.size:0}function Of(c,m){return c.h?c.h==m:c.g?c.g.has(m):!1}function Lf(c,m){c.g?c.g.add(m):c.h=m}function Bw(c,m){c.h&&c.h==m?c.h=null:c.g&&c.g.has(m)&&c.g.delete(m)}Uw.prototype.cancel=function(){if(this.i=Hw(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Hw(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let m=c.i;for(const v of c.g.values())m=m.concat(v.G);return m}return g(c.i)}var Ww=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function sN(c,m){if(c){c=c.split("&");for(let v=0;v<c.length;v++){const A=c[v].indexOf("=");let L,j=null;A>=0?(L=c[v].substring(0,A),j=c[v].substring(A+1)):L=c[v],m(L,j?decodeURIComponent(j.replace(/\+/g," ")):"")}}}function ls(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;c instanceof ls?(this.l=c.l,qa(this,c.j),this.o=c.o,this.g=c.g,Ka(this,c.u),this.h=c.h,Vf(this,Xw(c.i)),this.m=c.m):c&&(m=String(c).match(Ww))?(this.l=!1,qa(this,m[1]||"",!0),this.o=Qa(m[2]||""),this.g=Qa(m[3]||"",!0),Ka(this,m[4]),this.h=Qa(m[5]||"",!0),Vf(this,m[6]||"",!0),this.m=Qa(m[7]||"")):(this.l=!1,this.i=new Xa(null,this.l))}ls.prototype.toString=function(){const c=[];var m=this.j;m&&c.push(Ya(m,Gw,!0),":");var v=this.g;return(v||m=="file")&&(c.push("//"),(m=this.o)&&c.push(Ya(m,Gw,!0),"@"),c.push(Wa(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&c.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(Ya(v,v.charAt(0)=="/"?aN:oN,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",Ya(v,cN)),c.join("")},ls.prototype.resolve=function(c){const m=ir(this);let v=!!c.j;v?qa(m,c.j):v=!!c.o,v?m.o=c.o:v=!!c.g,v?m.g=c.g:v=c.u!=null;var A=c.h;if(v)Ka(m,c.u);else if(v=!!c.h){if(A.charAt(0)!="/")if(this.g&&!this.h)A="/"+A;else{var L=m.h.lastIndexOf("/");L!=-1&&(A=m.h.slice(0,L+1)+A)}if(L=A,L==".."||L==".")A="";else if(L.indexOf("./")!=-1||L.indexOf("/.")!=-1){A=L.lastIndexOf("/",0)==0,L=L.split("/");const j=[];for(let q=0;q<L.length;){const pe=L[q++];pe=="."?A&&q==L.length&&j.push(""):pe==".."?((j.length>1||j.length==1&&j[0]!="")&&j.pop(),A&&q==L.length&&j.push("")):(j.push(pe),A=!0)}A=j.join("/")}else A=L}return v?m.h=A:v=c.i.toString()!=="",v?Vf(m,Xw(c.i)):v=!!c.m,v&&(m.m=c.m),m};function ir(c){return new ls(c)}function qa(c,m,v){c.j=v?Qa(m,!0):m,c.j&&(c.j=c.j.replace(/:$/,""))}function Ka(c,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);c.u=m}else c.u=null}function Vf(c,m,v){m instanceof Xa?(c.i=m,uN(c.i,c.l)):(v||(m=Ya(m,lN)),c.i=new Xa(m,c.l))}function Le(c,m,v){c.i.set(m,v)}function Qc(c){return Le(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function Qa(c,m){return c?m?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Ya(c,m,v){return typeof c=="string"?(c=encodeURI(c).replace(m,iN),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function iN(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Gw=/[#\/\?@]/g,oN=/[#\?:]/g,aN=/[#\?]/g,lN=/[#\?@]/g,cN=/#/g;function Xa(c,m){this.h=this.g=null,this.i=c||null,this.j=!!m}function mi(c){c.g||(c.g=new Map,c.h=0,c.i&&sN(c.i,function(m,v){c.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}t=Xa.prototype,t.add=function(c,m){mi(this),this.i=null,c=uo(this,c);let v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(m),this.h+=1,this};function qw(c,m){mi(c),m=uo(c,m),c.g.has(m)&&(c.i=null,c.h-=c.g.get(m).length,c.g.delete(m))}function Kw(c,m){return mi(c),m=uo(c,m),c.g.has(m)}t.forEach=function(c,m){mi(this),this.g.forEach(function(v,A){v.forEach(function(L){c.call(m,L,A,this)},this)},this)};function Qw(c,m){mi(c);let v=[];if(typeof m=="string")Kw(c,m)&&(v=v.concat(c.g.get(uo(c,m))));else for(c=Array.from(c.g.values()),m=0;m<c.length;m++)v=v.concat(c[m]);return v}t.set=function(c,m){return mi(this),this.i=null,c=uo(this,c),Kw(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[m]),this.h+=1,this},t.get=function(c,m){return c?(c=Qw(this,c),c.length>0?String(c[0]):m):m};function Yw(c,m,v){qw(c,m),v.length>0&&(c.i=null,c.g.set(uo(c,m),g(v)),c.h+=v.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],m=Array.from(this.g.keys());for(let A=0;A<m.length;A++){var v=m[A];const L=Wa(v);v=Qw(this,v);for(let j=0;j<v.length;j++){let q=L;v[j]!==""&&(q+="="+Wa(v[j])),c.push(q)}}return this.i=c.join("&")};function Xw(c){const m=new Xa;return m.i=c.i,c.g&&(m.g=new Map(c.g),m.h=c.h),m}function uo(c,m){return m=String(m),c.j&&(m=m.toLowerCase()),m}function uN(c,m){m&&!c.j&&(mi(c),c.i=null,c.g.forEach(function(v,A){const L=A.toLowerCase();A!=L&&(qw(this,A),Yw(this,L,v))},c)),c.j=m}function dN(c,m){const v=new ne;if(o.Image){const A=new Image;A.onload=d(cs,v,"TestLoadImage: loaded",!0,m,A),A.onerror=d(cs,v,"TestLoadImage: error",!1,m,A),A.onabort=d(cs,v,"TestLoadImage: abort",!1,m,A),A.ontimeout=d(cs,v,"TestLoadImage: timeout",!1,m,A),o.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=c}else m(!1)}function hN(c,m){const v=new ne,A=new AbortController,L=setTimeout(()=>{A.abort(),cs(v,"TestPingServer: timeout",!1,m)},1e4);fetch(c,{signal:A.signal}).then(j=>{clearTimeout(L),j.ok?cs(v,"TestPingServer: ok",!0,m):cs(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(L),cs(v,"TestPingServer: error",!1,m)})}function cs(c,m,v,A,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),A(v)}catch{}}function fN(){this.g=new ao}function jf(c){this.i=c.Sb||null,this.h=c.ab||!1}h(jf,Wc),jf.prototype.g=function(){return new Yc(this.i,this.h)};function Yc(c,m){$e.call(this),this.H=c,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}h(Yc,$e),t=Yc.prototype,t.open=function(c,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=m,this.readyState=1,Za(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(m.body=c),(this.H||o).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Ja(this)),this.readyState=0},t.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Za(this)),this.g&&(this.readyState=3,Za(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Jw(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function Jw(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}t.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var m=c.value?c.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!c.done}))&&(this.response=this.responseText+=m)}c.done?Ja(this):Za(this),this.readyState==3&&Jw(this)}},t.Oa=function(c){this.g&&(this.response=this.responseText=c,Ja(this))},t.Na=function(c){this.g&&(this.response=c,Ja(this))},t.ga=function(){this.g&&Ja(this)};function Ja(c){c.readyState=4,c.l=null,c.j=null,c.B=null,Za(c)}t.setRequestHeader=function(c,m){this.A.append(c,m)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=m.next();return c.join(`\r
`)};function Za(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Yc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Zw(c){let m="";return V(c,function(v,A){m+=A,m+=":",m+=v,m+=`\r
`}),m}function Ff(c,m,v){e:{for(A in v){var A=!1;break e}A=!0}A||(v=Zw(v),typeof c=="string"?v!=null&&Wa(v):Le(c,m,v))}function Ge(c){$e.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}h(Ge,$e);var pN=/^https?$/i,mN=["POST","PUT"];t=Ge.prototype,t.Fa=function(c){this.H=c},t.ea=function(c,m,v,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);m=m?m.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():kn.g(),this.g.onreadystatechange=p(u(this.Ca,this));try{this.B=!0,this.g.open(m,String(c),!0),this.B=!1}catch(j){e0(this,j);return}if(c=v||"",v=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var L in A)v.set(L,A[L]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const j of A.keys())v.set(j,A.get(j));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(v.keys()).find(j=>j.toLowerCase()=="content-type"),L=o.FormData&&c instanceof o.FormData,!(Array.prototype.indexOf.call(mN,m,void 0)>=0)||A||L||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[j,q]of v)this.g.setRequestHeader(j,q);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(j){e0(this,j)}};function e0(c,m){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=m,c.o=5,t0(c),Xc(c)}function t0(c){c.A||(c.A=!0,ut(c,"complete"),ut(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,ut(this,"complete"),ut(this,"abort"),Xc(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Xc(this,!0)),Ge.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?n0(this):this.Xa())},t.Xa=function(){n0(this)};function n0(c){if(c.h&&typeof i<"u"){if(c.v&&us(c)==4)setTimeout(c.Ca.bind(c),0);else if(ut(c,"readystatechange"),us(c)==4){c.h=!1;try{const j=c.ca();e:switch(j){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var v;if(!(v=m)){var A;if(A=j===0){let q=String(c.D).match(Ww)[1]||null;!q&&o.self&&o.self.location&&(q=o.self.location.protocol.slice(0,-1)),A=!pN.test(q?q.toLowerCase():"")}v=A}if(v)ut(c,"complete"),ut(c,"success");else{c.o=6;try{var L=us(c)>2?c.g.statusText:""}catch{L=""}c.l=L+" ["+c.ca()+"]",t0(c)}}finally{Xc(c)}}}}function Xc(c,m){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const v=c.g;c.g=null,m||ut(c,"ready");try{v.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function us(c){return c.g?c.g.readyState:0}t.ca=function(){try{return us(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(c){if(this.g){var m=this.g.responseText;return c&&m.indexOf(c)==0&&(m=m.substring(c.length)),Rf(m)}};function r0(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function gN(c){const m={};c=(c.g&&us(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<c.length;A++){if(k(c[A]))continue;var v=eN(c[A]);const L=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const j=m[L]||[];m[L]=j,j.push(v)}G(m,function(A){return A.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function el(c,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||m}function s0(c){this.za=0,this.i=[],this.j=new ne,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=el("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=el("baseRetryDelayMs",5e3,c),this.Za=el("retryDelaySeedMs",1e4,c),this.Ta=el("forwardChannelMaxRetries",2,c),this.va=el("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new Uw(c&&c.concurrentRequestLimit),this.Ba=new fN,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=s0.prototype,t.ka=8,t.I=1,t.connect=function(c,m,v,A){st(0),this.W=c,this.H=m||{},v&&A!==void 0&&(this.H.OSID=v,this.H.OAID=A),this.F=this.X,this.J=f0(this,null,this.W),Zc(this)};function Uf(c){if(i0(c),c.I==3){var m=c.V++,v=ir(c.J);if(Le(v,"SID",c.M),Le(v,"RID",m),Le(v,"TYPE","terminate"),tl(c,v),m=new as(c,c.j,m),m.M=2,m.A=Qc(ir(v)),v=!1,o.navigator&&o.navigator.sendBeacon)try{v=o.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&o.Image&&(new Image().src=m.A,v=!0),v||(m.g=p0(m.j,null),m.g.ea(m.A)),m.F=Date.now(),Kc(m)}h0(c)}function Jc(c){c.g&&(zf(c),c.g.cancel(),c.g=null)}function i0(c){Jc(c),c.v&&(o.clearTimeout(c.v),c.v=null),eu(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&o.clearTimeout(c.m),c.m=null)}function Zc(c){if(!$w(c.h)&&!c.m){c.m=!0;var m=c.Ea;M||I(),O||(M(),O=!0),b.add(m,c),c.D=0}}function yN(c,m){return zw(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=m.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=fi(u(c.Ea,c,m),d0(c,c.D)),c.D++,!0)}t.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const L=new as(this,this.j,c);let j=this.o;if(this.U&&(j?(j=ee(j),ce(j,this.U)):j=this.U),this.u!==null||this.R||(L.J=j,j=null),this.S)e:{for(var m=0,v=0;v<this.i.length;v++){t:{var A=this.i[v];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(m+=A,m>4096){m=v;break e}if(m===4096||v===this.i.length-1){m=v+1;break e}}m=1e3}else m=1e3;m=a0(this,L,m),v=ir(this.J),Le(v,"RID",c),Le(v,"CVER",22),this.G&&Le(v,"X-HTTP-Session-Id",this.G),tl(this,v),j&&(this.R?m="headers="+Wa(Zw(j))+"&"+m:this.u&&Ff(v,this.u,j)),Lf(this.h,L),this.Ra&&Le(v,"TYPE","init"),this.S?(Le(v,"$req",m),Le(v,"SID","null"),L.U=!0,Nf(L,v,null)):Nf(L,v,m),this.I=2}}else this.I==3&&(c?o0(this,c):this.i.length==0||$w(this.h)||o0(this))};function o0(c,m){var v;m?v=m.l:v=c.V++;const A=ir(c.J);Le(A,"SID",c.M),Le(A,"RID",v),Le(A,"AID",c.K),tl(c,A),c.u&&c.o&&Ff(A,c.u,c.o),v=new as(c,c.j,v,c.D+1),c.u===null&&(v.J=c.o),m&&(c.i=m.G.concat(c.i)),m=a0(c,v,1e3),v.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),Lf(c.h,v),Nf(v,A,m)}function tl(c,m){c.H&&V(c.H,function(v,A){Le(m,A,v)}),c.l&&V({},function(v,A){Le(m,A,v)})}function a0(c,m,v){v=Math.min(c.i.length,v);const A=c.l?u(c.l.Ka,c.l,c):null;e:{var L=c.i;let pe=-1;for(;;){const it=["count="+v];pe==-1?v>0?(pe=L[0].g,it.push("ofs="+pe)):pe=0:it.push("ofs="+pe);let Pe=!0;for(let ht=0;ht<v;ht++){var j=L[ht].g;const or=L[ht].map;if(j-=pe,j<0)pe=Math.max(0,L[ht].g-100),Pe=!1;else try{j="req"+j+"_"||"";try{var q=or instanceof Map?or:Object.entries(or);for(const[yi,ds]of q){let hs=ds;a(ds)&&(hs=za(ds)),it.push(j+yi+"="+encodeURIComponent(hs))}}catch(yi){throw it.push(j+"type="+encodeURIComponent("_badmap")),yi}}catch{A&&A(or)}}if(Pe){q=it.join("&");break e}}q=void 0}return c=c.i.splice(0,v),m.G=c,q}function l0(c){if(!c.g&&!c.v){c.Y=1;var m=c.Da;M||I(),O||(M(),O=!0),b.add(m,c),c.A=0}}function $f(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=fi(u(c.Da,c),d0(c,c.A)),c.A++,!0)}t.Da=function(){if(this.v=null,c0(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=fi(u(this.Wa,this),c)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,st(10),Jc(this),c0(this))};function zf(c){c.B!=null&&(o.clearTimeout(c.B),c.B=null)}function c0(c){c.g=new as(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var m=ir(c.na);Le(m,"RID","rpc"),Le(m,"SID",c.M),Le(m,"AID",c.K),Le(m,"CI",c.F?"0":"1"),!c.F&&c.ia&&Le(m,"TO",c.ia),Le(m,"TYPE","xmlhttp"),tl(c,m),c.u&&c.o&&Ff(m,c.u,c.o),c.O&&(c.g.H=c.O);var v=c.g;c=c.ba,v.M=1,v.A=Qc(ir(m)),v.u=null,v.R=!0,Vw(v,c)}t.Va=function(){this.C!=null&&(this.C=null,Jc(this),$f(this),st(19))};function eu(c){c.C!=null&&(o.clearTimeout(c.C),c.C=null)}function u0(c,m){var v=null;if(c.g==m){eu(c),zf(c),c.g=null;var A=2}else if(Of(c.h,m))v=m.G,Bw(c.h,m),A=1;else return;if(c.I!=0){if(m.o)if(A==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var L=c.D;A=co(),ut(A,new Pn(A,v)),Zc(c)}else l0(c);else if(L=m.m,L==3||L==0&&m.X>0||!(A==1&&yN(c,m)||A==2&&$f(c)))switch(v&&v.length>0&&(m=c.h,m.i=m.i.concat(v)),L){case 1:gi(c,5);break;case 4:gi(c,10);break;case 3:gi(c,6);break;default:gi(c,2)}}}function d0(c,m){let v=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(v*=2),v*m}function gi(c,m){if(c.j.info("Error code "+m),m==2){var v=u(c.bb,c),A=c.Ua;const L=!A;A=new ls(A||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||qa(A,"https"),Qc(A),L?dN(A.toString(),v):hN(A.toString(),v)}else st(2);c.I=0,c.l&&c.l.pa(m),h0(c),i0(c)}t.bb=function(c){c?(this.j.info("Successfully pinged google.com"),st(2)):(this.j.info("Failed to ping google.com"),st(1))};function h0(c){if(c.I=0,c.ja=[],c.l){const m=Hw(c.h);(m.length!=0||c.i.length!=0)&&(S(c.ja,m),S(c.ja,c.i),c.h.i.length=0,g(c.i),c.i.length=0),c.l.oa()}}function f0(c,m,v){var A=v instanceof ls?ir(v):new ls(v);if(A.g!="")m&&(A.g=m+"."+A.g),Ka(A,A.u);else{var L=o.location;A=L.protocol,m=m?m+"."+L.hostname:L.hostname,L=+L.port;const j=new ls(null);A&&qa(j,A),m&&(j.g=m),L&&Ka(j,L),v&&(j.h=v),A=j}return v=c.G,m=c.wa,v&&m&&Le(A,v,m),Le(A,"VER",c.ka),tl(c,A),A}function p0(c,m,v){if(m&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=c.Aa&&!c.ma?new Ge(new jf({ab:v})):new Ge(c.ma),m.Fa(c.L),m}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function m0(){}t=m0.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function tu(){}tu.prototype.g=function(c,m){return new tn(c,m)};function tn(c,m){$e.call(this),this.g=new s0(m),this.l=c,this.h=m&&m.messageUrlParams||null,c=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(c?c["X-WebChannel-Content-Type"]=m.messageContentType:c={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(c?c["X-WebChannel-Client-Profile"]=m.sa:c={"X-WebChannel-Client-Profile":m.sa}),this.g.U=c,(c=m&&m.Qb)&&!k(c)&&(this.g.u=c),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!k(m)&&(this.g.G=m,c=this.h,c!==null&&m in c&&(c=this.h,m in c&&delete c[m])),this.j=new ho(this)}h(tn,$e),tn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},tn.prototype.close=function(){Uf(this.g)},tn.prototype.o=function(c){var m=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.v&&(v={},v.__data__=za(c),c=v);m.i.push(new rN(m.Ya++,c)),m.I==3&&Zc(m)},tn.prototype.N=function(){this.g.l=null,delete this.j,Uf(this.g),delete this.g,tn.Z.N.call(this)};function g0(c){rr.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var m=c.__sm__;if(m){e:{for(const v in m){c=v;break e}c=void 0}(this.i=c)&&(c=this.i,m=m!==null&&c in m?m[c]:void 0),this.data=m}else this.data=c}h(g0,rr);function y0(){lo.call(this),this.status=1}h(y0,lo);function ho(c){this.g=c}h(ho,m0),ho.prototype.ra=function(){ut(this.g,"a")},ho.prototype.qa=function(c){ut(this.g,new g0(c))},ho.prototype.pa=function(c){ut(this.g,new y0)},ho.prototype.oa=function(){ut(this.g,"b")},tu.prototype.createWebChannel=tu.prototype.g,tn.prototype.send=tn.prototype.o,tn.prototype.open=tn.prototype.m,tn.prototype.close=tn.prototype.close,Ub=function(){return new tu},Fb=function(){return co()},jb=zt,ug={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},mn.NO_ERROR=0,mn.TIMEOUT=8,mn.HTTP_ERROR=6,Zu=mn,Bt.COMPLETE="complete",Vb=Bt,Ba.EventType=Dr,Dr.OPEN="a",Dr.CLOSE="b",Dr.ERROR="c",Dr.MESSAGE="d",$e.prototype.listen=$e.prototype.J,wl=Ba,Ge.prototype.listenOnce=Ge.prototype.K,Ge.prototype.getLastError=Ge.prototype.Ha,Ge.prototype.getLastErrorCode=Ge.prototype.ya,Ge.prototype.getStatus=Ge.prototype.ca,Ge.prototype.getResponseJson=Ge.prototype.La,Ge.prototype.getResponseText=Ge.prototype.la,Ge.prototype.send=Ge.prototype.ea,Ge.prototype.setWithCredentials=Ge.prototype.Fa,Lb=Ge}).apply(typeof bu<"u"?bu:typeof self<"u"?self:typeof window<"u"?window:{});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class At{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}At.UNAUTHENTICATED=new At(null),At.GOOGLE_CREDENTIALS=new At("google-credentials-uid"),At.FIRST_PARTY=new At("first-party-uid"),At.MOCK_USER=new At("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ma="12.9.0";function o3(t){Ma=t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bi=new Yh("@firebase/firestore");function yo(){return Bi.logLevel}function Q(t,...e){if(Bi.logLevel<=ye.DEBUG){const n=e.map(uv);Bi.debug(`Firestore (${Ma}): ${t}`,...n)}}function Zr(t,...e){if(Bi.logLevel<=ye.ERROR){const n=e.map(uv);Bi.error(`Firestore (${Ma}): ${t}`,...n)}}function Hi(t,...e){if(Bi.logLevel<=ye.WARN){const n=e.map(uv);Bi.warn(`Firestore (${Ma}): ${t}`,...n)}}function uv(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function re(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,$b(t,r,n)}function $b(t,e,n){let r=`FIRESTORE (${Ma}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Zr(r),new Error(r)}function Ie(t,e,n,r){let s="Unexpected state";typeof n=="string"?s=n:r=n,t||$b(e,s,r)}function ue(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class K extends An{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gs{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zb{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class a3{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(At.UNAUTHENTICATED))}shutdown(){}}class l3{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class c3{constructor(e){this.t=e,this.currentUser=At.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ie(this.o===void 0,42304);let r=this.i;const s=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let i=new Gs;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Gs,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const l=i;e.enqueueRetryable(async()=>{await l.promise,await s(this.currentUser)})},a=l=>{Q("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(Q("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Gs)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Q("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ie(typeof r.accessToken=="string",31837,{l:r}),new zb(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ie(e===null||typeof e=="string",2055,{h:e}),new At(e)}}class u3{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=At.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class d3{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new u3(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(At.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class bE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class h3{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,wn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Ie(this.o===void 0,3512);const r=i=>{i.error!=null&&Q("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.m;return this.m=i.token,Q("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{Q("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.V.getImmediate({optional:!0});i?s(i):Q("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new bE(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ie(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new bE(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f3(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dv{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=f3(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%62))}return r}}function ve(t,e){return t<e?-1:t>e?1:0}function dg(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const s=t.charAt(r),i=e.charAt(r);if(s!==i)return kp(s)===kp(i)?ve(s,i):kp(s)?1:-1}return ve(t.length,e.length)}const p3=55296,m3=57343;function kp(t){const e=t.charCodeAt(0);return e>=p3&&e<=m3}function ya(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CE="__name__";class ur{constructor(e,n,r){n===void 0?n=0:n>e.length&&re(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&re(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return ur.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ur?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=ur.compareSegments(e.get(s),n.get(s));if(i!==0)return i}return ve(e.length,n.length)}static compareSegments(e,n){const r=ur.isNumericId(e),s=ur.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?ur.extractNumericId(e).compare(ur.extractNumericId(n)):dg(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ws.fromString(e.substring(4,e.length-2))}}class Me extends ur{construct(e,n,r){return new Me(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new K($.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new Me(n)}static emptyPath(){return new Me([])}}const g3=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class wt extends ur{construct(e,n,r){return new wt(e,n,r)}static isValidIdentifier(e){return g3.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),wt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===CE}static keyField(){return new wt([CE])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new K($.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const a=e[s];if(a==="\\"){if(s+1===e.length)throw new K($.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[s+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new K($.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,s+=2}else a==="`"?(o=!o,s++):a!=="."||o?(r+=a,s++):(i(),s++)}if(i(),o)throw new K($.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new wt(n)}static emptyPath(){return new wt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class te{constructor(e){this.path=e}static fromPath(e){return new te(Me.fromString(e))}static fromName(e){return new te(Me.fromString(e).popFirst(5))}static empty(){return new te(Me.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Me.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Me.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new te(new Me(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bb(t,e,n){if(!n)throw new K($.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function y3(t,e,n,r){if(e===!0&&r===!0)throw new K($.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function AE(t){if(!te.isDocumentKey(t))throw new K($.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function RE(t){if(te.isDocumentKey(t))throw new K($.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Hb(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Xh(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":re(12329,{type:typeof t})}function Wr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new K($.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Xh(t);throw new K($.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rt(t,e){const n={typeString:t};return e&&(n.value=e),n}function Dc(t,e){if(!Hb(t))throw new K($.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const s=e[r].typeString,i="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const o=t[r];if(s&&typeof o!==s){n=`JSON field '${r}' must be a ${s}.`;break}if(i!==void 0&&o!==i.value){n=`Expected '${r}' field to equal '${i.value}'`;break}}if(n)throw new K($.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PE=-62135596800,kE=1e6;class ke{static now(){return ke.fromMillis(Date.now())}static fromDate(e){return ke.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*kE);return new ke(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new K($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new K($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<PE)throw new K($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new K($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/kE}_compareTo(e){return this.seconds===e.seconds?ve(this.nanoseconds,e.nanoseconds):ve(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ke._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Dc(e,ke._jsonSchema))return new ke(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-PE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ke._jsonSchemaVersion="firestore/timestamp/1.0",ke._jsonSchema={type:rt("string",ke._jsonSchemaVersion),seconds:rt("number"),nanoseconds:rt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class le{static fromTimestamp(e){return new le(e)}static min(){return new le(new ke(0,0))}static max(){return new le(new ke(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uc=-1;function v3(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=le.fromTimestamp(r===1e9?new ke(n+1,0):new ke(n,r));return new ei(s,te.empty(),e)}function w3(t){return new ei(t.readTime,t.key,uc)}class ei{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new ei(le.min(),te.empty(),uc)}static max(){return new ei(le.max(),te.empty(),uc)}}function _3(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=te.comparator(t.documentKey,e.documentKey),n!==0?n:ve(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E3="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class x3{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Oa(t){if(t.code!==$.FAILED_PRECONDITION||t.message!==E3)throw t;Q("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&re(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new z((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof z?n:z.resolve(n)}catch(n){return z.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):z.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):z.reject(n)}static resolve(e){return new z((n,r)=>{n(e)})}static reject(e){return new z((n,r)=>{r(e)})}static waitFor(e){return new z((n,r)=>{let s=0,i=0,o=!1;e.forEach(a=>{++s,a.next(()=>{++i,o&&i===s&&n()},l=>r(l))}),o=!0,i===s&&n()})}static or(e){let n=z.resolve(!1);for(const r of e)n=n.next(s=>s?z.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new z((r,s)=>{const i=e.length,o=new Array(i);let a=0;for(let l=0;l<i;l++){const u=l;n(e[u]).next(d=>{o[u]=d,++a,a===i&&r(o)},d=>s(d))}})}static doWhile(e,n){return new z((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}function T3(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function La(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Jh.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hv=-1;function Zh(t){return t==null}function Hd(t){return t===0&&1/t==-1/0}function S3(t){return typeof t=="number"&&Number.isInteger(t)&&!Hd(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wb="";function I3(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=NE(e)),e=b3(t.get(n),e);return NE(e)}function b3(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const i=t.charAt(s);switch(i){case"\0":n+="";break;case Wb:n+="";break;default:n+=i}}return n}function NE(t){return t+Wb+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DE(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function eo(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Gb(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class We{constructor(e,n){this.comparator=e,this.root=n||vt.EMPTY}insert(e,n){return new We(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,vt.BLACK,null,null))}remove(e){return new We(this.comparator,this.root.remove(e,this.comparator).copy(null,null,vt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Cu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Cu(this.root,e,this.comparator,!1)}getReverseIterator(){return new Cu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Cu(this.root,e,this.comparator,!0)}}class Cu{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class vt{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??vt.RED,this.left=s??vt.EMPTY,this.right=i??vt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new vt(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return vt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return vt.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,vt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,vt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw re(43730,{key:this.key,value:this.value});if(this.right.isRed())throw re(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw re(27949);return e+(this.isRed()?0:1)}}vt.EMPTY=null,vt.RED=!0,vt.BLACK=!1;vt.EMPTY=new class{constructor(){this.size=0}get key(){throw re(57766)}get value(){throw re(16141)}get color(){throw re(16727)}get left(){throw re(29726)}get right(){throw re(36894)}copy(e,n,r,s,i){return this}insert(e,n,r){return new vt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ct{constructor(e){this.comparator=e,this.data=new We(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new ME(this.data.getIterator())}getIteratorFrom(e){return new ME(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof ct)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new ct(this.comparator);return n.data=e,n}}class ME{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Un{constructor(e){this.fields=e,e.sort(wt.comparator)}static empty(){return new Un([])}unionWith(e){let n=new ct(wt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Un(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ya(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qb extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new qb("Invalid base64 string: "+i):i}}(e);return new xt(n)}static fromUint8Array(e){const n=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(e);return new xt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ve(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}xt.EMPTY_BYTE_STRING=new xt("");const C3=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ti(t){if(Ie(!!t,39018),typeof t=="string"){let e=0;const n=C3.exec(t);if(Ie(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ye(t.seconds),nanos:Ye(t.nanos)}}function Ye(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ni(t){return typeof t=="string"?xt.fromBase64String(t):xt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kb="server_timestamp",Qb="__type__",Yb="__previous_value__",Xb="__local_write_time__";function fv(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[Qb])==null?void 0:r.stringValue)===Kb}function ef(t){const e=t.mapValue.fields[Yb];return fv(e)?ef(e):e}function dc(t){const e=ti(t.mapValue.fields[Xb].timestampValue);return new ke(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A3{constructor(e,n,r,s,i,o,a,l,u,d,h){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u,this.isUsingEmulator=d,this.apiKey=h}}const Wd="(default)";class hc{constructor(e,n){this.projectId=e,this.database=n||Wd}static empty(){return new hc("","")}get isDefaultDatabase(){return this.database===Wd}isEqual(e){return e instanceof hc&&e.projectId===this.projectId&&e.database===this.database}}function R3(t,e){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new K($.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new hc(t.options.projectId,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jb="__type__",Zb="__max__",Au={mapValue:{fields:{__type__:{stringValue:Zb}}}},eC="__vector__",Gd="value";function ri(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?fv(t)?4:k3(t)?9007199254740991:P3(t)?10:11:re(28295,{value:t})}function Cr(t,e){if(t===e)return!0;const n=ri(t);if(n!==ri(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return dc(t).isEqual(dc(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=ti(s.timestampValue),a=ti(i.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return ni(s.bytesValue).isEqual(ni(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return Ye(s.geoPointValue.latitude)===Ye(i.geoPointValue.latitude)&&Ye(s.geoPointValue.longitude)===Ye(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return Ye(s.integerValue)===Ye(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=Ye(s.doubleValue),a=Ye(i.doubleValue);return o===a?Hd(o)===Hd(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return ya(t.arrayValue.values||[],e.arrayValue.values||[],Cr);case 10:case 11:return function(s,i){const o=s.mapValue.fields||{},a=i.mapValue.fields||{};if(DE(o)!==DE(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!Cr(o[l],a[l])))return!1;return!0}(t,e);default:return re(52216,{left:t})}}function fc(t,e){return(t.values||[]).find(n=>Cr(n,e))!==void 0}function va(t,e){if(t===e)return 0;const n=ri(t),r=ri(e);if(n!==r)return ve(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ve(t.booleanValue,e.booleanValue);case 2:return function(i,o){const a=Ye(i.integerValue||i.doubleValue),l=Ye(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return OE(t.timestampValue,e.timestampValue);case 4:return OE(dc(t),dc(e));case 5:return dg(t.stringValue,e.stringValue);case 6:return function(i,o){const a=ni(i),l=ni(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const a=i.split("/"),l=o.split("/");for(let u=0;u<a.length&&u<l.length;u++){const d=ve(a[u],l[u]);if(d!==0)return d}return ve(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const a=ve(Ye(i.latitude),Ye(o.latitude));return a!==0?a:ve(Ye(i.longitude),Ye(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return LE(t.arrayValue,e.arrayValue);case 10:return function(i,o){var p,g,S,E;const a=i.fields||{},l=o.fields||{},u=(p=a[Gd])==null?void 0:p.arrayValue,d=(g=l[Gd])==null?void 0:g.arrayValue,h=ve(((S=u==null?void 0:u.values)==null?void 0:S.length)||0,((E=d==null?void 0:d.values)==null?void 0:E.length)||0);return h!==0?h:LE(u,d)}(t.mapValue,e.mapValue);case 11:return function(i,o){if(i===Au.mapValue&&o===Au.mapValue)return 0;if(i===Au.mapValue)return 1;if(o===Au.mapValue)return-1;const a=i.fields||{},l=Object.keys(a),u=o.fields||{},d=Object.keys(u);l.sort(),d.sort();for(let h=0;h<l.length&&h<d.length;++h){const p=dg(l[h],d[h]);if(p!==0)return p;const g=va(a[l[h]],u[d[h]]);if(g!==0)return g}return ve(l.length,d.length)}(t.mapValue,e.mapValue);default:throw re(23264,{he:n})}}function OE(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ve(t,e);const n=ti(t),r=ti(e),s=ve(n.seconds,r.seconds);return s!==0?s:ve(n.nanos,r.nanos)}function LE(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=va(n[s],r[s]);if(i)return i}return ve(n.length,r.length)}function wa(t){return hg(t)}function hg(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=ti(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return ni(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return te.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=hg(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${hg(n.fields[o])}`;return s+"}"}(t.mapValue):re(61005,{value:t})}function ed(t){switch(ri(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=ef(t);return e?16+ed(e):16;case 5:return 2*t.stringValue.length;case 6:return ni(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,i)=>s+ed(i),0)}(t.arrayValue);case 10:case 11:return function(r){let s=0;return eo(r.fields,(i,o)=>{s+=i.length+ed(o)}),s}(t.mapValue);default:throw re(13486,{value:t})}}function VE(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function fg(t){return!!t&&"integerValue"in t}function pv(t){return!!t&&"arrayValue"in t}function jE(t){return!!t&&"nullValue"in t}function FE(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function td(t){return!!t&&"mapValue"in t}function P3(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[Jb])==null?void 0:r.stringValue)===eC}function Ol(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return eo(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Ol(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ol(t.arrayValue.values[n]);return e}return{...t}}function k3(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===Zb}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _n{constructor(e){this.value=e}static empty(){return new _n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!td(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ol(n)}setAll(e){let n=wt.emptyPath(),r={},s=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,s),r={},s=[],n=a.popLast()}o?r[a.lastSegment()]=Ol(o):s.push(a.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());td(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Cr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];td(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){eo(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new _n(Ol(this.value))}}function tC(t){const e=[];return eo(t.fields,(n,r)=>{const s=new wt([n]);if(td(r)){const i=tC(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)}),new Un(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pt{constructor(e,n,r,s,i,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Pt(e,0,le.min(),le.min(),le.min(),_n.empty(),0)}static newFoundDocument(e,n,r,s){return new Pt(e,1,n,le.min(),r,s,0)}static newNoDocument(e,n){return new Pt(e,2,n,le.min(),le.min(),_n.empty(),0)}static newUnknownDocument(e,n){return new Pt(e,3,n,le.min(),le.min(),_n.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(le.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=_n.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=_n.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=le.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Pt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Pt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qd{constructor(e,n){this.position=e,this.inclusive=n}}function UE(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=te.comparator(te.fromName(o.referenceValue),n.key):r=va(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function $E(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Cr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pc{constructor(e,n="asc"){this.field=e,this.dir=n}}function N3(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nC{}class nt extends nC{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new M3(e,n,r):n==="array-contains"?new V3(e,r):n==="in"?new j3(e,r):n==="not-in"?new F3(e,r):n==="array-contains-any"?new U3(e,r):new nt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new O3(e,r):new L3(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(va(n,this.value)):n!==null&&ri(this.value)===ri(n)&&this.matchesComparison(va(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return re(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Yn extends nC{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Yn(e,n)}matches(e){return rC(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function rC(t){return t.op==="and"}function sC(t){return D3(t)&&rC(t)}function D3(t){for(const e of t.filters)if(e instanceof Yn)return!1;return!0}function pg(t){if(t instanceof nt)return t.field.canonicalString()+t.op.toString()+wa(t.value);if(sC(t))return t.filters.map(e=>pg(e)).join(",");{const e=t.filters.map(n=>pg(n)).join(",");return`${t.op}(${e})`}}function iC(t,e){return t instanceof nt?function(r,s){return s instanceof nt&&r.op===s.op&&r.field.isEqual(s.field)&&Cr(r.value,s.value)}(t,e):t instanceof Yn?function(r,s){return s instanceof Yn&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,o,a)=>i&&iC(o,s.filters[a]),!0):!1}(t,e):void re(19439)}function oC(t){return t instanceof nt?function(n){return`${n.field.canonicalString()} ${n.op} ${wa(n.value)}`}(t):t instanceof Yn?function(n){return n.op.toString()+" {"+n.getFilters().map(oC).join(" ,")+"}"}(t):"Filter"}class M3 extends nt{constructor(e,n,r){super(e,n,r),this.key=te.fromName(r.referenceValue)}matches(e){const n=te.comparator(e.key,this.key);return this.matchesComparison(n)}}class O3 extends nt{constructor(e,n){super(e,"in",n),this.keys=aC("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class L3 extends nt{constructor(e,n){super(e,"not-in",n),this.keys=aC("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function aC(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map(r=>te.fromName(r.referenceValue))}class V3 extends nt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return pv(n)&&fc(n.arrayValue,this.value)}}class j3 extends nt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&fc(this.value.arrayValue,n)}}class F3 extends nt{constructor(e,n){super(e,"not-in",n)}matches(e){if(fc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!fc(this.value.arrayValue,n)}}class U3 extends nt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!pv(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>fc(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $3{constructor(e,n=null,r=[],s=[],i=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=a,this.Te=null}}function zE(t,e=null,n=[],r=[],s=null,i=null,o=null){return new $3(t,e,n,r,s,i,o)}function mv(t){const e=ue(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>pg(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),Zh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>wa(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>wa(r)).join(",")),e.Te=n}return e.Te}function gv(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!N3(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!iC(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!$E(t.startAt,e.startAt)&&$E(t.endAt,e.endAt)}function mg(t){return te.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Va{constructor(e,n=null,r=[],s=[],i=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=l,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function z3(t,e,n,r,s,i,o,a){return new Va(t,e,n,r,s,i,o,a)}function tf(t){return new Va(t)}function BE(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function B3(t){return te.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function lC(t){return t.collectionGroup!==null}function Ll(t){const e=ue(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const i of e.explicitOrderBy)e.Ie.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new ct(wt.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.Ie.push(new pc(i,r))}),n.has(wt.keyField().canonicalString())||e.Ie.push(new pc(wt.keyField(),r))}return e.Ie}function _r(t){const e=ue(t);return e.Ee||(e.Ee=H3(e,Ll(t))),e.Ee}function H3(t,e){if(t.limitType==="F")return zE(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new pc(s.field,i)});const n=t.endAt?new qd(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new qd(t.startAt.position,t.startAt.inclusive):null;return zE(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function gg(t,e){const n=t.filters.concat([e]);return new Va(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function W3(t,e){const n=t.explicitOrderBy.concat([e]);return new Va(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}function Kd(t,e,n){return new Va(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function nf(t,e){return gv(_r(t),_r(e))&&t.limitType===e.limitType}function cC(t){return`${mv(_r(t))}|lt:${t.limitType}`}function vo(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>oC(s)).join(", ")}]`),Zh(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>wa(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>wa(s)).join(",")),`Target(${r})`}(_r(t))}; limitType=${t.limitType})`}function rf(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):te.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of Ll(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(o,a,l){const u=UE(o,a,l);return o.inclusive?u<=0:u<0}(r.startAt,Ll(r),s)||r.endAt&&!function(o,a,l){const u=UE(o,a,l);return o.inclusive?u>=0:u>0}(r.endAt,Ll(r),s))}(t,e)}function G3(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function uC(t){return(e,n)=>{let r=!1;for(const s of Ll(t)){const i=q3(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function q3(t,e,n){const r=t.field.isKeyField()?te.comparator(e.key,n.key):function(i,o,a){const l=o.data.field(i),u=a.data.field(i);return l!==null&&u!==null?va(l,u):re(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return re(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class to{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){eo(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return Gb(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K3=new We(te.comparator);function es(){return K3}const dC=new We(te.comparator);function _l(...t){let e=dC;for(const n of t)e=e.insert(n.key,n);return e}function hC(t){let e=dC;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Ii(){return Vl()}function fC(){return Vl()}function Vl(){return new to(t=>t.toString(),(t,e)=>t.isEqual(e))}const Q3=new We(te.comparator),Y3=new ct(te.comparator);function we(...t){let e=Y3;for(const n of t)e=e.add(n);return e}const X3=new ct(ve);function J3(){return X3}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yv(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Hd(e)?"-0":e}}function pC(t){return{integerValue:""+t}}function Z3(t,e){return S3(e)?pC(e):yv(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sf{constructor(){this._=void 0}}function e5(t,e,n){return t instanceof mc?function(s,i){const o={fields:{[Qb]:{stringValue:Kb},[Xb]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&fv(i)&&(i=ef(i)),i&&(o.fields[Yb]=i),{mapValue:o}}(n,e):t instanceof gc?gC(t,e):t instanceof yc?yC(t,e):function(s,i){const o=mC(s,i),a=HE(o)+HE(s.Ae);return fg(o)&&fg(s.Ae)?pC(a):yv(s.serializer,a)}(t,e)}function t5(t,e,n){return t instanceof gc?gC(t,e):t instanceof yc?yC(t,e):n}function mC(t,e){return t instanceof Qd?function(r){return fg(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class mc extends sf{}class gc extends sf{constructor(e){super(),this.elements=e}}function gC(t,e){const n=vC(e);for(const r of t.elements)n.some(s=>Cr(s,r))||n.push(r);return{arrayValue:{values:n}}}class yc extends sf{constructor(e){super(),this.elements=e}}function yC(t,e){let n=vC(e);for(const r of t.elements)n=n.filter(s=>!Cr(s,r));return{arrayValue:{values:n}}}class Qd extends sf{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function HE(t){return Ye(t.integerValue||t.doubleValue)}function vC(t){return pv(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n5{constructor(e,n){this.field=e,this.transform=n}}function r5(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof gc&&s instanceof gc||r instanceof yc&&s instanceof yc?ya(r.elements,s.elements,Cr):r instanceof Qd&&s instanceof Qd?Cr(r.Ae,s.Ae):r instanceof mc&&s instanceof mc}(t.transform,e.transform)}class s5{constructor(e,n){this.version=e,this.transformResults=n}}class Er{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Er}static exists(e){return new Er(void 0,e)}static updateTime(e){return new Er(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function nd(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class of{}function wC(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new EC(t.key,Er.none()):new Mc(t.key,t.data,Er.none());{const n=t.data,r=_n.empty();let s=new ct(wt.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new no(t.key,r,new Un(s.toArray()),Er.none())}}function i5(t,e,n){t instanceof Mc?function(s,i,o){const a=s.value.clone(),l=GE(s.fieldTransforms,i,o.transformResults);a.setAll(l),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof no?function(s,i,o){if(!nd(s.precondition,i))return void i.convertToUnknownDocument(o.version);const a=GE(s.fieldTransforms,i,o.transformResults),l=i.data;l.setAll(_C(s)),l.setAll(a),i.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function jl(t,e,n,r){return t instanceof Mc?function(i,o,a,l){if(!nd(i.precondition,o))return a;const u=i.value.clone(),d=qE(i.fieldTransforms,l,o);return u.setAll(d),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof no?function(i,o,a,l){if(!nd(i.precondition,o))return a;const u=qE(i.fieldTransforms,l,o),d=o.data;return d.setAll(_C(i)),d.setAll(u),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),a===null?null:a.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(h=>h.field))}(t,e,n,r):function(i,o,a){return nd(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function o5(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=mC(r.transform,s||null);i!=null&&(n===null&&(n=_n.empty()),n.set(r.field,i))}return n||null}function WE(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&ya(r,s,(i,o)=>r5(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Mc extends of{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class no extends of{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function _C(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function GE(t,e,n){const r=new Map;Ie(t.length===n.length,32656,{Ve:n.length,de:t.length});for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,a=e.data.field(i.field);r.set(i.field,t5(o,a,n[s]))}return r}function qE(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,e5(i,o,e))}return r}class EC extends of{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class a5 extends of{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l5{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&i5(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=jl(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=jl(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=fC();return this.mutations.forEach(s=>{const i=e.get(s.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=n.has(s.key)?null:a;const l=wC(o,a);l!==null&&r.set(s.key,l),o.isValidDocument()||o.convertToNoDocument(le.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),we())}isEqual(e){return this.batchId===e.batchId&&ya(this.mutations,e.mutations,(n,r)=>WE(n,r))&&ya(this.baseMutations,e.baseMutations,(n,r)=>WE(n,r))}}class vv{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){Ie(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let s=function(){return Q3}();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new vv(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let c5=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u5{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var et,Ee;function d5(t){switch(t){case $.OK:return re(64938);case $.CANCELLED:case $.UNKNOWN:case $.DEADLINE_EXCEEDED:case $.RESOURCE_EXHAUSTED:case $.INTERNAL:case $.UNAVAILABLE:case $.UNAUTHENTICATED:return!1;case $.INVALID_ARGUMENT:case $.NOT_FOUND:case $.ALREADY_EXISTS:case $.PERMISSION_DENIED:case $.FAILED_PRECONDITION:case $.ABORTED:case $.OUT_OF_RANGE:case $.UNIMPLEMENTED:case $.DATA_LOSS:return!0;default:return re(15467,{code:t})}}function xC(t){if(t===void 0)return Zr("GRPC error has no .code"),$.UNKNOWN;switch(t){case et.OK:return $.OK;case et.CANCELLED:return $.CANCELLED;case et.UNKNOWN:return $.UNKNOWN;case et.DEADLINE_EXCEEDED:return $.DEADLINE_EXCEEDED;case et.RESOURCE_EXHAUSTED:return $.RESOURCE_EXHAUSTED;case et.INTERNAL:return $.INTERNAL;case et.UNAVAILABLE:return $.UNAVAILABLE;case et.UNAUTHENTICATED:return $.UNAUTHENTICATED;case et.INVALID_ARGUMENT:return $.INVALID_ARGUMENT;case et.NOT_FOUND:return $.NOT_FOUND;case et.ALREADY_EXISTS:return $.ALREADY_EXISTS;case et.PERMISSION_DENIED:return $.PERMISSION_DENIED;case et.FAILED_PRECONDITION:return $.FAILED_PRECONDITION;case et.ABORTED:return $.ABORTED;case et.OUT_OF_RANGE:return $.OUT_OF_RANGE;case et.UNIMPLEMENTED:return $.UNIMPLEMENTED;case et.DATA_LOSS:return $.DATA_LOSS;default:return re(39323,{code:t})}}(Ee=et||(et={}))[Ee.OK=0]="OK",Ee[Ee.CANCELLED=1]="CANCELLED",Ee[Ee.UNKNOWN=2]="UNKNOWN",Ee[Ee.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ee[Ee.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ee[Ee.NOT_FOUND=5]="NOT_FOUND",Ee[Ee.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ee[Ee.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ee[Ee.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ee[Ee.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ee[Ee.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ee[Ee.ABORTED=10]="ABORTED",Ee[Ee.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ee[Ee.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ee[Ee.INTERNAL=13]="INTERNAL",Ee[Ee.UNAVAILABLE=14]="UNAVAILABLE",Ee[Ee.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h5(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f5=new Ws([4294967295,4294967295],0);function KE(t){const e=h5().encode(t),n=new Ob;return n.update(e),new Uint8Array(n.digest())}function QE(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new Ws([n,r],0),new Ws([s,i],0)]}class wv{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new El(`Invalid padding: ${n}`);if(r<0)throw new El(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new El(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new El(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Ws.fromNumber(this.ge)}ye(e,n,r){let s=e.add(n.multiply(Ws.fromNumber(r)));return s.compare(f5)===1&&(s=new Ws([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=KE(e),[r,s]=QE(n);for(let i=0;i<this.hashCount;i++){const o=this.ye(r,s,i);if(!this.we(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new wv(i,s,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.ge===0)return;const n=KE(e),[r,s]=QE(n);for(let i=0;i<this.hashCount;i++){const o=this.ye(r,s,i);this.be(o)}}be(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class El extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class af{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,Oc.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new af(le.min(),s,new We(ve),es(),we())}}class Oc{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Oc(r,n,we(),we(),we())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rd{constructor(e,n,r,s){this.Se=e,this.removedTargetIds=n,this.key=r,this.De=s}}class TC{constructor(e,n){this.targetId=e,this.Ce=n}}class SC{constructor(e,n,r=xt.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class YE{constructor(){this.ve=0,this.Fe=XE(),this.Me=xt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=we(),n=we(),r=we();return this.Fe.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:re(38017,{changeType:i})}}),new Oc(this.Me,this.xe,e,n,r)}Ke(){this.Oe=!1,this.Fe=XE()}qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,Ie(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class p5{constructor(e){this.Ge=e,this.ze=new Map,this.je=es(),this.He=Ru(),this.Je=Ru(),this.Ze=new We(ve)}Xe(e){for(const n of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.We(),r.Ne||r.Ke(),r.Le(e.resumeToken);break;case 2:r.We(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.Qe(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:re(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((r,s)=>{this.rt(s)&&n(s)})}st(e){const n=e.targetId,r=e.Ce.count,s=this.ot(n);if(s){const i=s.target;if(mg(i))if(r===0){const o=new te(i.path);this.et(n,o,Pt.newNoDocument(o,le.min()))}else Ie(r===1,20013,{expectedCount:r});else{const o=this._t(n);if(o!==r){const a=this.ut(e),l=a?this.ct(a,e,o):1;if(l!==0){this.it(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,u)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,a;try{o=ni(r).toUint8Array()}catch(l){if(l instanceof qb)return Hi("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new wv(o,s,i)}catch(l){return Hi(l instanceof El?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.ge===0?null:a}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const o=this.Ge.ht(),a=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(a)||(this.et(n,i,null),s++)}),s}Tt(e){const n=new Map;this.ze.forEach((i,o)=>{const a=this.ot(o);if(a){if(i.current&&mg(a.target)){const l=new te(a.target.path);this.It(l).has(o)||this.Et(o,l)||this.et(o,l,Pt.newNoDocument(l,e))}i.Be&&(n.set(o,i.ke()),i.Ke())}});let r=we();this.Je.forEach((i,o)=>{let a=!0;o.forEachWhile(l=>{const u=this.ot(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(i))}),this.je.forEach((i,o)=>o.setReadTime(e));const s=new af(e,n,this.Ze,this.je,r);return this.je=es(),this.He=Ru(),this.Je=Ru(),this.Ze=new We(ve),s}Ye(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).qe(n.key,r),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(e)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const s=this.nt(e);this.Et(e,n)?s.qe(n,1):s.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(e)),this.Je=this.Je.insert(n,this.Rt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let n=this.ze.get(e);return n||(n=new YE,this.ze.set(e,n)),n}Rt(e){let n=this.Je.get(e);return n||(n=new ct(ve),this.Je=this.Je.insert(e,n)),n}It(e){let n=this.He.get(e);return n||(n=new ct(ve),this.He=this.He.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||Q("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new YE),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Ru(){return new We(te.comparator)}function XE(){return new We(te.comparator)}const m5={asc:"ASCENDING",desc:"DESCENDING"},g5={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},y5={and:"AND",or:"OR"};class v5{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function yg(t,e){return t.useProto3Json||Zh(e)?e:{value:e}}function Yd(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function IC(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function w5(t,e){return Yd(t,e.toTimestamp())}function xr(t){return Ie(!!t,49232),le.fromTimestamp(function(n){const r=ti(n);return new ke(r.seconds,r.nanos)}(t))}function _v(t,e){return vg(t,e).canonicalString()}function vg(t,e){const n=function(s){return new Me(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function bC(t){const e=Me.fromString(t);return Ie(kC(e),10190,{key:e.toString()}),e}function wg(t,e){return _v(t.databaseId,e.path)}function Np(t,e){const n=bC(e);if(n.get(1)!==t.databaseId.projectId)throw new K($.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new K($.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new te(AC(n))}function CC(t,e){return _v(t.databaseId,e)}function _5(t){const e=bC(t);return e.length===4?Me.emptyPath():AC(e)}function _g(t){return new Me(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function AC(t){return Ie(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function JE(t,e,n){return{name:wg(t,e),fields:n.value.mapValue.fields}}function E5(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:re(39313,{state:u})}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(u,d){return u.useProto3Json?(Ie(d===void 0||typeof d=="string",58123),xt.fromBase64String(d||"")):(Ie(d===void 0||d instanceof Buffer||d instanceof Uint8Array,16193),xt.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const d=u.code===void 0?$.UNKNOWN:xC(u.code);return new K(d,u.message||"")}(o);n=new SC(r,s,i,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=Np(t,r.document.name),i=xr(r.document.updateTime),o=r.document.createTime?xr(r.document.createTime):le.min(),a=new _n({mapValue:{fields:r.document.fields}}),l=Pt.newFoundDocument(s,i,o,a),u=r.targetIds||[],d=r.removedTargetIds||[];n=new rd(u,d,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=Np(t,r.document),i=r.readTime?xr(r.readTime):le.min(),o=Pt.newNoDocument(s,i),a=r.removedTargetIds||[];n=new rd([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=Np(t,r.document),i=r.removedTargetIds||[];n=new rd([],i,s,null)}else{if(!("filter"in e))return re(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new u5(s,i),a=r.targetId;n=new TC(a,o)}}return n}function x5(t,e){let n;if(e instanceof Mc)n={update:JE(t,e.key,e.value)};else if(e instanceof EC)n={delete:wg(t,e.key)};else if(e instanceof no)n={update:JE(t,e.key,e.data),updateMask:k5(e.fieldMask)};else{if(!(e instanceof a5))return re(16599,{dt:e.type});n={verify:wg(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const a=o.transform;if(a instanceof mc)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof gc)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof yc)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Qd)return{fieldPath:o.field.canonicalString(),increment:a.Ae};throw re(20930,{transform:o.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:w5(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:re(27497)}(t,e.precondition)),n}function T5(t,e){return t&&t.length>0?(Ie(e!==void 0,14353),t.map(n=>function(s,i){let o=s.updateTime?xr(s.updateTime):xr(i);return o.isEqual(le.min())&&(o=xr(i)),new s5(o,s.transformResults||[])}(n,e))):[]}function S5(t,e){return{documents:[CC(t,e.path)]}}function I5(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=CC(t,s);const i=function(u){if(u.length!==0)return PC(Yn.create(u,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(u){if(u.length!==0)return u.map(d=>function(p){return{field:wo(p.field),direction:A5(p.dir)}}(d))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=yg(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{ft:n,parent:s}}function b5(t){let e=_5(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){Ie(r===1,65062);const d=n.from[0];d.allDescendants?s=d.collectionId:e=e.child(d.collectionId)}let i=[];n.where&&(i=function(h){const p=RC(h);return p instanceof Yn&&sC(p)?p.getFilters():[p]}(n.where));let o=[];n.orderBy&&(o=function(h){return h.map(p=>function(S){return new pc(_o(S.field),function(x){switch(x){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(S.direction))}(p))}(n.orderBy));let a=null;n.limit&&(a=function(h){let p;return p=typeof h=="object"?h.value:h,Zh(p)?null:p}(n.limit));let l=null;n.startAt&&(l=function(h){const p=!!h.before,g=h.values||[];return new qd(g,p)}(n.startAt));let u=null;return n.endAt&&(u=function(h){const p=!h.before,g=h.values||[];return new qd(g,p)}(n.endAt)),z3(e,s,o,i,a,"F",l,u)}function C5(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return re(28987,{purpose:s})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function RC(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=_o(n.unaryFilter.field);return nt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=_o(n.unaryFilter.field);return nt.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=_o(n.unaryFilter.field);return nt.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=_o(n.unaryFilter.field);return nt.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return re(61313);default:return re(60726)}}(t):t.fieldFilter!==void 0?function(n){return nt.create(_o(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return re(58110);default:return re(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Yn.create(n.compositeFilter.filters.map(r=>RC(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return re(1026)}}(n.compositeFilter.op))}(t):re(30097,{filter:t})}function A5(t){return m5[t]}function R5(t){return g5[t]}function P5(t){return y5[t]}function wo(t){return{fieldPath:t.canonicalString()}}function _o(t){return wt.fromServerFormat(t.fieldPath)}function PC(t){return t instanceof nt?function(n){if(n.op==="=="){if(FE(n.value))return{unaryFilter:{field:wo(n.field),op:"IS_NAN"}};if(jE(n.value))return{unaryFilter:{field:wo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(FE(n.value))return{unaryFilter:{field:wo(n.field),op:"IS_NOT_NAN"}};if(jE(n.value))return{unaryFilter:{field:wo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:wo(n.field),op:R5(n.op),value:n.value}}}(t):t instanceof Yn?function(n){const r=n.getFilters().map(s=>PC(s));return r.length===1?r[0]:{compositeFilter:{op:P5(n.op),filters:r}}}(t):re(54877,{filter:t})}function k5(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function kC(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}function NC(t){return!!t&&typeof t._toProto=="function"&&t._protoValueType==="ProtoValue"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ms{constructor(e,n,r,s,i=le.min(),o=le.min(),a=xt.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Ms(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ms(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ms(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ms(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N5{constructor(e){this.yt=e}}function D5(t){const e=b5({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Kd(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M5{constructor(){this.Sn=new O5}addToCollectionParentIndex(e,n){return this.Sn.add(n),z.resolve()}getCollectionParents(e,n){return z.resolve(this.Sn.getEntries(n))}addFieldIndex(e,n){return z.resolve()}deleteFieldIndex(e,n){return z.resolve()}deleteAllFieldIndexes(e){return z.resolve()}createTargetIndexes(e,n){return z.resolve()}getDocumentsMatchingTarget(e,n){return z.resolve(null)}getIndexType(e,n){return z.resolve(0)}getFieldIndexes(e,n){return z.resolve([])}getNextCollectionGroupToUpdate(e){return z.resolve(null)}getMinOffset(e,n){return z.resolve(ei.min())}getMinOffsetFromCollectionGroup(e,n){return z.resolve(ei.min())}updateCollectionGroup(e,n,r){return z.resolve()}updateIndexEntries(e,n){return z.resolve()}}class O5{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new ct(Me.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new ct(Me.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},DC=41943040;class Wt{static withCacheSize(e){return new Wt(e,Wt.DEFAULT_COLLECTION_PERCENTILE,Wt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Wt.DEFAULT_COLLECTION_PERCENTILE=10,Wt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Wt.DEFAULT=new Wt(DC,Wt.DEFAULT_COLLECTION_PERCENTILE,Wt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Wt.DISABLED=new Wt(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _a{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new _a(0)}static ar(){return new _a(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e1="LruGarbageCollector",L5=1048576;function t1([t,e],[n,r]){const s=ve(t,n);return s===0?ve(e,r):s}class V5{constructor(e){this.Pr=e,this.buffer=new ct(t1),this.Tr=0}Ir(){return++this.Tr}Er(e){const n=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();t1(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class j5{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){Q(e1,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){La(n)?Q(e1,"Ignoring IndexedDB error during garbage collection: ",n):await Oa(n)}await this.Ar(3e5)})}}class F5{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.dr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return z.resolve(Jh.ce);const r=new V5(n);return this.Vr.forEachTarget(e,s=>r.Er(s.sequenceNumber)).next(()=>this.Vr.mr(e,s=>r.Er(s))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Vr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Q("LruGarbageCollector","Garbage collection skipped; disabled"),z.resolve(ZE)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Q("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),ZE):this.gr(e,n))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,n){let r,s,i,o,a,l,u;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(h=>(h>this.params.maximumSequenceNumbersToCollect?(Q("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${h}`),s=this.params.maximumSequenceNumbersToCollect):s=h,o=Date.now(),this.nthSequenceNumber(e,s))).next(h=>(r=h,a=Date.now(),this.removeTargets(e,r,n))).next(h=>(i=h,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(h=>(u=Date.now(),yo()<=ye.DEBUG&&Q("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-d}ms
	Determined least recently used ${s} in `+(a-o)+`ms
	Removed ${i} targets in `+(l-a)+`ms
	Removed ${h} documents in `+(u-l)+`ms
Total Duration: ${u-d}ms`),z.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:i,documentsRemoved:h})))}}function U5(t,e){return new F5(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $5{constructor(){this.changes=new to(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Pt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?z.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z5{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B5{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&jl(r.mutation,s,Un.empty(),ke.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,we()).next(()=>r))}getLocalViewOfDocuments(e,n,r=we()){const s=Ii();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let o=_l();return i.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Ii();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,we()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,s){let i=es();const o=Vl(),a=function(){return Vl()}();return n.forEach((l,u)=>{const d=r.get(u.key);s.has(u.key)&&(d===void 0||d.mutation instanceof no)?i=i.insert(u.key,u):d!==void 0?(o.set(u.key,d.mutation.getFieldMask()),jl(d.mutation,u,d.mutation.getFieldMask(),ke.now())):o.set(u.key,Un.empty())}),this.recalculateAndSaveOverlays(e,i).next(l=>(l.forEach((u,d)=>o.set(u,d)),n.forEach((u,d)=>a.set(u,new z5(d,o.get(u)??null))),a))}recalculateAndSaveOverlays(e,n){const r=Vl();let s=new We((o,a)=>o-a),i=we();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let d=r.get(l)||Un.empty();d=a.applyToLocalView(u,d),r.set(l,d);const h=(s.get(a.batchId)||we()).add(l);s=s.insert(a.batchId,h)})}).next(()=>{const o=[],a=s.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,d=l.value,h=fC();d.forEach(p=>{if(!i.has(p)){const g=wC(n.get(p),r.get(p));g!==null&&h.set(p,g),i=i.add(p)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,h))}return z.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return B3(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):lC(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):z.resolve(Ii());let a=uc,l=i;return o.next(u=>z.forEach(u,(d,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),i.get(d)?z.resolve():this.remoteDocumentCache.getEntry(e,d).next(p=>{l=l.insert(d,p)}))).next(()=>this.populateOverlays(e,u,i)).next(()=>this.computeViews(e,l,u,we())).next(d=>({batchId:a,changes:hC(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new te(n)).next(r=>{let s=_l();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let o=_l();return this.indexManager.getCollectionParents(e,i).next(a=>z.forEach(a,l=>{const u=function(h,p){return new Va(p,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,l.child(i));return this.getDocumentsMatchingCollectionQuery(e,u,r,s).next(d=>{d.forEach((h,p)=>{o=o.insert(h,p)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(o=>{i.forEach((l,u)=>{const d=u.getKey();o.get(d)===null&&(o=o.insert(d,Pt.newInvalidDocument(d)))});let a=_l();return o.forEach((l,u)=>{const d=i.get(l);d!==void 0&&jl(d.mutation,u,Un.empty(),ke.now()),rf(n,u)&&(a=a.insert(l,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H5{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,n){return z.resolve(this.Nr.get(n))}saveBundleMetadata(e,n){return this.Nr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:xr(s.createTime)}}(n)),z.resolve()}getNamedQuery(e,n){return z.resolve(this.Br.get(n))}saveNamedQuery(e,n){return this.Br.set(n.name,function(s){return{name:s.name,query:D5(s.bundledQuery),readTime:xr(s.readTime)}}(n)),z.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W5{constructor(){this.overlays=new We(te.comparator),this.Lr=new Map}getOverlay(e,n){return z.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Ii();return z.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.bt(e,n,i)}),z.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.Lr.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.Lr.delete(r)),z.resolve()}getOverlaysForCollection(e,n,r){const s=Ii(),i=n.length+1,o=new te(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===i&&l.largestBatchId>r&&s.set(l.getKey(),l)}return z.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new We((u,d)=>u-d);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let d=i.get(u.largestBatchId);d===null&&(d=Ii(),i=i.insert(u.largestBatchId,d)),d.set(u.getKey(),u)}}const a=Ii(),l=i.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,d)=>a.set(u,d)),!(a.size()>=s)););return z.resolve(a)}bt(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.Lr.get(s.largestBatchId).delete(r.key);this.Lr.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new c5(n,r));let i=this.Lr.get(n);i===void 0&&(i=we(),this.Lr.set(n,i)),this.Lr.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G5{constructor(){this.sessionToken=xt.EMPTY_BYTE_STRING}getSessionToken(e){return z.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,z.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ev{constructor(){this.kr=new ct(ft.Kr),this.qr=new ct(ft.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,n){const r=new ft(e,n);this.kr=this.kr.add(r),this.qr=this.qr.add(r)}$r(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Wr(new ft(e,n))}Qr(e,n){e.forEach(r=>this.removeReference(r,n))}Gr(e){const n=new te(new Me([])),r=new ft(n,e),s=new ft(n,e+1),i=[];return this.qr.forEachInRange([r,s],o=>{this.Wr(o),i.push(o.key)}),i}zr(){this.kr.forEach(e=>this.Wr(e))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const n=new te(new Me([])),r=new ft(n,e),s=new ft(n,e+1);let i=we();return this.qr.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new ft(e,0),r=this.kr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class ft{constructor(e,n){this.key=e,this.Hr=n}static Kr(e,n){return te.comparator(e.key,n.key)||ve(e.Hr,n.Hr)}static Ur(e,n){return ve(e.Hr,n.Hr)||te.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q5{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new ct(ft.Kr)}checkEmpty(e){return z.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new l5(i,n,r,s);this.mutationQueue.push(o);for(const a of s)this.Jr=this.Jr.add(new ft(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return z.resolve(o)}lookupMutationBatch(e,n){return z.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.Xr(r),i=s<0?0:s;return z.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return z.resolve(this.mutationQueue.length===0?hv:this.Yn-1)}getAllMutationBatches(e){return z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new ft(n,0),s=new ft(n,Number.POSITIVE_INFINITY),i=[];return this.Jr.forEachInRange([r,s],o=>{const a=this.Zr(o.Hr);i.push(a)}),z.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new ct(ve);return n.forEach(s=>{const i=new ft(s,0),o=new ft(s,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([i,o],a=>{r=r.add(a.Hr)})}),z.resolve(this.Yr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;te.isDocumentKey(i)||(i=i.child(""));const o=new ft(new te(i),0);let a=new ct(ve);return this.Jr.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===s&&(a=a.add(l.Hr)),!0)},o),z.resolve(this.Yr(a))}Yr(e){const n=[];return e.forEach(r=>{const s=this.Zr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){Ie(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Jr;return z.forEach(n.mutations,s=>{const i=new ft(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Jr=r})}nr(e){}containsKey(e,n){const r=new ft(n,0),s=this.Jr.firstAfterOrEqual(r);return z.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,z.resolve()}ei(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K5{constructor(e){this.ti=e,this.docs=function(){return new We(te.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.ti(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return z.resolve(r?r.document.mutableCopy():Pt.newInvalidDocument(n))}getEntries(e,n){let r=es();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():Pt.newInvalidDocument(s))}),z.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=es();const o=n.path,a=new te(o.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:d}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||_3(w3(d),r)<=0||(s.has(d.key)||rf(n,d))&&(i=i.insert(d.key,d.mutableCopy()))}return z.resolve(i)}getAllFromCollectionGroup(e,n,r,s){re(9500)}ni(e,n){return z.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new Q5(this)}getSize(e){return z.resolve(this.size)}}class Q5 extends $5{constructor(e){super(),this.Mr=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.Mr.addEntry(e,s)):this.Mr.removeEntry(r)}),z.waitFor(n)}getFromCache(e,n){return this.Mr.getEntry(e,n)}getAllFromCache(e,n){return this.Mr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y5{constructor(e){this.persistence=e,this.ri=new to(n=>mv(n),gv),this.lastRemoteSnapshotVersion=le.min(),this.highestTargetId=0,this.ii=0,this.si=new Ev,this.targetCount=0,this.oi=_a._r()}forEachTarget(e,n){return this.ri.forEach((r,s)=>n(s)),z.resolve()}getLastRemoteSnapshotVersion(e){return z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return z.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),z.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.ii&&(this.ii=n),z.resolve()}lr(e){this.ri.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.oi=new _a(n),this.highestTargetId=n),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,n){return this.lr(n),this.targetCount+=1,z.resolve()}updateTargetData(e,n){return this.lr(n),z.resolve()}removeTargetData(e,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,z.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.ri.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.ri.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),s++)}),z.waitFor(i).next(()=>s)}getTargetCount(e){return z.resolve(this.targetCount)}getTargetData(e,n){const r=this.ri.get(n)||null;return z.resolve(r)}addMatchingKeys(e,n,r){return this.si.$r(n,r),z.resolve()}removeMatchingKeys(e,n,r){this.si.Qr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),z.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this.si.Gr(n),z.resolve()}getMatchingKeysForTargetId(e,n){const r=this.si.jr(n);return z.resolve(r)}containsKey(e,n){return z.resolve(this.si.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MC{constructor(e,n){this._i={},this.overlays={},this.ai=new Jh(0),this.ui=!1,this.ui=!0,this.ci=new G5,this.referenceDelegate=e(this),this.li=new Y5(this),this.indexManager=new M5,this.remoteDocumentCache=function(s){return new K5(s)}(r=>this.referenceDelegate.hi(r)),this.serializer=new N5(n),this.Pi=new H5(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new W5,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this._i[e.toKey()];return r||(r=new q5(n,this.referenceDelegate),this._i[e.toKey()]=r),r}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,n,r){Q("MemoryPersistence","Starting transaction:",e);const s=new X5(this.ai.next());return this.referenceDelegate.Ti(),r(s).next(i=>this.referenceDelegate.Ii(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Ei(e,n){return z.or(Object.values(this._i).map(r=>()=>r.containsKey(e,n)))}}class X5 extends x3{constructor(e){super(),this.currentSequenceNumber=e}}class xv{constructor(e){this.persistence=e,this.Ri=new Ev,this.Ai=null}static Vi(e){return new xv(e)}get di(){if(this.Ai)return this.Ai;throw re(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.di.delete(r.toString()),z.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.di.add(r.toString()),z.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),z.resolve()}removeTarget(e,n){this.Ri.Gr(n.targetId).forEach(s=>this.di.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.di.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}Ti(){this.Ai=new Set}Ii(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return z.forEach(this.di,r=>{const s=te.fromPath(r);return this.mi(e,s).next(i=>{i||n.removeEntry(s,le.min())})}).next(()=>(this.Ai=null,n.apply(e)))}updateLimboDocument(e,n){return this.mi(e,n).next(r=>{r?this.di.delete(n.toString()):this.di.add(n.toString())})}hi(e){return 0}mi(e,n){return z.or([()=>z.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class Xd{constructor(e,n){this.persistence=e,this.fi=new to(r=>I3(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=U5(this,n)}static Vi(e,n){return new Xd(e,n)}Ti(){}Ii(e){return z.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(s=>r+s))}pr(e){let n=0;return this.mr(e,r=>{n++}).next(()=>n)}mr(e,n){return z.forEach(this.fi,(r,s)=>this.wr(e,r,s).next(i=>i?z.resolve():n(s)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),i=s.newChangeBuffer();return s.ni(e,o=>this.wr(e,o,n).next(a=>{a||(r++,i.removeEntry(o,le.min()))})).next(()=>i.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.fi.set(n,e.currentSequenceNumber),z.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.fi.set(r,e.currentSequenceNumber),z.resolve()}removeReference(e,n,r){return this.fi.set(r,e.currentSequenceNumber),z.resolve()}updateLimboDocument(e,n){return this.fi.set(n,e.currentSequenceNumber),z.resolve()}hi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=ed(e.data.value)),n}wr(e,n,r){return z.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.fi.get(n);return z.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tv{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.Ts=r,this.Is=s}static Es(e,n){let r=we(),s=we();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new Tv(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J5{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z5{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=function(){return $j()?8:T3(Nt())>0?6:4}()}initialize(e,n){this.fs=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.gs(e,n).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.ps(e,n,s,r).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new J5;return this.ys(e,n,o).next(a=>{if(i.result=a,this.As)return this.ws(e,n,o,a.size)})}).next(()=>i.result)}ws(e,n,r,s){return r.documentReadCount<this.Vs?(yo()<=ye.DEBUG&&Q("QueryEngine","SDK will not create cache indexes for query:",vo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),z.resolve()):(yo()<=ye.DEBUG&&Q("QueryEngine","Query:",vo(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.ds*s?(yo()<=ye.DEBUG&&Q("QueryEngine","The SDK decides to create cache indexes for query:",vo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,_r(n))):z.resolve())}gs(e,n){if(BE(n))return z.resolve(null);let r=_r(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=Kd(n,null,"F"),r=_r(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const o=we(...i);return this.fs.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.bs(n,a);return this.Ss(n,u,o,l.readTime)?this.gs(e,Kd(n,null,"F")):this.Ds(e,u,n,l)}))})))}ps(e,n,r,s){return BE(n)||s.isEqual(le.min())?z.resolve(null):this.fs.getDocuments(e,r).next(i=>{const o=this.bs(n,i);return this.Ss(n,o,r,s)?z.resolve(null):(yo()<=ye.DEBUG&&Q("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),vo(n)),this.Ds(e,o,n,v3(s,uc)).next(a=>a))})}bs(e,n){let r=new ct(uC(e));return n.forEach((s,i)=>{rf(e,i)&&(r=r.add(i))}),r}Ss(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}ys(e,n,r){return yo()<=ye.DEBUG&&Q("QueryEngine","Using full collection scan to execute query:",vo(n)),this.fs.getDocumentsMatchingQuery(e,n,ei.min(),r)}Ds(e,n,r,s){return this.fs.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sv="LocalStore",e6=3e8;class t6{constructor(e,n,r,s){this.persistence=e,this.Cs=n,this.serializer=s,this.vs=new We(ve),this.Fs=new to(i=>mv(i),gv),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(r)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new B5(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.vs))}}function n6(t,e,n,r){return new t6(t,e,n,r)}async function OC(t,e){const n=ue(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.Os(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],a=[];let l=we();for(const u of s){o.push(u.batchId);for(const d of u.mutations)l=l.add(d.key)}for(const u of i){a.push(u.batchId);for(const d of u.mutations)l=l.add(d.key)}return n.localDocuments.getDocuments(r,l).next(u=>({Ns:u,removedBatchIds:o,addedBatchIds:a}))})})}function r6(t,e){const n=ue(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.xs.newChangeBuffer({trackRemovals:!0});return function(a,l,u,d){const h=u.batch,p=h.keys();let g=z.resolve();return p.forEach(S=>{g=g.next(()=>d.getEntry(l,S)).next(E=>{const x=u.docVersions.get(S);Ie(x!==null,48541),E.version.compareTo(x)<0&&(h.applyToRemoteDocument(E,u),E.isValidDocument()&&(E.setReadTime(u.commitVersion),d.addEntry(E)))})}),g.next(()=>a.mutationQueue.removeMutationBatch(l,h))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=we();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function LC(t){const e=ue(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.li.getLastRemoteSnapshotVersion(n))}function s6(t,e){const n=ue(t),r=e.snapshotVersion;let s=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.xs.newChangeBuffer({trackRemovals:!0});s=n.vs;const a=[];e.targetChanges.forEach((d,h)=>{const p=s.get(h);if(!p)return;a.push(n.li.removeMatchingKeys(i,d.removedDocuments,h).next(()=>n.li.addMatchingKeys(i,d.addedDocuments,h)));let g=p.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(h)!==null?g=g.withResumeToken(xt.EMPTY_BYTE_STRING,le.min()).withLastLimboFreeSnapshotVersion(le.min()):d.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(d.resumeToken,r)),s=s.insert(h,g),function(E,x,w){return E.resumeToken.approximateByteSize()===0||x.snapshotVersion.toMicroseconds()-E.snapshotVersion.toMicroseconds()>=e6?!0:w.addedDocuments.size+w.modifiedDocuments.size+w.removedDocuments.size>0}(p,g,d)&&a.push(n.li.updateTargetData(i,g))});let l=es(),u=we();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(i,d))}),a.push(i6(i,o,e.documentUpdates).next(d=>{l=d.Bs,u=d.Ls})),!r.isEqual(le.min())){const d=n.li.getLastRemoteSnapshotVersion(i).next(h=>n.li.setTargetsMetadata(i,i.currentSequenceNumber,r));a.push(d)}return z.waitFor(a).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,l,u)).next(()=>l)}).then(i=>(n.vs=s,i))}function i6(t,e,n){let r=we(),s=we();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let o=es();return n.forEach((a,l)=>{const u=i.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(s=s.add(a)),l.isNoDocument()&&l.version.isEqual(le.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):Q(Sv,"Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{Bs:o,Ls:s}})}function o6(t,e){const n=ue(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=hv),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function a6(t,e){const n=ue(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.li.getTargetData(r,e).next(i=>i?(s=i,z.resolve(s)):n.li.allocateTargetId(r).next(o=>(s=new Ms(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.li.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.vs.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.vs=n.vs.insert(r.targetId,r),n.Fs.set(e,r.targetId)),r})}async function Eg(t,e,n){const r=ue(t),s=r.vs.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!La(o))throw o;Q(Sv,`Failed to update sequence numbers for target ${e}: ${o}`)}r.vs=r.vs.remove(e),r.Fs.delete(s.target)}function n1(t,e,n){const r=ue(t);let s=le.min(),i=we();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,u,d){const h=ue(l),p=h.Fs.get(d);return p!==void 0?z.resolve(h.vs.get(p)):h.li.getTargetData(u,d)}(r,o,_r(e)).next(a=>{if(a)return s=a.lastLimboFreeSnapshotVersion,r.li.getMatchingKeysForTargetId(o,a.targetId).next(l=>{i=l})}).next(()=>r.Cs.getDocumentsMatchingQuery(o,e,n?s:le.min(),n?i:we())).next(a=>(l6(r,G3(e),a),{documents:a,ks:i})))}function l6(t,e,n){let r=t.Ms.get(e)||le.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.Ms.set(e,r)}class r1{constructor(){this.activeTargetIds=J3()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class c6{constructor(){this.vo=new r1,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,n,r){this.Fo[e]=n}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new r1,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u6{Mo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s1="ConnectivityMonitor";class i1{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){Q(s1,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){Q(s1,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Pu=null;function xg(){return Pu===null?Pu=function(){return 268435456+Math.round(2147483648*Math.random())}():Pu++,"0x"+Pu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dp="RestConnection",d6={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class h6{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+e.host,this.Uo=`projects/${r}/databases/${s}`,this.$o=this.databaseId.database===Wd?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Wo(e,n,r,s,i){const o=xg(),a=this.Qo(e,n.toUriEncodedString());Q(Dp,`Sending RPC '${e}' ${o}:`,a,r);const l={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(l,s,i);const{host:u}=new URL(a),d=Na(u);return this.zo(e,a,l,r,d).then(h=>(Q(Dp,`Received RPC '${e}' ${o}: `,h),h),h=>{throw Hi(Dp,`RPC '${e}' ${o} failed with error: `,h,"url: ",a,"request:",r),h})}jo(e,n,r,s,i,o){return this.Wo(e,n,r,s,i)}Go(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ma}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,i)=>e[i]=s),r&&r.headers.forEach((s,i)=>e[i]=s)}Qo(e,n){const r=d6[e];let s=`${this.qo}/v1/${n}:${r}`;return this.databaseInfo.apiKey&&(s=`${s}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),s}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f6{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bt="WebChannelConnection",hl=(t,e,n)=>{t.listen(e,r=>{try{n(r)}catch(s){setTimeout(()=>{throw s},0)}})};class Bo extends h6{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!Bo.c_){const e=Fb();hl(e,jb.STAT_EVENT,n=>{n.stat===ug.PROXY?Q(bt,"STAT_EVENT: detected buffering proxy"):n.stat===ug.NOPROXY&&Q(bt,"STAT_EVENT: detected no buffering proxy")}),Bo.c_=!0}}zo(e,n,r,s,i){const o=xg();return new Promise((a,l)=>{const u=new Lb;u.setWithCredentials(!0),u.listenOnce(Vb.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case Zu.NO_ERROR:const h=u.getResponseJson();Q(bt,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(h)),a(h);break;case Zu.TIMEOUT:Q(bt,`RPC '${e}' ${o} timed out`),l(new K($.DEADLINE_EXCEEDED,"Request time out"));break;case Zu.HTTP_ERROR:const p=u.getStatus();if(Q(bt,`RPC '${e}' ${o} failed with status:`,p,"response text:",u.getResponseText()),p>0){let g=u.getResponseJson();Array.isArray(g)&&(g=g[0]);const S=g==null?void 0:g.error;if(S&&S.status&&S.message){const E=function(w){const _=w.toLowerCase().replace(/_/g,"-");return Object.values($).indexOf(_)>=0?_:$.UNKNOWN}(S.status);l(new K(E,S.message))}else l(new K($.UNKNOWN,"Server responded with status "+u.getStatus()))}else l(new K($.UNAVAILABLE,"Connection failed."));break;default:re(9055,{l_:e,streamId:o,h_:u.getLastErrorCode(),P_:u.getLastError()})}}finally{Q(bt,`RPC '${e}' ${o} completed.`)}});const d=JSON.stringify(s);Q(bt,`RPC '${e}' ${o} sending request:`,s),u.send(n,"POST",d,r,15)})}T_(e,n,r){const s=xg(),i=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=this.createWebChannelTransport(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(a.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(a.useFetchStreams=!0),this.Go(a.initMessageHeaders,n,r),a.encodeInitMessageHeaders=!0;const u=i.join("");Q(bt,`Creating RPC '${e}' stream ${s}: ${u}`,a);const d=o.createWebChannel(u,a);this.I_(d);let h=!1,p=!1;const g=new f6({Ho:S=>{p?Q(bt,`Not sending because RPC '${e}' stream ${s} is closed:`,S):(h||(Q(bt,`Opening RPC '${e}' stream ${s} transport.`),d.open(),h=!0),Q(bt,`RPC '${e}' stream ${s} sending:`,S),d.send(S))},Jo:()=>d.close()});return hl(d,wl.EventType.OPEN,()=>{p||(Q(bt,`RPC '${e}' stream ${s} transport opened.`),g.i_())}),hl(d,wl.EventType.CLOSE,()=>{p||(p=!0,Q(bt,`RPC '${e}' stream ${s} transport closed`),g.o_(),this.E_(d))}),hl(d,wl.EventType.ERROR,S=>{p||(p=!0,Hi(bt,`RPC '${e}' stream ${s} transport errored. Name:`,S.name,"Message:",S.message),g.o_(new K($.UNAVAILABLE,"The operation could not be completed")))}),hl(d,wl.EventType.MESSAGE,S=>{var E;if(!p){const x=S.data[0];Ie(!!x,16349);const w=x,_=(w==null?void 0:w.error)||((E=w[0])==null?void 0:E.error);if(_){Q(bt,`RPC '${e}' stream ${s} received error:`,_);const T=_.status;let P=function(b){const I=et[b];if(I!==void 0)return xC(I)}(T),M=_.message;T==="NOT_FOUND"&&M.includes("database")&&M.includes("does not exist")&&M.includes(this.databaseId.database)&&Hi(`Database '${this.databaseId.database}' not found. Please check your project configuration.`),P===void 0&&(P=$.INTERNAL,M="Unknown error status: "+T+" with message "+_.message),p=!0,g.o_(new K(P,M)),d.close()}else Q(bt,`RPC '${e}' stream ${s} received:`,x),g.__(x)}}),Bo.u_(),setTimeout(()=>{g.s_()},0),g}terminate(){this.a_.forEach(e=>e.close()),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter(n=>n===e)}Go(e,n,r){super.Go(e,n,r),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return Ub()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p6(t){return new Bo(t)}function Mp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lf(t){return new v5(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Bo.c_=!1;class VC{constructor(e,n,r=1e3,s=1.5,i=6e4){this.Ci=e,this.timerId=n,this.R_=r,this.A_=s,this.V_=i,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const n=Math.floor(this.d_+this.y_()),r=Math.max(0,Date.now()-this.f_),s=Math.max(0,n-r);s>0&&Q("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,s,()=>(this.f_=Date.now(),e())),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o1="PersistentStream";class jC{constructor(e,n,r,s,i,o,a,l){this.Ci=e,this.b_=r,this.S_=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new VC(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,()=>this.k_()))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===$.RESOURCE_EXHAUSTED?(Zr(n.toString()),Zr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===$.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(n)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.D_===n&&this.G_(r,s)},r=>{e(()=>{const s=new K($.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(s)})})}G_(e,n){const r=this.Q_(this.D_);this.stream=this.j_(e,n),this.stream.Zo(()=>{r(()=>this.listener.Zo())}),this.stream.Yo(()=>{r(()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.Yo()))}),this.stream.t_(s=>{r(()=>this.z_(s))}),this.stream.onMessage(s=>{r(()=>++this.F_==1?this.H_(s):this.onNext(s))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return Q(o1,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return n=>{this.Ci.enqueueAndForget(()=>this.D_===e?n():(Q(o1,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class m6 extends jC{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}j_(e,n){return this.connection.T_("Listen",e,n)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=E5(this.serializer,e),r=function(i){if(!("targetChange"in i))return le.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?le.min():o.readTime?xr(o.readTime):le.min()}(e);return this.listener.J_(n,r)}Z_(e){const n={};n.database=_g(this.serializer),n.addTarget=function(i,o){let a;const l=o.target;if(a=mg(l)?{documents:S5(i,l)}:{query:I5(i,l).ft},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=IC(i,o.resumeToken);const u=yg(i,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(le.min())>0){a.readTime=Yd(i,o.snapshotVersion.toTimestamp());const u=yg(i,o.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const r=C5(this.serializer,e);r&&(n.labels=r),this.K_(n)}X_(e){const n={};n.database=_g(this.serializer),n.removeTarget=e,this.K_(n)}}class g6 extends jC{constructor(e,n,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}H_(e){return Ie(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ie(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ie(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=T5(e.writeResults,e.commitTime),r=xr(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=_g(this.serializer),this.K_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>x5(this.serializer,r))};this.K_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y6{}class v6 extends y6{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new K($.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,r,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.Wo(e,vg(n,r),s,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new K($.UNKNOWN,i.toString())})}jo(e,n,r,s,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.jo(e,vg(n,r),s,o,a,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new K($.UNKNOWN,o.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}function w6(t,e,n,r){return new v6(t,e,n,r)}class _6{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Zr(n),this.aa=!1):Q("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wi="RemoteStore";class E6{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=i,this.Aa.Mo(o=>{r.enqueueAndForget(async()=>{ro(this)&&(Q(Wi,"Restarting streams for network reachability change."),await async function(l){const u=ue(l);u.Ea.add(4),await Lc(u),u.Va.set("Unknown"),u.Ea.delete(4),await cf(u)}(this))})}),this.Va=new _6(r,s)}}async function cf(t){if(ro(t))for(const e of t.Ra)await e(!0)}async function Lc(t){for(const e of t.Ra)await e(!1)}function FC(t,e){const n=ue(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Av(n)?Cv(n):ja(n).O_()&&bv(n,e))}function Iv(t,e){const n=ue(t),r=ja(n);n.Ia.delete(e),r.O_()&&UC(n,e),n.Ia.size===0&&(r.O_()?r.L_():ro(n)&&n.Va.set("Unknown"))}function bv(t,e){if(t.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(le.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}ja(t).Z_(e)}function UC(t,e){t.da.$e(e),ja(t).X_(e)}function Cv(t){t.da=new p5({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),ja(t).start(),t.Va.ua()}function Av(t){return ro(t)&&!ja(t).x_()&&t.Ia.size>0}function ro(t){return ue(t).Ea.size===0}function $C(t){t.da=void 0}async function x6(t){t.Va.set("Online")}async function T6(t){t.Ia.forEach((e,n)=>{bv(t,e)})}async function S6(t,e){$C(t),Av(t)?(t.Va.ha(e),Cv(t)):t.Va.set("Unknown")}async function I6(t,e,n){if(t.Va.set("Online"),e instanceof SC&&e.state===2&&e.cause)try{await async function(s,i){const o=i.cause;for(const a of i.targetIds)s.Ia.has(a)&&(await s.remoteSyncer.rejectListen(a,o),s.Ia.delete(a),s.da.removeTarget(a))}(t,e)}catch(r){Q(Wi,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Jd(t,r)}else if(e instanceof rd?t.da.Xe(e):e instanceof TC?t.da.st(e):t.da.tt(e),!n.isEqual(le.min()))try{const r=await LC(t.localStore);n.compareTo(r)>=0&&await function(i,o){const a=i.da.Tt(o);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const d=i.Ia.get(u);d&&i.Ia.set(u,d.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,u)=>{const d=i.Ia.get(l);if(!d)return;i.Ia.set(l,d.withResumeToken(xt.EMPTY_BYTE_STRING,d.snapshotVersion)),UC(i,l);const h=new Ms(d.target,l,u,d.sequenceNumber);bv(i,h)}),i.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){Q(Wi,"Failed to raise snapshot:",r),await Jd(t,r)}}async function Jd(t,e,n){if(!La(e))throw e;t.Ea.add(1),await Lc(t),t.Va.set("Offline"),n||(n=()=>LC(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Q(Wi,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await cf(t)})}function zC(t,e){return e().catch(n=>Jd(t,n,e))}async function uf(t){const e=ue(t),n=si(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:hv;for(;b6(e);)try{const s=await o6(e.localStore,r);if(s===null){e.Ta.length===0&&n.L_();break}r=s.batchId,C6(e,s)}catch(s){await Jd(e,s)}BC(e)&&HC(e)}function b6(t){return ro(t)&&t.Ta.length<10}function C6(t,e){t.Ta.push(e);const n=si(t);n.O_()&&n.Y_&&n.ea(e.mutations)}function BC(t){return ro(t)&&!si(t).x_()&&t.Ta.length>0}function HC(t){si(t).start()}async function A6(t){si(t).ra()}async function R6(t){const e=si(t);for(const n of t.Ta)e.ea(n.mutations)}async function P6(t,e,n){const r=t.Ta.shift(),s=vv.from(r,e,n);await zC(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await uf(t)}async function k6(t,e){e&&si(t).Y_&&await async function(r,s){if(function(o){return d5(o)&&o!==$.ABORTED}(s.code)){const i=r.Ta.shift();si(r).B_(),await zC(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await uf(r)}}(t,e),BC(t)&&HC(t)}async function a1(t,e){const n=ue(t);n.asyncQueue.verifyOperationInProgress(),Q(Wi,"RemoteStore received new credentials");const r=ro(n);n.Ea.add(3),await Lc(n),r&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await cf(n)}async function N6(t,e){const n=ue(t);e?(n.Ea.delete(2),await cf(n)):e||(n.Ea.add(2),await Lc(n),n.Va.set("Unknown"))}function ja(t){return t.ma||(t.ma=function(n,r,s){const i=ue(n);return i.sa(),new m6(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Zo:x6.bind(null,t),Yo:T6.bind(null,t),t_:S6.bind(null,t),J_:I6.bind(null,t)}),t.Ra.push(async e=>{e?(t.ma.B_(),Av(t)?Cv(t):t.Va.set("Unknown")):(await t.ma.stop(),$C(t))})),t.ma}function si(t){return t.fa||(t.fa=function(n,r,s){const i=ue(n);return i.sa(),new g6(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Zo:()=>Promise.resolve(),Yo:A6.bind(null,t),t_:k6.bind(null,t),ta:R6.bind(null,t),na:P6.bind(null,t)}),t.Ra.push(async e=>{e?(t.fa.B_(),await uf(t)):(await t.fa.stop(),t.Ta.length>0&&(Q(Wi,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rv{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new Gs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,a=new Rv(e,n,o,s,i);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new K($.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Pv(t,e){if(Zr("AsyncQueue",`${e}: ${t}`),La(t))return new K($.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ho{static emptySet(e){return new Ho(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||te.comparator(n.key,r.key):(n,r)=>te.comparator(n.key,r.key),this.keyedMap=_l(),this.sortedSet=new We(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ho)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Ho;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l1{constructor(){this.ga=new We(te.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):re(63341,{Vt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,r)=>{e.push(r)}),e}}class Ea{constructor(e,n,r,s,i,o,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Ea(e,n,Ho.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&nf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D6{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some(e=>e.Da())}}class M6{constructor(){this.queries=c1(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const s=ue(n),i=s.queries;s.queries=c1(),i.forEach((o,a)=>{for(const l of a.ba)l.onError(r)})})(this,new K($.ABORTED,"Firestore shutting down"))}}function c1(){return new to(t=>cC(t),nf)}async function WC(t,e){const n=ue(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.Sa()&&e.Da()&&(r=2):(i=new D6,r=e.Da()?0:1);try{switch(r){case 0:i.wa=await n.onListen(s,!0);break;case 1:i.wa=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(o){const a=Pv(o,`Initialization of query '${vo(e.query)}' failed`);return void e.onError(a)}n.queries.set(s,i),i.ba.push(e),e.va(n.onlineState),i.wa&&e.Fa(i.wa)&&kv(n)}async function GC(t,e){const n=ue(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const o=i.ba.indexOf(e);o>=0&&(i.ba.splice(o,1),i.ba.length===0?s=e.Da()?0:1:!i.Sa()&&e.Da()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function O6(t,e){const n=ue(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const a of o.ba)a.Fa(s)&&(r=!0);o.wa=s}}r&&kv(n)}function L6(t,e,n){const r=ue(t),s=r.queries.get(e);if(s)for(const i of s.ba)i.onError(n);r.queries.delete(e)}function kv(t){t.Ca.forEach(e=>{e.next()})}var Tg,u1;(u1=Tg||(Tg={})).Ma="default",u1.Cache="cache";class qC{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new Ea(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.Ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Ea.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Tg.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KC{constructor(e){this.key=e}}class QC{constructor(e){this.key=e}}class V6{constructor(e,n){this.query=e,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=we(),this.mutatedKeys=we(),this.eu=uC(e),this.tu=new Ho(this.eu)}get nu(){return this.Za}ru(e,n){const r=n?n.iu:new l1,s=n?n.tu:this.tu;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,a=!1;const l=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,u=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((d,h)=>{const p=s.get(d),g=rf(this.query,h)?h:null,S=!!p&&this.mutatedKeys.has(p.key),E=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations);let x=!1;p&&g?p.data.isEqual(g.data)?S!==E&&(r.track({type:3,doc:g}),x=!0):this.su(p,g)||(r.track({type:2,doc:g}),x=!0,(l&&this.eu(g,l)>0||u&&this.eu(g,u)<0)&&(a=!0)):!p&&g?(r.track({type:0,doc:g}),x=!0):p&&!g&&(r.track({type:1,doc:p}),x=!0,(l||u)&&(a=!0)),x&&(g?(o=o.add(g),i=E?i.add(d):i.delete(d)):(o=o.delete(d),i=i.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),i=i.delete(d.key),r.track({type:1,doc:d})}return{tu:o,iu:r,Ss:a,mutatedKeys:i}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const o=e.iu.ya();o.sort((d,h)=>function(g,S){const E=x=>{switch(x){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return re(20277,{Vt:x})}};return E(g)-E(S)}(d.type,h.type)||this.eu(d.doc,h.doc)),this.ou(r),s=s??!1;const a=n&&!s?this._u():[],l=this.Ya.size===0&&this.current&&!s?1:0,u=l!==this.Xa;return this.Xa=l,o.length!==0||u?{snapshot:new Ea(this.query,e.tu,i,o,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:a}:{au:a}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new l1,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Za=this.Za.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Za=this.Za.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=we(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Ya=this.Ya.add(r.key))});const n=[];return e.forEach(r=>{this.Ya.has(r)||n.push(new QC(r))}),this.Ya.forEach(r=>{e.has(r)||n.push(new KC(r))}),n}cu(e){this.Za=e.ks,this.Ya=we();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Ea.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const Nv="SyncEngine";class j6{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class F6{constructor(e){this.key=e,this.hu=!1}}class U6{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new to(a=>cC(a),nf),this.Iu=new Map,this.Eu=new Set,this.Ru=new We(te.comparator),this.Au=new Map,this.Vu=new Ev,this.du={},this.mu=new Map,this.fu=_a.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function $6(t,e,n=!0){const r=tA(t);let s;const i=r.Tu.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.lu()):s=await YC(r,e,n,!0),s}async function z6(t,e){const n=tA(t);await YC(n,e,!0,!1)}async function YC(t,e,n,r){const s=await a6(t.localStore,_r(e)),i=s.targetId,o=t.sharedClientState.addLocalQueryTarget(i,n);let a;return r&&(a=await B6(t,e,i,o==="current",s.resumeToken)),t.isPrimaryClient&&n&&FC(t.remoteStore,s),a}async function B6(t,e,n,r,s){t.pu=(h,p,g)=>async function(E,x,w,_){let T=x.view.ru(w);T.Ss&&(T=await n1(E.localStore,x.query,!1).then(({documents:b})=>x.view.ru(b,T)));const P=_&&_.targetChanges.get(x.targetId),M=_&&_.targetMismatches.get(x.targetId)!=null,O=x.view.applyChanges(T,E.isPrimaryClient,P,M);return h1(E,x.targetId,O.au),O.snapshot}(t,h,p,g);const i=await n1(t.localStore,e,!0),o=new V6(e,i.ks),a=o.ru(i.documents),l=Oc.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),u=o.applyChanges(a,t.isPrimaryClient,l);h1(t,n,u.au);const d=new j6(e,n,o);return t.Tu.set(e,d),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),u.snapshot}async function H6(t,e,n){const r=ue(t),s=r.Tu.get(e),i=r.Iu.get(s.targetId);if(i.length>1)return r.Iu.set(s.targetId,i.filter(o=>!nf(o,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await Eg(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&Iv(r.remoteStore,s.targetId),Sg(r,s.targetId)}).catch(Oa)):(Sg(r,s.targetId),await Eg(r.localStore,s.targetId,!0))}async function W6(t,e){const n=ue(t),r=n.Tu.get(e),s=n.Iu.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Iv(n.remoteStore,r.targetId))}async function G6(t,e,n){const r=Z6(t);try{const s=await function(o,a){const l=ue(o),u=ke.now(),d=a.reduce((g,S)=>g.add(S.key),we());let h,p;return l.persistence.runTransaction("Locally write mutations","readwrite",g=>{let S=es(),E=we();return l.xs.getEntries(g,d).next(x=>{S=x,S.forEach((w,_)=>{_.isValidDocument()||(E=E.add(w))})}).next(()=>l.localDocuments.getOverlayedDocuments(g,S)).next(x=>{h=x;const w=[];for(const _ of a){const T=o5(_,h.get(_.key).overlayedDocument);T!=null&&w.push(new no(_.key,T,tC(T.value.mapValue),Er.exists(!0)))}return l.mutationQueue.addMutationBatch(g,u,w,a)}).next(x=>{p=x;const w=x.applyToLocalDocumentSet(h,E);return l.documentOverlayCache.saveOverlays(g,x.batchId,w)})}).then(()=>({batchId:p.batchId,changes:hC(h)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(o,a,l){let u=o.du[o.currentUser.toKey()];u||(u=new We(ve)),u=u.insert(a,l),o.du[o.currentUser.toKey()]=u}(r,s.batchId,n),await Vc(r,s.changes),await uf(r.remoteStore)}catch(s){const i=Pv(s,"Failed to persist write");n.reject(i)}}async function XC(t,e){const n=ue(t);try{const r=await s6(n.localStore,e);e.targetChanges.forEach((s,i)=>{const o=n.Au.get(i);o&&(Ie(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?o.hu=!0:s.modifiedDocuments.size>0?Ie(o.hu,14607):s.removedDocuments.size>0&&(Ie(o.hu,42227),o.hu=!1))}),await Vc(n,r,e)}catch(r){await Oa(r)}}function d1(t,e,n){const r=ue(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Tu.forEach((i,o)=>{const a=o.view.va(e);a.snapshot&&s.push(a.snapshot)}),function(o,a){const l=ue(o);l.onlineState=a;let u=!1;l.queries.forEach((d,h)=>{for(const p of h.ba)p.va(a)&&(u=!0)}),u&&kv(l)}(r.eventManager,e),s.length&&r.Pu.J_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function q6(t,e,n){const r=ue(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Au.get(e),i=s&&s.key;if(i){let o=new We(te.comparator);o=o.insert(i,Pt.newNoDocument(i,le.min()));const a=we().add(i),l=new af(le.min(),new Map,new We(ve),o,a);await XC(r,l),r.Ru=r.Ru.remove(i),r.Au.delete(e),Dv(r)}else await Eg(r.localStore,e,!1).then(()=>Sg(r,e,n)).catch(Oa)}async function K6(t,e){const n=ue(t),r=e.batch.batchId;try{const s=await r6(n.localStore,e);ZC(n,r,null),JC(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Vc(n,s)}catch(s){await Oa(s)}}async function Q6(t,e,n){const r=ue(t);try{const s=await function(o,a){const l=ue(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let d;return l.mutationQueue.lookupMutationBatch(u,a).next(h=>(Ie(h!==null,37113),d=h.keys(),l.mutationQueue.removeMutationBatch(u,h))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,d,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,d)).next(()=>l.localDocuments.getDocuments(u,d))})}(r.localStore,e);ZC(r,e,n),JC(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Vc(r,s)}catch(s){await Oa(s)}}function JC(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function ZC(t,e,n){const r=ue(t);let s=r.du[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.du[r.currentUser.toKey()]=s}}function Sg(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Vu.Gr(e).forEach(r=>{t.Vu.containsKey(r)||eA(t,r)})}function eA(t,e){t.Eu.delete(e.path.canonicalString());const n=t.Ru.get(e);n!==null&&(Iv(t.remoteStore,n),t.Ru=t.Ru.remove(e),t.Au.delete(n),Dv(t))}function h1(t,e,n){for(const r of n)r instanceof KC?(t.Vu.addReference(r.key,e),Y6(t,r)):r instanceof QC?(Q(Nv,"Document no longer in limbo: "+r.key),t.Vu.removeReference(r.key,e),t.Vu.containsKey(r.key)||eA(t,r.key)):re(19791,{wu:r})}function Y6(t,e){const n=e.key,r=n.path.canonicalString();t.Ru.get(n)||t.Eu.has(r)||(Q(Nv,"New document in limbo: "+n),t.Eu.add(r),Dv(t))}function Dv(t){for(;t.Eu.size>0&&t.Ru.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new te(Me.fromString(e)),r=t.fu.next();t.Au.set(r,new F6(n)),t.Ru=t.Ru.insert(n,r),FC(t.remoteStore,new Ms(_r(tf(n.path)),r,"TargetPurposeLimboResolution",Jh.ce))}}async function Vc(t,e,n){const r=ue(t),s=[],i=[],o=[];r.Tu.isEmpty()||(r.Tu.forEach((a,l)=>{o.push(r.pu(l,e,n).then(u=>{var d;if((u||n)&&r.isPrimaryClient){const h=u?!u.fromCache:(d=n==null?void 0:n.targetChanges.get(l.targetId))==null?void 0:d.current;r.sharedClientState.updateQueryState(l.targetId,h?"current":"not-current")}if(u){s.push(u);const h=Tv.Es(l.targetId,u);i.push(h)}}))}),await Promise.all(o),r.Pu.J_(s),await async function(l,u){const d=ue(l);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>z.forEach(u,p=>z.forEach(p.Ts,g=>d.persistence.referenceDelegate.addReference(h,p.targetId,g)).next(()=>z.forEach(p.Is,g=>d.persistence.referenceDelegate.removeReference(h,p.targetId,g)))))}catch(h){if(!La(h))throw h;Q(Sv,"Failed to update sequence numbers: "+h)}for(const h of u){const p=h.targetId;if(!h.fromCache){const g=d.vs.get(p),S=g.snapshotVersion,E=g.withLastLimboFreeSnapshotVersion(S);d.vs=d.vs.insert(p,E)}}}(r.localStore,i))}async function X6(t,e){const n=ue(t);if(!n.currentUser.isEqual(e)){Q(Nv,"User change. New user:",e.toKey());const r=await OC(n.localStore,e);n.currentUser=e,function(i,o){i.mu.forEach(a=>{a.forEach(l=>{l.reject(new K($.CANCELLED,o))})}),i.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Vc(n,r.Ns)}}function J6(t,e){const n=ue(t),r=n.Au.get(e);if(r&&r.hu)return we().add(r.key);{let s=we();const i=n.Iu.get(e);if(!i)return s;for(const o of i){const a=n.Tu.get(o);s=s.unionWith(a.view.nu)}return s}}function tA(t){const e=ue(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=XC.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=J6.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=q6.bind(null,e),e.Pu.J_=O6.bind(null,e.eventManager),e.Pu.yu=L6.bind(null,e.eventManager),e}function Z6(t){const e=ue(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=K6.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Q6.bind(null,e),e}class Zd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=lf(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return n6(this.persistence,new Z5,e.initialUser,this.serializer)}Cu(e){return new MC(xv.Vi,this.serializer)}Du(e){return new c6}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Zd.provider={build:()=>new Zd};class e9 extends Zd{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Ie(this.persistence.referenceDelegate instanceof Xd,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new j5(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Wt.withCacheSize(this.cacheSizeBytes):Wt.DEFAULT;return new MC(r=>Xd.Vi(r,n),this.serializer)}}class Ig{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>d1(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=X6.bind(null,this.syncEngine),await N6(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new M6}()}createDatastore(e){const n=lf(e.databaseInfo.databaseId),r=p6(e.databaseInfo);return w6(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,o,a){return new E6(r,s,i,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>d1(this.syncEngine,n,0),function(){return i1.v()?new i1:new u6}())}createSyncEngine(e,n){return function(s,i,o,a,l,u,d){const h=new U6(s,i,o,a,l,u);return d&&(h.gu=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const i=ue(s);Q(Wi,"RemoteStore shutting down."),i.Ea.add(5),await Lc(i),i.Aa.shutdown(),i.Va.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}Ig.provider={build:()=>new Ig};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nA{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Zr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ii="FirestoreClient";class t9{constructor(e,n,r,s,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this._databaseInfo=s,this.user=At.UNAUTHENTICATED,this.clientId=dv.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,async o=>{Q(ii,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(Q(ii,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Gs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Pv(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Op(t,e){t.asyncQueue.verifyOperationInProgress(),Q(ii,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await OC(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function f1(t,e){t.asyncQueue.verifyOperationInProgress();const n=await n9(t);Q(ii,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>a1(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>a1(e.remoteStore,s)),t._onlineComponents=e}async function n9(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Q(ii,"Using user provided OfflineComponentProvider");try{await Op(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===$.FAILED_PRECONDITION||s.code===$.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;Hi("Error using user provided cache. Falling back to memory cache: "+n),await Op(t,new Zd)}}else Q(ii,"Using default OfflineComponentProvider"),await Op(t,new e9(void 0));return t._offlineComponents}async function rA(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Q(ii,"Using user provided OnlineComponentProvider"),await f1(t,t._uninitializedComponentsProvider._online)):(Q(ii,"Using default OnlineComponentProvider"),await f1(t,new Ig))),t._onlineComponents}function r9(t){return rA(t).then(e=>e.syncEngine)}async function bg(t){const e=await rA(t),n=e.eventManager;return n.onListen=$6.bind(null,e.syncEngine),n.onUnlisten=H6.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=z6.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=W6.bind(null,e.syncEngine),n}function s9(t,e,n,r){const s=new nA(r),i=new qC(e,s,n);return t.asyncQueue.enqueueAndForget(async()=>WC(await bg(t),i)),()=>{s.Nu(),t.asyncQueue.enqueueAndForget(async()=>GC(await bg(t),i))}}function i9(t,e,n={}){const r=new Gs;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,l,u){const d=new nA({next:p=>{d.Nu(),o.enqueueAndForget(()=>GC(i,h));const g=p.docs.has(a);!g&&p.fromCache?u.reject(new K($.UNAVAILABLE,"Failed to get document because the client is offline.")):g&&p.fromCache&&l&&l.source==="server"?u.reject(new K($.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(p)},error:p=>u.reject(p)}),h=new qC(tf(a.path),d,{includeMetadataChanges:!0,Ka:!0});return WC(i,h)}(await bg(t),t.asyncQueue,e,n,r)),r.promise}function o9(t,e){const n=new Gs;return t.asyncQueue.enqueueAndForget(async()=>G6(await r9(t),e,n)),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sA(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a9="ComponentProvider",p1=new Map;function l9(t,e,n,r,s){return new A3(t,e,n,s.host,s.ssl,s.experimentalForceLongPolling,s.experimentalAutoDetectLongPolling,sA(s.experimentalLongPollingOptions),s.useFetchStreams,s.isUsingEmulator,r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iA="firestore.googleapis.com",m1=!0;class g1{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new K($.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=iA,this.ssl=m1}else this.host=e.host,this.ssl=e.ssl??m1;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=DC;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<L5)throw new K($.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}y3("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=sA(e.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new K($.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new K($.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new K($.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class df{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new g1({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new K($.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new K($.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new g1(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new a3;switch(r.type){case"firstParty":return new d3(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new K($.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=p1.get(n);r&&(Q(a9,"Removing Datastore"),p1.delete(n),r.terminate())}(this),Promise.resolve()}}function c9(t,e,n,r={}){var u;t=Wr(t,df);const s=Na(e),i=t._getSettings(),o={...i,emulatorOptions:t._getEmulatorOptions()},a=`${e}:${n}`;s&&(bb(`https://${a}`),Cb("Firestore",!0)),i.host!==iA&&i.host!==a&&Hi("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l={...i,host:a,ssl:s,emulatorOptions:r};if(!Zs(l,o)&&(t._setSettings(l),r.mockUserToken)){let d,h;if(typeof r.mockUserToken=="string")d=r.mockUserToken,h=At.MOCK_USER;else{d=Dj(r.mockUserToken,(u=t._app)==null?void 0:u.options.projectId);const p=r.mockUserToken.sub||r.mockUserToken.user_id;if(!p)throw new K($.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new At(p)}t._authCredentials=new l3(new zb(d,h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ci{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new ci(this.firestore,e,this._query)}}class Ze{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new qs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ze(this.firestore,e,this._key)}toJSON(){return{type:Ze._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Dc(n,Ze._jsonSchema))return new Ze(e,r||null,new te(Me.fromString(n.referencePath)))}}Ze._jsonSchemaVersion="firestore/documentReference/1.0",Ze._jsonSchema={type:rt("string",Ze._jsonSchemaVersion),referencePath:rt("string")};class qs extends ci{constructor(e,n,r){super(e,n,tf(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ze(this.firestore,null,new te(e))}withConverter(e){return new qs(this.firestore,e,this._path)}}function eh(t,e,...n){if(t=gt(t),Bb("collection","path",e),t instanceof df){const r=Me.fromString(e,...n);return RE(r),new qs(t,null,r)}{if(!(t instanceof Ze||t instanceof qs))throw new K($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Me.fromString(e,...n));return RE(r),new qs(t.firestore,null,r)}}function Ei(t,e,...n){if(t=gt(t),arguments.length===1&&(e=dv.newId()),Bb("doc","path",e),t instanceof df){const r=Me.fromString(e,...n);return AE(r),new Ze(t,null,new te(r))}{if(!(t instanceof Ze||t instanceof qs))throw new K($.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Me.fromString(e,...n));return AE(r),new Ze(t.firestore,t instanceof qs?t.converter:null,new te(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y1="AsyncQueue";class v1{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new VC(this,"async_queue_retry"),this._c=()=>{const r=Mp();r&&Q(y1,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=Mp();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Mp();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new Gs;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Yu.push(e),this.lc()))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!La(e))throw e;Q(y1,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,Zr("INTERNAL UNHANDLED ERROR: ",w1(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const s=Rv.createAndSchedule(this,e,n,r,i=>this.hc(i));return this.tc.push(s),s}uc(){this.nc&&re(47125,{Pc:w1(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}Rc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function w1(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class xa extends df{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new v1,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new v1(e),this._firestoreClient=void 0,await e}}}function u9(t,e){const n=typeof t=="object"?t:cv(),r=typeof t=="string"?t:Wd,s=Zi(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=kj("firestore");i&&c9(s,...i)}return s}function Mv(t){if(t._terminated)throw new K($.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||d9(t),t._firestoreClient}function d9(t){var r,s,i,o;const e=t._freezeSettings(),n=l9(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,(s=t._app)==null?void 0:s.options.apiKey,e);t._componentsProvider||(i=e.localCache)!=null&&i._offlineComponentProvider&&((o=e.localCache)!=null&&o._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new t9(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(l){const u=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(u),_online:u}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class En{constructor(e){this._byteString=e}static fromBase64String(e){try{return new En(xt.fromBase64String(e))}catch(n){throw new K($.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new En(xt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:En._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Dc(e,En._jsonSchema))return En.fromBase64String(e.bytes)}}En._jsonSchemaVersion="firestore/bytes/1.0",En._jsonSchema={type:rt("string",En._jsonSchemaVersion),bytes:rt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oA{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new K($.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new wt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ov{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tr{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new K($.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new K($.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ve(this._lat,e._lat)||ve(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Tr._jsonSchemaVersion}}static fromJSON(e){if(Dc(e,Tr._jsonSchema))return new Tr(e.latitude,e.longitude)}}Tr._jsonSchemaVersion="firestore/geoPoint/1.0",Tr._jsonSchema={type:rt("string",Tr._jsonSchemaVersion),latitude:rt("number"),longitude:rt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hn{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Hn._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Dc(e,Hn._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new Hn(e.vectorValues);throw new K($.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Hn._jsonSchemaVersion="firestore/vectorValue/1.0",Hn._jsonSchema={type:rt("string",Hn._jsonSchemaVersion),vectorValues:rt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h9=/^__.*__$/;class f9{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new no(e,this.data,this.fieldMask,n,this.fieldTransforms):new Mc(e,this.data,n,this.fieldTransforms)}}function aA(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw re(40011,{dataSource:t})}}class Lv{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.validatePath(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new Lv({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){var s;const n=(s=this.path)==null?void 0:s.child(e),r=this.contextWith({path:n,arrayElement:!1});return r.validatePathSegment(e),r}childContextForFieldPath(e){var s;const n=(s=this.path)==null?void 0:s.child(e),r=this.contextWith({path:n,arrayElement:!1});return r.validatePath(),r}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return th(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(aA(this.dataSource)&&h9.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class p9{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||lf(e)}createContext(e,n,r,s=!1){return new Lv({dataSource:e,methodName:n,targetDoc:r,path:wt.emptyPath(),arrayElement:!1,hasConverter:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Vv(t){const e=t._freezeSettings(),n=lf(t._databaseId);return new p9(t._databaseId,!!e.ignoreUndefinedProperties,n)}function lA(t,e,n,r,s,i={}){const o=t.createContext(i.merge||i.mergeFields?2:0,e,n,s);dA("Data must be an object, but it was:",o,r);const a=cA(r,o);let l,u;if(i.merge)l=new Un(o.fieldMask),u=o.fieldTransforms;else if(i.mergeFields){const d=[];for(const h of i.mergeFields){const p=hf(e,h,n);if(!o.contains(p))throw new K($.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);v9(d,p)||d.push(p)}l=new Un(d),u=o.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,u=o.fieldTransforms;return new f9(new _n(a),l,u)}class jv extends Ov{_toFieldTransform(e){return new n5(e.path,new mc)}isEqual(e){return e instanceof jv}}function m9(t,e,n,r=!1){return Fv(n,t.createContext(r?4:3,e))}function Fv(t,e){if(uA(t=gt(t)))return dA("Unsupported field value:",e,t),cA(t,e);if(t instanceof Ov)return function(r,s){if(!aA(s.dataSource))throw s.createError(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.createError(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return function(r,s){const i=[];let o=0;for(const a of r){let l=Fv(a,s.childContextForArray(o));l==null&&(l={nullValue:"NULL_VALUE"}),i.push(l),o++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=gt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return Z3(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=ke.fromDate(r);return{timestampValue:Yd(s.serializer,i)}}if(r instanceof ke){const i=new ke(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Yd(s.serializer,i)}}if(r instanceof Tr)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof En)return{bytesValue:IC(s.serializer,r._byteString)};if(r instanceof Ze){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.createError(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:_v(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof Hn)return function(o,a){const l=o instanceof Hn?o.toArray():o;return{mapValue:{fields:{[Jb]:{stringValue:eC},[Gd]:{arrayValue:{values:l.map(d=>{if(typeof d!="number")throw a.createError("VectorValues must only contain numeric values.");return yv(a.serializer,d)})}}}}}}(r,s);if(NC(r))return r._toProto(s.serializer);throw s.createError(`Unsupported field value: ${Xh(r)}`)}(t,e)}function cA(t,e){const n={};return Gb(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):eo(t,(r,s)=>{const i=Fv(s,e.childContextForField(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function uA(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof ke||t instanceof Tr||t instanceof En||t instanceof Ze||t instanceof Ov||t instanceof Hn||NC(t))}function dA(t,e,n){if(!uA(n)||!Hb(n)){const r=Xh(n);throw r==="an object"?e.createError(t+" a custom object"):e.createError(t+" "+r)}}function hf(t,e,n){if((e=gt(e))instanceof oA)return e._internalPath;if(typeof e=="string")return y9(t,e);throw th("Field path arguments must be of type string or ",t,!1,void 0,n)}const g9=new RegExp("[~\\*/\\[\\]]");function y9(t,e,n){if(e.search(g9)>=0)throw th(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new oA(...e.split("."))._internalPath}catch{throw th(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function th(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(i||o)&&(l+=" (found",i&&(l+=` in field ${r}`),o&&(l+=` in document ${s}`),l+=")"),new K($.INVALID_ARGUMENT,a+t+l)}function v9(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w9{convertValue(e,n="none"){switch(ri(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ye(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ni(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw re(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return eo(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertVectorValue(e){var r,s,i;const n=(i=(s=(r=e.fields)==null?void 0:r[Gd].arrayValue)==null?void 0:s.values)==null?void 0:i.map(o=>Ye(o.doubleValue));return new Hn(n)}convertGeoPoint(e){return new Tr(Ye(e.latitude),Ye(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=ef(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(dc(e));default:return null}}convertTimestamp(e){const n=ti(e);return new ke(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Me.fromString(e);Ie(kC(r),9688,{name:e});const s=new hc(r.get(1),r.get(3)),i=new te(r.popFirst(5));return s.isEqual(n)||Zr(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hA extends w9{constructor(e){super(),this.firestore=e}convertBytes(e){return new En(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ze(this.firestore,null,n)}}function _9(){return new jv("serverTimestamp")}const _1="@firebase/firestore",E1="4.11.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x1(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const s=n;for(const i of r)if(i in s&&typeof s[i]=="function")return!0;return!1}(t,["next","error","complete"])}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fA{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Ze(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new E9(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){var e;return((e=this._document)==null?void 0:e.data.clone().value.mapValue.fields)??void 0}get(e){if(this._document){const n=this._document.data.field(hf("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class E9 extends fA{data(){return super.data()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x9(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new K($.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Uv{}class $v extends Uv{}function Cg(t,e,...n){let r=[];e instanceof Uv&&r.push(e),r=r.concat(n),function(i){const o=i.filter(l=>l instanceof Bv).length,a=i.filter(l=>l instanceof zv).length;if(o>1||o>0&&a>0)throw new K($.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)t=s._apply(t);return t}class zv extends $v{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new zv(e,n,r)}_apply(e){const n=this._parse(e);return pA(e._query,n),new ci(e.firestore,e.converter,gg(e._query,n))}_parse(e){const n=Vv(e.firestore);return function(i,o,a,l,u,d,h){let p;if(u.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new K($.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){S1(h,d);const S=[];for(const E of h)S.push(T1(l,i,E));p={arrayValue:{values:S}}}else p=T1(l,i,h)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||S1(h,d),p=m9(a,o,h,d==="in"||d==="not-in");return nt.create(u,d,p)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class Bv extends Uv{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Bv(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Yn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,i){let o=s;const a=i.getFlattenedFilters();for(const l of a)pA(o,l),o=gg(o,l)}(e._query,n),new ci(e.firestore,e.converter,gg(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Hv extends $v{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Hv(e,n)}_apply(e){const n=function(s,i,o){if(s.startAt!==null)throw new K($.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new K($.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new pc(i,o)}(e._query,this._field,this._direction);return new ci(e.firestore,e.converter,W3(e._query,n))}}function T9(t,e="asc"){const n=e,r=hf("orderBy",t);return Hv._create(r,n)}class Wv extends $v{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new Wv(e,n,r)}_apply(e){return new ci(e.firestore,e.converter,Kd(e._query,this._limit,this._limitType))}}function S9(t){return Wv._create("limit",t,"F")}function T1(t,e,n){if(typeof(n=gt(n))=="string"){if(n==="")throw new K($.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!lC(e)&&n.indexOf("/")!==-1)throw new K($.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Me.fromString(n));if(!te.isDocumentKey(r))throw new K($.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return VE(t,new te(r))}if(n instanceof Ze)return VE(t,n._key);throw new K($.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Xh(n)}.`)}function S1(t,e){if(!Array.isArray(t)||t.length===0)throw new K($.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function pA(t,e){const n=function(s,i){for(const o of s)for(const a of o.getFlattenedFilters())if(i.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new K($.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new K($.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function mA(t,e,n){let r;return r=t?t.toFirestore(e):e,r}class xl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Li extends fA{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new sd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(hf("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new K($.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Li._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Li._jsonSchemaVersion="firestore/documentSnapshot/1.0",Li._jsonSchema={type:rt("string",Li._jsonSchemaVersion),bundleSource:rt("string","DocumentSnapshot"),bundleName:rt("string"),bundle:rt("string")};class sd extends Li{data(e={}){return super.data(e)}}class Wo{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new xl(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new sd(this._firestore,this._userDataWriter,r.key,r,new xl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new K($.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(a=>{const l=new sd(s._firestore,s._userDataWriter,a.doc.key,a.doc,new xl(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(a=>i||a.type!==3).map(a=>{const l=new sd(s._firestore,s._userDataWriter,a.doc.key,a.doc,new xl(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);let u=-1,d=-1;return a.type!==0&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),d=o.indexOf(a.doc.key)),{type:I9(a.type),doc:l,oldIndex:u,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new K($.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Wo._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=dv.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],s=[];return this.docs.forEach(i=>{i._document!==null&&(n.push(i._document),r.push(this._userDataWriter.convertObjectMap(i._document.data.value.mapValue.fields,"previous")),s.push(i.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function I9(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return re(61501,{type:t})}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Wo._jsonSchemaVersion="firestore/querySnapshot/1.0",Wo._jsonSchema={type:rt("string",Wo._jsonSchemaVersion),bundleSource:rt("string","QuerySnapshot"),bundleName:rt("string"),bundle:rt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ku(t){t=Wr(t,Ze);const e=Wr(t.firestore,xa),n=Mv(e);return i9(n,t._key).then(r=>yA(e,t,r))}function I1(t,e,n){t=Wr(t,Ze);const r=Wr(t.firestore,xa),s=mA(t.converter,e),i=Vv(r);return gA(r,[lA(i,"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,Er.none())])}function b9(t,e){const n=Wr(t.firestore,xa),r=Ei(t),s=mA(t.converter,e),i=Vv(t.firestore);return gA(n,[lA(i,"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,Er.exists(!1))]).then(()=>r)}function Ag(t,...e){var u,d,h;t=gt(t);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||x1(e[r])||(n=e[r++]);const s={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(x1(e[r])){const p=e[r];e[r]=(u=p.next)==null?void 0:u.bind(p),e[r+1]=(d=p.error)==null?void 0:d.bind(p),e[r+2]=(h=p.complete)==null?void 0:h.bind(p)}let i,o,a;if(t instanceof Ze)o=Wr(t.firestore,xa),a=tf(t._key.path),i={next:p=>{e[r]&&e[r](yA(o,t,p))},error:e[r+1],complete:e[r+2]};else{const p=Wr(t,ci);o=Wr(p.firestore,xa),a=p._query;const g=new hA(o);i={next:S=>{e[r]&&e[r](new Wo(o,g,p,S))},error:e[r+1],complete:e[r+2]},x9(t._query)}const l=Mv(o);return s9(l,a,s,i)}function gA(t,e){const n=Mv(t);return o9(n,e)}function yA(t,e,n){const r=n.docs.get(e._key),s=new hA(t);return new Li(t,s,e._key,r,new xl(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){o3(Da),br(new Qn("firestore",(r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),a=new xa(new c3(r.getProvider("auth-internal")),new h3(o,r.getProvider("app-check-internal")),R3(o,s),o);return i={useFetchStreams:n,...i},a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),Sn(_1,E1,e),Sn(_1,E1,"esm2020")})();function vA(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const C9=vA,wA=new Ji("auth","Firebase",vA());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nh=new Yh("@firebase/auth");function A9(t,...e){nh.logLevel<=ye.WARN&&nh.warn(`Auth (${Da}): ${t}`,...e)}function id(t,...e){nh.logLevel<=ye.ERROR&&nh.error(`Auth (${Da}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ar(t,...e){throw qv(t,...e)}function Wn(t,...e){return qv(t,...e)}function Gv(t,e,n){const r={...C9(),[e]:n};return new Ji("auth","Firebase",r).create(e,{appName:t.name})}function Ks(t){return Gv(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function _A(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Ar(t,"argument-error"),Gv(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function qv(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return wA.create(t,...e)}function ie(t,e,...n){if(!t)throw qv(e,...n)}function zr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw id(e),new Error(e)}function ts(t,e){t||zr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rg(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function R9(){return b1()==="http:"||b1()==="https:"}function b1(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P9(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(R9()||iv()||"connection"in navigator)?navigator.onLine:!0}function k9(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jc{constructor(e,n){this.shortDelay=e,this.longDelay=n,ts(n>e,"Short delay should be less than long delay!"),this.isMobile=Lj()||Fj()}get(){return P9()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kv(t,e){ts(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EA{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;zr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;zr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;zr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N9={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D9=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],M9=new jc(3e4,6e4);function Qv(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Fa(t,e,n,r,s={}){return xA(t,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const a=Nc({key:t.config.apiKey,...o}).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const u={method:e,headers:l,...i};return jj()||(u.referrerPolicy="no-referrer"),t.emulatorConfig&&Na(t.emulatorConfig.host)&&(u.credentials="include"),EA.fetch()(await TA(t,t.config.apiHost,n,a),u)})}async function xA(t,e,n){t._canInitEmulator=!1;const r={...N9,...e};try{const s=new L9(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw Nu(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const a=i.ok?o.errorMessage:o.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Nu(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Nu(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw Nu(t,"user-disabled",o);const d=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw Gv(t,d,u);Ar(t,d)}}catch(s){if(s instanceof An)throw s;Ar(t,"network-request-failed",{message:String(s)})}}async function O9(t,e,n,r,s={}){const i=await Fa(t,e,n,r,s);return"mfaPendingCredential"in i&&Ar(t,"multi-factor-auth-required",{_serverResponse:i}),i}async function TA(t,e,n,r){const s=`${e}${n}?${r}`,i=t,o=i.config.emulator?Kv(t.config,s):`${t.config.apiScheme}://${s}`;return D9.includes(n)&&(await i._persistenceManagerAvailable,i._getPersistenceType()==="COOKIE")?i._getPersistence()._getFinalTarget(o).toString():o}class L9{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Wn(this.auth,"network-request-failed")),M9.get())})}}function Nu(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=Wn(t,e,r);return s.customData._tokenResponse=n,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function V9(t,e){return Fa(t,"POST","/v1/accounts:delete",e)}async function rh(t,e){return Fa(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fl(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function j9(t,e=!1){const n=gt(t),r=await n.getIdToken(e),s=Yv(r);ie(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:Fl(Lp(s.auth_time)),issuedAtTime:Fl(Lp(s.iat)),expirationTime:Fl(Lp(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function Lp(t){return Number(t)*1e3}function Yv(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return id("JWT malformed, contained fewer than 3 sections"),null;try{const s=xb(n);return s?JSON.parse(s):(id("Failed to decode base64 JWT payload"),null)}catch(s){return id("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function C1(t){const e=Yv(t);return ie(e,"internal-error"),ie(typeof e.exp<"u","internal-error"),ie(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vc(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof An&&F9(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function F9({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U9{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pg{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Fl(this.lastLoginAt),this.creationTime=Fl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sh(t){var h;const e=t.auth,n=await t.getIdToken(),r=await vc(t,rh(e,{idToken:n}));ie(r==null?void 0:r.users.length,e,"internal-error");const s=r.users[0];t._notifyReloadListener(s);const i=(h=s.providerUserInfo)!=null&&h.length?SA(s.providerUserInfo):[],o=z9(t.providerData,i),a=t.isAnonymous,l=!(t.email&&s.passwordHash)&&!(o!=null&&o.length),u=a?l:!1,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new Pg(s.createdAt,s.lastLoginAt),isAnonymous:u};Object.assign(t,d)}async function $9(t){const e=gt(t);await sh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function z9(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function SA(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function B9(t,e){const n=await xA(t,{},async()=>{const r=Nc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=await TA(t,s,"/v1/token",`key=${i}`),a=await t._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";const l={method:"POST",headers:a,body:r};return t.emulatorConfig&&Na(t.emulatorConfig.host)&&(l.credentials="include"),EA.fetch()(o,l)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function H9(t,e){return Fa(t,"POST","/v2/accounts:revokeToken",Qv(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Go{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ie(e.idToken,"internal-error"),ie(typeof e.idToken<"u","internal-error"),ie(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):C1(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ie(e.length!==0,"internal-error");const n=C1(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ie(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await B9(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new Go;return r&&(ie(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(ie(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(ie(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Go,this.toJSON())}_performRefresh(){return zr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gs(t,e){ie(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class $n{constructor({uid:e,auth:n,stsTokenManager:r,...s}){this.providerId="firebase",this.proactiveRefresh=new U9(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Pg(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await vc(this,this.stsTokenManager.getToken(this.auth,e));return ie(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return j9(this,e)}reload(){return $9(this)}_assign(e){this!==e&&(ie(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new $n({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){ie(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await sh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(wn(this.auth.app))return Promise.reject(Ks(this.auth));const e=await this.getIdToken();return await vc(this,V9(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,s=n.email??void 0,i=n.phoneNumber??void 0,o=n.photoURL??void 0,a=n.tenantId??void 0,l=n._redirectEventId??void 0,u=n.createdAt??void 0,d=n.lastLoginAt??void 0,{uid:h,emailVerified:p,isAnonymous:g,providerData:S,stsTokenManager:E}=n;ie(h&&E,e,"internal-error");const x=Go.fromJSON(this.name,E);ie(typeof h=="string",e,"internal-error"),gs(r,e.name),gs(s,e.name),ie(typeof p=="boolean",e,"internal-error"),ie(typeof g=="boolean",e,"internal-error"),gs(i,e.name),gs(o,e.name),gs(a,e.name),gs(l,e.name),gs(u,e.name),gs(d,e.name);const w=new $n({uid:h,auth:e,email:s,emailVerified:p,displayName:r,isAnonymous:g,photoURL:o,phoneNumber:i,tenantId:a,stsTokenManager:x,createdAt:u,lastLoginAt:d});return S&&Array.isArray(S)&&(w.providerData=S.map(_=>({..._}))),l&&(w._redirectEventId=l),w}static async _fromIdTokenResponse(e,n,r=!1){const s=new Go;s.updateFromServerResponse(n);const i=new $n({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await sh(i),i}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];ie(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?SA(s.providerUserInfo):[],o=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),a=new Go;a.updateFromIdToken(r);const l=new $n({uid:s.localId,auth:e,stsTokenManager:a,isAnonymous:o}),u={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new Pg(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A1=new Map;function Br(t){ts(t instanceof Function,"Expected a class definition");let e=A1.get(t);return e?(ts(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,A1.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IA{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}IA.type="NONE";const R1=IA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function od(t,e,n){return`firebase:${t}:${e}:${n}`}class qo{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=od(this.userKey,s.apiKey,i),this.fullPersistenceKey=od("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await rh(this.auth,{idToken:e}).catch(()=>{});return n?$n._fromGetAccountInfoResponse(this.auth,n,e):null}return $n._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new qo(Br(R1),e,r);const s=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let i=s[0]||Br(R1);const o=od(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const d=await u._get(o);if(d){let h;if(typeof d=="string"){const p=await rh(e,{idToken:d}).catch(()=>{});if(!p)break;h=await $n._fromGetAccountInfoResponse(e,p,d)}else h=$n._fromJSON(e,d);u!==i&&(a=h),i=u;break}}catch{}const l=s.filter(u=>u._shouldAllowMigration);return!i._shouldAllowMigration||!l.length?new qo(i,e,r):(i=l[0],a&&await i._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==i)try{await u._remove(o)}catch{}})),new qo(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P1(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(RA(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(bA(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(kA(e))return"Blackberry";if(NA(e))return"Webos";if(CA(e))return"Safari";if((e.includes("chrome/")||AA(e))&&!e.includes("edge/"))return"Chrome";if(PA(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function bA(t=Nt()){return/firefox\//i.test(t)}function CA(t=Nt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function AA(t=Nt()){return/crios\//i.test(t)}function RA(t=Nt()){return/iemobile/i.test(t)}function PA(t=Nt()){return/android/i.test(t)}function kA(t=Nt()){return/blackberry/i.test(t)}function NA(t=Nt()){return/webos/i.test(t)}function Xv(t=Nt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function W9(t=Nt()){var e;return Xv(t)&&!!((e=window.navigator)!=null&&e.standalone)}function G9(){return Uj()&&document.documentMode===10}function DA(t=Nt()){return Xv(t)||PA(t)||NA(t)||kA(t)||/windows phone/i.test(t)||RA(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MA(t,e=[]){let n;switch(t){case"Browser":n=P1(Nt());break;case"Worker":n=`${P1(Nt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Da}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q9{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((o,a)=>{try{const l=e(i);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function K9(t,e={}){return Fa(t,"GET","/v2/passwordPolicy",Qv(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q9=6;class Y9{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??Q9,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X9{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new k1(this),this.idTokenSubscription=new k1(this),this.beforeStateQueue=new q9(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=wA,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(i=>this._resolvePersistenceManagerAvailable=i)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Br(n)),this._initializationPromise=this.queue(async()=>{var r,s,i;if(!this._deleted&&(this.persistenceManager=await qo.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((s=this._popupRedirectResolver)!=null&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)==null?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await rh(this,{idToken:e}),r=await $n._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var i;if(wn(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(i=this.redirectUser)==null?void 0:i._redirectEventId,a=r==null?void 0:r._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(r=l.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return ie(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await sh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=k9()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(wn(this.app))return Promise.reject(Ks(this));const n=e?gt(e):null;return n&&ie(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ie(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return wn(this.app)?Promise.reject(Ks(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return wn(this.app)?Promise.reject(Ks(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Br(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await K9(this),n=new Y9(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Ji("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await H9(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Br(e)||this._popupRedirectResolver;ie(n,this,"argument-error"),this.redirectPersistenceManager=await qo.create(this,[Br(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(ie(a,this,"internal-error"),a.then(()=>{o||i(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,s);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ie(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=MA(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var s;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((s=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:s.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(wn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&A9(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Ua(t){return gt(t)}class k1{constructor(e){this.auth=e,this.observer=null,this.addObserver=Gj(n=>this.observer=n)}get next(){return ie(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Jv={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function J9(t){Jv=t}function Z9(t){return Jv.loadJS(t)}function eU(){return Jv.gapiScript}function tU(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nU(t,e){const n=Zi(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(Zs(i,e??{}))return s;Ar(s,"already-initialized")}return n.initialize({options:e})}function rU(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Br);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function sU(t,e,n){const r=Ua(t);ie(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!!(n!=null&&n.disableWarnings),i=OA(e),{host:o,port:a}=iU(e),l=a===null?"":`:${a}`,u={url:`${i}//${o}${l}/`},d=Object.freeze({host:o,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){ie(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),ie(Zs(u,r.config.emulator)&&Zs(d,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=u,r.emulatorConfig=d,r.settings.appVerificationDisabledForTesting=!0,Na(o)?(bb(`${i}//${o}${l}`),Cb("Auth",!0)):oU()}function OA(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function iU(t){const e=OA(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:N1(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:N1(o)}}}function N1(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function oU(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LA{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return zr("not implemented")}_getIdTokenResponse(e){return zr("not implemented")}_linkToIdToken(e,n){return zr("not implemented")}_getReauthenticationResolver(e){return zr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ko(t,e){return O9(t,"POST","/v1/accounts:signInWithIdp",Qv(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aU="http://localhost";class Gi extends LA{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Gi(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Ar("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s,...i}=n;if(!r||!s)return null;const o=new Gi(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Ko(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Ko(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Ko(e,n)}buildRequest(){const e={requestUri:aU,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Nc(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ff{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fc extends ff{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ts extends Fc{constructor(){super("facebook.com")}static credential(e){return Gi._fromParams({providerId:Ts.PROVIDER_ID,signInMethod:Ts.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ts.credentialFromTaggedObject(e)}static credentialFromError(e){return Ts.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ts.credential(e.oauthAccessToken)}catch{return null}}}Ts.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ts.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fr extends Fc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Gi._fromParams({providerId:Fr.PROVIDER_ID,signInMethod:Fr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Fr.credentialFromTaggedObject(e)}static credentialFromError(e){return Fr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Fr.credential(n,r)}catch{return null}}}Fr.GOOGLE_SIGN_IN_METHOD="google.com";Fr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ss extends Fc{constructor(){super("github.com")}static credential(e){return Gi._fromParams({providerId:Ss.PROVIDER_ID,signInMethod:Ss.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ss.credentialFromTaggedObject(e)}static credentialFromError(e){return Ss.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ss.credential(e.oauthAccessToken)}catch{return null}}}Ss.GITHUB_SIGN_IN_METHOD="github.com";Ss.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Is extends Fc{constructor(){super("twitter.com")}static credential(e,n){return Gi._fromParams({providerId:Is.PROVIDER_ID,signInMethod:Is.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Is.credentialFromTaggedObject(e)}static credentialFromError(e){return Is.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Is.credential(n,r)}catch{return null}}}Is.TWITTER_SIGN_IN_METHOD="twitter.com";Is.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ta{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await $n._fromIdTokenResponse(e,r,s),o=D1(r);return new Ta({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=D1(r);return new Ta({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function D1(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ih extends An{constructor(e,n,r,s){super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,ih.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new ih(e,n,r,s)}}function VA(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?ih._fromErrorAndOperation(t,i,e,r):i})}async function lU(t,e,n=!1){const r=await vc(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Ta._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cU(t,e,n=!1){const{auth:r}=t;if(wn(r.app))return Promise.reject(Ks(r));const s="reauthenticate";try{const i=await vc(t,VA(r,s,e,t),n);ie(i.idToken,r,"internal-error");const o=Yv(i.idToken);ie(o,r,"internal-error");const{sub:a}=o;return ie(t.uid===a,r,"user-mismatch"),Ta._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&Ar(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uU(t,e,n=!1){if(wn(t.app))return Promise.reject(Ks(t));const r="signIn",s=await VA(t,r,e),i=await Ta._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}function dU(t,e,n,r){return gt(t).onIdTokenChanged(e,n,r)}function hU(t,e,n){return gt(t).beforeAuthStateChanged(e,n)}function fU(t,e,n,r){return gt(t).onAuthStateChanged(e,n,r)}function pU(t){return gt(t).signOut()}const oh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jA{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(oh,"1"),this.storage.removeItem(oh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mU=1e3,gU=10;class FA extends jA{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=DA(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);G9()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,gU):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},mU)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}FA.type="LOCAL";const yU=FA;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UA extends jA{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}UA.type="SESSION";const $A=UA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vU(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new pf(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const a=Array.from(o).map(async u=>u(n.origin,i)),l=await vU(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}pf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zv(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wU{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((a,l)=>{const u=Zv("",20);s.port1.start();const d=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(h){const p=h;if(p.data.eventId===u)switch(p.data.status){case"ack":clearTimeout(d),i=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(p.data.response);break;default:clearTimeout(d),clearTimeout(i),l(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sr(){return window}function _U(t){Sr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zA(){return typeof Sr().WorkerGlobalScope<"u"&&typeof Sr().importScripts=="function"}async function EU(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function xU(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function TU(){return zA()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BA="firebaseLocalStorageDb",SU=1,ah="firebaseLocalStorage",HA="fbase_key";class Uc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function mf(t,e){return t.transaction([ah],e?"readwrite":"readonly").objectStore(ah)}function IU(){const t=indexedDB.deleteDatabase(BA);return new Uc(t).toPromise()}function kg(){const t=indexedDB.open(BA,SU);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(ah,{keyPath:HA})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(ah)?e(r):(r.close(),await IU(),e(await kg()))})})}async function M1(t,e,n){const r=mf(t,!0).put({[HA]:e,value:n});return new Uc(r).toPromise()}async function bU(t,e){const n=mf(t,!1).get(e),r=await new Uc(n).toPromise();return r===void 0?null:r.value}function O1(t,e){const n=mf(t,!0).delete(e);return new Uc(n).toPromise()}const CU=800,AU=3;class WA{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await kg(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>AU)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return zA()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=pf._getInstance(TU()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await EU(),!this.activeServiceWorker)return;this.sender=new wU(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||xU()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await kg();return await M1(e,oh,"1"),await O1(e,oh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>M1(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>bU(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>O1(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=mf(s,!1).getAll();return new Uc(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),CU)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}WA.type="LOCAL";const RU=WA;new jc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ew(t,e){return e?Br(e):(ie(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tw extends LA{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ko(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ko(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ko(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function PU(t){return uU(t.auth,new tw(t),t.bypassAuthState)}function kU(t){const{auth:e,user:n}=t;return ie(n,e,"internal-error"),cU(n,new tw(t),t.bypassAuthState)}async function NU(t){const{auth:e,user:n}=t;return ie(n,e,"internal-error"),lU(n,new tw(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GA{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return PU;case"linkViaPopup":case"linkViaRedirect":return NU;case"reauthViaPopup":case"reauthViaRedirect":return kU;default:Ar(this.auth,"internal-error")}}resolve(e){ts(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ts(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DU=new jc(2e3,1e4);async function MU(t,e,n){if(wn(t.app))return Promise.reject(Wn(t,"operation-not-supported-in-this-environment"));const r=Ua(t);_A(t,e,ff);const s=ew(r,n);return new bi(r,"signInViaPopup",e,s).executeNotNull()}class bi extends GA{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,bi.currentPopupAction&&bi.currentPopupAction.cancel(),bi.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ie(e,this.auth,"internal-error"),e}async onExecution(){ts(this.filter.length===1,"Popup operations only handle one event");const e=Zv();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Wn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(Wn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,bi.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Wn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,DU.get())};e()}}bi.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OU="pendingRedirect",ad=new Map;class LU extends GA{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=ad.get(this.auth._key());if(!e){try{const r=await VU(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}ad.set(this.auth._key(),e)}return this.bypassAuthState||ad.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function VU(t,e){const n=KA(e),r=qA(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}async function jU(t,e){return qA(t)._set(KA(e),"true")}function FU(t,e){ad.set(t._key(),e)}function qA(t){return Br(t._redirectPersistence)}function KA(t){return od(OU,t.config.apiKey,t.name)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UU(t,e,n){return $U(t,e,n)}async function $U(t,e,n){if(wn(t.app))return Promise.reject(Ks(t));const r=Ua(t);_A(t,e,ff),await r._initializationPromise;const s=ew(r,n);return await jU(s,r),s._openRedirect(r,e,"signInViaRedirect")}async function zU(t,e){return await Ua(t)._initializationPromise,QA(t,e,!1)}async function QA(t,e,n=!1){if(wn(t.app))return Promise.reject(Ks(t));const r=Ua(t),s=ew(r,e),o=await new LU(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BU=10*60*1e3;class HU{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!WU(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!YA(e)){const s=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(Wn(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=BU&&this.cachedEventUids.clear(),this.cachedEventUids.has(L1(e))}saveEventToCache(e){this.cachedEventUids.add(L1(e)),this.lastProcessedEventTime=Date.now()}}function L1(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function YA({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function WU(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return YA(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GU(t,e={}){return Fa(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qU=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,KU=/^https?/;async function QU(t){if(t.config.emulator)return;const{authorizedDomains:e}=await GU(t);for(const n of e)try{if(YU(n))return}catch{}Ar(t,"unauthorized-domain")}function YU(t){const e=Rg(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!KU.test(n))return!1;if(qU.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XU=new jc(3e4,6e4);function V1(){const t=Sr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function JU(t){return new Promise((e,n)=>{var s,i,o;function r(){V1(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{V1(),n(Wn(t,"network-request-failed"))},timeout:XU.get()})}if((i=(s=Sr().gapi)==null?void 0:s.iframes)!=null&&i.Iframe)e(gapi.iframes.getContext());else if((o=Sr().gapi)!=null&&o.load)r();else{const a=tU("iframefcb");return Sr()[a]=()=>{gapi.load?r():n(Wn(t,"network-request-failed"))},Z9(`${eU()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw ld=null,e})}let ld=null;function ZU(t){return ld=ld||JU(t),ld}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e$=new jc(5e3,15e3),t$="__/auth/iframe",n$="emulator/auth/iframe",r$={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},s$=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function i$(t){const e=t.config;ie(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Kv(e,n$):`https://${t.config.authDomain}/${t$}`,r={apiKey:e.apiKey,appName:t.name,v:Da},s=s$.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${Nc(r).slice(1)}`}async function o$(t){const e=await ZU(t),n=Sr().gapi;return ie(n,t,"internal-error"),e.open({where:document.body,url:i$(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:r$,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=Wn(t,"network-request-failed"),a=Sr().setTimeout(()=>{i(o)},e$.get());function l(){Sr().clearTimeout(a),s(r)}r.ping(l).then(l,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a$={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},l$=500,c$=600,u$="_blank",d$="http://localhost";class j1{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function h$(t,e,n,r=l$,s=c$){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l={...a$,width:r.toString(),height:s.toString(),top:i,left:o},u=Nt().toLowerCase();n&&(a=AA(u)?u$:n),bA(u)&&(e=e||d$,l.scrollbars="yes");const d=Object.entries(l).reduce((p,[g,S])=>`${p}${g}=${S},`,"");if(W9(u)&&a!=="_self")return f$(e||"",a),new j1(null);const h=window.open(e||"",a,d);ie(h,t,"popup-blocked");try{h.focus()}catch{}return new j1(h)}function f$(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p$="__/auth/handler",m$="emulator/auth/handler",g$=encodeURIComponent("fac");async function F1(t,e,n,r,s,i){ie(t.config.authDomain,t,"auth-domain-config-required"),ie(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Da,eventId:s};if(e instanceof ff){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",Wj(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,h]of Object.entries({}))o[d]=h}if(e instanceof Fc){const d=e.getScopes().filter(h=>h!=="");d.length>0&&(o.scopes=d.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const d of Object.keys(a))a[d]===void 0&&delete a[d];const l=await t._getAppCheckToken(),u=l?`#${g$}=${encodeURIComponent(l)}`:"";return`${y$(t)}?${Nc(a).slice(1)}${u}`}function y$({config:t}){return t.emulator?Kv(t,m$):`https://${t.authDomain}/${p$}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vp="webStorageSupport";class v${constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=$A,this._completeRedirectFn=QA,this._overrideRedirectResult=FU}async _openPopup(e,n,r,s){var o;ts((o=this.eventManagers[e._key()])==null?void 0:o.manager,"_initialize() not called before _openPopup()");const i=await F1(e,n,r,Rg(),s);return h$(e,i,Zv())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await F1(e,n,r,Rg(),s);return _U(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(ts(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await o$(e),r=new HU(e);return n.register("authEvent",s=>(ie(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Vp,{type:Vp},s=>{var o;const i=(o=s==null?void 0:s[0])==null?void 0:o[Vp];i!==void 0&&n(!!i),Ar(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=QU(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return DA()||CA()||Xv()}}const w$=v$;var U1="@firebase/auth",$1="1.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _${constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ie(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E$(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function x$(t){br(new Qn("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;ie(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:MA(t)},u=new X9(r,s,i,l);return rU(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),br(new Qn("auth-internal",e=>{const n=Ua(e.getProvider("auth").getImmediate());return(r=>new _$(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Sn(U1,$1,E$(t)),Sn(U1,$1,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T$=5*60,S$=Ib("authIdTokenMaxAge")||T$;let z1=null;const I$=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>S$)return;const s=n==null?void 0:n.token;z1!==s&&(z1=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function b$(t=cv()){const e=Zi(t,"auth");if(e.isInitialized())return e.getImmediate();const n=nU(t,{popupRedirectResolver:w$,persistence:[RU,yU,$A]}),r=Ib("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const o=I$(i.toString());hU(n,o,()=>o(n.currentUser)),dU(n,a=>o(a))}}const s=Tb("auth");return s&&sU(n,`http://${s}`),n}function C$(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}J9({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=Wn("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",C$().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});x$("Browser");var A$="firebase",R$="12.9.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Sn(A$,R$,"app");const XA="@firebase/installations",nw="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JA=1e4,ZA=`w:${nw}`,eR="FIS_v2",P$="https://firebaseinstallations.googleapis.com/v1",k$=60*60*1e3,N$="installations",D$="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M$={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},qi=new Ji(N$,D$,M$);function tR(t){return t instanceof An&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nR({projectId:t}){return`${P$}/projects/${t}/installations`}function rR(t){return{token:t.token,requestStatus:2,expiresIn:L$(t.expiresIn),creationTime:Date.now()}}async function sR(t,e){const r=(await e.json()).error;return qi.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function iR({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function O$(t,{refreshToken:e}){const n=iR(t);return n.append("Authorization",V$(e)),n}async function oR(t){const e=await t();return e.status>=500&&e.status<600?t():e}function L$(t){return Number(t.replace("s","000"))}function V$(t){return`${eR} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function j$({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=nR(t),s=iR(t),i=e.getImmediate({optional:!0});if(i){const u=await i.getHeartbeatsHeader();u&&s.append("x-firebase-client",u)}const o={fid:n,authVersion:eR,appId:t.appId,sdkVersion:ZA},a={method:"POST",headers:s,body:JSON.stringify(o)},l=await oR(()=>fetch(r,a));if(l.ok){const u=await l.json();return{fid:u.fid||n,registrationStatus:2,refreshToken:u.refreshToken,authToken:rR(u.authToken)}}else throw await sR("Create Installation",l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aR(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F$(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U$=/^[cdef][\w-]{21}$/,Ng="";function $$(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=z$(t);return U$.test(n)?n:Ng}catch{return Ng}}function z$(t){return F$(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gf(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lR=new Map;function cR(t,e){const n=gf(t);uR(n,e),B$(n,e)}function uR(t,e){const n=lR.get(t);if(n)for(const r of n)r(e)}function B$(t,e){const n=H$();n&&n.postMessage({key:t,fid:e}),W$()}let Ci=null;function H$(){return!Ci&&"BroadcastChannel"in self&&(Ci=new BroadcastChannel("[Firebase] FID Change"),Ci.onmessage=t=>{uR(t.data.key,t.data.fid)}),Ci}function W$(){lR.size===0&&Ci&&(Ci.close(),Ci=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G$="firebase-installations-database",q$=1,Ki="firebase-installations-store";let jp=null;function rw(){return jp||(jp=kb(G$,q$,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Ki)}}})),jp}async function lh(t,e){const n=gf(t),s=(await rw()).transaction(Ki,"readwrite"),i=s.objectStore(Ki),o=await i.get(n);return await i.put(e,n),await s.done,(!o||o.fid!==e.fid)&&cR(t,e.fid),e}async function dR(t){const e=gf(t),r=(await rw()).transaction(Ki,"readwrite");await r.objectStore(Ki).delete(e),await r.done}async function yf(t,e){const n=gf(t),s=(await rw()).transaction(Ki,"readwrite"),i=s.objectStore(Ki),o=await i.get(n),a=e(o);return a===void 0?await i.delete(n):await i.put(a,n),await s.done,a&&(!o||o.fid!==a.fid)&&cR(t,a.fid),a}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sw(t){let e;const n=await yf(t.appConfig,r=>{const s=K$(r),i=Q$(t,s);return e=i.registrationPromise,i.installationEntry});return n.fid===Ng?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function K$(t){const e=t||{fid:$$(),registrationStatus:0};return hR(e)}function Q$(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const s=Promise.reject(qi.create("app-offline"));return{installationEntry:e,registrationPromise:s}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=Y$(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:X$(t)}:{installationEntry:e}}async function Y$(t,e){try{const n=await j$(t,e);return lh(t.appConfig,n)}catch(n){throw tR(n)&&n.customData.serverCode===409?await dR(t.appConfig):await lh(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function X$(t){let e=await B1(t.appConfig);for(;e.registrationStatus===1;)await aR(100),e=await B1(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await sw(t);return r||n}return e}function B1(t){return yf(t,e=>{if(!e)throw qi.create("installation-not-found");return hR(e)})}function hR(t){return J$(t)?{fid:t.fid,registrationStatus:0}:t}function J$(t){return t.registrationStatus===1&&t.registrationTime+JA<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Z$({appConfig:t,heartbeatServiceProvider:e},n){const r=ez(t,n),s=O$(t,n),i=e.getImmediate({optional:!0});if(i){const u=await i.getHeartbeatsHeader();u&&s.append("x-firebase-client",u)}const o={installation:{sdkVersion:ZA,appId:t.appId}},a={method:"POST",headers:s,body:JSON.stringify(o)},l=await oR(()=>fetch(r,a));if(l.ok){const u=await l.json();return rR(u)}else throw await sR("Generate Auth Token",l)}function ez(t,{fid:e}){return`${nR(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iw(t,e=!1){let n;const r=await yf(t.appConfig,i=>{if(!fR(i))throw qi.create("not-registered");const o=i.authToken;if(!e&&rz(o))return i;if(o.requestStatus===1)return n=tz(t,e),i;{if(!navigator.onLine)throw qi.create("app-offline");const a=iz(i);return n=nz(t,a),a}});return n?await n:r.authToken}async function tz(t,e){let n=await H1(t.appConfig);for(;n.authToken.requestStatus===1;)await aR(100),n=await H1(t.appConfig);const r=n.authToken;return r.requestStatus===0?iw(t,e):r}function H1(t){return yf(t,e=>{if(!fR(e))throw qi.create("not-registered");const n=e.authToken;return oz(n)?{...e,authToken:{requestStatus:0}}:e})}async function nz(t,e){try{const n=await Z$(t,e),r={...e,authToken:n};return await lh(t.appConfig,r),n}catch(n){if(tR(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await dR(t.appConfig);else{const r={...e,authToken:{requestStatus:0}};await lh(t.appConfig,r)}throw n}}function fR(t){return t!==void 0&&t.registrationStatus===2}function rz(t){return t.requestStatus===2&&!sz(t)}function sz(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+k$}function iz(t){const e={requestStatus:1,requestTime:Date.now()};return{...t,authToken:e}}function oz(t){return t.requestStatus===1&&t.requestTime+JA<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function az(t){const e=t,{installationEntry:n,registrationPromise:r}=await sw(e);return r?r.catch(console.error):iw(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lz(t,e=!1){const n=t;return await cz(n),(await iw(n,e)).token}async function cz(t){const{registrationPromise:e}=await sw(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uz(t){if(!t||!t.options)throw Fp("App Configuration");if(!t.name)throw Fp("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw Fp(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function Fp(t){return qi.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pR="installations",dz="installations-internal",hz=t=>{const e=t.getProvider("app").getImmediate(),n=uz(e),r=Zi(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},fz=t=>{const e=t.getProvider("app").getImmediate(),n=Zi(e,pR).getImmediate();return{getId:()=>az(n),getToken:s=>lz(n,s)}};function pz(){br(new Qn(pR,hz,"PUBLIC")),br(new Qn(dz,fz,"PRIVATE"))}pz();Sn(XA,nw);Sn(XA,nw,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ch="analytics",mz="firebase_id",gz="origin",yz=60*1e3,vz="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",ow="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jt=new Yh("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wz={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},ln=new Ji("analytics","Analytics",wz);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _z(t){if(!t.startsWith(ow)){const e=ln.create("invalid-gtag-resource",{gtagURL:t});return jt.warn(e.message),""}return t}function mR(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function Ez(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function xz(t,e){const n=Ez("firebase-js-sdk-policy",{createScriptURL:_z}),r=document.createElement("script"),s=`${ow}?l=${t}&id=${e}`;r.src=n?n==null?void 0:n.createScriptURL(s):s,r.async=!0,document.head.appendChild(r)}function Tz(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function Sz(t,e,n,r,s,i){const o=r[s];try{if(o)await e[o];else{const l=(await mR(n)).find(u=>u.measurementId===s);l&&await e[l.appId]}}catch(a){jt.error(a)}t("config",s,i)}async function Iz(t,e,n,r,s){try{let i=[];if(s&&s.send_to){let o=s.send_to;Array.isArray(o)||(o=[o]);const a=await mR(n);for(const l of o){const u=a.find(h=>h.measurementId===l),d=u&&e[u.appId];if(d)i.push(d);else{i=[];break}}}i.length===0&&(i=Object.values(e)),await Promise.all(i),t("event",r,s||{})}catch(i){jt.error(i)}}function bz(t,e,n,r){async function s(i,...o){try{if(i==="event"){const[a,l]=o;await Iz(t,e,n,a,l)}else if(i==="config"){const[a,l]=o;await Sz(t,e,n,r,a,l)}else if(i==="consent"){const[a,l]=o;t("consent",a,l)}else if(i==="get"){const[a,l,u]=o;t("get",a,l,u)}else if(i==="set"){const[a]=o;t("set",a)}else t(i,...o)}catch(a){jt.error(a)}}return s}function Cz(t,e,n,r,s){let i=function(...o){window[r].push(arguments)};return window[s]&&typeof window[s]=="function"&&(i=window[s]),window[s]=bz(i,t,e,n),{gtagCore:i,wrappedGtag:window[s]}}function Az(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(ow)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rz=30,Pz=1e3;class kz{constructor(e={},n=Pz){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const gR=new kz;function Nz(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function Dz(t){var o;const{appId:e,apiKey:n}=t,r={method:"GET",headers:Nz(n)},s=vz.replace("{app-id}",e),i=await fetch(s,r);if(i.status!==200&&i.status!==304){let a="";try{const l=await i.json();(o=l.error)!=null&&o.message&&(a=l.error.message)}catch{}throw ln.create("config-fetch-failed",{httpStatus:i.status,responseMessage:a})}return i.json()}async function Mz(t,e=gR,n){const{appId:r,apiKey:s,measurementId:i}=t.options;if(!r)throw ln.create("no-app-id");if(!s){if(i)return{measurementId:i,appId:r};throw ln.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new Vz;return setTimeout(async()=>{a.abort()},yz),yR({appId:r,apiKey:s,measurementId:i},o,a,e)}async function yR(t,{throttleEndTimeMillis:e,backoffCount:n},r,s=gR){var a;const{appId:i,measurementId:o}=t;try{await Oz(r,e)}catch(l){if(o)return jt.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${l==null?void 0:l.message}]`),{appId:i,measurementId:o};throw l}try{const l=await Dz(t);return s.deleteThrottleMetadata(i),l}catch(l){const u=l;if(!Lz(u)){if(s.deleteThrottleMetadata(i),o)return jt.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${u==null?void 0:u.message}]`),{appId:i,measurementId:o};throw l}const d=Number((a=u==null?void 0:u.customData)==null?void 0:a.httpStatus)===503?gE(n,s.intervalMillis,Rz):gE(n,s.intervalMillis),h={throttleEndTimeMillis:Date.now()+d,backoffCount:n+1};return s.setThrottleMetadata(i,h),jt.debug(`Calling attemptFetch again in ${d} millis`),yR(t,h,r,s)}}function Oz(t,e){return new Promise((n,r)=>{const s=Math.max(e-Date.now(),0),i=setTimeout(n,s);t.addEventListener(()=>{clearTimeout(i),r(ln.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function Lz(t){if(!(t instanceof An)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class Vz{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function jz(t,e,n,r,s){if(s&&s.global){t("event",n,r);return}else{const i=await e,o={...r,send_to:i};t("event",n,o)}}async function Fz(t,e,n,r){if(r&&r.global){const s={};for(const i of Object.keys(n))s[`user_properties.${i}`]=n[i];return t("set",s),Promise.resolve()}else{const s=await e;t("config",s,{update:!0,user_properties:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Uz(){if(ov())try{await av()}catch(t){return jt.warn(ln.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return jt.warn(ln.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function $z(t,e,n,r,s,i,o){const a=Mz(t);a.then(p=>{n[p.measurementId]=p.appId,t.options.measurementId&&p.measurementId!==t.options.measurementId&&jt.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${p.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(p=>jt.error(p)),e.push(a);const l=Uz().then(p=>{if(p)return r.getId()}),[u,d]=await Promise.all([a,l]);Az(i)||xz(i,u.measurementId),s("js",new Date);const h=(o==null?void 0:o.config)??{};return h[gz]="firebase",h.update=!0,d!=null&&(h[mz]=d),s("config",u.measurementId,h),u.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zz{constructor(e){this.app=e}_delete(){return delete Qo[this.app.options.appId],Promise.resolve()}}let Qo={},W1=[];const G1={};let Up="dataLayer",Bz="gtag",q1,aw,K1=!1;function Hz(){const t=[];if(iv()&&t.push("This is a browser extension environment."),Ab()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,s)=>`(${s+1}) ${r}`).join(" "),n=ln.create("invalid-analytics-context",{errorInfo:e});jt.warn(n.message)}}function Wz(t,e,n){Hz();const r=t.options.appId;if(!r)throw ln.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)jt.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw ln.create("no-api-key");if(Qo[r]!=null)throw ln.create("already-exists",{id:r});if(!K1){Tz(Up);const{wrappedGtag:i,gtagCore:o}=Cz(Qo,W1,G1,Up,Bz);aw=i,q1=o,K1=!0}return Qo[r]=$z(t,W1,G1,e,q1,Up,n),new zz(t)}function Gz(t=cv()){t=gt(t);const e=Zi(t,ch);return e.isInitialized()?e.getImmediate():qz(t)}function qz(t,e={}){const n=Zi(t,ch);if(n.isInitialized()){const s=n.getImmediate();if(Zs(e,n.getOptions()))return s;throw ln.create("already-initialized")}return n.initialize({options:e})}async function Kz(){if(iv()||!Ab()||!ov())return!1;try{return await av()}catch{return!1}}function Qz(t,e,n){t=gt(t),Fz(aw,Qo[t.app.options.appId],e,n).catch(r=>jt.error(r))}function vR(t,e,n,r){t=gt(t),jz(aw,Qo[t.app.options.appId],e,n,r).catch(s=>jt.error(s))}const Q1="@firebase/analytics",Y1="0.10.19";function Yz(){br(new Qn(ch,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("installations-internal").getImmediate();return Wz(r,s,n)},"PUBLIC")),br(new Qn("analytics-internal",t,"PRIVATE")),Sn(Q1,Y1),Sn(Q1,Y1,"esm2020");function t(e){try{const n=e.getProvider(ch).getImmediate();return{logEvent:(r,s,i)=>vR(n,r,s,i),setUserProperties:(r,s)=>Qz(n,r,s)}}catch(n){throw ln.create("interop-component-reg-failed",{reason:n})}}}Yz();const Xz={apiKey:"AIzaSyBYn8Cm6HMheXYXq-mK6VrjAiuvgoaTODM",authDomain:"letsgokings-369ea.firebaseapp.com",projectId:"letsgokings-369ea",storageBucket:"letsgokings-369ea.firebasestorage.app",messagingSenderId:"488277685860",appId:"1:488277685860:web:78ec0ade64cc4d563e5171",measurementId:"G-HW520HE04S"},lw=Nb(Xz),Ul=b$(lw),cr=u9(lw),uh=new Fr,wR=Kz().then(t=>t?Gz(lw):null);uh.addScope("profile");uh.addScope("email");let Du=null;const Jz=async()=>Du||(Du=await wR,Du),Jn=async t=>{try{const e=await Jz();e&&vR(e,t.name,t.params)}catch(e){console.error("[Analytics] Error tracking event:",e)}},Zz=t=>{Jn({name:"login",params:{method:t}})},eB=t=>{Jn({name:"logout",params:{user_type:t}})},X1=t=>{Jn({name:"sign_up",params:{method:t}})},tB=t=>{Jn({name:"challenge_started",params:{user_type:t}})},nB=(t,e)=>{Jn({name:"relapse_reported",params:{streak_days:t,user_type:e}})},rB=(t,e)=>{Jn({name:"streak_confirmed",params:{streak_days:t,user_type:e}})},sB=t=>{Jn({name:"feedback_submitted",params:{user_type:t}})},iB=t=>{Jn({name:"leaderboard_viewed",params:{user_type:t}})},oB=t=>{Jn({name:"rules_viewed",params:{user_type:t}})},J1=t=>{Jn({name:"live_chat_viewed",params:{user_type:t}})},aB=t=>{Jn({name:"app_install_clicked",params:{platform:t}})},Z1=t=>{if(!t.relapseTime)return!1;const e=new Date(t.relapseTime);return(new Date().getTime()-e.getTime())/(1e3*60*60*24)<=3},_R=y.createContext(void 0),fl="users",pl="guests",lB="feedback",dh="letsgokings_guest_id",cB=()=>{let t=localStorage.getItem(dh);return t||(t="guest_"+Date.now()+"_"+Math.random().toString(36).substr(2,9),localStorage.setItem(dh,t)),t},uB=()=>localStorage.getItem(dh),ex=t=>{if(!(t!=null&&t.startDate)||!t.isActive)return 0;const e=new Date(t.startDate),r=Math.abs(new Date().getTime()-e.getTime());return Math.floor(r/(1e3*60*60*24))},dB=t=>{if(!t||t.isActive)return!1;const e=new Date(t.lastUpdateTime);return(new Date().getTime()-e.getTime())/(1e3*60*60)>24},hB=({children:t})=>{const[e,n]=y.useState(null),[r,s]=y.useState(null),[i,o]=y.useState([]),[a,l]=y.useState(!0);y.useEffect(()=>{const w=fU(Ul,async _=>{if(_){const T={id:_.uid,name:_.displayName||"Warrior",email:_.email||void 0,photoUrl:_.photoURL||void 0,isGuest:!1};n(T);try{const P=await ku(Ei(cr,fl,T.id));if(P.exists()){const M=P.data();s(M.streak)}}catch(P){console.error("Error fetching user data:",P)}}else n(null),s(null);l(!1)});return()=>w()},[]),y.useEffect(()=>{const w=Cg(eh(cr,fl)),_=Cg(eh(cr,pl));let T=[],P=[];const M=()=>{const C=[...T,...P].filter(R=>!dB(R.streak));C.sort((R,N)=>N.daysCount-R.daysCount),o(C)},O=Ag(w,I=>{T=[],I.forEach(C=>{const R=C.data();T.push({user:R.user,streak:R.streak,daysCount:ex(R.streak),isRecentlyRelapsed:Z1(R.streak)})}),M(),l(!1)},I=>{console.error("Error fetching users leaderboard:",I),l(!1)}),b=Ag(_,I=>{P=[],I.forEach(C=>{const R=C.data();P.push({user:R.user,streak:R.streak,daysCount:ex(R.streak),isRecentlyRelapsed:Z1(R.streak)})}),M(),l(!1)},I=>{console.error("Error fetching guests leaderboard:",I),l(!1)});return()=>{O(),b()}},[]),y.useEffect(()=>{if(!e)return;(async()=>{try{const _=e.isGuest?pl:fl,T=await ku(Ei(cr,_,e.id));if(T.exists()){const P=T.data();s(P.streak)}}catch(_){console.error("Error fetching user data:",_)}})()},[e]),y.useEffect(()=>{a||(async()=>{if(e)return;const _=uB();if(_)try{const T=await ku(Ei(cr,pl,_));if(T.exists()){const P=T.data();n(P.user),s(P.streak)}}catch(T){console.error("Error restoring guest session:",T)}})()},[a,e]);const u=()=>{if(!(r!=null&&r.startDate)||!r.isActive)return 0;const w=new Date(r.startDate),T=Math.abs(new Date().getTime()-w.getTime());return Math.floor(T/(1e3*60*60*24))},d=async(w,_)=>{const T=w.isGuest?pl:fl;try{const M={user:{id:w.id,name:w.name,isGuest:w.isGuest,...w.email&&{email:w.email},...w.photoUrl&&{photoUrl:w.photoUrl}},streak:_,updatedAt:ke.now()};await I1(Ei(cr,T,w.id),M)}catch(P){console.error("Error saving to Firestore:",P)}},h=async w=>{const _=w.isGuest?{...w,id:cB()}:w;n(_);const T=_.isGuest?pl:fl;try{const P=await ku(Ei(cr,T,_.id));if(P.exists()){const M=P.data();s(M.streak),await d(_,M.streak),Zz(_.isGuest?"guest":"google")}else if(_.isGuest){const M={userId:_.id,startDate:null,isActive:!1,lastUpdateTime:new Date().toISOString()};s(M),X1("guest")}else X1("google")}catch(P){console.error("Error during login:",P)}},p=async()=>{try{const w=e!=null&&e.isGuest?"guest":"google";e&&!e.isGuest&&await pU(Ul),e!=null&&e.isGuest&&localStorage.removeItem(dh),eB(w),n(null),s(null)}catch(w){console.error("Error signing out:",w)}},g=async()=>{if(!e)return;const w={userId:e.id,startDate:new Date().toISOString(),isActive:!0,lastUpdateTime:new Date().toISOString(),relapseTime:(r==null?void 0:r.relapseTime)||null,previousStartDate:(r==null?void 0:r.previousStartDate)||null};s(w),await d(e,w),tB(e.isGuest?"guest":"google")},S=async()=>{if(!e)return;const w=u(),_={userId:e.id,startDate:null,isActive:!1,lastUpdateTime:new Date().toISOString(),relapseTime:new Date().toISOString(),previousStartDate:(r==null?void 0:r.startDate)||null};s(_),await d(e,_),nB(w,e.isGuest?"guest":"google")},E=async()=>{if(!e||!r)return;const w=u(),_={...r,lastUpdateTime:new Date().toISOString()};s(_),await d(e,_),rB(w,e.isGuest?"guest":"google")},x=async w=>{if(!e||!w.trim())return!1;try{const _=`${e.id}_${Date.now()}`,T={userId:e.id,userName:e.name,isGuest:e.isGuest,message:w.trim(),createdAt:ke.now()};return await I1(Ei(cr,lB,_),T),sB(e.isGuest?"guest":"google"),!0}catch(_){return console.error("Error submitting feedback:",_),!1}};return f.jsx(_R.Provider,{value:{currentUser:e,streakData:r,leaderboard:i,isLoading:a,login:h,logout:p,startChallenge:g,relapse:S,confirmActive:E,getDaysCount:u,submitFeedback:x},children:t})},so=()=>{const t=y.useContext(_R);if(!t)throw new Error("useApp must be used within an AppProvider");return t},ER=y.createContext(void 0),tx="letsGoKings_theme",fB=({children:t})=>{const[e,n]=y.useState(()=>localStorage.getItem(tx)||"dark");y.useEffect(()=>{const s=document.documentElement;e==="light"?s.classList.add("light"):s.classList.remove("light"),localStorage.setItem(tx,e)},[e]);const r=()=>{n(s=>s==="dark"?"light":"dark")};return f.jsx(ER.Provider,{value:{theme:e,toggleTheme:r},children:t})},pB=()=>{const t=y.useContext(ER);if(!t)throw new Error("useTheme must be used within a ThemeProvider");return t},cw=By("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),at=y.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...s},i)=>{const o=r?JD:"button";return f.jsx(o,{className:me(cw({variant:e,size:n,className:t})),ref:i,...s})});at.displayName="Button";const uw=y.forwardRef(({className:t,type:e,...n},r)=>f.jsx("input",{type:e,className:me("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));uw.displayName="Input";const mB=By("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),Dg=y.forwardRef(({className:t,variant:e,...n},r)=>f.jsx("div",{ref:r,role:"alert",className:me(mB({variant:e}),t),...n}));Dg.displayName="Alert";const gB=y.forwardRef(({className:t,...e},n)=>f.jsx("h5",{ref:n,className:me("mb-1 font-medium leading-none tracking-tight",t),...e}));gB.displayName="AlertTitle";const Mg=y.forwardRef(({className:t,...e},n)=>f.jsx("div",{ref:n,className:me("text-sm [&_p]:leading-relaxed",t),...e}));Mg.displayName="AlertDescription";const yB=(t,e=150)=>new Promise((n,r)=>{const s=new FileReader;s.onload=i=>{var a;const o=new Image;o.onload=()=>{const l=document.createElement("canvas");let{width:u,height:d}=o;u>d?u>e&&(d=d*e/u,u=e):d>e&&(u=u*e/d,d=e),l.width=u,l.height=d;const h=l.getContext("2d");if(!h){r(new Error("Could not get canvas context"));return}h.drawImage(o,0,0,u,d);const p=l.toDataURL("image/jpeg",.7);n(p)},o.onerror=()=>r(new Error("Failed to load image")),o.src=(a=i.target)==null?void 0:a.result},s.onerror=()=>r(new Error("Failed to read file")),s.readAsDataURL(t)}),vB=()=>{const{login:t}=so(),[e,n]=y.useState(""),[r,s]=y.useState(!1),[i,o]=y.useState(null),[a,l]=y.useState(!1),[u,d]=y.useState(null),h=y.useRef(null);y.useEffect(()=>{(async()=>{try{const w=await zU(Ul);w!=null&&w.user&&t({id:w.user.uid,name:w.user.displayName||"Warrior",email:w.user.email||void 0,photoUrl:w.user.photoURL||void 0,isGuest:!1})}catch(w){console.error("Redirect sign-in error:",w)}})()},[t]);const p=async()=>{l(!0),d(null);try{const w=(await MU(Ul,uh)).user;t({id:w.uid,name:w.displayName||"Warrior",email:w.email||void 0,photoUrl:w.photoURL||void 0,isGuest:!1})}catch(x){if(console.error("Google sign-in error:",x),x instanceof An)if(x.code==="auth/popup-closed-by-user")d(null);else if(x.code==="auth/missing-or-invalid-nonce"||x.code==="auth/credential-already-in-use")d("Please try again");else if(x.code==="auth/popup-blocked")try{await UU(Ul,uh)}catch{d("Sign-in failed. Please try again.")}else d(x.message);else{const w=x instanceof Error?x.message:"Failed to sign in with Google";d(w)}}finally{l(!1)}},g=()=>{if(!e.trim())return;const x={id:"guest_"+Date.now(),name:e.trim(),isGuest:!0,photoUrl:i||void 0};t(x)},S=y.useCallback(async x=>{var _;const w=(_=x.target.files)==null?void 0:_[0];if(w)try{const T=await yB(w,150);o(T)}catch(T){console.error("Error compressing image:",T),d("Failed to process image. Please try a different one.")}},[]),E=()=>{var x;(x=h.current)==null||x.click()};return f.jsxs("div",{className:"min-h-screen bg-[#0a0e17] flex flex-col",children:[f.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center px-4 py-8",children:[f.jsxs("div",{className:"mb-6 relative",children:[f.jsx("svg",{className:"absolute -top-1 -right-1 h-4 w-4 text-yellow-400 animate-pulse",viewBox:"0 0 24 24",fill:"currentColor",children:f.jsx("path",{d:"M12 2l2.4 7.4h7.6l-6 4.6 2.3 7-6.3-4.6-6.3 4.6 2.3-7-6-4.6h7.6z"})}),f.jsx(pa,{className:"h-14 w-14 text-yellow-400 animate-bounce-slow",strokeWidth:2})]}),f.jsxs("h1",{className:"font-display text-3xl sm:text-4xl font-bold mb-3",children:[f.jsx("span",{className:"text-blue-400",children:"LetsGo"}),f.jsx("span",{className:"text-yellow-400",children:"Kings"})]}),f.jsx("p",{className:"text-gray-400 text-base mb-10",children:"Master your energy. Live your dream life."}),r?f.jsxs("div",{className:"w-full max-w-sm space-y-5",children:[f.jsxs(Dg,{className:"bg-[#151a26] border-gray-700 rounded-lg",children:[f.jsx(eO,{className:"h-4 w-4 text-gray-400"}),f.jsx(Mg,{className:"text-sm text-gray-400 ml-2",children:"Your progress will be saved and visible on the public leaderboard."})]}),f.jsx("div",{className:"flex justify-center",children:f.jsxs("div",{onClick:E,className:"relative w-24 h-24 rounded-full overflow-hidden cursor-pointer group border-2 border-blue-500/50 hover:border-blue-400 transition-colors",children:[i?f.jsx("img",{src:i,alt:"Profile",className:"w-full h-full object-cover"}):f.jsx("div",{className:"w-full h-full bg-[#151a26] flex items-center justify-center",children:f.jsx(L_,{className:"h-10 w-10 text-gray-500"})}),f.jsx("div",{className:"absolute inset-0 bg-black/50 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity",children:f.jsx(WM,{className:"h-6 w-6 text-white"})}),f.jsx("input",{ref:h,type:"file",accept:"image/*",onChange:S,className:"hidden"})]})}),f.jsx(uw,{placeholder:"Enter your name",value:e,onChange:x=>n(x.target.value),className:"h-12 bg-[#151a26] border-gray-700 text-white placeholder:text-gray-500 rounded-full focus:border-blue-500 px-5",onKeyDown:x=>x.key==="Enter"&&g()}),f.jsxs("div",{className:"flex gap-3",children:[f.jsx(at,{variant:"outline",onClick:()=>s(!1),className:"flex-1 h-12 border-gray-700 text-gray-300 hover:bg-gray-700/50 rounded-full",children:"Back"}),f.jsx(at,{onClick:g,disabled:!e.trim(),className:"flex-1 h-12 bg-blue-600 hover:bg-blue-700 text-white font-medium rounded-full disabled:opacity-50",children:"Join as Guest"})]})]}):f.jsxs("div",{className:"w-full max-w-sm space-y-4",children:[u&&f.jsx(Dg,{className:"bg-red-500/10 border-red-500/50 rounded-full",children:f.jsx(Mg,{className:"text-sm text-red-400 text-center",children:u})}),f.jsxs(at,{onClick:p,disabled:a,className:"w-full h-12 bg-white text-gray-900 hover:bg-gray-100 font-medium rounded-full disabled:opacity-50",children:[f.jsxs("svg",{className:"h-5 w-5 mr-2",viewBox:"0 0 24 24",children:[f.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),f.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),f.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),f.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),a?f.jsxs(f.Fragment,{children:[f.jsx(tO,{className:"h-4 w-4 mr-2 animate-spin"}),"Signing in..."]}):"Continue with Google"]}),f.jsxs("div",{className:"relative",children:[f.jsx("div",{className:"absolute inset-0 flex items-center",children:f.jsx("span",{className:"w-full border-t border-gray-700"})}),f.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:f.jsx("span",{className:"bg-[#0a0e17] px-3 text-gray-500",children:"or"})})]}),f.jsxs(at,{variant:"outline",onClick:()=>s(!0),className:"w-full h-12 border-blue-500/50 text-blue-400 hover:bg-blue-500/10 rounded-full",children:[f.jsx(L_,{className:"h-4 w-4 mr-2"}),"Continue as Guest"]}),f.jsxs("p",{className:"text-center text-sm text-gray-500 pt-4",children:["Join ",f.jsx("span",{className:"text-blue-400",children:"thousands"})," of men reclaiming ",f.jsx("span",{className:"text-blue-400",children:"their"})," power through discipline"]})]})]}),f.jsx("div",{className:"text-center py-8 px-4",children:f.jsxs("p",{className:"text-sm text-gray-500 italic",children:['"Every time you say ',f.jsx("span",{className:"text-blue-400",children:"no"}),", your ",f.jsx("span",{className:"text-yellow-400",children:"future"}),'  says thank you. "']})})]})};var $p="focusScope.autoFocusOnMount",zp="focusScope.autoFocusOnUnmount",nx={bubbles:!1,cancelable:!0},wB="FocusScope",dw=y.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...o}=t,[a,l]=y.useState(null),u=Je(s),d=Je(i),h=y.useRef(null),p=Ae(e,E=>l(E)),g=y.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;y.useEffect(()=>{if(r){let E=function(T){if(g.paused||!a)return;const P=T.target;a.contains(P)?h.current=P:vs(h.current,{select:!0})},x=function(T){if(g.paused||!a)return;const P=T.relatedTarget;P!==null&&(a.contains(P)||vs(h.current,{select:!0}))},w=function(T){if(document.activeElement===document.body)for(const M of T)M.removedNodes.length>0&&vs(a)};document.addEventListener("focusin",E),document.addEventListener("focusout",x);const _=new MutationObserver(w);return a&&_.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",E),document.removeEventListener("focusout",x),_.disconnect()}}},[r,a,g.paused]),y.useEffect(()=>{if(a){sx.add(g);const E=document.activeElement;if(!a.contains(E)){const w=new CustomEvent($p,nx);a.addEventListener($p,u),a.dispatchEvent(w),w.defaultPrevented||(_B(IB(xR(a)),{select:!0}),document.activeElement===E&&vs(a))}return()=>{a.removeEventListener($p,u),setTimeout(()=>{const w=new CustomEvent(zp,nx);a.addEventListener(zp,d),a.dispatchEvent(w),w.defaultPrevented||vs(E??document.body,{select:!0}),a.removeEventListener(zp,d),sx.remove(g)},0)}}},[a,u,d,g]);const S=y.useCallback(E=>{if(!n&&!r||g.paused)return;const x=E.key==="Tab"&&!E.altKey&&!E.ctrlKey&&!E.metaKey,w=document.activeElement;if(x&&w){const _=E.currentTarget,[T,P]=EB(_);T&&P?!E.shiftKey&&w===P?(E.preventDefault(),n&&vs(T,{select:!0})):E.shiftKey&&w===T&&(E.preventDefault(),n&&vs(P,{select:!0})):w===_&&E.preventDefault()}},[n,r,g.paused]);return f.jsx(_e.div,{tabIndex:-1,...o,ref:p,onKeyDown:S})});dw.displayName=wB;function _B(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(vs(r,{select:e}),document.activeElement!==n)return}function EB(t){const e=xR(t),n=rx(e,t),r=rx(e.reverse(),t);return[n,r]}function xR(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function rx(t,e){for(const n of t)if(!xB(n,{upTo:e}))return n}function xB(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function TB(t){return t instanceof HTMLInputElement&&"select"in t}function vs(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&TB(t)&&e&&t.select()}}var sx=SB();function SB(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=ix(t,e),t.unshift(e)},remove(e){var n;t=ix(t,e),(n=t[0])==null||n.resume()}}}function ix(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function IB(t){return t.filter(e=>e.tagName!=="A")}var Bp=0;function TR(){y.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??ox()),document.body.insertAdjacentElement("beforeend",t[1]??ox()),Bp++,()=>{Bp===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Bp--}},[])}function ox(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var mr=function(){return mr=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},mr.apply(this,arguments)};function SR(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function bB(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))}var cd="right-scroll-bar-position",ud="width-before-scroll-bar",CB="with-scroll-bars-hidden",AB="--removed-body-scroll-bar-size";function Hp(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function RB(t,e){var n=y.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=e,n.facade}var PB=typeof window<"u"?y.useLayoutEffect:y.useEffect,ax=new WeakMap;function kB(t,e){var n=RB(null,function(r){return t.forEach(function(s){return Hp(s,r)})});return PB(function(){var r=ax.get(n);if(r){var s=new Set(r),i=new Set(t),o=n.current;s.forEach(function(a){i.has(a)||Hp(a,null)}),i.forEach(function(a){s.has(a)||Hp(a,o)})}ax.set(n,t)},[t]),n}function NB(t){return t}function DB(t,e){e===void 0&&(e=NB);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(i){var o=e(i,r);return n.push(o),function(){n=n.filter(function(a){return a!==o})}},assignSyncMedium:function(i){for(r=!0;n.length;){var o=n;n=[],o.forEach(i)}n={push:function(a){return i(a)},filter:function(){return n}}},assignMedium:function(i){r=!0;var o=[];if(n.length){var a=n;n=[],a.forEach(i),o=n}var l=function(){var d=o;o=[],d.forEach(i)},u=function(){return Promise.resolve().then(l)};u(),n={push:function(d){o.push(d),u()},filter:function(d){return o=o.filter(d),n}}}};return s}function MB(t){t===void 0&&(t={});var e=DB(null);return e.options=mr({async:!0,ssr:!1},t),e}var IR=function(t){var e=t.sideCar,n=SR(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return y.createElement(r,mr({},n))};IR.isSideCarExport=!0;function OB(t,e){return t.useMedium(e),IR}var bR=MB(),Wp=function(){},vf=y.forwardRef(function(t,e){var n=y.useRef(null),r=y.useState({onScrollCapture:Wp,onWheelCapture:Wp,onTouchMoveCapture:Wp}),s=r[0],i=r[1],o=t.forwardProps,a=t.children,l=t.className,u=t.removeScrollBar,d=t.enabled,h=t.shards,p=t.sideCar,g=t.noRelative,S=t.noIsolation,E=t.inert,x=t.allowPinchZoom,w=t.as,_=w===void 0?"div":w,T=t.gapMode,P=SR(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),M=p,O=kB([n,e]),b=mr(mr({},P),s);return y.createElement(y.Fragment,null,d&&y.createElement(M,{sideCar:bR,removeScrollBar:u,shards:h,noRelative:g,noIsolation:S,inert:E,setCallbacks:i,allowPinchZoom:!!x,lockRef:n,gapMode:T}),o?y.cloneElement(y.Children.only(a),mr(mr({},b),{ref:O})):y.createElement(_,mr({},b,{className:l,ref:O}),a))});vf.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};vf.classNames={fullWidth:ud,zeroRight:cd};var LB=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function VB(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=LB();return e&&t.setAttribute("nonce",e),t}function jB(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function FB(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var UB=function(){var t=0,e=null;return{add:function(n){t==0&&(e=VB())&&(jB(e,n),FB(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},$B=function(){var t=UB();return function(e,n){y.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},CR=function(){var t=$B(),e=function(n){var r=n.styles,s=n.dynamic;return t(r,s),null};return e},zB={left:0,top:0,right:0,gap:0},Gp=function(t){return parseInt(t||"",10)||0},BB=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[Gp(n),Gp(r),Gp(s)]},HB=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return zB;var e=BB(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},WB=CR(),Yo="data-scroll-locked",GB=function(t,e,n,r){var s=t.left,i=t.top,o=t.right,a=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(CB,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(Yo,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(cd,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(ud,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(cd," .").concat(cd,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(ud," .").concat(ud,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Yo,`] {
    `).concat(AB,": ").concat(a,`px;
  }
`)},lx=function(){var t=parseInt(document.body.getAttribute(Yo)||"0",10);return isFinite(t)?t:0},qB=function(){y.useEffect(function(){return document.body.setAttribute(Yo,(lx()+1).toString()),function(){var t=lx()-1;t<=0?document.body.removeAttribute(Yo):document.body.setAttribute(Yo,t.toString())}},[])},KB=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,s=r===void 0?"margin":r;qB();var i=y.useMemo(function(){return HB(s)},[s]);return y.createElement(WB,{styles:GB(i,!e,s,n?"":"!important")})},Og=!1;if(typeof window<"u")try{var Mu=Object.defineProperty({},"passive",{get:function(){return Og=!0,!0}});window.addEventListener("test",Mu,Mu),window.removeEventListener("test",Mu,Mu)}catch{Og=!1}var po=Og?{passive:!1}:!1,QB=function(t){return t.tagName==="TEXTAREA"},AR=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!QB(t)&&n[e]==="visible")},YB=function(t){return AR(t,"overflowY")},XB=function(t){return AR(t,"overflowX")},cx=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=RR(t,r);if(s){var i=PR(t,r),o=i[1],a=i[2];if(o>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},JB=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},ZB=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},RR=function(t,e){return t==="v"?YB(e):XB(e)},PR=function(t,e){return t==="v"?JB(e):ZB(e)},e8=function(t,e){return t==="h"&&e==="rtl"?-1:1},t8=function(t,e,n,r,s){var i=e8(t,window.getComputedStyle(e).direction),o=i*r,a=n.target,l=e.contains(a),u=!1,d=o>0,h=0,p=0;do{if(!a)break;var g=PR(t,a),S=g[0],E=g[1],x=g[2],w=E-x-i*S;(S||w)&&RR(t,a)&&(h+=w,p+=S);var _=a.parentNode;a=_&&_.nodeType===Node.DOCUMENT_FRAGMENT_NODE?_.host:_}while(!l&&a!==document.body||l&&(e.contains(a)||e===a));return(d&&(Math.abs(h)<1||!s)||!d&&(Math.abs(p)<1||!s))&&(u=!0),u},Ou=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},ux=function(t){return[t.deltaX,t.deltaY]},dx=function(t){return t&&"current"in t?t.current:t},n8=function(t,e){return t[0]===e[0]&&t[1]===e[1]},r8=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},s8=0,mo=[];function i8(t){var e=y.useRef([]),n=y.useRef([0,0]),r=y.useRef(),s=y.useState(s8++)[0],i=y.useState(CR)[0],o=y.useRef(t);y.useEffect(function(){o.current=t},[t]),y.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var E=bB([t.lockRef.current],(t.shards||[]).map(dx),!0).filter(Boolean);return E.forEach(function(x){return x.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),E.forEach(function(x){return x.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var a=y.useCallback(function(E,x){if("touches"in E&&E.touches.length===2||E.type==="wheel"&&E.ctrlKey)return!o.current.allowPinchZoom;var w=Ou(E),_=n.current,T="deltaX"in E?E.deltaX:_[0]-w[0],P="deltaY"in E?E.deltaY:_[1]-w[1],M,O=E.target,b=Math.abs(T)>Math.abs(P)?"h":"v";if("touches"in E&&b==="h"&&O.type==="range")return!1;var I=cx(b,O);if(!I)return!0;if(I?M=b:(M=b==="v"?"h":"v",I=cx(b,O)),!I)return!1;if(!r.current&&"changedTouches"in E&&(T||P)&&(r.current=M),!M)return!0;var C=r.current||M;return t8(C,x,E,C==="h"?T:P,!0)},[]),l=y.useCallback(function(E){var x=E;if(!(!mo.length||mo[mo.length-1]!==i)){var w="deltaY"in x?ux(x):Ou(x),_=e.current.filter(function(M){return M.name===x.type&&(M.target===x.target||x.target===M.shadowParent)&&n8(M.delta,w)})[0];if(_&&_.should){x.cancelable&&x.preventDefault();return}if(!_){var T=(o.current.shards||[]).map(dx).filter(Boolean).filter(function(M){return M.contains(x.target)}),P=T.length>0?a(x,T[0]):!o.current.noIsolation;P&&x.cancelable&&x.preventDefault()}}},[]),u=y.useCallback(function(E,x,w,_){var T={name:E,delta:x,target:w,should:_,shadowParent:o8(w)};e.current.push(T),setTimeout(function(){e.current=e.current.filter(function(P){return P!==T})},1)},[]),d=y.useCallback(function(E){n.current=Ou(E),r.current=void 0},[]),h=y.useCallback(function(E){u(E.type,ux(E),E.target,a(E,t.lockRef.current))},[]),p=y.useCallback(function(E){u(E.type,Ou(E),E.target,a(E,t.lockRef.current))},[]);y.useEffect(function(){return mo.push(i),t.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:p}),document.addEventListener("wheel",l,po),document.addEventListener("touchmove",l,po),document.addEventListener("touchstart",d,po),function(){mo=mo.filter(function(E){return E!==i}),document.removeEventListener("wheel",l,po),document.removeEventListener("touchmove",l,po),document.removeEventListener("touchstart",d,po)}},[]);var g=t.removeScrollBar,S=t.inert;return y.createElement(y.Fragment,null,S?y.createElement(i,{styles:r8(s)}):null,g?y.createElement(KB,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function o8(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const a8=OB(bR,i8);var hw=y.forwardRef(function(t,e){return y.createElement(vf,mr({},t,{ref:e,sideCar:a8}))});hw.classNames=vf.classNames;var l8=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},go=new WeakMap,Lu=new WeakMap,Vu={},qp=0,kR=function(t){return t&&(t.host||kR(t.parentNode))},c8=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=kR(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},u8=function(t,e,n,r){var s=c8(e,Array.isArray(t)?t:[t]);Vu[n]||(Vu[n]=new WeakMap);var i=Vu[n],o=[],a=new Set,l=new Set(s),u=function(h){!h||a.has(h)||(a.add(h),u(h.parentNode))};s.forEach(u);var d=function(h){!h||l.has(h)||Array.prototype.forEach.call(h.children,function(p){if(a.has(p))d(p);else try{var g=p.getAttribute(r),S=g!==null&&g!=="false",E=(go.get(p)||0)+1,x=(i.get(p)||0)+1;go.set(p,E),i.set(p,x),o.push(p),E===1&&S&&Lu.set(p,!0),x===1&&p.setAttribute(n,"true"),S||p.setAttribute(r,"true")}catch(w){console.error("aria-hidden: cannot operate on ",p,w)}})};return d(e),a.clear(),qp++,function(){o.forEach(function(h){var p=go.get(h)-1,g=i.get(h)-1;go.set(h,p),i.set(h,g),p||(Lu.has(h)||h.removeAttribute(r),Lu.delete(h)),g||h.removeAttribute(n)}),qp--,qp||(go=new WeakMap,go=new WeakMap,Lu=new WeakMap,Vu={})}},NR=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),s=l8(t);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live]"))),u8(r,s,n,"aria-hidden")):function(){return null}},wf="Dialog",[DR,MR]=Xn(wf),[d8,Zn]=DR(wf),OR=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:s,onOpenChange:i,modal:o=!0}=t,a=y.useRef(null),l=y.useRef(null),[u,d]=Oh({prop:r,defaultProp:s??!1,onChange:i,caller:wf});return f.jsx(d8,{scope:e,triggerRef:a,contentRef:l,contentId:Uo(),titleId:Uo(),descriptionId:Uo(),open:u,onOpenChange:d,onOpenToggle:y.useCallback(()=>d(h=>!h),[d]),modal:o,children:n})};OR.displayName=wf;var LR="DialogTrigger",VR=y.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Zn(LR,n),i=Ae(e,s.triggerRef);return f.jsx(_e.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":mw(s.open),...r,ref:i,onClick:J(t.onClick,s.onOpenToggle)})});VR.displayName=LR;var fw="DialogPortal",[h8,jR]=DR(fw,{forceMount:void 0}),FR=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:s}=t,i=Zn(fw,e);return f.jsx(h8,{scope:e,forceMount:n,children:y.Children.map(r,o=>f.jsx(Jt,{present:n||i.open,children:f.jsx(Mh,{asChild:!0,container:s,children:o})}))})};FR.displayName=fw;var hh="DialogOverlay",UR=y.forwardRef((t,e)=>{const n=jR(hh,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=Zn(hh,t.__scopeDialog);return i.modal?f.jsx(Jt,{present:r||i.open,children:f.jsx(p8,{...s,ref:e})}):null});UR.displayName=hh;var f8=fa("DialogOverlay.RemoveScroll"),p8=y.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Zn(hh,n);return f.jsx(hw,{as:f8,allowPinchZoom:!0,shards:[s.contentRef],children:f.jsx(_e.div,{"data-state":mw(s.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),Qi="DialogContent",$R=y.forwardRef((t,e)=>{const n=jR(Qi,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=Zn(Qi,t.__scopeDialog);return f.jsx(Jt,{present:r||i.open,children:i.modal?f.jsx(m8,{...s,ref:e}):f.jsx(g8,{...s,ref:e})})});$R.displayName=Qi;var m8=y.forwardRef((t,e)=>{const n=Zn(Qi,t.__scopeDialog),r=y.useRef(null),s=Ae(e,n.contentRef,r);return y.useEffect(()=>{const i=r.current;if(i)return NR(i)},[]),f.jsx(zR,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:J(t.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:J(t.onPointerDownOutside,i=>{const o=i.detail.originalEvent,a=o.button===0&&o.ctrlKey===!0;(o.button===2||a)&&i.preventDefault()}),onFocusOutside:J(t.onFocusOutside,i=>i.preventDefault())})}),g8=y.forwardRef((t,e)=>{const n=Zn(Qi,t.__scopeDialog),r=y.useRef(!1),s=y.useRef(!1);return f.jsx(zR,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,a;(o=t.onCloseAutoFocus)==null||o.call(t,i),i.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),i.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:i=>{var l,u;(l=t.onInteractOutside)==null||l.call(t,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=i.target;((u=n.triggerRef.current)==null?void 0:u.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),zR=y.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:i,...o}=t,a=Zn(Qi,n),l=y.useRef(null),u=Ae(e,l);return TR(),f.jsxs(f.Fragment,{children:[f.jsx(dw,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:i,children:f.jsx(Rc,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":mw(a.open),...o,ref:u,onDismiss:()=>a.onOpenChange(!1)})}),f.jsxs(f.Fragment,{children:[f.jsx(v8,{titleId:a.titleId}),f.jsx(_8,{contentRef:l,descriptionId:a.descriptionId})]})]})}),pw="DialogTitle",BR=y.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Zn(pw,n);return f.jsx(_e.h2,{id:s.titleId,...r,ref:e})});BR.displayName=pw;var HR="DialogDescription",WR=y.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Zn(HR,n);return f.jsx(_e.p,{id:s.descriptionId,...r,ref:e})});WR.displayName=HR;var GR="DialogClose",qR=y.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Zn(GR,n);return f.jsx(_e.button,{type:"button",...r,ref:e,onClick:J(t.onClick,()=>s.onOpenChange(!1))})});qR.displayName=GR;function mw(t){return t?"open":"closed"}var KR="DialogTitleWarning",[y8,QR]=YD(KR,{contentName:Qi,titleName:pw,docsSlug:"dialog"}),v8=({titleId:t})=>{const e=QR(KR),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return y.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},w8="DialogDescriptionWarning",_8=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${QR(w8).contentName}}.`;return y.useEffect(()=>{var i;const s=(i=t.current)==null?void 0:i.getAttribute("aria-describedby");e&&s&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},YR=OR,E8=VR,XR=FR,gw=UR,yw=$R,vw=BR,ww=WR,_w=qR,JR="AlertDialog",[x8,mW]=Xn(JR,[MR]),rs=MR(),ZR=t=>{const{__scopeAlertDialog:e,...n}=t,r=rs(e);return f.jsx(YR,{...r,...n,modal:!0})};ZR.displayName=JR;var T8="AlertDialogTrigger",eP=y.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,s=rs(n);return f.jsx(E8,{...s,...r,ref:e})});eP.displayName=T8;var S8="AlertDialogPortal",tP=t=>{const{__scopeAlertDialog:e,...n}=t,r=rs(e);return f.jsx(XR,{...r,...n})};tP.displayName=S8;var I8="AlertDialogOverlay",nP=y.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,s=rs(n);return f.jsx(gw,{...s,...r,ref:e})});nP.displayName=I8;var Xo="AlertDialogContent",[b8,C8]=x8(Xo),A8=BS("AlertDialogContent"),rP=y.forwardRef((t,e)=>{const{__scopeAlertDialog:n,children:r,...s}=t,i=rs(n),o=y.useRef(null),a=Ae(e,o),l=y.useRef(null);return f.jsx(y8,{contentName:Xo,titleName:sP,docsSlug:"alert-dialog",children:f.jsx(b8,{scope:n,cancelRef:l,children:f.jsxs(yw,{role:"alertdialog",...i,...s,ref:a,onOpenAutoFocus:J(s.onOpenAutoFocus,u=>{var d;u.preventDefault(),(d=l.current)==null||d.focus({preventScroll:!0})}),onPointerDownOutside:u=>u.preventDefault(),onInteractOutside:u=>u.preventDefault(),children:[f.jsx(A8,{children:r}),f.jsx(P8,{contentRef:o})]})})})});rP.displayName=Xo;var sP="AlertDialogTitle",iP=y.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,s=rs(n);return f.jsx(vw,{...s,...r,ref:e})});iP.displayName=sP;var oP="AlertDialogDescription",aP=y.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,s=rs(n);return f.jsx(ww,{...s,...r,ref:e})});aP.displayName=oP;var R8="AlertDialogAction",lP=y.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,s=rs(n);return f.jsx(_w,{...s,...r,ref:e})});lP.displayName=R8;var cP="AlertDialogCancel",uP=y.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,{cancelRef:s}=C8(cP,n),i=rs(n),o=Ae(e,s);return f.jsx(_w,{...i,...r,ref:o})});uP.displayName=cP;var P8=({contentRef:t})=>{const e=`\`${Xo}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Xo}\` by passing a \`${oP}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Xo}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return y.useEffect(()=>{var r;document.getElementById((r=t.current)==null?void 0:r.getAttribute("aria-describedby"))||console.warn(e)},[e,t]),null},k8=ZR,N8=eP,D8=tP,dP=nP,hP=rP,fP=lP,pP=uP,mP=iP,gP=aP;const M8=k8,O8=N8,L8=D8,yP=y.forwardRef(({className:t,...e},n)=>f.jsx(dP,{className:me("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:n}));yP.displayName=dP.displayName;const vP=y.forwardRef(({className:t,...e},n)=>f.jsxs(L8,{children:[f.jsx(yP,{}),f.jsx(hP,{ref:n,className:me("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...e})]}));vP.displayName=hP.displayName;const wP=({className:t,...e})=>f.jsx("div",{className:me("flex flex-col space-y-2 text-center sm:text-left",t),...e});wP.displayName="AlertDialogHeader";const _P=({className:t,...e})=>f.jsx("div",{className:me("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});_P.displayName="AlertDialogFooter";const EP=y.forwardRef(({className:t,...e},n)=>f.jsx(mP,{ref:n,className:me("text-lg font-semibold",t),...e}));EP.displayName=mP.displayName;const xP=y.forwardRef(({className:t,...e},n)=>f.jsx(gP,{ref:n,className:me("text-sm text-muted-foreground",t),...e}));xP.displayName=gP.displayName;const TP=y.forwardRef(({className:t,...e},n)=>f.jsx(fP,{ref:n,className:me(cw(),t),...e}));TP.displayName=fP.displayName;const SP=y.forwardRef(({className:t,...e},n)=>f.jsx(pP,{ref:n,className:me(cw({variant:"outline"}),"mt-2 sm:mt-0",t),...e}));SP.displayName=pP.displayName;const V8=()=>{const{streakData:t,currentUser:e,leaderboard:n}=so(),[r,s]=y.useState(0),[i,o]=y.useState(0),[a,l]=y.useState(0),[u,d]=y.useState(0);y.useEffect(()=>{const S=()=>{if(!(t!=null&&t.startDate)||!t.isActive){s(0),o(0),l(0),d(0);return}const x=new Date(t.startDate),_=new Date().getTime()-x.getTime(),T=Math.floor(_/(1e3*60*60*24)),P=Math.floor(_%(1e3*60*60*24)/(1e3*60*60)),M=Math.floor(_%(1e3*60*60)/(1e3*60)),O=Math.floor(_%(1e3*60)/1e3);s(T),o(P),l(M),d(O)};S();const E=setInterval(S,1e3);return()=>clearInterval(E)},[t]);const h=(t==null?void 0:t.isActive)&&(t==null?void 0:t.startDate),p=y.useMemo(()=>[...n].sort((S,E)=>S.streak.isActive!==E.streak.isActive?S.streak.isActive?-1:1:E.daysCount-S.daysCount),[n]),g=e?p.findIndex(S=>S.user.id===e.id)+1:0;return f.jsxs("div",{className:"card-elevated p-6 sm:p-8",children:[f.jsxs("div",{className:"flex items-center justify-between mb-6",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(Hy,{className:`h-5 w-5 ${h?"text-primary animate-pulse-glow":"text-muted-foreground"}`}),f.jsx("h2",{className:"text-lg font-semibold",children:"Your Streak"})]}),g>0&&f.jsxs("div",{className:"flex items-center gap-1",children:[f.jsx(mI,{className:"h-5 w-5 text-primary"}),f.jsx("span",{className:"text-lg font-semibold text-white",children:g})]})]}),f.jsxs("div",{className:"text-center",children:[f.jsxs("div",{className:"relative inline-block",children:[f.jsx("div",{className:`text-7xl sm:text-8xl font-display font-bold animate-count-up ${h?"text-gradient-gold":"text-muted-foreground"}`,children:r}),f.jsx("div",{className:"text-sm uppercase tracking-widest text-muted-foreground mt-2",children:r===1?"Day":"Days"})]}),h&&f.jsxs("div",{className:"mt-6 flex justify-center gap-4 sm:gap-6",children:[f.jsx(Kp,{value:i,label:"Hours"}),f.jsx(Kp,{value:a,label:"Min"}),f.jsx(Kp,{value:u,label:"Sec"})]}),(t==null?void 0:t.startDate)&&f.jsxs("div",{className:"mt-6 flex items-center justify-center gap-2 text-sm text-muted-foreground",children:[f.jsx(HM,{className:"h-4 w-4"}),f.jsxs("span",{children:["Started ",new Date(t.startDate).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})]})]}),!h&&f.jsx("p",{className:"mt-6 text-muted-foreground",children:"Start your challenge to begin tracking"})]})]})},Kp=({value:t,label:e})=>f.jsxs("div",{className:"flex flex-col items-center",children:[f.jsx("div",{className:"bg-secondary/50 rounded-lg px-3 py-2 min-w-[3rem]",children:f.jsx("span",{className:"text-xl font-semibold font-mono",children:t.toString().padStart(2,"0")})}),f.jsx("span",{className:"text-xs text-muted-foreground mt-1 uppercase tracking-wide",children:e})]});var IP={exports:{}},bP={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sa=y;function j8(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var F8=typeof Object.is=="function"?Object.is:j8,U8=Sa.useState,$8=Sa.useEffect,z8=Sa.useLayoutEffect,B8=Sa.useDebugValue;function H8(t,e){var n=e(),r=U8({inst:{value:n,getSnapshot:e}}),s=r[0].inst,i=r[1];return z8(function(){s.value=n,s.getSnapshot=e,Qp(s)&&i({inst:s})},[t,n,e]),$8(function(){return Qp(s)&&i({inst:s}),t(function(){Qp(s)&&i({inst:s})})},[t]),B8(n),n}function Qp(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!F8(t,n)}catch{return!0}}function W8(t,e){return e()}var G8=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?W8:H8;bP.useSyncExternalStore=Sa.useSyncExternalStore!==void 0?Sa.useSyncExternalStore:G8;IP.exports=bP;var q8=IP.exports;function K8(){return q8.useSyncExternalStore(Q8,()=>!0,()=>!1)}function Q8(){return()=>{}}var Ew="Avatar",[Y8,gW]=Xn(Ew),[X8,CP]=Y8(Ew),AP=y.forwardRef((t,e)=>{const{__scopeAvatar:n,...r}=t,[s,i]=y.useState("idle");return f.jsx(X8,{scope:n,imageLoadingStatus:s,onImageLoadingStatusChange:i,children:f.jsx(_e.span,{...r,ref:e})})});AP.displayName=Ew;var RP="AvatarImage",PP=y.forwardRef((t,e)=>{const{__scopeAvatar:n,src:r,onLoadingStatusChange:s=()=>{},...i}=t,o=CP(RP,n),a=J8(r,i),l=Je(u=>{s(u),o.onImageLoadingStatusChange(u)});return un(()=>{a!=="idle"&&l(a)},[a,l]),a==="loaded"?f.jsx(_e.img,{...i,ref:e,src:r}):null});PP.displayName=RP;var kP="AvatarFallback",NP=y.forwardRef((t,e)=>{const{__scopeAvatar:n,delayMs:r,...s}=t,i=CP(kP,n),[o,a]=y.useState(r===void 0);return y.useEffect(()=>{if(r!==void 0){const l=window.setTimeout(()=>a(!0),r);return()=>window.clearTimeout(l)}},[r]),o&&i.imageLoadingStatus!=="loaded"?f.jsx(_e.span,{...s,ref:e}):null});NP.displayName=kP;function hx(t,e){return t?e?(t.src!==e&&(t.src=e),t.complete&&t.naturalWidth>0?"loaded":"loading"):"error":"idle"}function J8(t,{referrerPolicy:e,crossOrigin:n}){const r=K8(),s=y.useRef(null),i=r?(s.current||(s.current=new window.Image),s.current):null,[o,a]=y.useState(()=>hx(i,t));return un(()=>{a(hx(i,t))},[i,t]),un(()=>{const l=h=>()=>{a(h)};if(!i)return;const u=l("loaded"),d=l("error");return i.addEventListener("load",u),i.addEventListener("error",d),e&&(i.referrerPolicy=e),typeof n=="string"&&(i.crossOrigin=n),()=>{i.removeEventListener("load",u),i.removeEventListener("error",d)}},[i,n,e]),o}var DP=AP,MP=PP,OP=NP;const _f=y.forwardRef(({className:t,...e},n)=>f.jsx(DP,{ref:n,className:me("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",t),...e}));_f.displayName=DP.displayName;const Ef=y.forwardRef(({className:t,...e},n)=>f.jsx(MP,{ref:n,className:me("aspect-square h-full w-full",t),referrerPolicy:"no-referrer",...e}));Ef.displayName=MP.displayName;const xf=y.forwardRef(({className:t,...e},n)=>f.jsx(OP,{ref:n,className:me("flex h-full w-full items-center justify-center rounded-full bg-muted",t),...e}));xf.displayName=OP.displayName;const Z8=({rank:t,name:e,photoUrl:n,daysCount:r,isActive:s,isCurrentUser:i,isGuest:o,rankChange:a=0,isRecentlyRelapsed:l=!1})=>{const u=()=>{switch(t){case 1:return"bg-gradient-gold glow-gold border-gold/30";case 2:return"bg-gradient-silver border-silver/30";case 3:return"bg-gradient-bronze border-bronze/30";default:return"bg-secondary/30 border-border/50"}},d=()=>t<=3?f.jsx("div",{className:`
          flex items-center justify-center w-8 h-8 rounded-full 
          ${t===1?"bg-gradient-gold":t===2?"bg-gradient-silver":"bg-gradient-bronze"}
        `,children:t===1?f.jsx(pa,{className:"h-4 w-4 text-background"}):f.jsx("span",{className:"text-sm font-bold text-background",children:t})}):f.jsx("div",{className:"flex items-center justify-center w-8 h-8 rounded-full bg-secondary",children:f.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:t})});return f.jsxs("div",{className:`
      relative flex items-center gap-4 p-4 rounded-xl border transition-all duration-300
      ${i?"ring-2 ring-primary/50":""}
      ${t<=3?u():"bg-card/50 border-border/30 hover:bg-card/80"}
    `,children:[d(),f.jsxs(_f,{className:`h-12 w-12 ${t<=3?"border-2 border-background/30":"border border-border"}`,children:[f.jsx(Ef,{src:n,alt:e}),f.jsx(xf,{className:`${t<=3?"bg-background/20 text-background font-semibold":"bg-secondary"}`,children:e.slice(0,2).toUpperCase()})]}),f.jsxs("div",{className:"flex-1 min-w-0",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("span",{className:`font-medium truncate ${t<=3?"text-background":"text-foreground"}`,children:e}),i&&f.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full ${t<=3?"bg-background/20 text-background":"bg-primary/10 text-primary"}`,children:"You"})]}),f.jsx("div",{className:`flex items-center gap-1 text-sm ${t<=3?"text-background/80":"text-muted-foreground"}`,children:s?f.jsxs(f.Fragment,{children:[f.jsx(Hy,{className:"h-3 w-3"}),f.jsx("span",{children:"Active streak"})]}):f.jsxs(f.Fragment,{children:[f.jsx(QM,{className:"h-3 w-3"}),f.jsx("span",{children:"Inactive"})]})})]}),a!==0&&f.jsx("div",{className:"flex flex-col items-center justify-center",children:a>0?f.jsx("div",{className:"flex flex-col items-center",children:f.jsx(O_,{className:"h-4 w-4 text-green-500 fill-green-500"})}):f.jsx("div",{className:"flex flex-col items-center",children:f.jsx(O_,{className:"h-4 w-4 text-red-500 fill-red-500 rotate-180"})})}),f.jsxs("div",{className:"text-right",children:[f.jsx("div",{className:`text-2xl font-display font-bold ${l?"text-red-500":t<=3?"text-background":"text-foreground"}`,children:r}),f.jsx("div",{className:`text-xs ${l?"text-red-400":t<=3?"text-background/70":"text-muted-foreground"}`,children:r===1?"day":"days"})]})]})};var e7=y.createContext(void 0);function xw(t){const e=y.useContext(e7);return t||e||"ltr"}function t7(t,[e,n]){return Math.min(n,Math.max(e,t))}function n7(t,e){return y.useReducer((n,r)=>e[n][r]??n,t)}var Tw="ScrollArea",[LP,yW]=Xn(Tw),[r7,Rn]=LP(Tw),VP=y.forwardRef((t,e)=>{const{__scopeScrollArea:n,type:r="hover",dir:s,scrollHideDelay:i=600,...o}=t,[a,l]=y.useState(null),[u,d]=y.useState(null),[h,p]=y.useState(null),[g,S]=y.useState(null),[E,x]=y.useState(null),[w,_]=y.useState(0),[T,P]=y.useState(0),[M,O]=y.useState(!1),[b,I]=y.useState(!1),C=Ae(e,N=>l(N)),R=xw(s);return f.jsx(r7,{scope:n,type:r,dir:R,scrollHideDelay:i,scrollArea:a,viewport:u,onViewportChange:d,content:h,onContentChange:p,scrollbarX:g,onScrollbarXChange:S,scrollbarXEnabled:M,onScrollbarXEnabledChange:O,scrollbarY:E,onScrollbarYChange:x,scrollbarYEnabled:b,onScrollbarYEnabledChange:I,onCornerWidthChange:_,onCornerHeightChange:P,children:f.jsx(_e.div,{dir:R,...o,ref:C,style:{position:"relative","--radix-scroll-area-corner-width":w+"px","--radix-scroll-area-corner-height":T+"px",...t.style}})})});VP.displayName=Tw;var jP="ScrollAreaViewport",FP=y.forwardRef((t,e)=>{const{__scopeScrollArea:n,children:r,nonce:s,...i}=t,o=Rn(jP,n),a=y.useRef(null),l=Ae(e,a,o.onViewportChange);return f.jsxs(f.Fragment,{children:[f.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),f.jsx(_e.div,{"data-radix-scroll-area-viewport":"",...i,ref:l,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...t.style},children:f.jsx("div",{ref:o.onContentChange,style:{minWidth:"100%",display:"table"},children:r})})]})});FP.displayName=jP;var Pr="ScrollAreaScrollbar",Sw=y.forwardRef((t,e)=>{const{forceMount:n,...r}=t,s=Rn(Pr,t.__scopeScrollArea),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:o}=s,a=t.orientation==="horizontal";return y.useEffect(()=>(a?i(!0):o(!0),()=>{a?i(!1):o(!1)}),[a,i,o]),s.type==="hover"?f.jsx(s7,{...r,ref:e,forceMount:n}):s.type==="scroll"?f.jsx(i7,{...r,ref:e,forceMount:n}):s.type==="auto"?f.jsx(UP,{...r,ref:e,forceMount:n}):s.type==="always"?f.jsx(Iw,{...r,ref:e}):null});Sw.displayName=Pr;var s7=y.forwardRef((t,e)=>{const{forceMount:n,...r}=t,s=Rn(Pr,t.__scopeScrollArea),[i,o]=y.useState(!1);return y.useEffect(()=>{const a=s.scrollArea;let l=0;if(a){const u=()=>{window.clearTimeout(l),o(!0)},d=()=>{l=window.setTimeout(()=>o(!1),s.scrollHideDelay)};return a.addEventListener("pointerenter",u),a.addEventListener("pointerleave",d),()=>{window.clearTimeout(l),a.removeEventListener("pointerenter",u),a.removeEventListener("pointerleave",d)}}},[s.scrollArea,s.scrollHideDelay]),f.jsx(Jt,{present:n||i,children:f.jsx(UP,{"data-state":i?"visible":"hidden",...r,ref:e})})}),i7=y.forwardRef((t,e)=>{const{forceMount:n,...r}=t,s=Rn(Pr,t.__scopeScrollArea),i=t.orientation==="horizontal",o=Sf(()=>l("SCROLL_END"),100),[a,l]=n7("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return y.useEffect(()=>{if(a==="idle"){const u=window.setTimeout(()=>l("HIDE"),s.scrollHideDelay);return()=>window.clearTimeout(u)}},[a,s.scrollHideDelay,l]),y.useEffect(()=>{const u=s.viewport,d=i?"scrollLeft":"scrollTop";if(u){let h=u[d];const p=()=>{const g=u[d];h!==g&&(l("SCROLL"),o()),h=g};return u.addEventListener("scroll",p),()=>u.removeEventListener("scroll",p)}},[s.viewport,i,l,o]),f.jsx(Jt,{present:n||a!=="hidden",children:f.jsx(Iw,{"data-state":a==="hidden"?"hidden":"visible",...r,ref:e,onPointerEnter:J(t.onPointerEnter,()=>l("POINTER_ENTER")),onPointerLeave:J(t.onPointerLeave,()=>l("POINTER_LEAVE"))})})}),UP=y.forwardRef((t,e)=>{const n=Rn(Pr,t.__scopeScrollArea),{forceMount:r,...s}=t,[i,o]=y.useState(!1),a=t.orientation==="horizontal",l=Sf(()=>{if(n.viewport){const u=n.viewport.offsetWidth<n.viewport.scrollWidth,d=n.viewport.offsetHeight<n.viewport.scrollHeight;o(a?u:d)}},10);return Ia(n.viewport,l),Ia(n.content,l),f.jsx(Jt,{present:r||i,children:f.jsx(Iw,{"data-state":i?"visible":"hidden",...s,ref:e})})}),Iw=y.forwardRef((t,e)=>{const{orientation:n="vertical",...r}=t,s=Rn(Pr,t.__scopeScrollArea),i=y.useRef(null),o=y.useRef(0),[a,l]=y.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=WP(a.viewport,a.content),d={...r,sizes:a,onSizesChange:l,hasThumb:u>0&&u<1,onThumbChange:p=>i.current=p,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:p=>o.current=p};function h(p,g){return d7(p,o.current,a,g)}return n==="horizontal"?f.jsx(o7,{...d,ref:e,onThumbPositionChange:()=>{if(s.viewport&&i.current){const p=s.viewport.scrollLeft,g=fx(p,a,s.dir);i.current.style.transform=`translate3d(${g}px, 0, 0)`}},onWheelScroll:p=>{s.viewport&&(s.viewport.scrollLeft=p)},onDragScroll:p=>{s.viewport&&(s.viewport.scrollLeft=h(p,s.dir))}}):n==="vertical"?f.jsx(a7,{...d,ref:e,onThumbPositionChange:()=>{if(s.viewport&&i.current){const p=s.viewport.scrollTop,g=fx(p,a);i.current.style.transform=`translate3d(0, ${g}px, 0)`}},onWheelScroll:p=>{s.viewport&&(s.viewport.scrollTop=p)},onDragScroll:p=>{s.viewport&&(s.viewport.scrollTop=h(p))}}):null}),o7=y.forwardRef((t,e)=>{const{sizes:n,onSizesChange:r,...s}=t,i=Rn(Pr,t.__scopeScrollArea),[o,a]=y.useState(),l=y.useRef(null),u=Ae(e,l,i.onScrollbarXChange);return y.useEffect(()=>{l.current&&a(getComputedStyle(l.current))},[l]),f.jsx(zP,{"data-orientation":"horizontal",...s,ref:u,sizes:n,style:{bottom:0,left:i.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:i.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Tf(n)+"px",...t.style},onThumbPointerDown:d=>t.onThumbPointerDown(d.x),onDragScroll:d=>t.onDragScroll(d.x),onWheelScroll:(d,h)=>{if(i.viewport){const p=i.viewport.scrollLeft+d.deltaX;t.onWheelScroll(p),qP(p,h)&&d.preventDefault()}},onResize:()=>{l.current&&i.viewport&&o&&r({content:i.viewport.scrollWidth,viewport:i.viewport.offsetWidth,scrollbar:{size:l.current.clientWidth,paddingStart:ph(o.paddingLeft),paddingEnd:ph(o.paddingRight)}})}})}),a7=y.forwardRef((t,e)=>{const{sizes:n,onSizesChange:r,...s}=t,i=Rn(Pr,t.__scopeScrollArea),[o,a]=y.useState(),l=y.useRef(null),u=Ae(e,l,i.onScrollbarYChange);return y.useEffect(()=>{l.current&&a(getComputedStyle(l.current))},[l]),f.jsx(zP,{"data-orientation":"vertical",...s,ref:u,sizes:n,style:{top:0,right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Tf(n)+"px",...t.style},onThumbPointerDown:d=>t.onThumbPointerDown(d.y),onDragScroll:d=>t.onDragScroll(d.y),onWheelScroll:(d,h)=>{if(i.viewport){const p=i.viewport.scrollTop+d.deltaY;t.onWheelScroll(p),qP(p,h)&&d.preventDefault()}},onResize:()=>{l.current&&i.viewport&&o&&r({content:i.viewport.scrollHeight,viewport:i.viewport.offsetHeight,scrollbar:{size:l.current.clientHeight,paddingStart:ph(o.paddingTop),paddingEnd:ph(o.paddingBottom)}})}})}),[l7,$P]=LP(Pr),zP=y.forwardRef((t,e)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:s,onThumbChange:i,onThumbPointerUp:o,onThumbPointerDown:a,onThumbPositionChange:l,onDragScroll:u,onWheelScroll:d,onResize:h,...p}=t,g=Rn(Pr,n),[S,E]=y.useState(null),x=Ae(e,C=>E(C)),w=y.useRef(null),_=y.useRef(""),T=g.viewport,P=r.content-r.viewport,M=Je(d),O=Je(l),b=Sf(h,10);function I(C){if(w.current){const R=C.clientX-w.current.left,N=C.clientY-w.current.top;u({x:R,y:N})}}return y.useEffect(()=>{const C=R=>{const N=R.target;(S==null?void 0:S.contains(N))&&M(R,P)};return document.addEventListener("wheel",C,{passive:!1}),()=>document.removeEventListener("wheel",C,{passive:!1})},[T,S,P,M]),y.useEffect(O,[r,O]),Ia(S,b),Ia(g.content,b),f.jsx(l7,{scope:n,scrollbar:S,hasThumb:s,onThumbChange:Je(i),onThumbPointerUp:Je(o),onThumbPositionChange:O,onThumbPointerDown:Je(a),children:f.jsx(_e.div,{...p,ref:x,style:{position:"absolute",...p.style},onPointerDown:J(t.onPointerDown,C=>{C.button===0&&(C.target.setPointerCapture(C.pointerId),w.current=S.getBoundingClientRect(),_.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",g.viewport&&(g.viewport.style.scrollBehavior="auto"),I(C))}),onPointerMove:J(t.onPointerMove,I),onPointerUp:J(t.onPointerUp,C=>{const R=C.target;R.hasPointerCapture(C.pointerId)&&R.releasePointerCapture(C.pointerId),document.body.style.webkitUserSelect=_.current,g.viewport&&(g.viewport.style.scrollBehavior=""),w.current=null})})})}),fh="ScrollAreaThumb",BP=y.forwardRef((t,e)=>{const{forceMount:n,...r}=t,s=$P(fh,t.__scopeScrollArea);return f.jsx(Jt,{present:n||s.hasThumb,children:f.jsx(c7,{ref:e,...r})})}),c7=y.forwardRef((t,e)=>{const{__scopeScrollArea:n,style:r,...s}=t,i=Rn(fh,n),o=$P(fh,n),{onThumbPositionChange:a}=o,l=Ae(e,h=>o.onThumbChange(h)),u=y.useRef(void 0),d=Sf(()=>{u.current&&(u.current(),u.current=void 0)},100);return y.useEffect(()=>{const h=i.viewport;if(h){const p=()=>{if(d(),!u.current){const g=h7(h,a);u.current=g,a()}};return a(),h.addEventListener("scroll",p),()=>h.removeEventListener("scroll",p)}},[i.viewport,d,a]),f.jsx(_e.div,{"data-state":o.hasThumb?"visible":"hidden",...s,ref:l,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:J(t.onPointerDownCapture,h=>{const g=h.target.getBoundingClientRect(),S=h.clientX-g.left,E=h.clientY-g.top;o.onThumbPointerDown({x:S,y:E})}),onPointerUp:J(t.onPointerUp,o.onThumbPointerUp)})});BP.displayName=fh;var bw="ScrollAreaCorner",HP=y.forwardRef((t,e)=>{const n=Rn(bw,t.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?f.jsx(u7,{...t,ref:e}):null});HP.displayName=bw;var u7=y.forwardRef((t,e)=>{const{__scopeScrollArea:n,...r}=t,s=Rn(bw,n),[i,o]=y.useState(0),[a,l]=y.useState(0),u=!!(i&&a);return Ia(s.scrollbarX,()=>{var h;const d=((h=s.scrollbarX)==null?void 0:h.offsetHeight)||0;s.onCornerHeightChange(d),l(d)}),Ia(s.scrollbarY,()=>{var h;const d=((h=s.scrollbarY)==null?void 0:h.offsetWidth)||0;s.onCornerWidthChange(d),o(d)}),u?f.jsx(_e.div,{...r,ref:e,style:{width:i,height:a,position:"absolute",right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:0,...t.style}}):null});function ph(t){return t?parseInt(t,10):0}function WP(t,e){const n=t/e;return isNaN(n)?0:n}function Tf(t){const e=WP(t.viewport,t.content),n=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,r=(t.scrollbar.size-n)*e;return Math.max(r,18)}function d7(t,e,n,r="ltr"){const s=Tf(n),i=s/2,o=e||i,a=s-o,l=n.scrollbar.paddingStart+o,u=n.scrollbar.size-n.scrollbar.paddingEnd-a,d=n.content-n.viewport,h=r==="ltr"?[0,d]:[d*-1,0];return GP([l,u],h)(t)}function fx(t,e,n="ltr"){const r=Tf(e),s=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,i=e.scrollbar.size-s,o=e.content-e.viewport,a=i-r,l=n==="ltr"?[0,o]:[o*-1,0],u=t7(t,l);return GP([0,o],[0,a])(u)}function GP(t,e){return n=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const r=(e[1]-e[0])/(t[1]-t[0]);return e[0]+r*(n-t[0])}}function qP(t,e){return t>0&&t<e}var h7=(t,e=()=>{})=>{let n={left:t.scrollLeft,top:t.scrollTop},r=0;return function s(){const i={left:t.scrollLeft,top:t.scrollTop},o=n.left!==i.left,a=n.top!==i.top;(o||a)&&e(),n=i,r=window.requestAnimationFrame(s)}(),()=>window.cancelAnimationFrame(r)};function Sf(t,e){const n=Je(t),r=y.useRef(0);return y.useEffect(()=>()=>window.clearTimeout(r.current),[]),y.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,e)},[n,e])}function Ia(t,e){const n=Je(e);un(()=>{let r=0;if(t){const s=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return s.observe(t),()=>{window.cancelAnimationFrame(r),s.unobserve(t)}}},[t,n])}var KP=VP,f7=FP,p7=HP;const Cw=y.forwardRef(({className:t,children:e,...n},r)=>f.jsxs(KP,{ref:r,className:me("relative overflow-hidden",t),...n,children:[f.jsx(f7,{className:"h-full w-full rounded-[inherit]",children:e}),f.jsx(QP,{}),f.jsx(p7,{})]}));Cw.displayName=KP.displayName;const QP=y.forwardRef(({className:t,orientation:e="vertical",...n},r)=>f.jsx(Sw,{ref:r,orientation:e,className:me("flex touch-none select-none transition-colors",e==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",e==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",t),...n,children:f.jsx(BP,{className:"relative flex-1 rounded-full bg-border"})}));QP.displayName=Sw.displayName;const px=t=>{if(!t)return!1;const e=new Date(t);return(new Date().getTime()-e.getTime())/(1e3*60*60)<=24},m7=()=>{const{leaderboard:t,currentUser:e}=so();y.useEffect(()=>{e&&iB(e.isGuest?"guest":"google")},[e==null?void 0:e.id]);const n=y.useMemo(()=>[...t].sort((s,i)=>s.streak.isActive!==i.streak.isActive?s.streak.isActive?-1:1:i.daysCount-s.daysCount),[t]),r=y.useMemo(()=>{const s=new Map;return n.filter(o=>px(o.streak.relapseTime)).forEach(o=>{s.set(o.user.id,-1);const a=o.streak.previousStartDate?new Date(o.streak.previousStartDate).getTime():null,l=o.streak.relapseTime?new Date(o.streak.relapseTime).getTime():null;a&&l&&n.forEach(u=>{if(u.user.id===o.user.id||px(u.streak.relapseTime)||!u.streak.startDate||!u.streak.isActive)return;const d=new Date(u.streak.startDate).getTime();d>a&&d<l&&s.set(u.user.id,1)})}),s},[n]);return f.jsxs("div",{className:"card-elevated p-6",children:[f.jsxs("div",{className:"flex items-center justify-between mb-6",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(mI,{className:"h-5 w-5 text-primary"}),f.jsx("h2",{className:"text-lg font-semibold",children:"Leaderboard"})]}),f.jsxs("div",{className:"flex items-center gap-1.5 text-sm text-muted-foreground",children:[f.jsx(dO,{className:"h-4 w-4"}),f.jsxs("span",{children:[t.length," warriors"]})]})]}),f.jsx(Cw,{className:"h-[400px] sm:h-[500px] pr-4 -mr-4",children:f.jsx("div",{className:"space-y-3",children:n.map((s,i)=>f.jsx(Z8,{rank:i+1,name:s.user.name,photoUrl:s.user.photoUrl,daysCount:s.daysCount,isActive:s.streak.isActive,isCurrentUser:(e==null?void 0:e.id)===s.user.id,isGuest:s.user.isGuest,rankChange:r.get(s.user.id)||0,isRecentlyRelapsed:s.isRecentlyRelapsed},s.user.id))})}),f.jsx("div",{className:"mt-6 pt-4 border-t border-border/50",children:f.jsxs("p",{className:"text-xs text-center text-muted-foreground",children:[" ",f.jsx("span",{className:"font-medium",children:"Truthfulness to the community"}),"  We honor honest participation"]})})]})};var Yp="rovingFocusGroup.onEntryFocus",g7={bubbles:!1,cancelable:!0},$c="RovingFocusGroup",[Lg,YP,y7]=jy($c),[v7,XP]=Xn($c,[y7]),[w7,_7]=v7($c),JP=y.forwardRef((t,e)=>f.jsx(Lg.Provider,{scope:t.__scopeRovingFocusGroup,children:f.jsx(Lg.Slot,{scope:t.__scopeRovingFocusGroup,children:f.jsx(E7,{...t,ref:e})})}));JP.displayName=$c;var E7=y.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:l,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...h}=t,p=y.useRef(null),g=Ae(e,p),S=xw(i),[E,x]=Oh({prop:o,defaultProp:a??null,onChange:l,caller:$c}),[w,_]=y.useState(!1),T=Je(u),P=YP(n),M=y.useRef(!1),[O,b]=y.useState(0);return y.useEffect(()=>{const I=p.current;if(I)return I.addEventListener(Yp,T),()=>I.removeEventListener(Yp,T)},[T]),f.jsx(w7,{scope:n,orientation:r,dir:S,loop:s,currentTabStopId:E,onItemFocus:y.useCallback(I=>x(I),[x]),onItemShiftTab:y.useCallback(()=>_(!0),[]),onFocusableItemAdd:y.useCallback(()=>b(I=>I+1),[]),onFocusableItemRemove:y.useCallback(()=>b(I=>I-1),[]),children:f.jsx(_e.div,{tabIndex:w||O===0?-1:0,"data-orientation":r,...h,ref:g,style:{outline:"none",...t.style},onMouseDown:J(t.onMouseDown,()=>{M.current=!0}),onFocus:J(t.onFocus,I=>{const C=!M.current;if(I.target===I.currentTarget&&C&&!w){const R=new CustomEvent(Yp,g7);if(I.currentTarget.dispatchEvent(R),!R.defaultPrevented){const N=P().filter(Z=>Z.focusable),D=N.find(Z=>Z.active),k=N.find(Z=>Z.id===E),se=[D,k,...N].filter(Boolean).map(Z=>Z.ref.current);tk(se,d)}}M.current=!1}),onBlur:J(t.onBlur,()=>_(!1))})})}),ZP="RovingFocusGroupItem",ek=y.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:i,children:o,...a}=t,l=Uo(),u=i||l,d=_7(ZP,n),h=d.currentTabStopId===u,p=YP(n),{onFocusableItemAdd:g,onFocusableItemRemove:S,currentTabStopId:E}=d;return y.useEffect(()=>{if(r)return g(),()=>S()},[r,g,S]),f.jsx(Lg.ItemSlot,{scope:n,id:u,focusable:r,active:s,children:f.jsx(_e.span,{tabIndex:h?0:-1,"data-orientation":d.orientation,...a,ref:e,onMouseDown:J(t.onMouseDown,x=>{r?d.onItemFocus(u):x.preventDefault()}),onFocus:J(t.onFocus,()=>d.onItemFocus(u)),onKeyDown:J(t.onKeyDown,x=>{if(x.key==="Tab"&&x.shiftKey){d.onItemShiftTab();return}if(x.target!==x.currentTarget)return;const w=S7(x,d.orientation,d.dir);if(w!==void 0){if(x.metaKey||x.ctrlKey||x.altKey||x.shiftKey)return;x.preventDefault();let T=p().filter(P=>P.focusable).map(P=>P.ref.current);if(w==="last")T.reverse();else if(w==="prev"||w==="next"){w==="prev"&&T.reverse();const P=T.indexOf(x.currentTarget);T=d.loop?I7(T,P+1):T.slice(P+1)}setTimeout(()=>tk(T))}}),children:typeof o=="function"?o({isCurrentTabStop:h,hasTabStop:E!=null}):o})})});ek.displayName=ZP;var x7={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function T7(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function S7(t,e,n){const r=T7(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return x7[r]}function tk(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function I7(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var b7=JP,C7=ek,Vg=["Enter"," "],A7=["ArrowDown","PageUp","Home"],nk=["ArrowUp","PageDown","End"],R7=[...A7,...nk],P7={ltr:[...Vg,"ArrowRight"],rtl:[...Vg,"ArrowLeft"]},k7={ltr:["ArrowLeft"],rtl:["ArrowRight"]},zc="Menu",[wc,N7,D7]=jy(zc),[io,rk]=Xn(zc,[D7,$h,XP]),If=$h(),sk=XP(),[M7,oo]=io(zc),[O7,Bc]=io(zc),ik=t=>{const{__scopeMenu:e,open:n=!1,children:r,dir:s,onOpenChange:i,modal:o=!0}=t,a=If(e),[l,u]=y.useState(null),d=y.useRef(!1),h=Je(i),p=xw(s);return y.useEffect(()=>{const g=()=>{d.current=!0,document.addEventListener("pointerdown",S,{capture:!0,once:!0}),document.addEventListener("pointermove",S,{capture:!0,once:!0})},S=()=>d.current=!1;return document.addEventListener("keydown",g,{capture:!0}),()=>{document.removeEventListener("keydown",g,{capture:!0}),document.removeEventListener("pointerdown",S,{capture:!0}),document.removeEventListener("pointermove",S,{capture:!0})}},[]),f.jsx(q4,{...a,children:f.jsx(M7,{scope:e,open:n,onOpenChange:h,content:l,onContentChange:u,children:f.jsx(O7,{scope:e,onClose:y.useCallback(()=>h(!1),[h]),isUsingKeyboardRef:d,dir:p,modal:o,children:r})})})};ik.displayName=zc;var L7="MenuAnchor",Aw=y.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,s=If(n);return f.jsx(qI,{...s,...r,ref:e})});Aw.displayName=L7;var Rw="MenuPortal",[V7,ok]=io(Rw,{forceMount:void 0}),ak=t=>{const{__scopeMenu:e,forceMount:n,children:r,container:s}=t,i=oo(Rw,e);return f.jsx(V7,{scope:e,forceMount:n,children:f.jsx(Jt,{present:n||i.open,children:f.jsx(Mh,{asChild:!0,container:s,children:r})})})};ak.displayName=Rw;var In="MenuContent",[j7,Pw]=io(In),lk=y.forwardRef((t,e)=>{const n=ok(In,t.__scopeMenu),{forceMount:r=n.forceMount,...s}=t,i=oo(In,t.__scopeMenu),o=Bc(In,t.__scopeMenu);return f.jsx(wc.Provider,{scope:t.__scopeMenu,children:f.jsx(Jt,{present:r||i.open,children:f.jsx(wc.Slot,{scope:t.__scopeMenu,children:o.modal?f.jsx(F7,{...s,ref:e}):f.jsx(U7,{...s,ref:e})})})})}),F7=y.forwardRef((t,e)=>{const n=oo(In,t.__scopeMenu),r=y.useRef(null),s=Ae(e,r);return y.useEffect(()=>{const i=r.current;if(i)return NR(i)},[]),f.jsx(kw,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:J(t.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),U7=y.forwardRef((t,e)=>{const n=oo(In,t.__scopeMenu);return f.jsx(kw,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),$7=fa("MenuContent.ScrollLock"),kw=y.forwardRef((t,e)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:s,onOpenAutoFocus:i,onCloseAutoFocus:o,disableOutsidePointerEvents:a,onEntryFocus:l,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:h,onInteractOutside:p,onDismiss:g,disableOutsideScroll:S,...E}=t,x=oo(In,n),w=Bc(In,n),_=If(n),T=sk(n),P=N7(n),[M,O]=y.useState(null),b=y.useRef(null),I=Ae(e,b,x.onContentChange),C=y.useRef(0),R=y.useRef(""),N=y.useRef(0),D=y.useRef(null),k=y.useRef("right"),H=y.useRef(0),se=S?hw:y.Fragment,Z=S?{as:$7,allowPinchZoom:!0}:void 0,oe=V=>{var he,Zt;const G=R.current+V,ee=P().filter(Qe=>!Qe.disabled),X=document.activeElement,ce=(he=ee.find(Qe=>Qe.ref.current===X))==null?void 0:he.textValue,ae=ee.map(Qe=>Qe.textValue),Re=Z7(ae,G,ce),Ne=(Zt=ee.find(Qe=>Qe.textValue===Re))==null?void 0:Zt.ref.current;(function Qe(fn){R.current=fn,window.clearTimeout(C.current),fn!==""&&(C.current=window.setTimeout(()=>Qe(""),1e3))})(G),Ne&&setTimeout(()=>Ne.focus())};y.useEffect(()=>()=>window.clearTimeout(C.current),[]),TR();const F=y.useCallback(V=>{var ee,X;return k.current===((ee=D.current)==null?void 0:ee.side)&&tH(V,(X=D.current)==null?void 0:X.area)},[]);return f.jsx(j7,{scope:n,searchRef:R,onItemEnter:y.useCallback(V=>{F(V)&&V.preventDefault()},[F]),onItemLeave:y.useCallback(V=>{var G;F(V)||((G=b.current)==null||G.focus(),O(null))},[F]),onTriggerLeave:y.useCallback(V=>{F(V)&&V.preventDefault()},[F]),pointerGraceTimerRef:N,onPointerGraceIntentChange:y.useCallback(V=>{D.current=V},[]),children:f.jsx(se,{...Z,children:f.jsx(dw,{asChild:!0,trapped:s,onMountAutoFocus:J(i,V=>{var G;V.preventDefault(),(G=b.current)==null||G.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:f.jsx(Rc,{asChild:!0,disableOutsidePointerEvents:a,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:h,onInteractOutside:p,onDismiss:g,children:f.jsx(b7,{asChild:!0,...T,dir:w.dir,orientation:"vertical",loop:r,currentTabStopId:M,onCurrentTabStopIdChange:O,onEntryFocus:J(l,V=>{w.isUsingKeyboardRef.current||V.preventDefault()}),preventScrollOnEntryFocus:!0,children:f.jsx(KI,{role:"menu","aria-orientation":"vertical","data-state":Sk(x.open),"data-radix-menu-content":"",dir:w.dir,..._,...E,ref:I,style:{outline:"none",...E.style},onKeyDown:J(E.onKeyDown,V=>{const ee=V.target.closest("[data-radix-menu-content]")===V.currentTarget,X=V.ctrlKey||V.altKey||V.metaKey,ce=V.key.length===1;ee&&(V.key==="Tab"&&V.preventDefault(),!X&&ce&&oe(V.key));const ae=b.current;if(V.target!==ae||!R7.includes(V.key))return;V.preventDefault();const Ne=P().filter(he=>!he.disabled).map(he=>he.ref.current);nk.includes(V.key)&&Ne.reverse(),X7(Ne)}),onBlur:J(t.onBlur,V=>{V.currentTarget.contains(V.target)||(window.clearTimeout(C.current),R.current="")}),onPointerMove:J(t.onPointerMove,_c(V=>{const G=V.target,ee=H.current!==V.clientX;if(V.currentTarget.contains(G)&&ee){const X=V.clientX>H.current?"right":"left";k.current=X,H.current=V.clientX}}))})})})})})})});lk.displayName=In;var z7="MenuGroup",Nw=y.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return f.jsx(_e.div,{role:"group",...r,ref:e})});Nw.displayName=z7;var B7="MenuLabel",ck=y.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return f.jsx(_e.div,{...r,ref:e})});ck.displayName=B7;var mh="MenuItem",mx="menu.itemSelect",bf=y.forwardRef((t,e)=>{const{disabled:n=!1,onSelect:r,...s}=t,i=y.useRef(null),o=Bc(mh,t.__scopeMenu),a=Pw(mh,t.__scopeMenu),l=Ae(e,i),u=y.useRef(!1),d=()=>{const h=i.current;if(!n&&h){const p=new CustomEvent(mx,{bubbles:!0,cancelable:!0});h.addEventListener(mx,g=>r==null?void 0:r(g),{once:!0}),Fy(h,p),p.defaultPrevented?u.current=!1:o.onClose()}};return f.jsx(uk,{...s,ref:l,disabled:n,onClick:J(t.onClick,d),onPointerDown:h=>{var p;(p=t.onPointerDown)==null||p.call(t,h),u.current=!0},onPointerUp:J(t.onPointerUp,h=>{var p;u.current||(p=h.currentTarget)==null||p.click()}),onKeyDown:J(t.onKeyDown,h=>{const p=a.searchRef.current!=="";n||p&&h.key===" "||Vg.includes(h.key)&&(h.currentTarget.click(),h.preventDefault())})})});bf.displayName=mh;var uk=y.forwardRef((t,e)=>{const{__scopeMenu:n,disabled:r=!1,textValue:s,...i}=t,o=Pw(mh,n),a=sk(n),l=y.useRef(null),u=Ae(e,l),[d,h]=y.useState(!1),[p,g]=y.useState("");return y.useEffect(()=>{const S=l.current;S&&g((S.textContent??"").trim())},[i.children]),f.jsx(wc.ItemSlot,{scope:n,disabled:r,textValue:s??p,children:f.jsx(C7,{asChild:!0,...a,focusable:!r,children:f.jsx(_e.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...i,ref:u,onPointerMove:J(t.onPointerMove,_c(S=>{r?o.onItemLeave(S):(o.onItemEnter(S),S.defaultPrevented||S.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:J(t.onPointerLeave,_c(S=>o.onItemLeave(S))),onFocus:J(t.onFocus,()=>h(!0)),onBlur:J(t.onBlur,()=>h(!1))})})})}),H7="MenuCheckboxItem",dk=y.forwardRef((t,e)=>{const{checked:n=!1,onCheckedChange:r,...s}=t;return f.jsx(gk,{scope:t.__scopeMenu,checked:n,children:f.jsx(bf,{role:"menuitemcheckbox","aria-checked":gh(n)?"mixed":n,...s,ref:e,"data-state":Mw(n),onSelect:J(s.onSelect,()=>r==null?void 0:r(gh(n)?!0:!n),{checkForDefaultPrevented:!1})})})});dk.displayName=H7;var hk="MenuRadioGroup",[W7,G7]=io(hk,{value:void 0,onValueChange:()=>{}}),fk=y.forwardRef((t,e)=>{const{value:n,onValueChange:r,...s}=t,i=Je(r);return f.jsx(W7,{scope:t.__scopeMenu,value:n,onValueChange:i,children:f.jsx(Nw,{...s,ref:e})})});fk.displayName=hk;var pk="MenuRadioItem",mk=y.forwardRef((t,e)=>{const{value:n,...r}=t,s=G7(pk,t.__scopeMenu),i=n===s.value;return f.jsx(gk,{scope:t.__scopeMenu,checked:i,children:f.jsx(bf,{role:"menuitemradio","aria-checked":i,...r,ref:e,"data-state":Mw(i),onSelect:J(r.onSelect,()=>{var o;return(o=s.onValueChange)==null?void 0:o.call(s,n)},{checkForDefaultPrevented:!1})})})});mk.displayName=pk;var Dw="MenuItemIndicator",[gk,q7]=io(Dw,{checked:!1}),yk=y.forwardRef((t,e)=>{const{__scopeMenu:n,forceMount:r,...s}=t,i=q7(Dw,n);return f.jsx(Jt,{present:r||gh(i.checked)||i.checked===!0,children:f.jsx(_e.span,{...s,ref:e,"data-state":Mw(i.checked)})})});yk.displayName=Dw;var K7="MenuSeparator",vk=y.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return f.jsx(_e.div,{role:"separator","aria-orientation":"horizontal",...r,ref:e})});vk.displayName=K7;var Q7="MenuArrow",wk=y.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,s=If(n);return f.jsx(QI,{...s,...r,ref:e})});wk.displayName=Q7;var Y7="MenuSub",[vW,_k]=io(Y7),Tl="MenuSubTrigger",Ek=y.forwardRef((t,e)=>{const n=oo(Tl,t.__scopeMenu),r=Bc(Tl,t.__scopeMenu),s=_k(Tl,t.__scopeMenu),i=Pw(Tl,t.__scopeMenu),o=y.useRef(null),{pointerGraceTimerRef:a,onPointerGraceIntentChange:l}=i,u={__scopeMenu:t.__scopeMenu},d=y.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return y.useEffect(()=>d,[d]),y.useEffect(()=>{const h=a.current;return()=>{window.clearTimeout(h),l(null)}},[a,l]),f.jsx(Aw,{asChild:!0,...u,children:f.jsx(uk,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":s.contentId,"data-state":Sk(n.open),...t,ref:Dh(e,s.onTriggerChange),onClick:h=>{var p;(p=t.onClick)==null||p.call(t,h),!(t.disabled||h.defaultPrevented)&&(h.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:J(t.onPointerMove,_c(h=>{i.onItemEnter(h),!h.defaultPrevented&&!t.disabled&&!n.open&&!o.current&&(i.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{n.onOpenChange(!0),d()},100))})),onPointerLeave:J(t.onPointerLeave,_c(h=>{var g,S;d();const p=(g=n.content)==null?void 0:g.getBoundingClientRect();if(p){const E=(S=n.content)==null?void 0:S.dataset.side,x=E==="right",w=x?-5:5,_=p[x?"left":"right"],T=p[x?"right":"left"];i.onPointerGraceIntentChange({area:[{x:h.clientX+w,y:h.clientY},{x:_,y:p.top},{x:T,y:p.top},{x:T,y:p.bottom},{x:_,y:p.bottom}],side:E}),window.clearTimeout(a.current),a.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(h),h.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:J(t.onKeyDown,h=>{var g;const p=i.searchRef.current!=="";t.disabled||p&&h.key===" "||P7[r.dir].includes(h.key)&&(n.onOpenChange(!0),(g=n.content)==null||g.focus(),h.preventDefault())})})})});Ek.displayName=Tl;var xk="MenuSubContent",Tk=y.forwardRef((t,e)=>{const n=ok(In,t.__scopeMenu),{forceMount:r=n.forceMount,...s}=t,i=oo(In,t.__scopeMenu),o=Bc(In,t.__scopeMenu),a=_k(xk,t.__scopeMenu),l=y.useRef(null),u=Ae(e,l);return f.jsx(wc.Provider,{scope:t.__scopeMenu,children:f.jsx(Jt,{present:r||i.open,children:f.jsx(wc.Slot,{scope:t.__scopeMenu,children:f.jsx(kw,{id:a.contentId,"aria-labelledby":a.triggerId,...s,ref:u,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{var h;o.isUsingKeyboardRef.current&&((h=l.current)==null||h.focus()),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:J(t.onFocusOutside,d=>{d.target!==a.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:J(t.onEscapeKeyDown,d=>{o.onClose(),d.preventDefault()}),onKeyDown:J(t.onKeyDown,d=>{var g;const h=d.currentTarget.contains(d.target),p=k7[o.dir].includes(d.key);h&&p&&(i.onOpenChange(!1),(g=a.trigger)==null||g.focus(),d.preventDefault())})})})})})});Tk.displayName=xk;function Sk(t){return t?"open":"closed"}function gh(t){return t==="indeterminate"}function Mw(t){return gh(t)?"indeterminate":t?"checked":"unchecked"}function X7(t){const e=document.activeElement;for(const n of t)if(n===e||(n.focus(),document.activeElement!==e))return}function J7(t,e){return t.map((n,r)=>t[(e+r)%t.length])}function Z7(t,e,n){const s=e.length>1&&Array.from(e).every(u=>u===e[0])?e[0]:e,i=n?t.indexOf(n):-1;let o=J7(t,Math.max(i,0));s.length===1&&(o=o.filter(u=>u!==n));const l=o.find(u=>u.toLowerCase().startsWith(s.toLowerCase()));return l!==n?l:void 0}function eH(t,e){const{x:n,y:r}=t;let s=!1;for(let i=0,o=e.length-1;i<e.length;o=i++){const a=e[i],l=e[o],u=a.x,d=a.y,h=l.x,p=l.y;d>r!=p>r&&n<(h-u)*(r-d)/(p-d)+u&&(s=!s)}return s}function tH(t,e){if(!e)return!1;const n={x:t.clientX,y:t.clientY};return eH(n,e)}function _c(t){return e=>e.pointerType==="mouse"?t(e):void 0}var nH=ik,rH=Aw,sH=ak,iH=lk,oH=Nw,aH=ck,lH=bf,cH=dk,uH=fk,dH=mk,hH=yk,fH=vk,pH=wk,mH=Ek,gH=Tk,Cf="DropdownMenu",[yH,wW]=Xn(Cf,[rk]),$t=rk(),[vH,Ik]=yH(Cf),bk=t=>{const{__scopeDropdownMenu:e,children:n,dir:r,open:s,defaultOpen:i,onOpenChange:o,modal:a=!0}=t,l=$t(e),u=y.useRef(null),[d,h]=Oh({prop:s,defaultProp:i??!1,onChange:o,caller:Cf});return f.jsx(vH,{scope:e,triggerId:Uo(),triggerRef:u,contentId:Uo(),open:d,onOpenChange:h,onOpenToggle:y.useCallback(()=>h(p=>!p),[h]),modal:a,children:f.jsx(nH,{...l,open:d,onOpenChange:h,dir:r,modal:a,children:n})})};bk.displayName=Cf;var Ck="DropdownMenuTrigger",Ak=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...s}=t,i=Ik(Ck,n),o=$t(n);return f.jsx(rH,{asChild:!0,...o,children:f.jsx(_e.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...s,ref:Dh(e,i.triggerRef),onPointerDown:J(t.onPointerDown,a=>{!r&&a.button===0&&a.ctrlKey===!1&&(i.onOpenToggle(),i.open||a.preventDefault())}),onKeyDown:J(t.onKeyDown,a=>{r||(["Enter"," "].includes(a.key)&&i.onOpenToggle(),a.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(a.key)&&a.preventDefault())})})})});Ak.displayName=Ck;var wH="DropdownMenuPortal",Rk=t=>{const{__scopeDropdownMenu:e,...n}=t,r=$t(e);return f.jsx(sH,{...r,...n})};Rk.displayName=wH;var Pk="DropdownMenuContent",kk=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Ik(Pk,n),i=$t(n),o=y.useRef(!1);return f.jsx(iH,{id:s.contentId,"aria-labelledby":s.triggerId,...i,...r,ref:e,onCloseAutoFocus:J(t.onCloseAutoFocus,a=>{var l;o.current||(l=s.triggerRef.current)==null||l.focus(),o.current=!1,a.preventDefault()}),onInteractOutside:J(t.onInteractOutside,a=>{const l=a.detail.originalEvent,u=l.button===0&&l.ctrlKey===!0,d=l.button===2||u;(!s.modal||d)&&(o.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});kk.displayName=Pk;var _H="DropdownMenuGroup",EH=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=$t(n);return f.jsx(oH,{...s,...r,ref:e})});EH.displayName=_H;var xH="DropdownMenuLabel",Nk=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=$t(n);return f.jsx(aH,{...s,...r,ref:e})});Nk.displayName=xH;var TH="DropdownMenuItem",Dk=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=$t(n);return f.jsx(lH,{...s,...r,ref:e})});Dk.displayName=TH;var SH="DropdownMenuCheckboxItem",Mk=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=$t(n);return f.jsx(cH,{...s,...r,ref:e})});Mk.displayName=SH;var IH="DropdownMenuRadioGroup",bH=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=$t(n);return f.jsx(uH,{...s,...r,ref:e})});bH.displayName=IH;var CH="DropdownMenuRadioItem",Ok=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=$t(n);return f.jsx(dH,{...s,...r,ref:e})});Ok.displayName=CH;var AH="DropdownMenuItemIndicator",Lk=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=$t(n);return f.jsx(hH,{...s,...r,ref:e})});Lk.displayName=AH;var RH="DropdownMenuSeparator",Vk=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=$t(n);return f.jsx(fH,{...s,...r,ref:e})});Vk.displayName=RH;var PH="DropdownMenuArrow",kH=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=$t(n);return f.jsx(pH,{...s,...r,ref:e})});kH.displayName=PH;var NH="DropdownMenuSubTrigger",jk=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=$t(n);return f.jsx(mH,{...s,...r,ref:e})});jk.displayName=NH;var DH="DropdownMenuSubContent",Fk=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=$t(n);return f.jsx(gH,{...s,...r,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});Fk.displayName=DH;var MH=bk,OH=Ak,LH=Rk,Uk=kk,$k=Nk,zk=Dk,Bk=Mk,Hk=Ok,Wk=Lk,Gk=Vk,qk=jk,Kk=Fk;const VH=MH,jH=OH,FH=y.forwardRef(({className:t,inset:e,children:n,...r},s)=>f.jsxs(qk,{ref:s,className:me("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[state=open]:bg-accent focus:bg-accent",e&&"pl-8",t),...r,children:[n,f.jsx(KM,{className:"ml-auto h-4 w-4"})]}));FH.displayName=qk.displayName;const UH=y.forwardRef(({className:t,...e},n)=>f.jsx(Kk,{ref:n,className:me("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...e}));UH.displayName=Kk.displayName;const Qk=y.forwardRef(({className:t,sideOffset:e=4,...n},r)=>f.jsx(LH,{children:f.jsx(Uk,{ref:r,sideOffset:e,className:me("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n})}));Qk.displayName=Uk.displayName;const jg=y.forwardRef(({className:t,inset:e,...n},r)=>f.jsx(zk,{ref:r,className:me("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e&&"pl-8",t),...n}));jg.displayName=zk.displayName;const $H=y.forwardRef(({className:t,children:e,checked:n,...r},s)=>f.jsxs(Bk,{ref:s,className:me("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",t),checked:n,...r,children:[f.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:f.jsx(Wk,{children:f.jsx(GM,{className:"h-4 w-4"})})}),e]}));$H.displayName=Bk.displayName;const zH=y.forwardRef(({className:t,children:e,...n},r)=>f.jsxs(Hk,{ref:r,className:me("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",t),...n,children:[f.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:f.jsx(Wk,{children:f.jsx(XM,{className:"h-2 w-2 fill-current"})})}),e]}));zH.displayName=Hk.displayName;const BH=y.forwardRef(({className:t,inset:e,...n},r)=>f.jsx($k,{ref:r,className:me("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",t),...n}));BH.displayName=$k.displayName;const Yk=y.forwardRef(({className:t,...e},n)=>f.jsx(Gk,{ref:n,className:me("-mx-1 my-1 h-px bg-muted",t),...e}));Yk.displayName=Gk.displayName;const gx=YR,HH=XR,Xk=y.forwardRef(({className:t,...e},n)=>f.jsx(gw,{ref:n,className:me("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));Xk.displayName=gw.displayName;const Fg=y.forwardRef(({className:t,children:e,...n},r)=>f.jsxs(HH,{children:[f.jsx(Xk,{}),f.jsxs(yw,{ref:r,className:me("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[e,f.jsxs(_w,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-accent data-[state=open]:text-muted-foreground hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[f.jsx(sc,{className:"h-4 w-4"}),f.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Fg.displayName=yw.displayName;const Ug=({className:t,...e})=>f.jsx("div",{className:me("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});Ug.displayName="DialogHeader";const $g=({className:t,...e})=>f.jsx("div",{className:me("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});$g.displayName="DialogFooter";const zg=y.forwardRef(({className:t,...e},n)=>f.jsx(vw,{ref:n,className:me("text-lg font-semibold leading-none tracking-tight",t),...e}));zg.displayName=vw.displayName;const Jk=y.forwardRef(({className:t,...e},n)=>f.jsx(ww,{ref:n,className:me("text-sm text-muted-foreground",t),...e}));Jk.displayName=ww.displayName;const Zk=y.forwardRef(({className:t,...e},n)=>f.jsx("textarea",{className:me("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:n,...e}));Zk.displayName="Textarea";const WH=()=>{const{currentUser:t,logout:e,submitFeedback:n}=so(),{theme:r,toggleTheme:s}=pB(),[i,o]=y.useState(!1),[a,l]=y.useState(!1),[u,d]=y.useState(""),[h,p]=y.useState(!1),[g,S]=y.useState(!1),E=async()=>{if(!u.trim())return;p(!0);const x=await n(u);p(!1),x&&(S(!0),d(""),setTimeout(()=>{l(!1),S(!1)},2e3))};return f.jsxs("header",{className:"sticky top-0 z-50 w-full border-b border-border/40 bg-background/80 backdrop-blur-xl",children:[f.jsxs("div",{className:"container flex h-16 items-center justify-between",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsxs("div",{className:"relative",children:[f.jsx(pa,{className:"h-8 w-8 text-primary crown-shadow"}),f.jsx("div",{className:"absolute inset-0 animate-pulse-glow",children:f.jsx(pa,{className:"h-8 w-8 text-primary opacity-50"})})]}),f.jsxs("span",{className:"font-display text-xl font-bold tracking-tight",children:["LetsGo",f.jsx("span",{className:"text-gradient-gold",children:"Kings"})]})]}),t&&f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsxs(at,{variant:"ghost",onClick:()=>{o(!0),oB(t.isGuest?"guest":"google")},className:"text-muted-foreground hover:text-foreground text-xs px-2",title:"View Rules",children:[f.jsx(ZM,{className:"h-3.5 w-3.5 mr-1"}),"Rules"]}),f.jsx(at,{variant:"ghost",size:"icon",onClick:s,className:"text-muted-foreground hover:text-foreground",title:r==="dark"?"Switch to light mode":"Switch to dark mode",children:r==="dark"?f.jsx(cO,{className:"h-4 w-4"}):f.jsx(oO,{className:"h-4 w-4"})}),f.jsxs(VH,{children:[f.jsx(jH,{asChild:!0,children:f.jsxs(at,{variant:"ghost",className:"flex items-center gap-2 px-2 hover:bg-secondary/50",children:[f.jsxs(_f,{className:"h-8 w-8 border-2 border-primary/30",children:[f.jsx(Ef,{src:t.photoUrl,alt:t.name}),f.jsx(xf,{className:"bg-secondary text-xs font-medium",children:t.name.slice(0,2).toUpperCase()})]}),f.jsxs("div",{className:"hidden sm:flex flex-col text-left",children:[f.jsx("span",{className:"text-sm font-medium leading-none",children:t.name}),t.isGuest&&f.jsx("span",{className:"text-xs text-muted-foreground",children:"Guest"})]}),f.jsx(qM,{className:"h-5 w-5 text-muted-foreground",strokeWidth:2.5})]})}),f.jsxs(Qk,{align:"end",className:"w-32",children:[f.jsxs(jg,{onClick:()=>l(!0),className:"cursor-pointer",children:[f.jsx(sO,{className:"h-4 w-4 mr-2"}),"Feedback"]}),f.jsx(Yk,{}),f.jsxs(jg,{onClick:e,className:"cursor-pointer text-success focus:text-success",children:[f.jsx(nO,{className:"h-4 w-4 mr-2"}),"Logout"]})]})]})]})]}),f.jsx(gx,{open:i,onOpenChange:o,children:f.jsxs(Fg,{className:"bg-card border-border",children:[f.jsx(Ug,{children:f.jsx(zg,{className:"font-display text-xl",children:"Platform Rules"})}),f.jsxs("div",{className:"space-y-4 py-4",children:[f.jsxs("div",{className:"flex items-start gap-3 p-3 rounded-lg bg-secondary/30 border border-border/30",children:[f.jsx("span",{className:"text-lg",children:"1."}),f.jsx("p",{className:"text-sm text-foreground/90",children:f.jsx("span",{className:"font-semibold",children:"Authenticated users will be move above guest users in the leaderboard."})})]}),f.jsxs("div",{className:"flex items-start gap-3 p-3 rounded-lg bg-secondary/30 border border-border/30",children:[f.jsx("span",{className:"text-lg",children:"2."}),f.jsx("p",{className:"text-sm text-foreground/90",children:f.jsxs("span",{className:"font-semibold",children:["Confirm ",f.jsx("span",{className:"text-success",children:"I am on track"})," within 24 hours to stay active  otherwise, you'll be marked as ",f.jsx("span",{className:"text-destructive",children:"relapsed"}),"."]})})]}),f.jsxs("div",{className:"flex items-start gap-3 p-3 rounded-lg bg-secondary/30 border border-border/30",children:[f.jsx("span",{className:"text-lg",children:"3."}),f.jsx("p",{className:"text-sm text-foreground/90",children:f.jsx("span",{className:"font-semibold",children:"Relapsed warriors will be removed from the leaderboard after 24 hours of inactivity."})})]}),f.jsxs("div",{className:"flex items-start gap-3 p-3 rounded-lg bg-secondary/30 border border-border/30",children:[f.jsx("span",{className:"text-lg",children:"4."}),f.jsx("p",{className:"text-sm text-foreground/90",children:f.jsx("span",{className:"font-semibold",children:"Sign in to keep your streak safe and secure across devices."})})]})]}),f.jsx($g,{children:f.jsx(at,{onClick:()=>o(!1),className:"bg-primary text-primary-foreground",children:"Got it"})})]})}),f.jsx(gx,{open:a,onOpenChange:l,children:f.jsxs(Fg,{className:"bg-card border-border",children:[f.jsxs(Ug,{children:[f.jsx(zg,{className:"font-display text-xl",children:"Share Your Feedback"}),f.jsx(Jk,{children:"Please let us know what we can improve on this platform to serve your journey better."})]}),g?f.jsxs("div",{className:"py-8 text-center",children:[f.jsx("div",{className:"text-4xl mb-3",children:""}),f.jsx("p",{className:"text-lg font-medium text-success",children:"Thank you for your feedback!"}),f.jsx("p",{className:"text-sm text-muted-foreground",children:"We appreciate you helping us improve."})]}):f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"py-4",children:f.jsx(Zk,{placeholder:"Share your thoughts, suggestions, or ideas...",value:u,onChange:x=>d(x.target.value),className:"min-h-[120px] resize-none"})}),f.jsxs($g,{children:[f.jsx(at,{variant:"outline",onClick:()=>l(!1),className:"border-border/50",children:"Cancel"}),f.jsx(at,{onClick:E,disabled:!u.trim()||h,className:"bg-primary text-primary-foreground",children:h?"Submitting...":"Submit Feedback"})]})]})]})})]})},GH=["Remember why you started this journey.","Guard your seed, guard your future.","Hold your energy, rise above urges.","Every urge mastered builds a stronger you.","Do not spend your power on seconds of pleasure.","Control your lust or lust controls your life.","The real flex is disciplined energy.","Retention is self-love in its rawest form.","Sacrifice cheap pleasure for priceless power.","You are stronger than a five-second urge.","Every time you say no, your future says thank you.","Self-mastery begins where instant pleasure ends.","Stop spilling your greatness for pixels.","What you retain, you become.","Choose purpose over porn, always.","Feed your goals, not your urges.","Hold, build, conquer.","Nofap: because your brain deserves better.","Retention sharpens focus like a blade.","Cheap pleasure is the most expensive habit.","You are not your urges; you are your choices.","Turn lust into fuel for greatness.","Every streak is a brick in your new life.","Stop draining your power to a screen.","Seed wasted is potential buried.","The more you retain, the more you attain.","Your future woman deserves your strongest self.","Starve your addiction, feed your ambition.","Hold your seed, hold your standards.","Youre not quitting pleasure, youre choosing power.","Urge resisted, spirit uplifted.","Retention builds the man you pretend to be.","Real kings do not bow to urges.","Do not trade your kingdom for a climax.","Power leaks drop by drop; seal the cracks.","Porn kills drive; retention revives it.","Let your eyes reflect purpose, not addiction.","Nofap: reclaim your mind, reclaim your life.","Your seed is your silent strength.","Save the energy, become the upgrade.","Retention turns chaos into clarity.","A man who controls his lust controls his path.","Every clean day is a victory lap.","Nothing is worth losing your self-respect.","Guard your focus like you guard your phone.","Quit the screen; build the dream.","Retention is the gym for your willpower.","Porn offers illusion; discipline offers evolution.","The longest high is long-term self-mastery.","Resisting once makes resisting twice easier.","Do not let pixels steal your purpose.","Your seed is royal; do not spill it for scraps.","Retention makes your presence louder than your words.","If it drains you, it owns you.","You are here to create, not to consume.","Hold back now to push forward later.","Nofap is not punishment, it is preparation.","Energy preserved is confidence amplified.","Lust fades; legacy remains.","Semen retained, spirit maintained.","Every urge overcome is proof youre changing.","Dont numb your pain; build your power.","Choose discipline when nobody is watching.","Porn is a shortcut to long-term regret.","Retention: less scrolling, more becoming.","Win the battle in your mind, the body will follow.","Your future self is watching your current habits.","Hold your seed; watch your aura grow.","You are not missing out; you are leveling up.","Killing the urge is building the king.","Retention gives your eyes their fire back.","Stop rehearsing pleasure and start practicing power.","A clear mind beats a quick climax.","Trade late-night relapse for early-morning progress.","When you master semen, you master self.","Your seed is the ink writing your destiny.","Real strength is saying no when its hardest.","Protect your energy like the rare currency it is.","Retention turns boys into focused men.","No relapse is worth your rebuilt confidence.","Stop resetting, start rising.","Your seed is meant for creation, not recreation.","Nofap: starve the weakness, feed the warrior.","Every urge you beat is a lifetime skill gained.","Hold the line today, be unstoppable tomorrow.","A man who holds his seed holds his throne.","Retention is the quiet rebellion against mediocrity.","Less ejaculation, more elevation.","Control your seed, rewrite your story."],yx={quotes:GH},qH=()=>{const{streakData:t,startChallenge:e,relapse:n,confirmActive:r,getDaysCount:s}=so(),[i,o]=y.useState(!1),a=(t==null?void 0:t.isActive)&&(t==null?void 0:t.startDate),l=s(),u=()=>{if(!(t!=null&&t.lastUpdateTime))return!1;const h=new Date(t.lastUpdateTime);return(new Date().getTime()-h.getTime())/(1e3*60*60)>=24},d=()=>{r(),o(!0),setTimeout(()=>o(!1),2e3)};return f.jsxs("div",{className:"min-h-screen bg-gradient-hero",children:[f.jsx(WH,{}),f.jsxs("main",{className:"container py-6 sm:py-8",children:[f.jsxs("div",{className:"mb-8 text-center",children:[f.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 rounded-full bg-primary/10 border border-primary/20 mb-4",children:[f.jsx(pa,{className:"h-4 w-4 text-primary"}),f.jsx("span",{className:"text-sm font-medium text-primary",children:"Rise Above"})]}),f.jsx("h1",{className:"font-display text-2xl sm:text-3xl font-bold mb-2",children:a?f.jsxs(f.Fragment,{children:["Keep Going, ",f.jsx("span",{className:"text-gradient-gold",children:"King"})]}):f.jsxs(f.Fragment,{children:["Your Journey Awaits, ",f.jsx("span",{className:"text-gradient-gold",children:"King"})]})}),f.jsx("p",{className:"text-muted-foreground max-w-md mx-auto",children:a?`${l} days of power. Every moment strengthens your resolve.`:"Semen retention is the answer you are searching for."})]}),f.jsxs("div",{className:"grid lg:grid-cols-2 gap-6 sm:gap-8",children:[f.jsxs("div",{className:"space-y-6",children:[f.jsx(V8,{}),f.jsxs("div",{className:"card-elevated p-6",children:[f.jsx("h3",{className:"font-semibold mb-4",children:"Actions"}),f.jsx("div",{className:"space-y-3",children:a?f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"flex gap-3",children:[f.jsx(at,{onClick:d,variant:"outline",className:"flex-1 h-12 border-success/50 text-success hover:bg-success/10 hover:border-success font-medium",children:i?f.jsxs(f.Fragment,{children:[f.jsx(YM,{className:"h-5 w-5 mr-2"}),"Confirmed!"]}):f.jsxs(f.Fragment,{children:[f.jsx(aO,{className:"h-5 w-5 mr-2"}),"I Am On Track"]})}),f.jsxs(M8,{children:[f.jsx(O8,{asChild:!0,children:f.jsxs(at,{variant:"outline",className:"flex-1 h-12 border-destructive/50 text-destructive hover:bg-destructive/10 hover:border-destructive font-medium",children:[f.jsx(uO,{className:"h-5 w-5 mr-2"}),"I Relapsed"]})}),f.jsxs(vP,{className:"bg-card border-border",children:[f.jsxs(wP,{children:[f.jsx(EP,{className:"font-display",children:"Reset Your Streak?"}),f.jsx(xP,{children:"This will reset your streak to 0 days. Remember, every king falls  what matters is that you rise again. Your honesty strengthens the community."})]}),f.jsxs(_P,{children:[f.jsx(SP,{className:"border-border/50",children:"Keep Going"}),f.jsx(TP,{onClick:n,className:"bg-success text-success-foreground hover:bg-success/90",children:"Reset & Rise Again"})]})]})]})]}),u()&&f.jsx("p",{className:"text-xs text-amber-500 text-center",children:" Please confirm your status within 24 hours to stay active"})]}):f.jsxs(at,{onClick:e,className:"w-full h-12 bg-gradient-gold text-primary-foreground hover:opacity-90 font-semibold text-base glow-primary",children:[f.jsx(Hy,{className:"h-5 w-5 mr-2"}),"Start Challenge"]})}),a&&f.jsx("div",{className:"mt-4 p-3 rounded-lg bg-secondary/30 border border-border/30",children:f.jsxs("p",{className:"text-xs text-muted-foreground text-center",children:[" ",f.jsx("span",{className:"font-medium",children:"Honesty is power."})," The community respects truthful warriors."]})})]}),a&&f.jsx("div",{className:"overflow-hidden py-4",children:f.jsxs("p",{className:"text-sm italic text-foreground/90 leading-relaxed whitespace-nowrap animate-marquee",children:['"',yx.quotes[Math.max(0,l-1)%yx.quotes.length],'"']})})]}),f.jsx(m7,{})]})]})]})},vx="chat_messages",KH=100,QH=()=>{try{const t=new(window.AudioContext||window.webkitAudioContext),e=t.createOscillator(),n=t.createGain();e.connect(n),n.connect(t.destination),e.frequency.setValueAtTime(800,t.currentTime),e.frequency.setValueAtTime(600,t.currentTime+.1),n.gain.setValueAtTime(.3,t.currentTime),n.gain.exponentialRampToValueAtTime(.01,t.currentTime+.2),e.start(t.currentTime),e.stop(t.currentTime+.2)}catch(t){console.warn("Could not play notification sound:",t)}},YH=()=>{const{currentUser:t}=so(),[e,n]=y.useState(!0),[r,s]=y.useState(!0),[i,o]=y.useState([]),[a,l]=y.useState(""),[u,d]=y.useState(!1),h=y.useRef(null),p=y.useRef(null),g=y.useRef(!0),S=y.useRef(0);y.useEffect(()=>{const P=Cg(eh(cr,vx),T9("createdAt","desc"),S9(KH)),M=Ag(P,O=>{const b=[];O.forEach(C=>{b.push({id:C.id,...C.data()})});const I=b.reverse();if(!g.current&&I.length>S.current){const C=I[I.length-1];C&&t&&C.userId!==t.id&&QH()}g.current=!1,S.current=I.length,o(I)});return()=>M()},[t]),y.useEffect(()=>{h.current&&h.current.scrollIntoView({behavior:"smooth"})},[i]),y.useEffect(()=>{e&&!r&&p.current&&p.current.focus()},[e,r]);const E=async P=>{if(P.preventDefault(),!(!t||!a.trim()||u)&&!t.isGuest){d(!0);try{await b9(eh(cr,vx),{text:a.trim(),userId:t.id,userName:t.name,userPhoto:t.photoUrl||null,createdAt:_9()}),l("")}catch(M){console.error("Error sending message:",M)}finally{d(!1)}}},x=P=>P.split(" ").map(M=>M[0]).join("").toUpperCase().slice(0,2),w=P=>{const M=["#FF6B6B","#4ECDC4","#45B7D1","#96CEB4","#FFEAA7","#DDA0DD","#98D8C8","#F7DC6F","#BB8FCE","#85C1E9","#F8B500","#FF6F61","#6B5B95","#88B04B","#F7CAC9","#92A8D1","#955251","#B565A7","#009B77","#DD4124"];let O=0;for(let b=0;b<P.length;b++)O=P.charCodeAt(b)+((O<<5)-O);return M[Math.abs(O)%M.length]},_=()=>{n(!0),t&&J1(t.isGuest?"guest":"google")},T=()=>{s(!1),t&&J1(t.isGuest?"guest":"google")};return e?f.jsxs("div",{className:`fixed bottom-6 right-6 z-50 flex flex-col bg-background border border-border rounded-lg shadow-2xl transition-all duration-200 ${r?"w-72 h-12":"w-80 sm:w-96 h-[28rem]"}`,children:[f.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-gradient-to-r from-amber-500 to-yellow-500 rounded-t-lg cursor-pointer",onClick:()=>r&&T(),children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(_p,{className:"h-5 w-5 text-white"}),f.jsx("span",{className:"font-semibold text-white",children:"Live Chat"}),f.jsxs("span",{className:"text-xs text-white/80",children:["(",i.length,")"]})]}),f.jsxs("div",{className:"flex items-center gap-1",children:[f.jsx(at,{variant:"ghost",size:"icon",className:"h-7 w-7 text-white hover:bg-white/20",onClick:P=>{P.stopPropagation(),r?T():s(!0)},children:r?f.jsx(rO,{className:"h-4 w-4"}):f.jsx(iO,{className:"h-4 w-4"})}),f.jsx(at,{variant:"ghost",size:"icon",className:"h-7 w-7 text-white hover:bg-white/20",onClick:P=>{P.stopPropagation(),n(!1)},children:f.jsx(sc,{className:"h-4 w-4"})})]})]}),!r&&f.jsxs(f.Fragment,{children:[f.jsx(Cw,{className:"flex-1 p-3",children:f.jsxs("div",{className:"space-y-0.5",children:[i.length===0?f.jsxs("div",{className:"text-center text-muted-foreground py-8",children:[f.jsx(_p,{className:"h-10 w-10 mx-auto mb-2 opacity-50"}),f.jsx("p",{className:"text-sm",children:"No messages yet"}),f.jsx("p",{className:"text-xs",children:"Be the first to say something!"})]}):i.map(P=>f.jsxs("div",{className:"flex items-start gap-1.5 py-0.5 hover:bg-muted/50 px-1 rounded",children:[f.jsxs(_f,{className:"h-5 w-5 flex-shrink-0 mt-0.5",children:[f.jsx(Ef,{src:P.userPhoto}),f.jsx(xf,{className:"text-[10px] bg-amber-100 text-amber-700",children:x(P.userName)})]}),f.jsxs("p",{className:"text-sm leading-relaxed break-words min-w-0",children:[f.jsxs("span",{className:"font-semibold mr-1",style:{color:w(P.userName)},children:[P.userName,":"]}),f.jsx("span",{className:"text-foreground",children:P.text})]})]},P.id)),f.jsx("div",{ref:h})]})}),f.jsx("div",{className:"p-3 border-t border-border",children:t&&!t.isGuest?f.jsxs("form",{onSubmit:E,className:"flex gap-2",children:[f.jsx(uw,{ref:p,value:a,onChange:P=>l(P.target.value),placeholder:"Type a message...",className:"flex-1 h-9 text-sm",maxLength:500,disabled:u}),f.jsx(at,{type:"submit",size:"icon",className:"h-9 w-9 bg-amber-500 hover:bg-amber-600",disabled:!a.trim()||u,children:f.jsx(lO,{className:"h-4 w-4"})})]}):f.jsx("div",{className:"text-center text-sm text-muted-foreground py-2",children:t!=null&&t.isGuest?"Sign in with Google to chat":"Sign in to join the chat"})})]})]}):f.jsx(at,{onClick:_,className:"fixed bottom-6 right-6 h-14 w-14 rounded-full shadow-lg bg-gradient-to-r from-amber-500 to-yellow-500 hover:from-amber-600 hover:to-yellow-600 z-50",size:"icon",children:f.jsx(_p,{className:"h-6 w-6 text-white"})})},XH=()=>{const{currentUser:t,isLoading:e}=so();return e?f.jsxs("div",{className:"min-h-screen bg-[#0f1419] flex flex-col items-center justify-center",children:[f.jsx(pa,{className:"h-12 w-12 text-yellow-400 animate-pulse mb-4"}),f.jsx("p",{className:"text-gray-400 text-sm",children:"Loading..."})]}):t?f.jsxs(f.Fragment,{children:[f.jsx(qH,{}),f.jsx(YH,{})]}):f.jsx(vB,{})},JH=()=>f.jsx(fB,{children:f.jsx(hB,{children:f.jsx(XH,{})})}),ZH=()=>{const t=wb();return y.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",t.pathname)},[t.pathname]),f.jsx("div",{className:"flex min-h-screen items-center justify-center bg-muted",children:f.jsxs("div",{className:"text-center",children:[f.jsx("h1",{className:"mb-4 text-4xl font-bold",children:"404"}),f.jsx("p",{className:"mb-4 text-xl text-muted-foreground",children:"Oops! Page not found"}),f.jsx("a",{href:"/",className:"text-primary underline hover:text-primary/90",children:"Return to Home"})]})})};function eW(){const[t,e]=y.useState(null),[n,r]=y.useState(!1),[s,i]=y.useState(!1);return y.useEffect(()=>{if(window.matchMedia("(display-mode: standalone)").matches){i(!0);return}const a=u=>{u.preventDefault(),e(u),r(!0)},l=()=>{i(!0),r(!1),e(null)};return window.addEventListener("beforeinstallprompt",a),window.addEventListener("appinstalled",l),()=>{window.removeEventListener("beforeinstallprompt",a),window.removeEventListener("appinstalled",l)}},[]),{isInstallable:n,isInstalled:s,install:async()=>{if(!t)return!1;await t.prompt();const{outcome:a}=await t.userChoice;return a==="accepted"?(r(!1),e(null),!0):!1}}}function tW(){return typeof navigator>"u"?!1:/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream}function nW(){return window.matchMedia("(display-mode: standalone)").matches||navigator.standalone===!0}function rW(){const{isInstallable:t,isInstalled:e,install:n}=eW(),[r,s]=y.useState(!1),[i,o]=y.useState(!1);y.useEffect(()=>{if(tW()&&!nW()&&!localStorage.getItem("pwa-ios-dismissed")){const u=setTimeout(()=>o(!0),2e3);return()=>clearTimeout(u)}},[]);const a=()=>{s(!0),i&&(localStorage.setItem("pwa-ios-dismissed","true"),o(!1))};return e||r?null:i?f.jsxs("div",{className:"fixed bottom-4 left-4 right-4 md:left-auto md:right-4 md:w-80 bg-card border border-border rounded-lg p-4 shadow-lg z-50 animate-in slide-in-from-bottom-4",children:[f.jsx("button",{onClick:a,className:"absolute top-2 right-2 text-muted-foreground hover:text-foreground","aria-label":"Dismiss",children:f.jsx(sc,{className:"h-4 w-4"})}),f.jsxs("div",{className:"flex items-start gap-3",children:[f.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-primary/10 rounded-lg flex items-center justify-center",children:f.jsx(Ep,{className:"h-5 w-5 text-primary"})}),f.jsxs("div",{className:"flex-1 min-w-0",children:[f.jsx("h3",{className:"font-semibold text-sm",children:"Install LetsGoKings"}),f.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Tap ",f.jsx("span",{className:"inline-flex items-center",children:f.jsx(Ep,{className:"h-3 w-3 mx-0.5"})})," then ",f.jsx("strong",{children:'"Add to Home Screen"'})]}),f.jsx("div",{className:"mt-2 flex items-center gap-2 text-xs text-muted-foreground",children:f.jsxs("div",{className:"flex items-center gap-1",children:[f.jsx("span",{className:"w-5 h-5 rounded bg-muted flex items-center justify-center",children:f.jsx(Ep,{className:"h-3 w-3"})}),f.jsx("span",{children:""}),f.jsx("span",{className:"px-1.5 py-0.5 rounded bg-muted text-[10px]",children:"Add to Home Screen"})]})})]})]})]}):t?f.jsxs("div",{className:"fixed bottom-4 left-4 right-4 md:left-auto md:right-4 md:w-80 bg-card border border-border rounded-lg p-4 shadow-lg z-50 animate-in slide-in-from-bottom-4",children:[f.jsx("button",{onClick:a,className:"absolute top-2 right-2 text-muted-foreground hover:text-foreground","aria-label":"Dismiss",children:f.jsx(sc,{className:"h-4 w-4"})}),f.jsxs("div",{className:"flex items-start gap-3",children:[f.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-primary/10 rounded-lg flex items-center justify-center",children:f.jsx(JM,{className:"h-5 w-5 text-primary"})}),f.jsxs("div",{className:"flex-1 min-w-0",children:[f.jsx("h3",{className:"font-semibold text-sm",children:"Install LetsGoKings"}),f.jsx("p",{className:"text-xs text-muted-foreground mt-0.5",children:"Add to your home screen for quick access"}),f.jsx(at,{onClick:()=>{aB("android"),n()},size:"sm",className:"mt-2 w-full",children:"Install App"})]})]})]}):null}const sW=new OV,iW=()=>f.jsx(VV,{client:sW,children:f.jsxs(dV,{children:[f.jsx(qO,{}),f.jsx(IL,{}),f.jsx(rW,{}),f.jsx(xj,{children:f.jsxs(wj,{children:[f.jsx(rg,{path:"/",element:f.jsx(JH,{})}),f.jsx(rg,{path:"*",element:f.jsx(ZH,{})})]})})]})});wR.then(t=>{t&&console.log("Google Analytics initialized")});$S(document.getElementById("root")).render(f.jsx(iW,{}));
