var D0=t=>{throw TypeError(t)};var ap=(t,e,n)=>e.has(t)||D0("Cannot "+n);var U=(t,e,n)=>(ap(t,e,"read from private field"),n?n.call(t):e.get(t)),Se=(t,e,n)=>e.has(t)?D0("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),de=(t,e,n,r)=>(ap(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),St=(t,e,n)=>(ap(t,e,"access private method"),n);var du=(t,e,n,r)=>({set _(s){de(t,e,s,n)},get _(){return U(t,e,r)}});function ON(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function Ux(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var $x={exports:{}},kh={},zx={exports:{}},ge={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rc=Symbol.for("react.element"),LN=Symbol.for("react.portal"),VN=Symbol.for("react.fragment"),jN=Symbol.for("react.strict_mode"),FN=Symbol.for("react.profiler"),UN=Symbol.for("react.provider"),$N=Symbol.for("react.context"),zN=Symbol.for("react.forward_ref"),BN=Symbol.for("react.suspense"),HN=Symbol.for("react.memo"),WN=Symbol.for("react.lazy"),M0=Symbol.iterator;function qN(t){return t===null||typeof t!="object"?null:(t=M0&&t[M0]||t["@@iterator"],typeof t=="function"?t:null)}var Bx={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Hx=Object.assign,Wx={};function Na(t,e,n){this.props=t,this.context=e,this.refs=Wx,this.updater=n||Bx}Na.prototype.isReactComponent={};Na.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Na.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function qx(){}qx.prototype=Na.prototype;function ty(t,e,n){this.props=t,this.context=e,this.refs=Wx,this.updater=n||Bx}var ny=ty.prototype=new qx;ny.constructor=ty;Hx(ny,Na.prototype);ny.isPureReactComponent=!0;var O0=Array.isArray,Gx=Object.prototype.hasOwnProperty,ry={current:null},Kx={key:!0,ref:!0,__self:!0,__source:!0};function Qx(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)Gx.call(e,r)&&!Kx.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];s.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:Rc,type:t,key:i,ref:o,props:s,_owner:ry.current}}function GN(t,e){return{$$typeof:Rc,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function sy(t){return typeof t=="object"&&t!==null&&t.$$typeof===Rc}function KN(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var L0=/\/+/g;function lp(t,e){return typeof t=="object"&&t!==null&&t.key!=null?KN(""+t.key):e.toString(36)}function qu(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Rc:case LN:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+lp(o,0):r,O0(s)?(n="",t!=null&&(n=t.replace(L0,"$&/")+"/"),qu(s,e,n,"",function(u){return u})):s!=null&&(sy(s)&&(s=GN(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(L0,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",O0(t))for(var a=0;a<t.length;a++){i=t[a];var l=r+lp(i,a);o+=qu(i,e,n,l,s)}else if(l=qN(t),typeof l=="function")for(t=l.call(t),a=0;!(i=t.next()).done;)i=i.value,l=r+lp(i,a++),o+=qu(i,e,n,l,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function hu(t,e,n){if(t==null)return t;var r=[],s=0;return qu(t,r,"","",function(i){return e.call(n,i,s++)}),r}function QN(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Ut={current:null},Gu={transition:null},YN={ReactCurrentDispatcher:Ut,ReactCurrentBatchConfig:Gu,ReactCurrentOwner:ry};function Yx(){throw Error("act(...) is not supported in production builds of React.")}ge.Children={map:hu,forEach:function(t,e,n){hu(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return hu(t,function(){e++}),e},toArray:function(t){return hu(t,function(e){return e})||[]},only:function(t){if(!sy(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ge.Component=Na;ge.Fragment=VN;ge.Profiler=FN;ge.PureComponent=ty;ge.StrictMode=jN;ge.Suspense=BN;ge.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=YN;ge.act=Yx;ge.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=Hx({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=ry.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)Gx.call(e,l)&&!Kx.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:Rc,type:t.type,key:s,ref:i,props:r,_owner:o}};ge.createContext=function(t){return t={$$typeof:$N,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:UN,_context:t},t.Consumer=t};ge.createElement=Qx;ge.createFactory=function(t){var e=Qx.bind(null,t);return e.type=t,e};ge.createRef=function(){return{current:null}};ge.forwardRef=function(t){return{$$typeof:zN,render:t}};ge.isValidElement=sy;ge.lazy=function(t){return{$$typeof:WN,_payload:{_status:-1,_result:t},_init:QN}};ge.memo=function(t,e){return{$$typeof:HN,type:t,compare:e===void 0?null:e}};ge.startTransition=function(t){var e=Gu.transition;Gu.transition={};try{t()}finally{Gu.transition=e}};ge.unstable_act=Yx;ge.useCallback=function(t,e){return Ut.current.useCallback(t,e)};ge.useContext=function(t){return Ut.current.useContext(t)};ge.useDebugValue=function(){};ge.useDeferredValue=function(t){return Ut.current.useDeferredValue(t)};ge.useEffect=function(t,e){return Ut.current.useEffect(t,e)};ge.useId=function(){return Ut.current.useId()};ge.useImperativeHandle=function(t,e,n){return Ut.current.useImperativeHandle(t,e,n)};ge.useInsertionEffect=function(t,e){return Ut.current.useInsertionEffect(t,e)};ge.useLayoutEffect=function(t,e){return Ut.current.useLayoutEffect(t,e)};ge.useMemo=function(t,e){return Ut.current.useMemo(t,e)};ge.useReducer=function(t,e,n){return Ut.current.useReducer(t,e,n)};ge.useRef=function(t){return Ut.current.useRef(t)};ge.useState=function(t){return Ut.current.useState(t)};ge.useSyncExternalStore=function(t,e,n){return Ut.current.useSyncExternalStore(t,e,n)};ge.useTransition=function(){return Ut.current.useTransition()};ge.version="18.3.1";zx.exports=ge;var y=zx.exports;const W=Ux(y),iy=ON({__proto__:null,default:W},[y]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var XN=y,JN=Symbol.for("react.element"),ZN=Symbol.for("react.fragment"),e2=Object.prototype.hasOwnProperty,t2=XN.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,n2={key:!0,ref:!0,__self:!0,__source:!0};function Xx(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)e2.call(e,r)&&!n2.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:JN,type:t,key:i,ref:o,props:s,_owner:t2.current}}kh.Fragment=ZN;kh.jsx=Xx;kh.jsxs=Xx;$x.exports=kh;var f=$x.exports,Jx={exports:{}},pn={},Zx={exports:{}},eT={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(F,V){var q=F.length;F.push(V);e:for(;0<q;){var ee=q-1>>>1,X=F[ee];if(0<s(X,V))F[ee]=V,F[q]=X,q=ee;else break e}}function n(F){return F.length===0?null:F[0]}function r(F){if(F.length===0)return null;var V=F[0],q=F.pop();if(q!==V){F[0]=q;e:for(var ee=0,X=F.length,ce=X>>>1;ee<ce;){var ae=2*(ee+1)-1,Pe=F[ae],Ne=ae+1,he=F[Ne];if(0>s(Pe,q))Ne<X&&0>s(he,Pe)?(F[ee]=he,F[Ne]=q,ee=Ne):(F[ee]=Pe,F[ae]=q,ee=ae);else if(Ne<X&&0>s(he,q))F[ee]=he,F[Ne]=q,ee=Ne;else break e}}return V}function s(F,V){var q=F.sortIndex-V.sortIndex;return q!==0?q:F.id-V.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],d=1,h=null,p=3,g=!1,T=!1,v=!1,x=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(F){for(var V=n(u);V!==null;){if(V.callback===null)r(u);else if(V.startTime<=F)r(u),V.sortIndex=V.expirationTime,e(l,V);else break;V=n(u)}}function C(F){if(v=!1,S(F),!T)if(n(l)!==null)T=!0,Z(D);else{var V=n(u);V!==null&&oe(C,V.startTime-F)}}function D(F,V){T=!1,v&&(v=!1,E(b),b=-1),g=!0;var q=p;try{for(S(V),h=n(l);h!==null&&(!(h.expirationTime>V)||F&&!N());){var ee=h.callback;if(typeof ee=="function"){h.callback=null,p=h.priorityLevel;var X=ee(h.expirationTime<=V);V=t.unstable_now(),typeof X=="function"?h.callback=X:h===n(l)&&r(l),S(V)}else r(l);h=n(l)}if(h!==null)var ce=!0;else{var ae=n(u);ae!==null&&oe(C,ae.startTime-V),ce=!1}return ce}finally{h=null,p=q,g=!1}}var O=!1,I=null,b=-1,A=5,P=-1;function N(){return!(t.unstable_now()-P<A)}function M(){if(I!==null){var F=t.unstable_now();P=F;var V=!0;try{V=I(!0,F)}finally{V?k():(O=!1,I=null)}}else O=!1}var k;if(typeof _=="function")k=function(){_(M)};else if(typeof MessageChannel<"u"){var H=new MessageChannel,se=H.port2;H.port1.onmessage=M,k=function(){se.postMessage(null)}}else k=function(){x(M,0)};function Z(F){I=F,O||(O=!0,k())}function oe(F,V){b=x(function(){F(t.unstable_now())},V)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(F){F.callback=null},t.unstable_continueExecution=function(){T||g||(T=!0,Z(D))},t.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<F?Math.floor(1e3/F):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(F){switch(p){case 1:case 2:case 3:var V=3;break;default:V=p}var q=p;p=V;try{return F()}finally{p=q}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(F,V){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var q=p;p=F;try{return V()}finally{p=q}},t.unstable_scheduleCallback=function(F,V,q){var ee=t.unstable_now();switch(typeof q=="object"&&q!==null?(q=q.delay,q=typeof q=="number"&&0<q?ee+q:ee):q=ee,F){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=q+X,F={id:d++,callback:V,priorityLevel:F,startTime:q,expirationTime:X,sortIndex:-1},q>ee?(F.sortIndex=q,e(u,F),n(l)===null&&F===n(u)&&(v?(E(b),b=-1):v=!0,oe(C,q-ee))):(F.sortIndex=X,e(l,F),T||g||(T=!0,Z(D))),F},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(F){var V=p;return function(){var q=p;p=V;try{return F.apply(this,arguments)}finally{p=q}}}})(eT);Zx.exports=eT;var r2=Zx.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var s2=y,hn=r2;function B(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var tT=new Set,Wl={};function ro(t,e){da(t,e),da(t+"Capture",e)}function da(t,e){for(Wl[t]=e,t=0;t<e.length;t++)tT.add(e[t])}var Kr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),pm=Object.prototype.hasOwnProperty,i2=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,V0={},j0={};function o2(t){return pm.call(j0,t)?!0:pm.call(V0,t)?!1:i2.test(t)?j0[t]=!0:(V0[t]=!0,!1)}function a2(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function l2(t,e,n,r){if(e===null||typeof e>"u"||a2(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function $t(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var xt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){xt[t]=new $t(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];xt[e]=new $t(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){xt[t]=new $t(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){xt[t]=new $t(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){xt[t]=new $t(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){xt[t]=new $t(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){xt[t]=new $t(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){xt[t]=new $t(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){xt[t]=new $t(t,5,!1,t.toLowerCase(),null,!1,!1)});var oy=/[\-:]([a-z])/g;function ay(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(oy,ay);xt[e]=new $t(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(oy,ay);xt[e]=new $t(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(oy,ay);xt[e]=new $t(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){xt[t]=new $t(t,1,!1,t.toLowerCase(),null,!1,!1)});xt.xlinkHref=new $t("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){xt[t]=new $t(t,1,!1,t.toLowerCase(),null,!0,!0)});function ly(t,e,n,r){var s=xt.hasOwnProperty(e)?xt[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(l2(e,n,s,r)&&(n=null),r||s===null?o2(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var ss=s2.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,fu=Symbol.for("react.element"),Co=Symbol.for("react.portal"),Ao=Symbol.for("react.fragment"),cy=Symbol.for("react.strict_mode"),mm=Symbol.for("react.profiler"),nT=Symbol.for("react.provider"),rT=Symbol.for("react.context"),uy=Symbol.for("react.forward_ref"),gm=Symbol.for("react.suspense"),ym=Symbol.for("react.suspense_list"),dy=Symbol.for("react.memo"),xs=Symbol.for("react.lazy"),sT=Symbol.for("react.offscreen"),F0=Symbol.iterator;function ll(t){return t===null||typeof t!="object"?null:(t=F0&&t[F0]||t["@@iterator"],typeof t=="function"?t:null)}var He=Object.assign,cp;function wl(t){if(cp===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);cp=e&&e[1]||""}return`
`+cp+t}var up=!1;function dp(t,e){if(!t||up)return"";up=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{up=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?wl(t):""}function c2(t){switch(t.tag){case 5:return wl(t.type);case 16:return wl("Lazy");case 13:return wl("Suspense");case 19:return wl("SuspenseList");case 0:case 2:case 15:return t=dp(t.type,!1),t;case 11:return t=dp(t.type.render,!1),t;case 1:return t=dp(t.type,!0),t;default:return""}}function vm(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Ao:return"Fragment";case Co:return"Portal";case mm:return"Profiler";case cy:return"StrictMode";case gm:return"Suspense";case ym:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case rT:return(t.displayName||"Context")+".Consumer";case nT:return(t._context.displayName||"Context")+".Provider";case uy:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case dy:return e=t.displayName||null,e!==null?e:vm(t.type)||"Memo";case xs:e=t._payload,t=t._init;try{return vm(t(e))}catch{}}return null}function u2(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return vm(e);case 8:return e===cy?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Js(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function iT(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function d2(t){var e=iT(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function pu(t){t._valueTracker||(t._valueTracker=d2(t))}function oT(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=iT(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function xd(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function wm(t,e){var n=e.checked;return He({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function U0(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Js(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function aT(t,e){e=e.checked,e!=null&&ly(t,"checked",e,!1)}function _m(t,e){aT(t,e);var n=Js(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Em(t,e.type,n):e.hasOwnProperty("defaultValue")&&Em(t,e.type,Js(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function $0(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Em(t,e,n){(e!=="number"||xd(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var _l=Array.isArray;function Fo(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Js(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function xm(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(B(91));return He({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function z0(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(B(92));if(_l(n)){if(1<n.length)throw Error(B(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Js(n)}}function lT(t,e){var n=Js(e.value),r=Js(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function B0(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function cT(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Tm(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?cT(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var mu,uT=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(mu=mu||document.createElement("div"),mu.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=mu.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function ql(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Al={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},h2=["Webkit","ms","Moz","O"];Object.keys(Al).forEach(function(t){h2.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Al[e]=Al[t]})});function dT(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Al.hasOwnProperty(t)&&Al[t]?(""+e).trim():e+"px"}function hT(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=dT(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var f2=He({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Sm(t,e){if(e){if(f2[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(B(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(B(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(B(61))}if(e.style!=null&&typeof e.style!="object")throw Error(B(62))}}function bm(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Im=null;function hy(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Cm=null,Uo=null,$o=null;function H0(t){if(t=Nc(t)){if(typeof Cm!="function")throw Error(B(280));var e=t.stateNode;e&&(e=Lh(e),Cm(t.stateNode,t.type,e))}}function fT(t){Uo?$o?$o.push(t):$o=[t]:Uo=t}function pT(){if(Uo){var t=Uo,e=$o;if($o=Uo=null,H0(t),e)for(t=0;t<e.length;t++)H0(e[t])}}function mT(t,e){return t(e)}function gT(){}var hp=!1;function yT(t,e,n){if(hp)return t(e,n);hp=!0;try{return mT(t,e,n)}finally{hp=!1,(Uo!==null||$o!==null)&&(gT(),pT())}}function Gl(t,e){var n=t.stateNode;if(n===null)return null;var r=Lh(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(B(231,e,typeof n));return n}var Am=!1;if(Kr)try{var cl={};Object.defineProperty(cl,"passive",{get:function(){Am=!0}}),window.addEventListener("test",cl,cl),window.removeEventListener("test",cl,cl)}catch{Am=!1}function p2(t,e,n,r,s,i,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(d){this.onError(d)}}var Rl=!1,Td=null,Sd=!1,Rm=null,m2={onError:function(t){Rl=!0,Td=t}};function g2(t,e,n,r,s,i,o,a,l){Rl=!1,Td=null,p2.apply(m2,arguments)}function y2(t,e,n,r,s,i,o,a,l){if(g2.apply(this,arguments),Rl){if(Rl){var u=Td;Rl=!1,Td=null}else throw Error(B(198));Sd||(Sd=!0,Rm=u)}}function so(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function vT(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function W0(t){if(so(t)!==t)throw Error(B(188))}function v2(t){var e=t.alternate;if(!e){if(e=so(t),e===null)throw Error(B(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return W0(s),t;if(i===r)return W0(s),e;i=i.sibling}throw Error(B(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(B(189))}}if(n.alternate!==r)throw Error(B(190))}if(n.tag!==3)throw Error(B(188));return n.stateNode.current===n?t:e}function wT(t){return t=v2(t),t!==null?_T(t):null}function _T(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=_T(t);if(e!==null)return e;t=t.sibling}return null}var ET=hn.unstable_scheduleCallback,q0=hn.unstable_cancelCallback,w2=hn.unstable_shouldYield,_2=hn.unstable_requestPaint,Xe=hn.unstable_now,E2=hn.unstable_getCurrentPriorityLevel,fy=hn.unstable_ImmediatePriority,xT=hn.unstable_UserBlockingPriority,bd=hn.unstable_NormalPriority,x2=hn.unstable_LowPriority,TT=hn.unstable_IdlePriority,Nh=null,wr=null;function T2(t){if(wr&&typeof wr.onCommitFiberRoot=="function")try{wr.onCommitFiberRoot(Nh,t,void 0,(t.current.flags&128)===128)}catch{}}var Wn=Math.clz32?Math.clz32:I2,S2=Math.log,b2=Math.LN2;function I2(t){return t>>>=0,t===0?32:31-(S2(t)/b2|0)|0}var gu=64,yu=4194304;function El(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Id(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=El(a):(i&=o,i!==0&&(r=El(i)))}else o=n&~s,o!==0?r=El(o):i!==0&&(r=El(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Wn(e),s=1<<n,r|=t[n],e&=~s;return r}function C2(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function A2(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-Wn(i),a=1<<o,l=s[o];l===-1?(!(a&n)||a&r)&&(s[o]=C2(a,e)):l<=e&&(t.expiredLanes|=a),i&=~a}}function Pm(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function ST(){var t=gu;return gu<<=1,!(gu&4194240)&&(gu=64),t}function fp(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Pc(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Wn(e),t[e]=n}function R2(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-Wn(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function py(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Wn(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var Ae=0;function bT(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var IT,my,CT,AT,RT,km=!1,vu=[],Fs=null,Us=null,$s=null,Kl=new Map,Ql=new Map,bs=[],P2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function G0(t,e){switch(t){case"focusin":case"focusout":Fs=null;break;case"dragenter":case"dragleave":Us=null;break;case"mouseover":case"mouseout":$s=null;break;case"pointerover":case"pointerout":Kl.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ql.delete(e.pointerId)}}function ul(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=Nc(e),e!==null&&my(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function k2(t,e,n,r,s){switch(e){case"focusin":return Fs=ul(Fs,t,e,n,r,s),!0;case"dragenter":return Us=ul(Us,t,e,n,r,s),!0;case"mouseover":return $s=ul($s,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return Kl.set(i,ul(Kl.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Ql.set(i,ul(Ql.get(i)||null,t,e,n,r,s)),!0}return!1}function PT(t){var e=bi(t.target);if(e!==null){var n=so(e);if(n!==null){if(e=n.tag,e===13){if(e=vT(n),e!==null){t.blockedOn=e,RT(t.priority,function(){CT(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Ku(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Nm(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Im=r,n.target.dispatchEvent(r),Im=null}else return e=Nc(n),e!==null&&my(e),t.blockedOn=n,!1;e.shift()}return!0}function K0(t,e,n){Ku(t)&&n.delete(e)}function N2(){km=!1,Fs!==null&&Ku(Fs)&&(Fs=null),Us!==null&&Ku(Us)&&(Us=null),$s!==null&&Ku($s)&&($s=null),Kl.forEach(K0),Ql.forEach(K0)}function dl(t,e){t.blockedOn===e&&(t.blockedOn=null,km||(km=!0,hn.unstable_scheduleCallback(hn.unstable_NormalPriority,N2)))}function Yl(t){function e(s){return dl(s,t)}if(0<vu.length){dl(vu[0],t);for(var n=1;n<vu.length;n++){var r=vu[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Fs!==null&&dl(Fs,t),Us!==null&&dl(Us,t),$s!==null&&dl($s,t),Kl.forEach(e),Ql.forEach(e),n=0;n<bs.length;n++)r=bs[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<bs.length&&(n=bs[0],n.blockedOn===null);)PT(n),n.blockedOn===null&&bs.shift()}var zo=ss.ReactCurrentBatchConfig,Cd=!0;function D2(t,e,n,r){var s=Ae,i=zo.transition;zo.transition=null;try{Ae=1,gy(t,e,n,r)}finally{Ae=s,zo.transition=i}}function M2(t,e,n,r){var s=Ae,i=zo.transition;zo.transition=null;try{Ae=4,gy(t,e,n,r)}finally{Ae=s,zo.transition=i}}function gy(t,e,n,r){if(Cd){var s=Nm(t,e,n,r);if(s===null)Tp(t,e,r,Ad,n),G0(t,r);else if(k2(s,t,e,n,r))r.stopPropagation();else if(G0(t,r),e&4&&-1<P2.indexOf(t)){for(;s!==null;){var i=Nc(s);if(i!==null&&IT(i),i=Nm(t,e,n,r),i===null&&Tp(t,e,r,Ad,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else Tp(t,e,r,null,n)}}var Ad=null;function Nm(t,e,n,r){if(Ad=null,t=hy(r),t=bi(t),t!==null)if(e=so(t),e===null)t=null;else if(n=e.tag,n===13){if(t=vT(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Ad=t,null}function kT(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(E2()){case fy:return 1;case xT:return 4;case bd:case x2:return 16;case TT:return 536870912;default:return 16}default:return 16}}var Os=null,yy=null,Qu=null;function NT(){if(Qu)return Qu;var t,e=yy,n=e.length,r,s="value"in Os?Os.value:Os.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return Qu=s.slice(t,1<r?1-r:void 0)}function Yu(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function wu(){return!0}function Q0(){return!1}function mn(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?wu:Q0,this.isPropagationStopped=Q0,this}return He(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=wu)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=wu)},persist:function(){},isPersistent:wu}),e}var Da={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},vy=mn(Da),kc=He({},Da,{view:0,detail:0}),O2=mn(kc),pp,mp,hl,Dh=He({},kc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:wy,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==hl&&(hl&&t.type==="mousemove"?(pp=t.screenX-hl.screenX,mp=t.screenY-hl.screenY):mp=pp=0,hl=t),pp)},movementY:function(t){return"movementY"in t?t.movementY:mp}}),Y0=mn(Dh),L2=He({},Dh,{dataTransfer:0}),V2=mn(L2),j2=He({},kc,{relatedTarget:0}),gp=mn(j2),F2=He({},Da,{animationName:0,elapsedTime:0,pseudoElement:0}),U2=mn(F2),$2=He({},Da,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),z2=mn($2),B2=He({},Da,{data:0}),X0=mn(B2),H2={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},W2={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},q2={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function G2(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=q2[t])?!!e[t]:!1}function wy(){return G2}var K2=He({},kc,{key:function(t){if(t.key){var e=H2[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Yu(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?W2[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:wy,charCode:function(t){return t.type==="keypress"?Yu(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Yu(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Q2=mn(K2),Y2=He({},Dh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),J0=mn(Y2),X2=He({},kc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:wy}),J2=mn(X2),Z2=He({},Da,{propertyName:0,elapsedTime:0,pseudoElement:0}),eD=mn(Z2),tD=He({},Dh,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),nD=mn(tD),rD=[9,13,27,32],_y=Kr&&"CompositionEvent"in window,Pl=null;Kr&&"documentMode"in document&&(Pl=document.documentMode);var sD=Kr&&"TextEvent"in window&&!Pl,DT=Kr&&(!_y||Pl&&8<Pl&&11>=Pl),Z0=" ",e_=!1;function MT(t,e){switch(t){case"keyup":return rD.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function OT(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ro=!1;function iD(t,e){switch(t){case"compositionend":return OT(e);case"keypress":return e.which!==32?null:(e_=!0,Z0);case"textInput":return t=e.data,t===Z0&&e_?null:t;default:return null}}function oD(t,e){if(Ro)return t==="compositionend"||!_y&&MT(t,e)?(t=NT(),Qu=yy=Os=null,Ro=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return DT&&e.locale!=="ko"?null:e.data;default:return null}}var aD={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function t_(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!aD[t.type]:e==="textarea"}function LT(t,e,n,r){fT(r),e=Rd(e,"onChange"),0<e.length&&(n=new vy("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var kl=null,Xl=null;function lD(t){GT(t,0)}function Mh(t){var e=No(t);if(oT(e))return t}function cD(t,e){if(t==="change")return e}var VT=!1;if(Kr){var yp;if(Kr){var vp="oninput"in document;if(!vp){var n_=document.createElement("div");n_.setAttribute("oninput","return;"),vp=typeof n_.oninput=="function"}yp=vp}else yp=!1;VT=yp&&(!document.documentMode||9<document.documentMode)}function r_(){kl&&(kl.detachEvent("onpropertychange",jT),Xl=kl=null)}function jT(t){if(t.propertyName==="value"&&Mh(Xl)){var e=[];LT(e,Xl,t,hy(t)),yT(lD,e)}}function uD(t,e,n){t==="focusin"?(r_(),kl=e,Xl=n,kl.attachEvent("onpropertychange",jT)):t==="focusout"&&r_()}function dD(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Mh(Xl)}function hD(t,e){if(t==="click")return Mh(e)}function fD(t,e){if(t==="input"||t==="change")return Mh(e)}function pD(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Yn=typeof Object.is=="function"?Object.is:pD;function Jl(t,e){if(Yn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!pm.call(e,s)||!Yn(t[s],e[s]))return!1}return!0}function s_(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function i_(t,e){var n=s_(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=s_(n)}}function FT(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?FT(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function UT(){for(var t=window,e=xd();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=xd(t.document)}return e}function Ey(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function mD(t){var e=UT(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&FT(n.ownerDocument.documentElement,n)){if(r!==null&&Ey(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=i_(n,i);var o=i_(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var gD=Kr&&"documentMode"in document&&11>=document.documentMode,Po=null,Dm=null,Nl=null,Mm=!1;function o_(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Mm||Po==null||Po!==xd(r)||(r=Po,"selectionStart"in r&&Ey(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Nl&&Jl(Nl,r)||(Nl=r,r=Rd(Dm,"onSelect"),0<r.length&&(e=new vy("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Po)))}function _u(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var ko={animationend:_u("Animation","AnimationEnd"),animationiteration:_u("Animation","AnimationIteration"),animationstart:_u("Animation","AnimationStart"),transitionend:_u("Transition","TransitionEnd")},wp={},$T={};Kr&&($T=document.createElement("div").style,"AnimationEvent"in window||(delete ko.animationend.animation,delete ko.animationiteration.animation,delete ko.animationstart.animation),"TransitionEvent"in window||delete ko.transitionend.transition);function Oh(t){if(wp[t])return wp[t];if(!ko[t])return t;var e=ko[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in $T)return wp[t]=e[n];return t}var zT=Oh("animationend"),BT=Oh("animationiteration"),HT=Oh("animationstart"),WT=Oh("transitionend"),qT=new Map,a_="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ci(t,e){qT.set(t,e),ro(e,[t])}for(var _p=0;_p<a_.length;_p++){var Ep=a_[_p],yD=Ep.toLowerCase(),vD=Ep[0].toUpperCase()+Ep.slice(1);ci(yD,"on"+vD)}ci(zT,"onAnimationEnd");ci(BT,"onAnimationIteration");ci(HT,"onAnimationStart");ci("dblclick","onDoubleClick");ci("focusin","onFocus");ci("focusout","onBlur");ci(WT,"onTransitionEnd");da("onMouseEnter",["mouseout","mouseover"]);da("onMouseLeave",["mouseout","mouseover"]);da("onPointerEnter",["pointerout","pointerover"]);da("onPointerLeave",["pointerout","pointerover"]);ro("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ro("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ro("onBeforeInput",["compositionend","keypress","textInput","paste"]);ro("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ro("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ro("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var xl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),wD=new Set("cancel close invalid load scroll toggle".split(" ").concat(xl));function l_(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,y2(r,e,void 0,t),t.currentTarget=null}function GT(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;l_(s,a,u),i=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;l_(s,a,u),i=l}}}if(Sd)throw t=Rm,Sd=!1,Rm=null,t}function je(t,e){var n=e[Fm];n===void 0&&(n=e[Fm]=new Set);var r=t+"__bubble";n.has(r)||(KT(e,t,2,!1),n.add(r))}function xp(t,e,n){var r=0;e&&(r|=4),KT(n,t,r,e)}var Eu="_reactListening"+Math.random().toString(36).slice(2);function Zl(t){if(!t[Eu]){t[Eu]=!0,tT.forEach(function(n){n!=="selectionchange"&&(wD.has(n)||xp(n,!1,t),xp(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Eu]||(e[Eu]=!0,xp("selectionchange",!1,e))}}function KT(t,e,n,r){switch(kT(e)){case 1:var s=D2;break;case 4:s=M2;break;default:s=gy}n=s.bind(null,e,n,t),s=void 0,!Am||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function Tp(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=bi(a),o===null)return;if(l=o.tag,l===5||l===6){r=i=o;continue e}a=a.parentNode}}r=r.return}yT(function(){var u=i,d=hy(n),h=[];e:{var p=qT.get(t);if(p!==void 0){var g=vy,T=t;switch(t){case"keypress":if(Yu(n)===0)break e;case"keydown":case"keyup":g=Q2;break;case"focusin":T="focus",g=gp;break;case"focusout":T="blur",g=gp;break;case"beforeblur":case"afterblur":g=gp;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=Y0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=V2;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=J2;break;case zT:case BT:case HT:g=U2;break;case WT:g=eD;break;case"scroll":g=O2;break;case"wheel":g=nD;break;case"copy":case"cut":case"paste":g=z2;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=J0}var v=(e&4)!==0,x=!v&&t==="scroll",E=v?p!==null?p+"Capture":null:p;v=[];for(var _=u,S;_!==null;){S=_;var C=S.stateNode;if(S.tag===5&&C!==null&&(S=C,E!==null&&(C=Gl(_,E),C!=null&&v.push(ec(_,C,S)))),x)break;_=_.return}0<v.length&&(p=new g(p,T,null,n,d),h.push({event:p,listeners:v}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",p&&n!==Im&&(T=n.relatedTarget||n.fromElement)&&(bi(T)||T[Qr]))break e;if((g||p)&&(p=d.window===d?d:(p=d.ownerDocument)?p.defaultView||p.parentWindow:window,g?(T=n.relatedTarget||n.toElement,g=u,T=T?bi(T):null,T!==null&&(x=so(T),T!==x||T.tag!==5&&T.tag!==6)&&(T=null)):(g=null,T=u),g!==T)){if(v=Y0,C="onMouseLeave",E="onMouseEnter",_="mouse",(t==="pointerout"||t==="pointerover")&&(v=J0,C="onPointerLeave",E="onPointerEnter",_="pointer"),x=g==null?p:No(g),S=T==null?p:No(T),p=new v(C,_+"leave",g,n,d),p.target=x,p.relatedTarget=S,C=null,bi(d)===u&&(v=new v(E,_+"enter",T,n,d),v.target=S,v.relatedTarget=x,C=v),x=C,g&&T)t:{for(v=g,E=T,_=0,S=v;S;S=wo(S))_++;for(S=0,C=E;C;C=wo(C))S++;for(;0<_-S;)v=wo(v),_--;for(;0<S-_;)E=wo(E),S--;for(;_--;){if(v===E||E!==null&&v===E.alternate)break t;v=wo(v),E=wo(E)}v=null}else v=null;g!==null&&c_(h,p,g,v,!1),T!==null&&x!==null&&c_(h,x,T,v,!0)}}e:{if(p=u?No(u):window,g=p.nodeName&&p.nodeName.toLowerCase(),g==="select"||g==="input"&&p.type==="file")var D=cD;else if(t_(p))if(VT)D=fD;else{D=dD;var O=uD}else(g=p.nodeName)&&g.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(D=hD);if(D&&(D=D(t,u))){LT(h,D,n,d);break e}O&&O(t,p,u),t==="focusout"&&(O=p._wrapperState)&&O.controlled&&p.type==="number"&&Em(p,"number",p.value)}switch(O=u?No(u):window,t){case"focusin":(t_(O)||O.contentEditable==="true")&&(Po=O,Dm=u,Nl=null);break;case"focusout":Nl=Dm=Po=null;break;case"mousedown":Mm=!0;break;case"contextmenu":case"mouseup":case"dragend":Mm=!1,o_(h,n,d);break;case"selectionchange":if(gD)break;case"keydown":case"keyup":o_(h,n,d)}var I;if(_y)e:{switch(t){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Ro?MT(t,n)&&(b="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(b="onCompositionStart");b&&(DT&&n.locale!=="ko"&&(Ro||b!=="onCompositionStart"?b==="onCompositionEnd"&&Ro&&(I=NT()):(Os=d,yy="value"in Os?Os.value:Os.textContent,Ro=!0)),O=Rd(u,b),0<O.length&&(b=new X0(b,t,null,n,d),h.push({event:b,listeners:O}),I?b.data=I:(I=OT(n),I!==null&&(b.data=I)))),(I=sD?iD(t,n):oD(t,n))&&(u=Rd(u,"onBeforeInput"),0<u.length&&(d=new X0("onBeforeInput","beforeinput",null,n,d),h.push({event:d,listeners:u}),d.data=I))}GT(h,e)})}function ec(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Rd(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Gl(t,n),i!=null&&r.unshift(ec(t,i,s)),i=Gl(t,e),i!=null&&r.push(ec(t,i,s))),t=t.return}return r}function wo(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function c_(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,s?(l=Gl(n,i),l!=null&&o.unshift(ec(n,l,a))):s||(l=Gl(n,i),l!=null&&o.push(ec(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var _D=/\r\n?/g,ED=/\u0000|\uFFFD/g;function u_(t){return(typeof t=="string"?t:""+t).replace(_D,`
`).replace(ED,"")}function xu(t,e,n){if(e=u_(e),u_(t)!==e&&n)throw Error(B(425))}function Pd(){}var Om=null,Lm=null;function Vm(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var jm=typeof setTimeout=="function"?setTimeout:void 0,xD=typeof clearTimeout=="function"?clearTimeout:void 0,d_=typeof Promise=="function"?Promise:void 0,TD=typeof queueMicrotask=="function"?queueMicrotask:typeof d_<"u"?function(t){return d_.resolve(null).then(t).catch(SD)}:jm;function SD(t){setTimeout(function(){throw t})}function Sp(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),Yl(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Yl(e)}function zs(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function h_(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Ma=Math.random().toString(36).slice(2),gr="__reactFiber$"+Ma,tc="__reactProps$"+Ma,Qr="__reactContainer$"+Ma,Fm="__reactEvents$"+Ma,bD="__reactListeners$"+Ma,ID="__reactHandles$"+Ma;function bi(t){var e=t[gr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Qr]||n[gr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=h_(t);t!==null;){if(n=t[gr])return n;t=h_(t)}return e}t=n,n=t.parentNode}return null}function Nc(t){return t=t[gr]||t[Qr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function No(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(B(33))}function Lh(t){return t[tc]||null}var Um=[],Do=-1;function ui(t){return{current:t}}function Fe(t){0>Do||(t.current=Um[Do],Um[Do]=null,Do--)}function Oe(t,e){Do++,Um[Do]=t.current,t.current=e}var Zs={},Nt=ui(Zs),Xt=ui(!1),Bi=Zs;function ha(t,e){var n=t.type.contextTypes;if(!n)return Zs;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Jt(t){return t=t.childContextTypes,t!=null}function kd(){Fe(Xt),Fe(Nt)}function f_(t,e,n){if(Nt.current!==Zs)throw Error(B(168));Oe(Nt,e),Oe(Xt,n)}function QT(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(B(108,u2(t)||"Unknown",s));return He({},n,r)}function Nd(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Zs,Bi=Nt.current,Oe(Nt,t),Oe(Xt,Xt.current),!0}function p_(t,e,n){var r=t.stateNode;if(!r)throw Error(B(169));n?(t=QT(t,e,Bi),r.__reactInternalMemoizedMergedChildContext=t,Fe(Xt),Fe(Nt),Oe(Nt,t)):Fe(Xt),Oe(Xt,n)}var Fr=null,Vh=!1,bp=!1;function YT(t){Fr===null?Fr=[t]:Fr.push(t)}function CD(t){Vh=!0,YT(t)}function di(){if(!bp&&Fr!==null){bp=!0;var t=0,e=Ae;try{var n=Fr;for(Ae=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Fr=null,Vh=!1}catch(s){throw Fr!==null&&(Fr=Fr.slice(t+1)),ET(fy,di),s}finally{Ae=e,bp=!1}}return null}var Mo=[],Oo=0,Dd=null,Md=0,_n=[],En=0,Hi=null,zr=1,Br="";function Ei(t,e){Mo[Oo++]=Md,Mo[Oo++]=Dd,Dd=t,Md=e}function XT(t,e,n){_n[En++]=zr,_n[En++]=Br,_n[En++]=Hi,Hi=t;var r=zr;t=Br;var s=32-Wn(r)-1;r&=~(1<<s),n+=1;var i=32-Wn(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,zr=1<<32-Wn(e)+s|n<<s|r,Br=i+t}else zr=1<<i|n<<s|r,Br=t}function xy(t){t.return!==null&&(Ei(t,1),XT(t,1,0))}function Ty(t){for(;t===Dd;)Dd=Mo[--Oo],Mo[Oo]=null,Md=Mo[--Oo],Mo[Oo]=null;for(;t===Hi;)Hi=_n[--En],_n[En]=null,Br=_n[--En],_n[En]=null,zr=_n[--En],_n[En]=null}var cn=null,ln=null,Ue=!1,zn=null;function JT(t,e){var n=bn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function m_(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,cn=t,ln=zs(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,cn=t,ln=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Hi!==null?{id:zr,overflow:Br}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=bn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,cn=t,ln=null,!0):!1;default:return!1}}function $m(t){return(t.mode&1)!==0&&(t.flags&128)===0}function zm(t){if(Ue){var e=ln;if(e){var n=e;if(!m_(t,e)){if($m(t))throw Error(B(418));e=zs(n.nextSibling);var r=cn;e&&m_(t,e)?JT(r,n):(t.flags=t.flags&-4097|2,Ue=!1,cn=t)}}else{if($m(t))throw Error(B(418));t.flags=t.flags&-4097|2,Ue=!1,cn=t}}}function g_(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;cn=t}function Tu(t){if(t!==cn)return!1;if(!Ue)return g_(t),Ue=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Vm(t.type,t.memoizedProps)),e&&(e=ln)){if($m(t))throw ZT(),Error(B(418));for(;e;)JT(t,e),e=zs(e.nextSibling)}if(g_(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(B(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){ln=zs(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}ln=null}}else ln=cn?zs(t.stateNode.nextSibling):null;return!0}function ZT(){for(var t=ln;t;)t=zs(t.nextSibling)}function fa(){ln=cn=null,Ue=!1}function Sy(t){zn===null?zn=[t]:zn.push(t)}var AD=ss.ReactCurrentBatchConfig;function fl(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(B(309));var r=n.stateNode}if(!r)throw Error(B(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(B(284));if(!n._owner)throw Error(B(290,t))}return t}function Su(t,e){throw t=Object.prototype.toString.call(e),Error(B(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function y_(t){var e=t._init;return e(t._payload)}function eS(t){function e(E,_){if(t){var S=E.deletions;S===null?(E.deletions=[_],E.flags|=16):S.push(_)}}function n(E,_){if(!t)return null;for(;_!==null;)e(E,_),_=_.sibling;return null}function r(E,_){for(E=new Map;_!==null;)_.key!==null?E.set(_.key,_):E.set(_.index,_),_=_.sibling;return E}function s(E,_){return E=qs(E,_),E.index=0,E.sibling=null,E}function i(E,_,S){return E.index=S,t?(S=E.alternate,S!==null?(S=S.index,S<_?(E.flags|=2,_):S):(E.flags|=2,_)):(E.flags|=1048576,_)}function o(E){return t&&E.alternate===null&&(E.flags|=2),E}function a(E,_,S,C){return _===null||_.tag!==6?(_=Np(S,E.mode,C),_.return=E,_):(_=s(_,S),_.return=E,_)}function l(E,_,S,C){var D=S.type;return D===Ao?d(E,_,S.props.children,C,S.key):_!==null&&(_.elementType===D||typeof D=="object"&&D!==null&&D.$$typeof===xs&&y_(D)===_.type)?(C=s(_,S.props),C.ref=fl(E,_,S),C.return=E,C):(C=rd(S.type,S.key,S.props,null,E.mode,C),C.ref=fl(E,_,S),C.return=E,C)}function u(E,_,S,C){return _===null||_.tag!==4||_.stateNode.containerInfo!==S.containerInfo||_.stateNode.implementation!==S.implementation?(_=Dp(S,E.mode,C),_.return=E,_):(_=s(_,S.children||[]),_.return=E,_)}function d(E,_,S,C,D){return _===null||_.tag!==7?(_=Fi(S,E.mode,C,D),_.return=E,_):(_=s(_,S),_.return=E,_)}function h(E,_,S){if(typeof _=="string"&&_!==""||typeof _=="number")return _=Np(""+_,E.mode,S),_.return=E,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case fu:return S=rd(_.type,_.key,_.props,null,E.mode,S),S.ref=fl(E,null,_),S.return=E,S;case Co:return _=Dp(_,E.mode,S),_.return=E,_;case xs:var C=_._init;return h(E,C(_._payload),S)}if(_l(_)||ll(_))return _=Fi(_,E.mode,S,null),_.return=E,_;Su(E,_)}return null}function p(E,_,S,C){var D=_!==null?_.key:null;if(typeof S=="string"&&S!==""||typeof S=="number")return D!==null?null:a(E,_,""+S,C);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case fu:return S.key===D?l(E,_,S,C):null;case Co:return S.key===D?u(E,_,S,C):null;case xs:return D=S._init,p(E,_,D(S._payload),C)}if(_l(S)||ll(S))return D!==null?null:d(E,_,S,C,null);Su(E,S)}return null}function g(E,_,S,C,D){if(typeof C=="string"&&C!==""||typeof C=="number")return E=E.get(S)||null,a(_,E,""+C,D);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case fu:return E=E.get(C.key===null?S:C.key)||null,l(_,E,C,D);case Co:return E=E.get(C.key===null?S:C.key)||null,u(_,E,C,D);case xs:var O=C._init;return g(E,_,S,O(C._payload),D)}if(_l(C)||ll(C))return E=E.get(S)||null,d(_,E,C,D,null);Su(_,C)}return null}function T(E,_,S,C){for(var D=null,O=null,I=_,b=_=0,A=null;I!==null&&b<S.length;b++){I.index>b?(A=I,I=null):A=I.sibling;var P=p(E,I,S[b],C);if(P===null){I===null&&(I=A);break}t&&I&&P.alternate===null&&e(E,I),_=i(P,_,b),O===null?D=P:O.sibling=P,O=P,I=A}if(b===S.length)return n(E,I),Ue&&Ei(E,b),D;if(I===null){for(;b<S.length;b++)I=h(E,S[b],C),I!==null&&(_=i(I,_,b),O===null?D=I:O.sibling=I,O=I);return Ue&&Ei(E,b),D}for(I=r(E,I);b<S.length;b++)A=g(I,E,b,S[b],C),A!==null&&(t&&A.alternate!==null&&I.delete(A.key===null?b:A.key),_=i(A,_,b),O===null?D=A:O.sibling=A,O=A);return t&&I.forEach(function(N){return e(E,N)}),Ue&&Ei(E,b),D}function v(E,_,S,C){var D=ll(S);if(typeof D!="function")throw Error(B(150));if(S=D.call(S),S==null)throw Error(B(151));for(var O=D=null,I=_,b=_=0,A=null,P=S.next();I!==null&&!P.done;b++,P=S.next()){I.index>b?(A=I,I=null):A=I.sibling;var N=p(E,I,P.value,C);if(N===null){I===null&&(I=A);break}t&&I&&N.alternate===null&&e(E,I),_=i(N,_,b),O===null?D=N:O.sibling=N,O=N,I=A}if(P.done)return n(E,I),Ue&&Ei(E,b),D;if(I===null){for(;!P.done;b++,P=S.next())P=h(E,P.value,C),P!==null&&(_=i(P,_,b),O===null?D=P:O.sibling=P,O=P);return Ue&&Ei(E,b),D}for(I=r(E,I);!P.done;b++,P=S.next())P=g(I,E,b,P.value,C),P!==null&&(t&&P.alternate!==null&&I.delete(P.key===null?b:P.key),_=i(P,_,b),O===null?D=P:O.sibling=P,O=P);return t&&I.forEach(function(M){return e(E,M)}),Ue&&Ei(E,b),D}function x(E,_,S,C){if(typeof S=="object"&&S!==null&&S.type===Ao&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case fu:e:{for(var D=S.key,O=_;O!==null;){if(O.key===D){if(D=S.type,D===Ao){if(O.tag===7){n(E,O.sibling),_=s(O,S.props.children),_.return=E,E=_;break e}}else if(O.elementType===D||typeof D=="object"&&D!==null&&D.$$typeof===xs&&y_(D)===O.type){n(E,O.sibling),_=s(O,S.props),_.ref=fl(E,O,S),_.return=E,E=_;break e}n(E,O);break}else e(E,O);O=O.sibling}S.type===Ao?(_=Fi(S.props.children,E.mode,C,S.key),_.return=E,E=_):(C=rd(S.type,S.key,S.props,null,E.mode,C),C.ref=fl(E,_,S),C.return=E,E=C)}return o(E);case Co:e:{for(O=S.key;_!==null;){if(_.key===O)if(_.tag===4&&_.stateNode.containerInfo===S.containerInfo&&_.stateNode.implementation===S.implementation){n(E,_.sibling),_=s(_,S.children||[]),_.return=E,E=_;break e}else{n(E,_);break}else e(E,_);_=_.sibling}_=Dp(S,E.mode,C),_.return=E,E=_}return o(E);case xs:return O=S._init,x(E,_,O(S._payload),C)}if(_l(S))return T(E,_,S,C);if(ll(S))return v(E,_,S,C);Su(E,S)}return typeof S=="string"&&S!==""||typeof S=="number"?(S=""+S,_!==null&&_.tag===6?(n(E,_.sibling),_=s(_,S),_.return=E,E=_):(n(E,_),_=Np(S,E.mode,C),_.return=E,E=_),o(E)):n(E,_)}return x}var pa=eS(!0),tS=eS(!1),Od=ui(null),Ld=null,Lo=null,by=null;function Iy(){by=Lo=Ld=null}function Cy(t){var e=Od.current;Fe(Od),t._currentValue=e}function Bm(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Bo(t,e){Ld=t,by=Lo=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Yt=!0),t.firstContext=null)}function Rn(t){var e=t._currentValue;if(by!==t)if(t={context:t,memoizedValue:e,next:null},Lo===null){if(Ld===null)throw Error(B(308));Lo=t,Ld.dependencies={lanes:0,firstContext:t}}else Lo=Lo.next=t;return e}var Ii=null;function Ay(t){Ii===null?Ii=[t]:Ii.push(t)}function nS(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,Ay(e)):(n.next=s.next,s.next=n),e.interleaved=n,Yr(t,r)}function Yr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Ts=!1;function Ry(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function rS(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function qr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Bs(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,xe&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,Yr(t,n)}return s=r.interleaved,s===null?(e.next=e,Ay(r)):(e.next=s.next,s.next=e),r.interleaved=e,Yr(t,n)}function Xu(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,py(t,n)}}function v_(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Vd(t,e,n,r){var s=t.updateQueue;Ts=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?i=u:o.next=u,o=l;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=u:a.next=u,d.lastBaseUpdate=l))}if(i!==null){var h=s.baseState;o=0,d=u=l=null,a=i;do{var p=a.lane,g=a.eventTime;if((r&p)===p){d!==null&&(d=d.next={eventTime:g,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var T=t,v=a;switch(p=e,g=n,v.tag){case 1:if(T=v.payload,typeof T=="function"){h=T.call(g,h,p);break e}h=T;break e;case 3:T.flags=T.flags&-65537|128;case 0:if(T=v.payload,p=typeof T=="function"?T.call(g,h,p):T,p==null)break e;h=He({},h,p);break e;case 2:Ts=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,p=s.effects,p===null?s.effects=[a]:p.push(a))}else g={eventTime:g,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(u=d=g,l=h):d=d.next=g,o|=p;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;p=a,a=p.next,p.next=null,s.lastBaseUpdate=p,s.shared.pending=null}}while(!0);if(d===null&&(l=h),s.baseState=l,s.firstBaseUpdate=u,s.lastBaseUpdate=d,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);qi|=o,t.lanes=o,t.memoizedState=h}}function w_(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(B(191,s));s.call(r)}}}var Dc={},_r=ui(Dc),nc=ui(Dc),rc=ui(Dc);function Ci(t){if(t===Dc)throw Error(B(174));return t}function Py(t,e){switch(Oe(rc,e),Oe(nc,t),Oe(_r,Dc),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Tm(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Tm(e,t)}Fe(_r),Oe(_r,e)}function ma(){Fe(_r),Fe(nc),Fe(rc)}function sS(t){Ci(rc.current);var e=Ci(_r.current),n=Tm(e,t.type);e!==n&&(Oe(nc,t),Oe(_r,n))}function ky(t){nc.current===t&&(Fe(_r),Fe(nc))}var ze=ui(0);function jd(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Ip=[];function Ny(){for(var t=0;t<Ip.length;t++)Ip[t]._workInProgressVersionPrimary=null;Ip.length=0}var Ju=ss.ReactCurrentDispatcher,Cp=ss.ReactCurrentBatchConfig,Wi=0,Be=null,lt=null,mt=null,Fd=!1,Dl=!1,sc=0,RD=0;function bt(){throw Error(B(321))}function Dy(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Yn(t[n],e[n]))return!1;return!0}function My(t,e,n,r,s,i){if(Wi=i,Be=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Ju.current=t===null||t.memoizedState===null?DD:MD,t=n(r,s),Dl){i=0;do{if(Dl=!1,sc=0,25<=i)throw Error(B(301));i+=1,mt=lt=null,e.updateQueue=null,Ju.current=OD,t=n(r,s)}while(Dl)}if(Ju.current=Ud,e=lt!==null&&lt.next!==null,Wi=0,mt=lt=Be=null,Fd=!1,e)throw Error(B(300));return t}function Oy(){var t=sc!==0;return sc=0,t}function dr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return mt===null?Be.memoizedState=mt=t:mt=mt.next=t,mt}function Pn(){if(lt===null){var t=Be.alternate;t=t!==null?t.memoizedState:null}else t=lt.next;var e=mt===null?Be.memoizedState:mt.next;if(e!==null)mt=e,lt=t;else{if(t===null)throw Error(B(310));lt=t,t={memoizedState:lt.memoizedState,baseState:lt.baseState,baseQueue:lt.baseQueue,queue:lt.queue,next:null},mt===null?Be.memoizedState=mt=t:mt=mt.next=t}return mt}function ic(t,e){return typeof e=="function"?e(t):e}function Ap(t){var e=Pn(),n=e.queue;if(n===null)throw Error(B(311));n.lastRenderedReducer=t;var r=lt,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,l=null,u=i;do{var d=u.lane;if((Wi&d)===d)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=h,o=r):l=l.next=h,Be.lanes|=d,qi|=d}u=u.next}while(u!==null&&u!==i);l===null?o=r:l.next=a,Yn(r,e.memoizedState)||(Yt=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,Be.lanes|=i,qi|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Rp(t){var e=Pn(),n=e.queue;if(n===null)throw Error(B(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);Yn(i,e.memoizedState)||(Yt=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function iS(){}function oS(t,e){var n=Be,r=Pn(),s=e(),i=!Yn(r.memoizedState,s);if(i&&(r.memoizedState=s,Yt=!0),r=r.queue,Ly(cS.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||mt!==null&&mt.memoizedState.tag&1){if(n.flags|=2048,oc(9,lS.bind(null,n,r,s,e),void 0,null),gt===null)throw Error(B(349));Wi&30||aS(n,e,s)}return s}function aS(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Be.updateQueue,e===null?(e={lastEffect:null,stores:null},Be.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function lS(t,e,n,r){e.value=n,e.getSnapshot=r,uS(e)&&dS(t)}function cS(t,e,n){return n(function(){uS(e)&&dS(t)})}function uS(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Yn(t,n)}catch{return!0}}function dS(t){var e=Yr(t,1);e!==null&&qn(e,t,1,-1)}function __(t){var e=dr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ic,lastRenderedState:t},e.queue=t,t=t.dispatch=ND.bind(null,Be,t),[e.memoizedState,t]}function oc(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Be.updateQueue,e===null?(e={lastEffect:null,stores:null},Be.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function hS(){return Pn().memoizedState}function Zu(t,e,n,r){var s=dr();Be.flags|=t,s.memoizedState=oc(1|e,n,void 0,r===void 0?null:r)}function jh(t,e,n,r){var s=Pn();r=r===void 0?null:r;var i=void 0;if(lt!==null){var o=lt.memoizedState;if(i=o.destroy,r!==null&&Dy(r,o.deps)){s.memoizedState=oc(e,n,i,r);return}}Be.flags|=t,s.memoizedState=oc(1|e,n,i,r)}function E_(t,e){return Zu(8390656,8,t,e)}function Ly(t,e){return jh(2048,8,t,e)}function fS(t,e){return jh(4,2,t,e)}function pS(t,e){return jh(4,4,t,e)}function mS(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function gS(t,e,n){return n=n!=null?n.concat([t]):null,jh(4,4,mS.bind(null,e,t),n)}function Vy(){}function yS(t,e){var n=Pn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Dy(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function vS(t,e){var n=Pn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Dy(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function wS(t,e,n){return Wi&21?(Yn(n,e)||(n=ST(),Be.lanes|=n,qi|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Yt=!0),t.memoizedState=n)}function PD(t,e){var n=Ae;Ae=n!==0&&4>n?n:4,t(!0);var r=Cp.transition;Cp.transition={};try{t(!1),e()}finally{Ae=n,Cp.transition=r}}function _S(){return Pn().memoizedState}function kD(t,e,n){var r=Ws(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},ES(t))xS(e,n);else if(n=nS(t,e,n,r),n!==null){var s=jt();qn(n,t,r,s),TS(n,e,r)}}function ND(t,e,n){var r=Ws(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(ES(t))xS(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,Yn(a,o)){var l=e.interleaved;l===null?(s.next=s,Ay(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}n=nS(t,e,s,r),n!==null&&(s=jt(),qn(n,t,r,s),TS(n,e,r))}}function ES(t){var e=t.alternate;return t===Be||e!==null&&e===Be}function xS(t,e){Dl=Fd=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function TS(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,py(t,n)}}var Ud={readContext:Rn,useCallback:bt,useContext:bt,useEffect:bt,useImperativeHandle:bt,useInsertionEffect:bt,useLayoutEffect:bt,useMemo:bt,useReducer:bt,useRef:bt,useState:bt,useDebugValue:bt,useDeferredValue:bt,useTransition:bt,useMutableSource:bt,useSyncExternalStore:bt,useId:bt,unstable_isNewReconciler:!1},DD={readContext:Rn,useCallback:function(t,e){return dr().memoizedState=[t,e===void 0?null:e],t},useContext:Rn,useEffect:E_,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Zu(4194308,4,mS.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Zu(4194308,4,t,e)},useInsertionEffect:function(t,e){return Zu(4,2,t,e)},useMemo:function(t,e){var n=dr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=dr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=kD.bind(null,Be,t),[r.memoizedState,t]},useRef:function(t){var e=dr();return t={current:t},e.memoizedState=t},useState:__,useDebugValue:Vy,useDeferredValue:function(t){return dr().memoizedState=t},useTransition:function(){var t=__(!1),e=t[0];return t=PD.bind(null,t[1]),dr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Be,s=dr();if(Ue){if(n===void 0)throw Error(B(407));n=n()}else{if(n=e(),gt===null)throw Error(B(349));Wi&30||aS(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,E_(cS.bind(null,r,i,t),[t]),r.flags|=2048,oc(9,lS.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=dr(),e=gt.identifierPrefix;if(Ue){var n=Br,r=zr;n=(r&~(1<<32-Wn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=sc++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=RD++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},MD={readContext:Rn,useCallback:yS,useContext:Rn,useEffect:Ly,useImperativeHandle:gS,useInsertionEffect:fS,useLayoutEffect:pS,useMemo:vS,useReducer:Ap,useRef:hS,useState:function(){return Ap(ic)},useDebugValue:Vy,useDeferredValue:function(t){var e=Pn();return wS(e,lt.memoizedState,t)},useTransition:function(){var t=Ap(ic)[0],e=Pn().memoizedState;return[t,e]},useMutableSource:iS,useSyncExternalStore:oS,useId:_S,unstable_isNewReconciler:!1},OD={readContext:Rn,useCallback:yS,useContext:Rn,useEffect:Ly,useImperativeHandle:gS,useInsertionEffect:fS,useLayoutEffect:pS,useMemo:vS,useReducer:Rp,useRef:hS,useState:function(){return Rp(ic)},useDebugValue:Vy,useDeferredValue:function(t){var e=Pn();return lt===null?e.memoizedState=t:wS(e,lt.memoizedState,t)},useTransition:function(){var t=Rp(ic)[0],e=Pn().memoizedState;return[t,e]},useMutableSource:iS,useSyncExternalStore:oS,useId:_S,unstable_isNewReconciler:!1};function Vn(t,e){if(t&&t.defaultProps){e=He({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Hm(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:He({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Fh={isMounted:function(t){return(t=t._reactInternals)?so(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=jt(),s=Ws(t),i=qr(r,s);i.payload=e,n!=null&&(i.callback=n),e=Bs(t,i,s),e!==null&&(qn(e,t,s,r),Xu(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=jt(),s=Ws(t),i=qr(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=Bs(t,i,s),e!==null&&(qn(e,t,s,r),Xu(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=jt(),r=Ws(t),s=qr(n,r);s.tag=2,e!=null&&(s.callback=e),e=Bs(t,s,r),e!==null&&(qn(e,t,r,n),Xu(e,t,r))}};function x_(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!Jl(n,r)||!Jl(s,i):!0}function SS(t,e,n){var r=!1,s=Zs,i=e.contextType;return typeof i=="object"&&i!==null?i=Rn(i):(s=Jt(e)?Bi:Nt.current,r=e.contextTypes,i=(r=r!=null)?ha(t,s):Zs),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Fh,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function T_(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Fh.enqueueReplaceState(e,e.state,null)}function Wm(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},Ry(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=Rn(i):(i=Jt(e)?Bi:Nt.current,s.context=ha(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Hm(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&Fh.enqueueReplaceState(s,s.state,null),Vd(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function ga(t,e){try{var n="",r=e;do n+=c2(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function Pp(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function qm(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var LD=typeof WeakMap=="function"?WeakMap:Map;function bS(t,e,n){n=qr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){zd||(zd=!0,ng=r),qm(t,e)},n}function IS(t,e,n){n=qr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){qm(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){qm(t,e),typeof r!="function"&&(Hs===null?Hs=new Set([this]):Hs.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function S_(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new LD;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=YD.bind(null,t,e,n),e.then(t,t))}function b_(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function I_(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=qr(-1,1),e.tag=2,Bs(n,e,1))),n.lanes|=1),t)}var VD=ss.ReactCurrentOwner,Yt=!1;function Lt(t,e,n,r){e.child=t===null?tS(e,null,n,r):pa(e,t.child,n,r)}function C_(t,e,n,r,s){n=n.render;var i=e.ref;return Bo(e,s),r=My(t,e,n,r,i,s),n=Oy(),t!==null&&!Yt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Xr(t,e,s)):(Ue&&n&&xy(e),e.flags|=1,Lt(t,e,r,s),e.child)}function A_(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!Wy(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,CS(t,e,i,r,s)):(t=rd(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Jl,n(o,r)&&t.ref===e.ref)return Xr(t,e,s)}return e.flags|=1,t=qs(i,r),t.ref=e.ref,t.return=e,e.child=t}function CS(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(Jl(i,r)&&t.ref===e.ref)if(Yt=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(Yt=!0);else return e.lanes=t.lanes,Xr(t,e,s)}return Gm(t,e,n,r,s)}function AS(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Oe(jo,on),on|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Oe(jo,on),on|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,Oe(jo,on),on|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,Oe(jo,on),on|=r;return Lt(t,e,s,n),e.child}function RS(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Gm(t,e,n,r,s){var i=Jt(n)?Bi:Nt.current;return i=ha(e,i),Bo(e,s),n=My(t,e,n,r,i,s),r=Oy(),t!==null&&!Yt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Xr(t,e,s)):(Ue&&r&&xy(e),e.flags|=1,Lt(t,e,n,s),e.child)}function R_(t,e,n,r,s){if(Jt(n)){var i=!0;Nd(e)}else i=!1;if(Bo(e,s),e.stateNode===null)ed(t,e),SS(e,n,r),Wm(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=Rn(u):(u=Jt(n)?Bi:Nt.current,u=ha(e,u));var d=n.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&T_(e,o,r,u),Ts=!1;var p=e.memoizedState;o.state=p,Vd(e,r,o,s),l=e.memoizedState,a!==r||p!==l||Xt.current||Ts?(typeof d=="function"&&(Hm(e,n,d,r),l=e.memoizedState),(a=Ts||x_(e,n,a,r,p,l,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,rS(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:Vn(e.type,a),o.props=u,h=e.pendingProps,p=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Rn(l):(l=Jt(n)?Bi:Nt.current,l=ha(e,l));var g=n.getDerivedStateFromProps;(d=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||p!==l)&&T_(e,o,r,l),Ts=!1,p=e.memoizedState,o.state=p,Vd(e,r,o,s);var T=e.memoizedState;a!==h||p!==T||Xt.current||Ts?(typeof g=="function"&&(Hm(e,n,g,r),T=e.memoizedState),(u=Ts||x_(e,n,u,r,p,T,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,T,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,T,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=T),o.props=r,o.state=T,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),r=!1)}return Km(t,e,n,r,i,s)}function Km(t,e,n,r,s,i){RS(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&p_(e,n,!1),Xr(t,e,i);r=e.stateNode,VD.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=pa(e,t.child,null,i),e.child=pa(e,null,a,i)):Lt(t,e,a,i),e.memoizedState=r.state,s&&p_(e,n,!0),e.child}function PS(t){var e=t.stateNode;e.pendingContext?f_(t,e.pendingContext,e.pendingContext!==e.context):e.context&&f_(t,e.context,!1),Py(t,e.containerInfo)}function P_(t,e,n,r,s){return fa(),Sy(s),e.flags|=256,Lt(t,e,n,r),e.child}var Qm={dehydrated:null,treeContext:null,retryLane:0};function Ym(t){return{baseLanes:t,cachePool:null,transitions:null}}function kS(t,e,n){var r=e.pendingProps,s=ze.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),Oe(ze,s&1),t===null)return zm(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=zh(o,r,0,null),t=Fi(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=Ym(n),e.memoizedState=Qm,t):jy(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return jD(t,e,o,r,a,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=qs(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=qs(a,i):(i=Fi(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?Ym(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=Qm,r}return i=t.child,t=i.sibling,r=qs(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function jy(t,e){return e=zh({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function bu(t,e,n,r){return r!==null&&Sy(r),pa(e,t.child,null,n),t=jy(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function jD(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=Pp(Error(B(422))),bu(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=zh({mode:"visible",children:r.children},s,0,null),i=Fi(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&pa(e,t.child,null,o),e.child.memoizedState=Ym(o),e.memoizedState=Qm,i);if(!(e.mode&1))return bu(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(B(419)),r=Pp(i,r,void 0),bu(t,e,o,r)}if(a=(o&t.childLanes)!==0,Yt||a){if(r=gt,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Yr(t,s),qn(r,t,s,-1))}return Hy(),r=Pp(Error(B(421))),bu(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=XD.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,ln=zs(s.nextSibling),cn=e,Ue=!0,zn=null,t!==null&&(_n[En++]=zr,_n[En++]=Br,_n[En++]=Hi,zr=t.id,Br=t.overflow,Hi=e),e=jy(e,r.children),e.flags|=4096,e)}function k_(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Bm(t.return,e,n)}function kp(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function NS(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(Lt(t,e,r.children,n),r=ze.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&k_(t,n,e);else if(t.tag===19)k_(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Oe(ze,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&jd(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),kp(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&jd(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}kp(e,!0,n,null,i);break;case"together":kp(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function ed(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Xr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),qi|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(B(153));if(e.child!==null){for(t=e.child,n=qs(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=qs(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function FD(t,e,n){switch(e.tag){case 3:PS(e),fa();break;case 5:sS(e);break;case 1:Jt(e.type)&&Nd(e);break;case 4:Py(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;Oe(Od,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Oe(ze,ze.current&1),e.flags|=128,null):n&e.child.childLanes?kS(t,e,n):(Oe(ze,ze.current&1),t=Xr(t,e,n),t!==null?t.sibling:null);Oe(ze,ze.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return NS(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Oe(ze,ze.current),r)break;return null;case 22:case 23:return e.lanes=0,AS(t,e,n)}return Xr(t,e,n)}var DS,Xm,MS,OS;DS=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Xm=function(){};MS=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,Ci(_r.current);var i=null;switch(n){case"input":s=wm(t,s),r=wm(t,r),i=[];break;case"select":s=He({},s,{value:void 0}),r=He({},r,{value:void 0}),i=[];break;case"textarea":s=xm(t,s),r=xm(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Pd)}Sm(n,r);var o;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var a=s[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Wl.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var l=r[u];if(a=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Wl.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&je("scroll",t),i||a===l||(i=[])):(i=i||[]).push(u,l))}n&&(i=i||[]).push("style",n);var u=i;(e.updateQueue=u)&&(e.flags|=4)}};OS=function(t,e,n,r){n!==r&&(e.flags|=4)};function pl(t,e){if(!Ue)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function It(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function UD(t,e,n){var r=e.pendingProps;switch(Ty(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return It(e),null;case 1:return Jt(e.type)&&kd(),It(e),null;case 3:return r=e.stateNode,ma(),Fe(Xt),Fe(Nt),Ny(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Tu(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,zn!==null&&(ig(zn),zn=null))),Xm(t,e),It(e),null;case 5:ky(e);var s=Ci(rc.current);if(n=e.type,t!==null&&e.stateNode!=null)MS(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(B(166));return It(e),null}if(t=Ci(_r.current),Tu(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[gr]=e,r[tc]=i,t=(e.mode&1)!==0,n){case"dialog":je("cancel",r),je("close",r);break;case"iframe":case"object":case"embed":je("load",r);break;case"video":case"audio":for(s=0;s<xl.length;s++)je(xl[s],r);break;case"source":je("error",r);break;case"img":case"image":case"link":je("error",r),je("load",r);break;case"details":je("toggle",r);break;case"input":U0(r,i),je("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},je("invalid",r);break;case"textarea":z0(r,i),je("invalid",r)}Sm(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&xu(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&xu(r.textContent,a,t),s=["children",""+a]):Wl.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&je("scroll",r)}switch(n){case"input":pu(r),$0(r,i,!0);break;case"textarea":pu(r),B0(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Pd)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=cT(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[gr]=e,t[tc]=r,DS(t,e,!1,!1),e.stateNode=t;e:{switch(o=bm(n,r),n){case"dialog":je("cancel",t),je("close",t),s=r;break;case"iframe":case"object":case"embed":je("load",t),s=r;break;case"video":case"audio":for(s=0;s<xl.length;s++)je(xl[s],t);s=r;break;case"source":je("error",t),s=r;break;case"img":case"image":case"link":je("error",t),je("load",t),s=r;break;case"details":je("toggle",t),s=r;break;case"input":U0(t,r),s=wm(t,r),je("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=He({},r,{value:void 0}),je("invalid",t);break;case"textarea":z0(t,r),s=xm(t,r),je("invalid",t);break;default:s=r}Sm(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?hT(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&uT(t,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&ql(t,l):typeof l=="number"&&ql(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Wl.hasOwnProperty(i)?l!=null&&i==="onScroll"&&je("scroll",t):l!=null&&ly(t,i,l,o))}switch(n){case"input":pu(t),$0(t,r,!1);break;case"textarea":pu(t),B0(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Js(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?Fo(t,!!r.multiple,i,!1):r.defaultValue!=null&&Fo(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Pd)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return It(e),null;case 6:if(t&&e.stateNode!=null)OS(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(B(166));if(n=Ci(rc.current),Ci(_r.current),Tu(e)){if(r=e.stateNode,n=e.memoizedProps,r[gr]=e,(i=r.nodeValue!==n)&&(t=cn,t!==null))switch(t.tag){case 3:xu(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&xu(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[gr]=e,e.stateNode=r}return It(e),null;case 13:if(Fe(ze),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ue&&ln!==null&&e.mode&1&&!(e.flags&128))ZT(),fa(),e.flags|=98560,i=!1;else if(i=Tu(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(B(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(B(317));i[gr]=e}else fa(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;It(e),i=!1}else zn!==null&&(ig(zn),zn=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||ze.current&1?ct===0&&(ct=3):Hy())),e.updateQueue!==null&&(e.flags|=4),It(e),null);case 4:return ma(),Xm(t,e),t===null&&Zl(e.stateNode.containerInfo),It(e),null;case 10:return Cy(e.type._context),It(e),null;case 17:return Jt(e.type)&&kd(),It(e),null;case 19:if(Fe(ze),i=e.memoizedState,i===null)return It(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)pl(i,!1);else{if(ct!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=jd(t),o!==null){for(e.flags|=128,pl(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Oe(ze,ze.current&1|2),e.child}t=t.sibling}i.tail!==null&&Xe()>ya&&(e.flags|=128,r=!0,pl(i,!1),e.lanes=4194304)}else{if(!r)if(t=jd(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),pl(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Ue)return It(e),null}else 2*Xe()-i.renderingStartTime>ya&&n!==1073741824&&(e.flags|=128,r=!0,pl(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=Xe(),e.sibling=null,n=ze.current,Oe(ze,r?n&1|2:n&1),e):(It(e),null);case 22:case 23:return By(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?on&1073741824&&(It(e),e.subtreeFlags&6&&(e.flags|=8192)):It(e),null;case 24:return null;case 25:return null}throw Error(B(156,e.tag))}function $D(t,e){switch(Ty(e),e.tag){case 1:return Jt(e.type)&&kd(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return ma(),Fe(Xt),Fe(Nt),Ny(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return ky(e),null;case 13:if(Fe(ze),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(B(340));fa()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Fe(ze),null;case 4:return ma(),null;case 10:return Cy(e.type._context),null;case 22:case 23:return By(),null;case 24:return null;default:return null}}var Iu=!1,Pt=!1,zD=typeof WeakSet=="function"?WeakSet:Set,Y=null;function Vo(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ke(t,e,r)}else n.current=null}function Jm(t,e,n){try{n()}catch(r){Ke(t,e,r)}}var N_=!1;function BD(t,e){if(Om=Cd,t=UT(),Ey(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,d=0,h=t,p=null;t:for(;;){for(var g;h!==n||s!==0&&h.nodeType!==3||(a=o+s),h!==i||r!==0&&h.nodeType!==3||(l=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(g=h.firstChild)!==null;)p=h,h=g;for(;;){if(h===t)break t;if(p===n&&++u===s&&(a=o),p===i&&++d===r&&(l=o),(g=h.nextSibling)!==null)break;h=p,p=h.parentNode}h=g}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Lm={focusedElem:t,selectionRange:n},Cd=!1,Y=e;Y!==null;)if(e=Y,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Y=t;else for(;Y!==null;){e=Y;try{var T=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(T!==null){var v=T.memoizedProps,x=T.memoizedState,E=e.stateNode,_=E.getSnapshotBeforeUpdate(e.elementType===e.type?v:Vn(e.type,v),x);E.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var S=e.stateNode.containerInfo;S.nodeType===1?S.textContent="":S.nodeType===9&&S.documentElement&&S.removeChild(S.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(B(163))}}catch(C){Ke(e,e.return,C)}if(t=e.sibling,t!==null){t.return=e.return,Y=t;break}Y=e.return}return T=N_,N_=!1,T}function Ml(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&Jm(e,n,i)}s=s.next}while(s!==r)}}function Uh(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Zm(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function LS(t){var e=t.alternate;e!==null&&(t.alternate=null,LS(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[gr],delete e[tc],delete e[Fm],delete e[bD],delete e[ID])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function VS(t){return t.tag===5||t.tag===3||t.tag===4}function D_(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||VS(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function eg(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Pd));else if(r!==4&&(t=t.child,t!==null))for(eg(t,e,n),t=t.sibling;t!==null;)eg(t,e,n),t=t.sibling}function tg(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(tg(t,e,n),t=t.sibling;t!==null;)tg(t,e,n),t=t.sibling}var vt=null,$n=!1;function gs(t,e,n){for(n=n.child;n!==null;)jS(t,e,n),n=n.sibling}function jS(t,e,n){if(wr&&typeof wr.onCommitFiberUnmount=="function")try{wr.onCommitFiberUnmount(Nh,n)}catch{}switch(n.tag){case 5:Pt||Vo(n,e);case 6:var r=vt,s=$n;vt=null,gs(t,e,n),vt=r,$n=s,vt!==null&&($n?(t=vt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):vt.removeChild(n.stateNode));break;case 18:vt!==null&&($n?(t=vt,n=n.stateNode,t.nodeType===8?Sp(t.parentNode,n):t.nodeType===1&&Sp(t,n),Yl(t)):Sp(vt,n.stateNode));break;case 4:r=vt,s=$n,vt=n.stateNode.containerInfo,$n=!0,gs(t,e,n),vt=r,$n=s;break;case 0:case 11:case 14:case 15:if(!Pt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Jm(n,e,o),s=s.next}while(s!==r)}gs(t,e,n);break;case 1:if(!Pt&&(Vo(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Ke(n,e,a)}gs(t,e,n);break;case 21:gs(t,e,n);break;case 22:n.mode&1?(Pt=(r=Pt)||n.memoizedState!==null,gs(t,e,n),Pt=r):gs(t,e,n);break;default:gs(t,e,n)}}function M_(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new zD),e.forEach(function(r){var s=JD.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function On(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:vt=a.stateNode,$n=!1;break e;case 3:vt=a.stateNode.containerInfo,$n=!0;break e;case 4:vt=a.stateNode.containerInfo,$n=!0;break e}a=a.return}if(vt===null)throw Error(B(160));jS(i,o,s),vt=null,$n=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(u){Ke(s,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)FS(e,t),e=e.sibling}function FS(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(On(e,t),ur(t),r&4){try{Ml(3,t,t.return),Uh(3,t)}catch(v){Ke(t,t.return,v)}try{Ml(5,t,t.return)}catch(v){Ke(t,t.return,v)}}break;case 1:On(e,t),ur(t),r&512&&n!==null&&Vo(n,n.return);break;case 5:if(On(e,t),ur(t),r&512&&n!==null&&Vo(n,n.return),t.flags&32){var s=t.stateNode;try{ql(s,"")}catch(v){Ke(t,t.return,v)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&aT(s,i),bm(a,o);var u=bm(a,i);for(o=0;o<l.length;o+=2){var d=l[o],h=l[o+1];d==="style"?hT(s,h):d==="dangerouslySetInnerHTML"?uT(s,h):d==="children"?ql(s,h):ly(s,d,h,u)}switch(a){case"input":_m(s,i);break;case"textarea":lT(s,i);break;case"select":var p=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var g=i.value;g!=null?Fo(s,!!i.multiple,g,!1):p!==!!i.multiple&&(i.defaultValue!=null?Fo(s,!!i.multiple,i.defaultValue,!0):Fo(s,!!i.multiple,i.multiple?[]:"",!1))}s[tc]=i}catch(v){Ke(t,t.return,v)}}break;case 6:if(On(e,t),ur(t),r&4){if(t.stateNode===null)throw Error(B(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(v){Ke(t,t.return,v)}}break;case 3:if(On(e,t),ur(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Yl(e.containerInfo)}catch(v){Ke(t,t.return,v)}break;case 4:On(e,t),ur(t);break;case 13:On(e,t),ur(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||($y=Xe())),r&4&&M_(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(Pt=(u=Pt)||d,On(e,t),Pt=u):On(e,t),ur(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(Y=t,d=t.child;d!==null;){for(h=Y=d;Y!==null;){switch(p=Y,g=p.child,p.tag){case 0:case 11:case 14:case 15:Ml(4,p,p.return);break;case 1:Vo(p,p.return);var T=p.stateNode;if(typeof T.componentWillUnmount=="function"){r=p,n=p.return;try{e=r,T.props=e.memoizedProps,T.state=e.memoizedState,T.componentWillUnmount()}catch(v){Ke(r,n,v)}}break;case 5:Vo(p,p.return);break;case 22:if(p.memoizedState!==null){L_(h);continue}}g!==null?(g.return=p,Y=g):L_(h)}d=d.sibling}e:for(d=null,h=t;;){if(h.tag===5){if(d===null){d=h;try{s=h.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=dT("display",o))}catch(v){Ke(t,t.return,v)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(v){Ke(t,t.return,v)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:On(e,t),ur(t),r&4&&M_(t);break;case 21:break;default:On(e,t),ur(t)}}function ur(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(VS(n)){var r=n;break e}n=n.return}throw Error(B(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(ql(s,""),r.flags&=-33);var i=D_(t);tg(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=D_(t);eg(t,a,o);break;default:throw Error(B(161))}}catch(l){Ke(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function HD(t,e,n){Y=t,US(t)}function US(t,e,n){for(var r=(t.mode&1)!==0;Y!==null;){var s=Y,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||Iu;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||Pt;a=Iu;var u=Pt;if(Iu=o,(Pt=l)&&!u)for(Y=s;Y!==null;)o=Y,l=o.child,o.tag===22&&o.memoizedState!==null?V_(s):l!==null?(l.return=o,Y=l):V_(s);for(;i!==null;)Y=i,US(i),i=i.sibling;Y=s,Iu=a,Pt=u}O_(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,Y=i):O_(t)}}function O_(t){for(;Y!==null;){var e=Y;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Pt||Uh(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Pt)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:Vn(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&w_(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}w_(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&Yl(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(B(163))}Pt||e.flags&512&&Zm(e)}catch(p){Ke(e,e.return,p)}}if(e===t){Y=null;break}if(n=e.sibling,n!==null){n.return=e.return,Y=n;break}Y=e.return}}function L_(t){for(;Y!==null;){var e=Y;if(e===t){Y=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Y=n;break}Y=e.return}}function V_(t){for(;Y!==null;){var e=Y;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Uh(4,e)}catch(l){Ke(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(l){Ke(e,s,l)}}var i=e.return;try{Zm(e)}catch(l){Ke(e,i,l)}break;case 5:var o=e.return;try{Zm(e)}catch(l){Ke(e,o,l)}}}catch(l){Ke(e,e.return,l)}if(e===t){Y=null;break}var a=e.sibling;if(a!==null){a.return=e.return,Y=a;break}Y=e.return}}var WD=Math.ceil,$d=ss.ReactCurrentDispatcher,Fy=ss.ReactCurrentOwner,In=ss.ReactCurrentBatchConfig,xe=0,gt=null,nt=null,Et=0,on=0,jo=ui(0),ct=0,ac=null,qi=0,$h=0,Uy=0,Ol=null,Qt=null,$y=0,ya=1/0,jr=null,zd=!1,ng=null,Hs=null,Cu=!1,Ls=null,Bd=0,Ll=0,rg=null,td=-1,nd=0;function jt(){return xe&6?Xe():td!==-1?td:td=Xe()}function Ws(t){return t.mode&1?xe&2&&Et!==0?Et&-Et:AD.transition!==null?(nd===0&&(nd=ST()),nd):(t=Ae,t!==0||(t=window.event,t=t===void 0?16:kT(t.type)),t):1}function qn(t,e,n,r){if(50<Ll)throw Ll=0,rg=null,Error(B(185));Pc(t,n,r),(!(xe&2)||t!==gt)&&(t===gt&&(!(xe&2)&&($h|=n),ct===4&&Is(t,Et)),Zt(t,r),n===1&&xe===0&&!(e.mode&1)&&(ya=Xe()+500,Vh&&di()))}function Zt(t,e){var n=t.callbackNode;A2(t,e);var r=Id(t,t===gt?Et:0);if(r===0)n!==null&&q0(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&q0(n),e===1)t.tag===0?CD(j_.bind(null,t)):YT(j_.bind(null,t)),TD(function(){!(xe&6)&&di()}),n=null;else{switch(bT(r)){case 1:n=fy;break;case 4:n=xT;break;case 16:n=bd;break;case 536870912:n=TT;break;default:n=bd}n=KS(n,$S.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function $S(t,e){if(td=-1,nd=0,xe&6)throw Error(B(327));var n=t.callbackNode;if(Ho()&&t.callbackNode!==n)return null;var r=Id(t,t===gt?Et:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Hd(t,r);else{e=r;var s=xe;xe|=2;var i=BS();(gt!==t||Et!==e)&&(jr=null,ya=Xe()+500,ji(t,e));do try{KD();break}catch(a){zS(t,a)}while(!0);Iy(),$d.current=i,xe=s,nt!==null?e=0:(gt=null,Et=0,e=ct)}if(e!==0){if(e===2&&(s=Pm(t),s!==0&&(r=s,e=sg(t,s))),e===1)throw n=ac,ji(t,0),Is(t,r),Zt(t,Xe()),n;if(e===6)Is(t,r);else{if(s=t.current.alternate,!(r&30)&&!qD(s)&&(e=Hd(t,r),e===2&&(i=Pm(t),i!==0&&(r=i,e=sg(t,i))),e===1))throw n=ac,ji(t,0),Is(t,r),Zt(t,Xe()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(B(345));case 2:xi(t,Qt,jr);break;case 3:if(Is(t,r),(r&130023424)===r&&(e=$y+500-Xe(),10<e)){if(Id(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){jt(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=jm(xi.bind(null,t,Qt,jr),e);break}xi(t,Qt,jr);break;case 4:if(Is(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-Wn(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=Xe()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*WD(r/1960))-r,10<r){t.timeoutHandle=jm(xi.bind(null,t,Qt,jr),r);break}xi(t,Qt,jr);break;case 5:xi(t,Qt,jr);break;default:throw Error(B(329))}}}return Zt(t,Xe()),t.callbackNode===n?$S.bind(null,t):null}function sg(t,e){var n=Ol;return t.current.memoizedState.isDehydrated&&(ji(t,e).flags|=256),t=Hd(t,e),t!==2&&(e=Qt,Qt=n,e!==null&&ig(e)),t}function ig(t){Qt===null?Qt=t:Qt.push.apply(Qt,t)}function qD(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!Yn(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Is(t,e){for(e&=~Uy,e&=~$h,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Wn(e),r=1<<n;t[n]=-1,e&=~r}}function j_(t){if(xe&6)throw Error(B(327));Ho();var e=Id(t,0);if(!(e&1))return Zt(t,Xe()),null;var n=Hd(t,e);if(t.tag!==0&&n===2){var r=Pm(t);r!==0&&(e=r,n=sg(t,r))}if(n===1)throw n=ac,ji(t,0),Is(t,e),Zt(t,Xe()),n;if(n===6)throw Error(B(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,xi(t,Qt,jr),Zt(t,Xe()),null}function zy(t,e){var n=xe;xe|=1;try{return t(e)}finally{xe=n,xe===0&&(ya=Xe()+500,Vh&&di())}}function Gi(t){Ls!==null&&Ls.tag===0&&!(xe&6)&&Ho();var e=xe;xe|=1;var n=In.transition,r=Ae;try{if(In.transition=null,Ae=1,t)return t()}finally{Ae=r,In.transition=n,xe=e,!(xe&6)&&di()}}function By(){on=jo.current,Fe(jo)}function ji(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,xD(n)),nt!==null)for(n=nt.return;n!==null;){var r=n;switch(Ty(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&kd();break;case 3:ma(),Fe(Xt),Fe(Nt),Ny();break;case 5:ky(r);break;case 4:ma();break;case 13:Fe(ze);break;case 19:Fe(ze);break;case 10:Cy(r.type._context);break;case 22:case 23:By()}n=n.return}if(gt=t,nt=t=qs(t.current,null),Et=on=e,ct=0,ac=null,Uy=$h=qi=0,Qt=Ol=null,Ii!==null){for(e=0;e<Ii.length;e++)if(n=Ii[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}Ii=null}return t}function zS(t,e){do{var n=nt;try{if(Iy(),Ju.current=Ud,Fd){for(var r=Be.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Fd=!1}if(Wi=0,mt=lt=Be=null,Dl=!1,sc=0,Fy.current=null,n===null||n.return===null){ct=1,ac=e,nt=null;break}e:{var i=t,o=n.return,a=n,l=e;if(e=Et,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,d=a,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var g=b_(o);if(g!==null){g.flags&=-257,I_(g,o,a,i,e),g.mode&1&&S_(i,u,e),e=g,l=u;var T=e.updateQueue;if(T===null){var v=new Set;v.add(l),e.updateQueue=v}else T.add(l);break e}else{if(!(e&1)){S_(i,u,e),Hy();break e}l=Error(B(426))}}else if(Ue&&a.mode&1){var x=b_(o);if(x!==null){!(x.flags&65536)&&(x.flags|=256),I_(x,o,a,i,e),Sy(ga(l,a));break e}}i=l=ga(l,a),ct!==4&&(ct=2),Ol===null?Ol=[i]:Ol.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var E=bS(i,l,e);v_(i,E);break e;case 1:a=l;var _=i.type,S=i.stateNode;if(!(i.flags&128)&&(typeof _.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(Hs===null||!Hs.has(S)))){i.flags|=65536,e&=-e,i.lanes|=e;var C=IS(i,a,e);v_(i,C);break e}}i=i.return}while(i!==null)}WS(n)}catch(D){e=D,nt===n&&n!==null&&(nt=n=n.return);continue}break}while(!0)}function BS(){var t=$d.current;return $d.current=Ud,t===null?Ud:t}function Hy(){(ct===0||ct===3||ct===2)&&(ct=4),gt===null||!(qi&268435455)&&!($h&268435455)||Is(gt,Et)}function Hd(t,e){var n=xe;xe|=2;var r=BS();(gt!==t||Et!==e)&&(jr=null,ji(t,e));do try{GD();break}catch(s){zS(t,s)}while(!0);if(Iy(),xe=n,$d.current=r,nt!==null)throw Error(B(261));return gt=null,Et=0,ct}function GD(){for(;nt!==null;)HS(nt)}function KD(){for(;nt!==null&&!w2();)HS(nt)}function HS(t){var e=GS(t.alternate,t,on);t.memoizedProps=t.pendingProps,e===null?WS(t):nt=e,Fy.current=null}function WS(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=$D(n,e),n!==null){n.flags&=32767,nt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{ct=6,nt=null;return}}else if(n=UD(n,e,on),n!==null){nt=n;return}if(e=e.sibling,e!==null){nt=e;return}nt=e=t}while(e!==null);ct===0&&(ct=5)}function xi(t,e,n){var r=Ae,s=In.transition;try{In.transition=null,Ae=1,QD(t,e,n,r)}finally{In.transition=s,Ae=r}return null}function QD(t,e,n,r){do Ho();while(Ls!==null);if(xe&6)throw Error(B(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(B(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(R2(t,i),t===gt&&(nt=gt=null,Et=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Cu||(Cu=!0,KS(bd,function(){return Ho(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=In.transition,In.transition=null;var o=Ae;Ae=1;var a=xe;xe|=4,Fy.current=null,BD(t,n),FS(n,t),mD(Lm),Cd=!!Om,Lm=Om=null,t.current=n,HD(n),_2(),xe=a,Ae=o,In.transition=i}else t.current=n;if(Cu&&(Cu=!1,Ls=t,Bd=s),i=t.pendingLanes,i===0&&(Hs=null),T2(n.stateNode),Zt(t,Xe()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(zd)throw zd=!1,t=ng,ng=null,t;return Bd&1&&t.tag!==0&&Ho(),i=t.pendingLanes,i&1?t===rg?Ll++:(Ll=0,rg=t):Ll=0,di(),null}function Ho(){if(Ls!==null){var t=bT(Bd),e=In.transition,n=Ae;try{if(In.transition=null,Ae=16>t?16:t,Ls===null)var r=!1;else{if(t=Ls,Ls=null,Bd=0,xe&6)throw Error(B(331));var s=xe;for(xe|=4,Y=t.current;Y!==null;){var i=Y,o=i.child;if(Y.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(Y=u;Y!==null;){var d=Y;switch(d.tag){case 0:case 11:case 15:Ml(8,d,i)}var h=d.child;if(h!==null)h.return=d,Y=h;else for(;Y!==null;){d=Y;var p=d.sibling,g=d.return;if(LS(d),d===u){Y=null;break}if(p!==null){p.return=g,Y=p;break}Y=g}}}var T=i.alternate;if(T!==null){var v=T.child;if(v!==null){T.child=null;do{var x=v.sibling;v.sibling=null,v=x}while(v!==null)}}Y=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,Y=o;else e:for(;Y!==null;){if(i=Y,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Ml(9,i,i.return)}var E=i.sibling;if(E!==null){E.return=i.return,Y=E;break e}Y=i.return}}var _=t.current;for(Y=_;Y!==null;){o=Y;var S=o.child;if(o.subtreeFlags&2064&&S!==null)S.return=o,Y=S;else e:for(o=_;Y!==null;){if(a=Y,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Uh(9,a)}}catch(D){Ke(a,a.return,D)}if(a===o){Y=null;break e}var C=a.sibling;if(C!==null){C.return=a.return,Y=C;break e}Y=a.return}}if(xe=s,di(),wr&&typeof wr.onPostCommitFiberRoot=="function")try{wr.onPostCommitFiberRoot(Nh,t)}catch{}r=!0}return r}finally{Ae=n,In.transition=e}}return!1}function F_(t,e,n){e=ga(n,e),e=bS(t,e,1),t=Bs(t,e,1),e=jt(),t!==null&&(Pc(t,1,e),Zt(t,e))}function Ke(t,e,n){if(t.tag===3)F_(t,t,n);else for(;e!==null;){if(e.tag===3){F_(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Hs===null||!Hs.has(r))){t=ga(n,t),t=IS(e,t,1),e=Bs(e,t,1),t=jt(),e!==null&&(Pc(e,1,t),Zt(e,t));break}}e=e.return}}function YD(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=jt(),t.pingedLanes|=t.suspendedLanes&n,gt===t&&(Et&n)===n&&(ct===4||ct===3&&(Et&130023424)===Et&&500>Xe()-$y?ji(t,0):Uy|=n),Zt(t,e)}function qS(t,e){e===0&&(t.mode&1?(e=yu,yu<<=1,!(yu&130023424)&&(yu=4194304)):e=1);var n=jt();t=Yr(t,e),t!==null&&(Pc(t,e,n),Zt(t,n))}function XD(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),qS(t,n)}function JD(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(B(314))}r!==null&&r.delete(e),qS(t,n)}var GS;GS=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Xt.current)Yt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Yt=!1,FD(t,e,n);Yt=!!(t.flags&131072)}else Yt=!1,Ue&&e.flags&1048576&&XT(e,Md,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;ed(t,e),t=e.pendingProps;var s=ha(e,Nt.current);Bo(e,n),s=My(null,e,r,t,s,n);var i=Oy();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Jt(r)?(i=!0,Nd(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Ry(e),s.updater=Fh,e.stateNode=s,s._reactInternals=e,Wm(e,r,t,n),e=Km(null,e,r,!0,i,n)):(e.tag=0,Ue&&i&&xy(e),Lt(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(ed(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=eM(r),t=Vn(r,t),s){case 0:e=Gm(null,e,r,t,n);break e;case 1:e=R_(null,e,r,t,n);break e;case 11:e=C_(null,e,r,t,n);break e;case 14:e=A_(null,e,r,Vn(r.type,t),n);break e}throw Error(B(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Vn(r,s),Gm(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Vn(r,s),R_(t,e,r,s,n);case 3:e:{if(PS(e),t===null)throw Error(B(387));r=e.pendingProps,i=e.memoizedState,s=i.element,rS(t,e),Vd(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=ga(Error(B(423)),e),e=P_(t,e,r,n,s);break e}else if(r!==s){s=ga(Error(B(424)),e),e=P_(t,e,r,n,s);break e}else for(ln=zs(e.stateNode.containerInfo.firstChild),cn=e,Ue=!0,zn=null,n=tS(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(fa(),r===s){e=Xr(t,e,n);break e}Lt(t,e,r,n)}e=e.child}return e;case 5:return sS(e),t===null&&zm(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,Vm(r,s)?o=null:i!==null&&Vm(r,i)&&(e.flags|=32),RS(t,e),Lt(t,e,o,n),e.child;case 6:return t===null&&zm(e),null;case 13:return kS(t,e,n);case 4:return Py(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=pa(e,null,r,n):Lt(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Vn(r,s),C_(t,e,r,s,n);case 7:return Lt(t,e,e.pendingProps,n),e.child;case 8:return Lt(t,e,e.pendingProps.children,n),e.child;case 12:return Lt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,Oe(Od,r._currentValue),r._currentValue=o,i!==null)if(Yn(i.value,o)){if(i.children===s.children&&!Xt.current){e=Xr(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=qr(-1,n&-n),l.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?l.next=l:(l.next=d.next,d.next=l),u.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),Bm(i.return,n,e),a.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(B(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Bm(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Lt(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,Bo(e,n),s=Rn(s),r=r(s),e.flags|=1,Lt(t,e,r,n),e.child;case 14:return r=e.type,s=Vn(r,e.pendingProps),s=Vn(r.type,s),A_(t,e,r,s,n);case 15:return CS(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Vn(r,s),ed(t,e),e.tag=1,Jt(r)?(t=!0,Nd(e)):t=!1,Bo(e,n),SS(e,r,s),Wm(e,r,s,n),Km(null,e,r,!0,t,n);case 19:return NS(t,e,n);case 22:return AS(t,e,n)}throw Error(B(156,e.tag))};function KS(t,e){return ET(t,e)}function ZD(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function bn(t,e,n,r){return new ZD(t,e,n,r)}function Wy(t){return t=t.prototype,!(!t||!t.isReactComponent)}function eM(t){if(typeof t=="function")return Wy(t)?1:0;if(t!=null){if(t=t.$$typeof,t===uy)return 11;if(t===dy)return 14}return 2}function qs(t,e){var n=t.alternate;return n===null?(n=bn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function rd(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")Wy(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Ao:return Fi(n.children,s,i,e);case cy:o=8,s|=8;break;case mm:return t=bn(12,n,e,s|2),t.elementType=mm,t.lanes=i,t;case gm:return t=bn(13,n,e,s),t.elementType=gm,t.lanes=i,t;case ym:return t=bn(19,n,e,s),t.elementType=ym,t.lanes=i,t;case sT:return zh(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case nT:o=10;break e;case rT:o=9;break e;case uy:o=11;break e;case dy:o=14;break e;case xs:o=16,r=null;break e}throw Error(B(130,t==null?t:typeof t,""))}return e=bn(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function Fi(t,e,n,r){return t=bn(7,t,r,e),t.lanes=n,t}function zh(t,e,n,r){return t=bn(22,t,r,e),t.elementType=sT,t.lanes=n,t.stateNode={isHidden:!1},t}function Np(t,e,n){return t=bn(6,t,null,e),t.lanes=n,t}function Dp(t,e,n){return e=bn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function tM(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=fp(0),this.expirationTimes=fp(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=fp(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function qy(t,e,n,r,s,i,o,a,l){return t=new tM(t,e,n,a,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=bn(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ry(i),t}function nM(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Co,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function QS(t){if(!t)return Zs;t=t._reactInternals;e:{if(so(t)!==t||t.tag!==1)throw Error(B(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Jt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(B(171))}if(t.tag===1){var n=t.type;if(Jt(n))return QT(t,n,e)}return e}function YS(t,e,n,r,s,i,o,a,l){return t=qy(n,r,!0,t,s,i,o,a,l),t.context=QS(null),n=t.current,r=jt(),s=Ws(n),i=qr(r,s),i.callback=e??null,Bs(n,i,s),t.current.lanes=s,Pc(t,s,r),Zt(t,r),t}function Bh(t,e,n,r){var s=e.current,i=jt(),o=Ws(s);return n=QS(n),e.context===null?e.context=n:e.pendingContext=n,e=qr(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Bs(s,e,o),t!==null&&(qn(t,s,o,i),Xu(t,s,o)),o}function Wd(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function U_(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Gy(t,e){U_(t,e),(t=t.alternate)&&U_(t,e)}function rM(){return null}var XS=typeof reportError=="function"?reportError:function(t){console.error(t)};function Ky(t){this._internalRoot=t}Hh.prototype.render=Ky.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(B(409));Bh(t,e,null,null)};Hh.prototype.unmount=Ky.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Gi(function(){Bh(null,t,null,null)}),e[Qr]=null}};function Hh(t){this._internalRoot=t}Hh.prototype.unstable_scheduleHydration=function(t){if(t){var e=AT();t={blockedOn:null,target:t,priority:e};for(var n=0;n<bs.length&&e!==0&&e<bs[n].priority;n++);bs.splice(n,0,t),n===0&&PT(t)}};function Qy(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Wh(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function $_(){}function sM(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var u=Wd(o);i.call(u)}}var o=YS(e,r,t,0,null,!1,!1,"",$_);return t._reactRootContainer=o,t[Qr]=o.current,Zl(t.nodeType===8?t.parentNode:t),Gi(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var u=Wd(l);a.call(u)}}var l=qy(t,0,!1,null,null,!1,!1,"",$_);return t._reactRootContainer=l,t[Qr]=l.current,Zl(t.nodeType===8?t.parentNode:t),Gi(function(){Bh(e,l,n,r)}),l}function qh(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=Wd(o);a.call(l)}}Bh(e,o,t,s)}else o=sM(n,e,t,s,r);return Wd(o)}IT=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=El(e.pendingLanes);n!==0&&(py(e,n|1),Zt(e,Xe()),!(xe&6)&&(ya=Xe()+500,di()))}break;case 13:Gi(function(){var r=Yr(t,1);if(r!==null){var s=jt();qn(r,t,1,s)}}),Gy(t,1)}};my=function(t){if(t.tag===13){var e=Yr(t,134217728);if(e!==null){var n=jt();qn(e,t,134217728,n)}Gy(t,134217728)}};CT=function(t){if(t.tag===13){var e=Ws(t),n=Yr(t,e);if(n!==null){var r=jt();qn(n,t,e,r)}Gy(t,e)}};AT=function(){return Ae};RT=function(t,e){var n=Ae;try{return Ae=t,e()}finally{Ae=n}};Cm=function(t,e,n){switch(e){case"input":if(_m(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=Lh(r);if(!s)throw Error(B(90));oT(r),_m(r,s)}}}break;case"textarea":lT(t,n);break;case"select":e=n.value,e!=null&&Fo(t,!!n.multiple,e,!1)}};mT=zy;gT=Gi;var iM={usingClientEntryPoint:!1,Events:[Nc,No,Lh,fT,pT,zy]},ml={findFiberByHostInstance:bi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},oM={bundleType:ml.bundleType,version:ml.version,rendererPackageName:ml.rendererPackageName,rendererConfig:ml.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ss.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=wT(t),t===null?null:t.stateNode},findFiberByHostInstance:ml.findFiberByHostInstance||rM,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Au=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Au.isDisabled&&Au.supportsFiber)try{Nh=Au.inject(oM),wr=Au}catch{}}pn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=iM;pn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Qy(e))throw Error(B(200));return nM(t,e,null,n)};pn.createRoot=function(t,e){if(!Qy(t))throw Error(B(299));var n=!1,r="",s=XS;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=qy(t,1,!1,null,null,n,!1,r,s),t[Qr]=e.current,Zl(t.nodeType===8?t.parentNode:t),new Ky(e)};pn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(B(188)):(t=Object.keys(t).join(","),Error(B(268,t)));return t=wT(e),t=t===null?null:t.stateNode,t};pn.flushSync=function(t){return Gi(t)};pn.hydrate=function(t,e,n){if(!Wh(e))throw Error(B(200));return qh(null,t,e,!0,n)};pn.hydrateRoot=function(t,e,n){if(!Qy(t))throw Error(B(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=XS;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=YS(e,null,t,1,n??null,s,!1,i,o),t[Qr]=e.current,Zl(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new Hh(e)};pn.render=function(t,e,n){if(!Wh(e))throw Error(B(200));return qh(null,t,e,!1,n)};pn.unmountComponentAtNode=function(t){if(!Wh(t))throw Error(B(40));return t._reactRootContainer?(Gi(function(){qh(null,null,t,!1,function(){t._reactRootContainer=null,t[Qr]=null})}),!0):!1};pn.unstable_batchedUpdates=zy;pn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Wh(n))throw Error(B(200));if(t==null||t._reactInternals===void 0)throw Error(B(38));return qh(t,e,n,!1,r)};pn.version="18.3.1-next-f1338f8080-20240426";function JS(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(JS)}catch(t){console.error(t)}}JS(),Jx.exports=pn;var Mc=Jx.exports;const ZS=Ux(Mc);var eb,z_=Mc;eb=z_.createRoot,z_.hydrateRoot;const aM=1,lM=1e6;let Mp=0;function cM(){return Mp=(Mp+1)%Number.MAX_SAFE_INTEGER,Mp.toString()}const Op=new Map,B_=t=>{if(Op.has(t))return;const e=setTimeout(()=>{Op.delete(t),Vl({type:"REMOVE_TOAST",toastId:t})},lM);Op.set(t,e)},uM=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,aM)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?B_(n):t.toasts.forEach(r=>{B_(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},sd=[];let id={toasts:[]};function Vl(t){id=uM(id,t),sd.forEach(e=>{e(id)})}function dM({...t}){const e=cM(),n=s=>Vl({type:"UPDATE_TOAST",toast:{...s,id:e}}),r=()=>Vl({type:"DISMISS_TOAST",toastId:e});return Vl({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:s=>{s||r()}}}),{id:e,dismiss:r,update:n}}function hM(){const[t,e]=y.useState(id);return y.useEffect(()=>(sd.push(e),()=>{const n=sd.indexOf(e);n>-1&&sd.splice(n,1)}),[t]),{...t,toast:dM,dismiss:n=>Vl({type:"DISMISS_TOAST",toastId:n})}}function J(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t==null||t(s),n===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function H_(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function Gh(...t){return e=>{let n=!1;const r=t.map(s=>{const i=H_(s,e);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():H_(t[s],null)}}}}function Re(...t){return y.useCallback(Gh(...t),t)}function fM(t,e){const n=y.createContext(e),r=i=>{const{children:o,...a}=i,l=y.useMemo(()=>a,Object.values(a));return f.jsx(n.Provider,{value:l,children:o})};r.displayName=t+"Provider";function s(i){const o=y.useContext(n);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${i}\` must be used within \`${t}\``)}return[r,s]}function tr(t,e=[]){let n=[];function r(i,o){const a=y.createContext(o),l=n.length;n=[...n,o];const u=h=>{var E;const{scope:p,children:g,...T}=h,v=((E=p==null?void 0:p[t])==null?void 0:E[l])||a,x=y.useMemo(()=>T,Object.values(T));return f.jsx(v.Provider,{value:x,children:g})};u.displayName=i+"Provider";function d(h,p){var v;const g=((v=p==null?void 0:p[t])==null?void 0:v[l])||a,T=y.useContext(g);if(T)return T;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${i}\``)}return[u,d]}const s=()=>{const i=n.map(o=>y.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return y.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,pM(s,...e)]}function pM(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:u})=>{const h=l(i)[`__scope${u}`];return{...a,...h}},{});return y.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function va(t){const e=gM(t),n=y.forwardRef((r,s)=>{const{children:i,...o}=r,a=y.Children.toArray(i),l=a.find(yM);if(l){const u=l.props.children,d=a.map(h=>h===l?y.Children.count(u)>1?y.Children.only(null):y.isValidElement(u)?u.props.children:null:h);return f.jsx(e,{...o,ref:s,children:y.isValidElement(u)?y.cloneElement(u,void 0,d):null})}return f.jsx(e,{...o,ref:s,children:i})});return n.displayName=`${t}.Slot`,n}var mM=va("Slot");function gM(t){const e=y.forwardRef((n,r)=>{const{children:s,...i}=n;if(y.isValidElement(s)){const o=wM(s),a=vM(i,s.props);return s.type!==y.Fragment&&(a.ref=r?Gh(r,o):o),y.cloneElement(s,a)}return y.Children.count(s)>1?y.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var tb=Symbol("radix.slottable");function nb(t){const e=({children:n})=>f.jsx(f.Fragment,{children:n});return e.displayName=`${t}.Slottable`,e.__radixId=tb,e}function yM(t){return y.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===tb}function vM(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...a)=>{const l=i(...a);return s(...a),l}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function wM(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function Yy(t){const e=t+"CollectionProvider",[n,r]=tr(e),[s,i]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=v=>{const{scope:x,children:E}=v,_=W.useRef(null),S=W.useRef(new Map).current;return f.jsx(s,{scope:x,itemMap:S,collectionRef:_,children:E})};o.displayName=e;const a=t+"CollectionSlot",l=va(a),u=W.forwardRef((v,x)=>{const{scope:E,children:_}=v,S=i(a,E),C=Re(x,S.collectionRef);return f.jsx(l,{ref:C,children:_})});u.displayName=a;const d=t+"CollectionItemSlot",h="data-radix-collection-item",p=va(d),g=W.forwardRef((v,x)=>{const{scope:E,children:_,...S}=v,C=W.useRef(null),D=Re(x,C),O=i(d,E);return W.useEffect(()=>(O.itemMap.set(C,{ref:C,...S}),()=>void O.itemMap.delete(C))),f.jsx(p,{[h]:"",ref:D,children:_})});g.displayName=d;function T(v){const x=i(t+"CollectionConsumer",v);return W.useCallback(()=>{const _=x.collectionRef.current;if(!_)return[];const S=Array.from(_.querySelectorAll(`[${h}]`));return Array.from(x.itemMap.values()).sort((O,I)=>S.indexOf(O.ref.current)-S.indexOf(I.ref.current))},[x.collectionRef,x.itemMap])}return[{Provider:o,Slot:u,ItemSlot:g},T,r]}var _M=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],_e=_M.reduce((t,e)=>{const n=va(`Primitive.${e}`),r=y.forwardRef((s,i)=>{const{asChild:o,...a}=s,l=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),f.jsx(l,{...a,ref:i})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function Xy(t,e){t&&Mc.flushSync(()=>t.dispatchEvent(e))}function Je(t){const e=y.useRef(t);return y.useEffect(()=>{e.current=t}),y.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function EM(t,e=globalThis==null?void 0:globalThis.document){const n=Je(t);y.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var xM="DismissableLayer",og="dismissableLayer.update",TM="dismissableLayer.pointerDownOutside",SM="dismissableLayer.focusOutside",W_,rb=y.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Oc=y.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:a,...l}=t,u=y.useContext(rb),[d,h]=y.useState(null),p=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,g]=y.useState({}),T=Re(e,I=>h(I)),v=Array.from(u.layers),[x]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),E=v.indexOf(x),_=d?v.indexOf(d):-1,S=u.layersWithOutsidePointerEventsDisabled.size>0,C=_>=E,D=IM(I=>{const b=I.target,A=[...u.branches].some(P=>P.contains(b));!C||A||(s==null||s(I),o==null||o(I),I.defaultPrevented||a==null||a())},p),O=CM(I=>{const b=I.target;[...u.branches].some(P=>P.contains(b))||(i==null||i(I),o==null||o(I),I.defaultPrevented||a==null||a())},p);return EM(I=>{_===u.layers.size-1&&(r==null||r(I),!I.defaultPrevented&&a&&(I.preventDefault(),a()))},p),y.useEffect(()=>{if(d)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(W_=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),q_(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=W_)}},[d,p,n,u]),y.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),q_())},[d,u]),y.useEffect(()=>{const I=()=>g({});return document.addEventListener(og,I),()=>document.removeEventListener(og,I)},[]),f.jsx(_e.div,{...l,ref:T,style:{pointerEvents:S?C?"auto":"none":void 0,...t.style},onFocusCapture:J(t.onFocusCapture,O.onFocusCapture),onBlurCapture:J(t.onBlurCapture,O.onBlurCapture),onPointerDownCapture:J(t.onPointerDownCapture,D.onPointerDownCapture)})});Oc.displayName=xM;var bM="DismissableLayerBranch",sb=y.forwardRef((t,e)=>{const n=y.useContext(rb),r=y.useRef(null),s=Re(e,r);return y.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),f.jsx(_e.div,{...t,ref:s})});sb.displayName=bM;function IM(t,e=globalThis==null?void 0:globalThis.document){const n=Je(t),r=y.useRef(!1),s=y.useRef(()=>{});return y.useEffect(()=>{const i=a=>{if(a.target&&!r.current){let l=function(){ib(TM,n,u,{discrete:!0})};const u={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=l,e.addEventListener("click",s.current,{once:!0})):l()}else e.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function CM(t,e=globalThis==null?void 0:globalThis.document){const n=Je(t),r=y.useRef(!1);return y.useEffect(()=>{const s=i=>{i.target&&!r.current&&ib(SM,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function q_(){const t=new CustomEvent(og);document.dispatchEvent(t)}function ib(t,e,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?Xy(s,i):s.dispatchEvent(i)}var AM=Oc,RM=sb,fn=globalThis!=null&&globalThis.document?y.useLayoutEffect:()=>{},PM="Portal",Kh=y.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[s,i]=y.useState(!1);fn(()=>i(!0),[]);const o=n||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?ZS.createPortal(f.jsx(_e.div,{...r,ref:e}),o):null});Kh.displayName=PM;function kM(t,e){return y.useReducer((n,r)=>e[n][r]??n,t)}var tn=t=>{const{present:e,children:n}=t,r=NM(e),s=typeof n=="function"?n({present:r.isPresent}):y.Children.only(n),i=Re(r.ref,DM(s));return typeof n=="function"||r.isPresent?y.cloneElement(s,{ref:i}):null};tn.displayName="Presence";function NM(t){const[e,n]=y.useState(),r=y.useRef(null),s=y.useRef(t),i=y.useRef("none"),o=t?"mounted":"unmounted",[a,l]=kM(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return y.useEffect(()=>{const u=Ru(r.current);i.current=a==="mounted"?u:"none"},[a]),fn(()=>{const u=r.current,d=s.current;if(d!==t){const p=i.current,g=Ru(u);t?l("MOUNT"):g==="none"||(u==null?void 0:u.display)==="none"?l("UNMOUNT"):l(d&&p!==g?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,l]),fn(()=>{if(e){let u;const d=e.ownerDocument.defaultView??window,h=g=>{const v=Ru(r.current).includes(g.animationName);if(g.target===e&&v&&(l("ANIMATION_END"),!s.current)){const x=e.style.animationFillMode;e.style.animationFillMode="forwards",u=d.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=x)})}},p=g=>{g.target===e&&(i.current=Ru(r.current))};return e.addEventListener("animationstart",p),e.addEventListener("animationcancel",h),e.addEventListener("animationend",h),()=>{d.clearTimeout(u),e.removeEventListener("animationstart",p),e.removeEventListener("animationcancel",h),e.removeEventListener("animationend",h)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:y.useCallback(u=>{r.current=u?getComputedStyle(u):null,n(u)},[])}}function Ru(t){return(t==null?void 0:t.animationName)||"none"}function DM(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var MM=iy[" useInsertionEffect ".trim().toString()]||fn;function Lc({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[s,i,o]=OM({defaultProp:e,onChange:n}),a=t!==void 0,l=a?t:s;{const d=y.useRef(t!==void 0);y.useEffect(()=>{const h=d.current;h!==a&&console.warn(`${r} is changing from ${h?"controlled":"uncontrolled"} to ${a?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=a},[a,r])}const u=y.useCallback(d=>{var h;if(a){const p=LM(d)?d(t):d;p!==t&&((h=o.current)==null||h.call(o,p))}else i(d)},[a,t,i,o]);return[l,u]}function OM({defaultProp:t,onChange:e}){const[n,r]=y.useState(t),s=y.useRef(n),i=y.useRef(e);return MM(()=>{i.current=e},[e]),y.useEffect(()=>{var o;s.current!==n&&((o=i.current)==null||o.call(i,n),s.current=n)},[n,s]),[n,r,i]}function LM(t){return typeof t=="function"}var VM=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),jM="VisuallyHidden",Qh=y.forwardRef((t,e)=>f.jsx(_e.span,{...t,ref:e,style:{...VM,...t.style}}));Qh.displayName=jM;var FM=Qh,Jy="ToastProvider",[Zy,UM,$M]=Yy("Toast"),[ob,OW]=tr("Toast",[$M]),[zM,Yh]=ob(Jy),ab=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:i=50,children:o}=t,[a,l]=y.useState(null),[u,d]=y.useState(0),h=y.useRef(!1),p=y.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${Jy}\`. Expected non-empty \`string\`.`),f.jsx(Zy.Provider,{scope:e,children:f.jsx(zM,{scope:e,label:n,duration:r,swipeDirection:s,swipeThreshold:i,toastCount:u,viewport:a,onViewportChange:l,onToastAdd:y.useCallback(()=>d(g=>g+1),[]),onToastRemove:y.useCallback(()=>d(g=>g-1),[]),isFocusedToastEscapeKeyDownRef:h,isClosePausedRef:p,children:o})})};ab.displayName=Jy;var lb="ToastViewport",BM=["F8"],ag="toast.viewportPause",lg="toast.viewportResume",cb=y.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=BM,label:s="Notifications ({hotkey})",...i}=t,o=Yh(lb,n),a=UM(n),l=y.useRef(null),u=y.useRef(null),d=y.useRef(null),h=y.useRef(null),p=Re(e,h,o.onViewportChange),g=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),T=o.toastCount>0;y.useEffect(()=>{const x=E=>{var S;r.length!==0&&r.every(C=>E[C]||E.code===C)&&((S=h.current)==null||S.focus())};return document.addEventListener("keydown",x),()=>document.removeEventListener("keydown",x)},[r]),y.useEffect(()=>{const x=l.current,E=h.current;if(T&&x&&E){const _=()=>{if(!o.isClosePausedRef.current){const O=new CustomEvent(ag);E.dispatchEvent(O),o.isClosePausedRef.current=!0}},S=()=>{if(o.isClosePausedRef.current){const O=new CustomEvent(lg);E.dispatchEvent(O),o.isClosePausedRef.current=!1}},C=O=>{!x.contains(O.relatedTarget)&&S()},D=()=>{x.contains(document.activeElement)||S()};return x.addEventListener("focusin",_),x.addEventListener("focusout",C),x.addEventListener("pointermove",_),x.addEventListener("pointerleave",D),window.addEventListener("blur",_),window.addEventListener("focus",S),()=>{x.removeEventListener("focusin",_),x.removeEventListener("focusout",C),x.removeEventListener("pointermove",_),x.removeEventListener("pointerleave",D),window.removeEventListener("blur",_),window.removeEventListener("focus",S)}}},[T,o.isClosePausedRef]);const v=y.useCallback(({tabbingDirection:x})=>{const _=a().map(S=>{const C=S.ref.current,D=[C,...nO(C)];return x==="forwards"?D:D.reverse()});return(x==="forwards"?_.reverse():_).flat()},[a]);return y.useEffect(()=>{const x=h.current;if(x){const E=_=>{var D,O,I;const S=_.altKey||_.ctrlKey||_.metaKey;if(_.key==="Tab"&&!S){const b=document.activeElement,A=_.shiftKey;if(_.target===x&&A){(D=u.current)==null||D.focus();return}const M=v({tabbingDirection:A?"backwards":"forwards"}),k=M.findIndex(H=>H===b);Lp(M.slice(k+1))?_.preventDefault():A?(O=u.current)==null||O.focus():(I=d.current)==null||I.focus()}};return x.addEventListener("keydown",E),()=>x.removeEventListener("keydown",E)}},[a,v]),f.jsxs(RM,{ref:l,role:"region","aria-label":s.replace("{hotkey}",g),tabIndex:-1,style:{pointerEvents:T?void 0:"none"},children:[T&&f.jsx(cg,{ref:u,onFocusFromOutsideViewport:()=>{const x=v({tabbingDirection:"forwards"});Lp(x)}}),f.jsx(Zy.Slot,{scope:n,children:f.jsx(_e.ol,{tabIndex:-1,...i,ref:p})}),T&&f.jsx(cg,{ref:d,onFocusFromOutsideViewport:()=>{const x=v({tabbingDirection:"backwards"});Lp(x)}})]})});cb.displayName=lb;var ub="ToastFocusProxy",cg=y.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...s}=t,i=Yh(ub,n);return f.jsx(Qh,{"aria-hidden":!0,tabIndex:0,...s,ref:e,style:{position:"fixed"},onFocus:o=>{var u;const a=o.relatedTarget;!((u=i.viewport)!=null&&u.contains(a))&&r()}})});cg.displayName=ub;var Vc="Toast",HM="toast.swipeStart",WM="toast.swipeMove",qM="toast.swipeCancel",GM="toast.swipeEnd",db=y.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:s,onOpenChange:i,...o}=t,[a,l]=Lc({prop:r,defaultProp:s??!0,onChange:i,caller:Vc});return f.jsx(tn,{present:n||a,children:f.jsx(YM,{open:a,...o,ref:e,onClose:()=>l(!1),onPause:Je(t.onPause),onResume:Je(t.onResume),onSwipeStart:J(t.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:J(t.onSwipeMove,u=>{const{x:d,y:h}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${h}px`)}),onSwipeCancel:J(t.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:J(t.onSwipeEnd,u=>{const{x:d,y:h}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${h}px`),l(!1)})})})});db.displayName=Vc;var[KM,QM]=ob(Vc,{onClose(){}}),YM=y.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:s,open:i,onClose:o,onEscapeKeyDown:a,onPause:l,onResume:u,onSwipeStart:d,onSwipeMove:h,onSwipeCancel:p,onSwipeEnd:g,...T}=t,v=Yh(Vc,n),[x,E]=y.useState(null),_=Re(e,H=>E(H)),S=y.useRef(null),C=y.useRef(null),D=s||v.duration,O=y.useRef(0),I=y.useRef(D),b=y.useRef(0),{onToastAdd:A,onToastRemove:P}=v,N=Je(()=>{var se;(x==null?void 0:x.contains(document.activeElement))&&((se=v.viewport)==null||se.focus()),o()}),M=y.useCallback(H=>{!H||H===1/0||(window.clearTimeout(b.current),O.current=new Date().getTime(),b.current=window.setTimeout(N,H))},[N]);y.useEffect(()=>{const H=v.viewport;if(H){const se=()=>{M(I.current),u==null||u()},Z=()=>{const oe=new Date().getTime()-O.current;I.current=I.current-oe,window.clearTimeout(b.current),l==null||l()};return H.addEventListener(ag,Z),H.addEventListener(lg,se),()=>{H.removeEventListener(ag,Z),H.removeEventListener(lg,se)}}},[v.viewport,D,l,u,M]),y.useEffect(()=>{i&&!v.isClosePausedRef.current&&M(D)},[i,D,v.isClosePausedRef,M]),y.useEffect(()=>(A(),()=>P()),[A,P]);const k=y.useMemo(()=>x?vb(x):null,[x]);return v.viewport?f.jsxs(f.Fragment,{children:[k&&f.jsx(XM,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:k}),f.jsx(KM,{scope:n,onClose:N,children:Mc.createPortal(f.jsx(Zy.ItemSlot,{scope:n,children:f.jsx(AM,{asChild:!0,onEscapeKeyDown:J(a,()=>{v.isFocusedToastEscapeKeyDownRef.current||N(),v.isFocusedToastEscapeKeyDownRef.current=!1}),children:f.jsx(_e.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":v.swipeDirection,...T,ref:_,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:J(t.onKeyDown,H=>{H.key==="Escape"&&(a==null||a(H.nativeEvent),H.nativeEvent.defaultPrevented||(v.isFocusedToastEscapeKeyDownRef.current=!0,N()))}),onPointerDown:J(t.onPointerDown,H=>{H.button===0&&(S.current={x:H.clientX,y:H.clientY})}),onPointerMove:J(t.onPointerMove,H=>{if(!S.current)return;const se=H.clientX-S.current.x,Z=H.clientY-S.current.y,oe=!!C.current,F=["left","right"].includes(v.swipeDirection),V=["left","up"].includes(v.swipeDirection)?Math.min:Math.max,q=F?V(0,se):0,ee=F?0:V(0,Z),X=H.pointerType==="touch"?10:2,ce={x:q,y:ee},ae={originalEvent:H,delta:ce};oe?(C.current=ce,Pu(WM,h,ae,{discrete:!1})):G_(ce,v.swipeDirection,X)?(C.current=ce,Pu(HM,d,ae,{discrete:!1}),H.target.setPointerCapture(H.pointerId)):(Math.abs(se)>X||Math.abs(Z)>X)&&(S.current=null)}),onPointerUp:J(t.onPointerUp,H=>{const se=C.current,Z=H.target;if(Z.hasPointerCapture(H.pointerId)&&Z.releasePointerCapture(H.pointerId),C.current=null,S.current=null,se){const oe=H.currentTarget,F={originalEvent:H,delta:se};G_(se,v.swipeDirection,v.swipeThreshold)?Pu(GM,g,F,{discrete:!0}):Pu(qM,p,F,{discrete:!0}),oe.addEventListener("click",V=>V.preventDefault(),{once:!0})}})})})}),v.viewport)})]}):null}),XM=t=>{const{__scopeToast:e,children:n,...r}=t,s=Yh(Vc,e),[i,o]=y.useState(!1),[a,l]=y.useState(!1);return eO(()=>o(!0)),y.useEffect(()=>{const u=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(u)},[]),a?null:f.jsx(Kh,{asChild:!0,children:f.jsx(Qh,{...r,children:i&&f.jsxs(f.Fragment,{children:[s.label," ",n]})})})},JM="ToastTitle",hb=y.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return f.jsx(_e.div,{...r,ref:e})});hb.displayName=JM;var ZM="ToastDescription",fb=y.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return f.jsx(_e.div,{...r,ref:e})});fb.displayName=ZM;var pb="ToastAction",mb=y.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?f.jsx(yb,{altText:n,asChild:!0,children:f.jsx(ev,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${pb}\`. Expected non-empty \`string\`.`),null)});mb.displayName=pb;var gb="ToastClose",ev=y.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,s=QM(gb,n);return f.jsx(yb,{asChild:!0,children:f.jsx(_e.button,{type:"button",...r,ref:e,onClick:J(t.onClick,s.onClose)})})});ev.displayName=gb;var yb=y.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...s}=t;return f.jsx(_e.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...s,ref:e})});function vb(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),tO(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",i=r.dataset.radixToastAnnounceExclude==="";if(!s)if(i){const o=r.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...vb(r))}}),e}function Pu(t,e,n,{discrete:r}){const s=n.originalEvent.currentTarget,i=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?Xy(s,i):s.dispatchEvent(i)}var G_=(t,e,n=0)=>{const r=Math.abs(t.x),s=Math.abs(t.y),i=r>s;return e==="left"||e==="right"?i&&r>n:!i&&s>n};function eO(t=()=>{}){const e=Je(t);fn(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function tO(t){return t.nodeType===t.ELEMENT_NODE}function nO(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function Lp(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var rO=ab,wb=cb,_b=db,Eb=hb,xb=fb,Tb=mb,Sb=ev;function bb(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=bb(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Ib(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=bb(t))&&(r&&(r+=" "),r+=e);return r}const K_=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,Q_=Ib,tv=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return Q_(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:i}=e,o=Object.keys(s).map(u=>{const d=n==null?void 0:n[u],h=i==null?void 0:i[u];if(d===null)return null;const p=K_(d)||K_(h);return s[u][p]}),a=n&&Object.entries(n).reduce((u,d)=>{let[h,p]=d;return p===void 0||(u[h]=p),u},{}),l=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((u,d)=>{let{class:h,className:p,...g}=d;return Object.entries(g).every(T=>{let[v,x]=T;return Array.isArray(x)?x.includes({...i,...a}[v]):{...i,...a}[v]===x})?[...u,h,p]:u},[]);return Q_(t,o,l,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sO=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Cb=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var iO={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oO=y.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:o,...a},l)=>y.createElement("svg",{ref:l,...iO,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:Cb("lucide",s),...a},[...o.map(([u,d])=>y.createElement(u,d)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Te=(t,e)=>{const n=y.forwardRef(({className:r,...s},i)=>y.createElement(oO,{ref:i,iconNode:e,className:Cb(`lucide-${sO(t)}`,r),...s}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aO=Te("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lO=Te("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cO=Te("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uO=Te("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dO=Te("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hO=Te("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fO=Te("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pO=Te("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wa=Te("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mO=Te("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gO=Te("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yO=Te("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vO=Te("Film",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M7 3v18",key:"bbkbws"}],["path",{d:"M3 7.5h4",key:"zfgn84"}],["path",{d:"M3 12h18",key:"1i2n21"}],["path",{d:"M3 16.5h4",key:"1230mu"}],["path",{d:"M17 3v18",key:"in4fa5"}],["path",{d:"M17 7.5h4",key:"myr1c1"}],["path",{d:"M17 16.5h4",key:"go4c1d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nv=Te("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wO=Te("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y_=Te("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _O=Te("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EO=Te("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vp=Te("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xO=Te("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TO=Te("Minimize2",[["polyline",{points:"4 14 10 14 10 20",key:"11kfnr"}],["polyline",{points:"20 10 14 10 14 4",key:"rlmsce"}],["line",{x1:"14",x2:"21",y1:"10",y2:"3",key:"o5lafz"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SO=Te("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bO=Te("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IO=Te("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CO=Te("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jp=Te("Share",[["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["polyline",{points:"16 6 12 2 8 6",key:"m901s6"}],["line",{x1:"12",x2:"12",y1:"2",y2:"15",key:"1p0rca"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AO=Te("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RO=Te("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X_=Te("Triangle",[["path",{d:"M13.73 4a2 2 0 0 0-3.46 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"14u9p9"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ab=Te("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J_=Te("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PO=Te("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lc=Te("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),rv="-",kO=t=>{const e=DO(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const a=o.split(rv);return a[0]===""&&a.length!==1&&a.shift(),Rb(a,e)||NO(o)},getConflictingClassGroupIds:(o,a)=>{const l=n[o]||[];return a&&r[o]?[...l,...r[o]]:l}}},Rb=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),s=r?Rb(t.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const i=t.join(rv);return(o=e.validators.find(({validator:a})=>a(i)))==null?void 0:o.classGroupId},Z_=/^\[(.+)\]$/,NO=t=>{if(Z_.test(t)){const e=Z_.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},DO=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return OO(Object.entries(t.classGroups),n).forEach(([i,o])=>{ug(o,r,i,e)}),r},ug=(t,e,n,r)=>{t.forEach(s=>{if(typeof s=="string"){const i=s===""?e:eE(e,s);i.classGroupId=n;return}if(typeof s=="function"){if(MO(s)){ug(s(r),e,n,r);return}e.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([i,o])=>{ug(o,eE(e,i),n,r)})})},eE=(t,e)=>{let n=t;return e.split(rv).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},MO=t=>t.isThemeGetter,OO=(t,e)=>e?t.map(([n,r])=>{const s=r.map(i=>typeof i=="string"?e+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,a])=>[e+o,a])):i);return[n,s]}):t,LO=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const s=(i,o)=>{n.set(i,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(i){let o=n.get(i);if(o!==void 0)return o;if((o=r.get(i))!==void 0)return s(i,o),o},set(i,o){n.has(i)?n.set(i,o):s(i,o)}}},Pb="!",VO=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,s=e[0],i=e.length,o=a=>{const l=[];let u=0,d=0,h;for(let x=0;x<a.length;x++){let E=a[x];if(u===0){if(E===s&&(r||a.slice(x,x+i)===e)){l.push(a.slice(d,x)),d=x+i;continue}if(E==="/"){h=x;continue}}E==="["?u++:E==="]"&&u--}const p=l.length===0?a:a.substring(d),g=p.startsWith(Pb),T=g?p.substring(1):p,v=h&&h>d?h-d:void 0;return{modifiers:l,hasImportantModifier:g,baseClassName:T,maybePostfixModifierPosition:v}};return n?a=>n({className:a,parseClassName:o}):o},jO=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},FO=t=>({cache:LO(t.cacheSize),parseClassName:VO(t),...kO(t)}),UO=/\s+/,$O=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=e,i=[],o=t.trim().split(UO);let a="";for(let l=o.length-1;l>=0;l-=1){const u=o[l],{modifiers:d,hasImportantModifier:h,baseClassName:p,maybePostfixModifierPosition:g}=n(u);let T=!!g,v=r(T?p.substring(0,g):p);if(!v){if(!T){a=u+(a.length>0?" "+a:a);continue}if(v=r(p),!v){a=u+(a.length>0?" "+a:a);continue}T=!1}const x=jO(d).join(":"),E=h?x+Pb:x,_=E+v;if(i.includes(_))continue;i.push(_);const S=s(v,T);for(let C=0;C<S.length;++C){const D=S[C];i.push(E+D)}a=u+(a.length>0?" "+a:a)}return a};function zO(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=kb(e))&&(r&&(r+=" "),r+=n);return r}const kb=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=kb(t[r]))&&(n&&(n+=" "),n+=e);return n};function BO(t,...e){let n,r,s,i=o;function o(l){const u=e.reduce((d,h)=>h(d),t());return n=FO(u),r=n.cache.get,s=n.cache.set,i=a,a(l)}function a(l){const u=r(l);if(u)return u;const d=$O(l,n);return s(l,d),d}return function(){return i(zO.apply(null,arguments))}}const Ve=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},Nb=/^\[(?:([a-z-]+):)?(.+)\]$/i,HO=/^\d+\/\d+$/,WO=new Set(["px","full","screen"]),qO=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,GO=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,KO=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,QO=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,YO=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Lr=t=>Wo(t)||WO.has(t)||HO.test(t),ys=t=>Oa(t,"length",sL),Wo=t=>!!t&&!Number.isNaN(Number(t)),Fp=t=>Oa(t,"number",Wo),gl=t=>!!t&&Number.isInteger(Number(t)),XO=t=>t.endsWith("%")&&Wo(t.slice(0,-1)),fe=t=>Nb.test(t),vs=t=>qO.test(t),JO=new Set(["length","size","percentage"]),ZO=t=>Oa(t,JO,Db),eL=t=>Oa(t,"position",Db),tL=new Set(["image","url"]),nL=t=>Oa(t,tL,oL),rL=t=>Oa(t,"",iL),yl=()=>!0,Oa=(t,e,n)=>{const r=Nb.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},sL=t=>GO.test(t)&&!KO.test(t),Db=()=>!1,iL=t=>QO.test(t),oL=t=>YO.test(t),aL=()=>{const t=Ve("colors"),e=Ve("spacing"),n=Ve("blur"),r=Ve("brightness"),s=Ve("borderColor"),i=Ve("borderRadius"),o=Ve("borderSpacing"),a=Ve("borderWidth"),l=Ve("contrast"),u=Ve("grayscale"),d=Ve("hueRotate"),h=Ve("invert"),p=Ve("gap"),g=Ve("gradientColorStops"),T=Ve("gradientColorStopPositions"),v=Ve("inset"),x=Ve("margin"),E=Ve("opacity"),_=Ve("padding"),S=Ve("saturate"),C=Ve("scale"),D=Ve("sepia"),O=Ve("skew"),I=Ve("space"),b=Ve("translate"),A=()=>["auto","contain","none"],P=()=>["auto","hidden","clip","visible","scroll"],N=()=>["auto",fe,e],M=()=>[fe,e],k=()=>["",Lr,ys],H=()=>["auto",Wo,fe],se=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],Z=()=>["solid","dashed","dotted","double","none"],oe=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],F=()=>["start","end","center","between","around","evenly","stretch"],V=()=>["","0",fe],q=()=>["auto","avoid","all","avoid-page","page","left","right","column"],ee=()=>[Wo,fe];return{cacheSize:500,separator:":",theme:{colors:[yl],spacing:[Lr,ys],blur:["none","",vs,fe],brightness:ee(),borderColor:[t],borderRadius:["none","","full",vs,fe],borderSpacing:M(),borderWidth:k(),contrast:ee(),grayscale:V(),hueRotate:ee(),invert:V(),gap:M(),gradientColorStops:[t],gradientColorStopPositions:[XO,ys],inset:N(),margin:N(),opacity:ee(),padding:M(),saturate:ee(),scale:ee(),sepia:V(),skew:ee(),space:M(),translate:M()},classGroups:{aspect:[{aspect:["auto","square","video",fe]}],container:["container"],columns:[{columns:[vs]}],"break-after":[{"break-after":q()}],"break-before":[{"break-before":q()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...se(),fe]}],overflow:[{overflow:P()}],"overflow-x":[{"overflow-x":P()}],"overflow-y":[{"overflow-y":P()}],overscroll:[{overscroll:A()}],"overscroll-x":[{"overscroll-x":A()}],"overscroll-y":[{"overscroll-y":A()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[v]}],"inset-x":[{"inset-x":[v]}],"inset-y":[{"inset-y":[v]}],start:[{start:[v]}],end:[{end:[v]}],top:[{top:[v]}],right:[{right:[v]}],bottom:[{bottom:[v]}],left:[{left:[v]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",gl,fe]}],basis:[{basis:N()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",fe]}],grow:[{grow:V()}],shrink:[{shrink:V()}],order:[{order:["first","last","none",gl,fe]}],"grid-cols":[{"grid-cols":[yl]}],"col-start-end":[{col:["auto",{span:["full",gl,fe]},fe]}],"col-start":[{"col-start":H()}],"col-end":[{"col-end":H()}],"grid-rows":[{"grid-rows":[yl]}],"row-start-end":[{row:["auto",{span:[gl,fe]},fe]}],"row-start":[{"row-start":H()}],"row-end":[{"row-end":H()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",fe]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",fe]}],gap:[{gap:[p]}],"gap-x":[{"gap-x":[p]}],"gap-y":[{"gap-y":[p]}],"justify-content":[{justify:["normal",...F()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...F(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...F(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[_]}],px:[{px:[_]}],py:[{py:[_]}],ps:[{ps:[_]}],pe:[{pe:[_]}],pt:[{pt:[_]}],pr:[{pr:[_]}],pb:[{pb:[_]}],pl:[{pl:[_]}],m:[{m:[x]}],mx:[{mx:[x]}],my:[{my:[x]}],ms:[{ms:[x]}],me:[{me:[x]}],mt:[{mt:[x]}],mr:[{mr:[x]}],mb:[{mb:[x]}],ml:[{ml:[x]}],"space-x":[{"space-x":[I]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[I]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",fe,e]}],"min-w":[{"min-w":[fe,e,"min","max","fit"]}],"max-w":[{"max-w":[fe,e,"none","full","min","max","fit","prose",{screen:[vs]},vs]}],h:[{h:[fe,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[fe,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[fe,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[fe,e,"auto","min","max","fit"]}],"font-size":[{text:["base",vs,ys]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Fp]}],"font-family":[{font:[yl]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",fe]}],"line-clamp":[{"line-clamp":["none",Wo,Fp]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Lr,fe]}],"list-image":[{"list-image":["none",fe]}],"list-style-type":[{list:["none","disc","decimal",fe]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[E]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[E]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Z(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Lr,ys]}],"underline-offset":[{"underline-offset":["auto",Lr,fe]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:M()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",fe]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",fe]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[E]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...se(),eL]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",ZO]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},nL]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[T]}],"gradient-via-pos":[{via:[T]}],"gradient-to-pos":[{to:[T]}],"gradient-from":[{from:[g]}],"gradient-via":[{via:[g]}],"gradient-to":[{to:[g]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[E]}],"border-style":[{border:[...Z(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[E]}],"divide-style":[{divide:Z()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...Z()]}],"outline-offset":[{"outline-offset":[Lr,fe]}],"outline-w":[{outline:[Lr,ys]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:k()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[E]}],"ring-offset-w":[{"ring-offset":[Lr,ys]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",vs,rL]}],"shadow-color":[{shadow:[yl]}],opacity:[{opacity:[E]}],"mix-blend":[{"mix-blend":[...oe(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":oe()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",vs,fe]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[h]}],saturate:[{saturate:[S]}],sepia:[{sepia:[D]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[E]}],"backdrop-saturate":[{"backdrop-saturate":[S]}],"backdrop-sepia":[{"backdrop-sepia":[D]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",fe]}],duration:[{duration:ee()}],ease:[{ease:["linear","in","out","in-out",fe]}],delay:[{delay:ee()}],animate:[{animate:["none","spin","ping","pulse","bounce",fe]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[C]}],"scale-x":[{"scale-x":[C]}],"scale-y":[{"scale-y":[C]}],rotate:[{rotate:[gl,fe]}],"translate-x":[{"translate-x":[b]}],"translate-y":[{"translate-y":[b]}],"skew-x":[{"skew-x":[O]}],"skew-y":[{"skew-y":[O]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",fe]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",fe]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":M()}],"scroll-mx":[{"scroll-mx":M()}],"scroll-my":[{"scroll-my":M()}],"scroll-ms":[{"scroll-ms":M()}],"scroll-me":[{"scroll-me":M()}],"scroll-mt":[{"scroll-mt":M()}],"scroll-mr":[{"scroll-mr":M()}],"scroll-mb":[{"scroll-mb":M()}],"scroll-ml":[{"scroll-ml":M()}],"scroll-p":[{"scroll-p":M()}],"scroll-px":[{"scroll-px":M()}],"scroll-py":[{"scroll-py":M()}],"scroll-ps":[{"scroll-ps":M()}],"scroll-pe":[{"scroll-pe":M()}],"scroll-pt":[{"scroll-pt":M()}],"scroll-pr":[{"scroll-pr":M()}],"scroll-pb":[{"scroll-pb":M()}],"scroll-pl":[{"scroll-pl":M()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",fe]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Lr,ys,Fp]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},lL=BO(aL);function me(...t){return lL(Ib(t))}const cL=rO,Mb=y.forwardRef(({className:t,...e},n)=>f.jsx(wb,{ref:n,className:me("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));Mb.displayName=wb.displayName;const uL=tv("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),Ob=y.forwardRef(({className:t,variant:e,...n},r)=>f.jsx(_b,{ref:r,className:me(uL({variant:e}),t),...n}));Ob.displayName=_b.displayName;const dL=y.forwardRef(({className:t,...e},n)=>f.jsx(Tb,{ref:n,className:me("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors group-[.destructive]:border-muted/40 hover:bg-secondary group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 group-[.destructive]:focus:ring-destructive disabled:pointer-events-none disabled:opacity-50",t),...e}));dL.displayName=Tb.displayName;const Lb=y.forwardRef(({className:t,...e},n)=>f.jsx(Sb,{ref:n,className:me("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity group-hover:opacity-100 group-[.destructive]:text-red-300 hover:text-foreground group-[.destructive]:hover:text-red-50 focus:opacity-100 focus:outline-none focus:ring-2 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:f.jsx(lc,{className:"h-4 w-4"})}));Lb.displayName=Sb.displayName;const Vb=y.forwardRef(({className:t,...e},n)=>f.jsx(Eb,{ref:n,className:me("text-sm font-semibold",t),...e}));Vb.displayName=Eb.displayName;const jb=y.forwardRef(({className:t,...e},n)=>f.jsx(xb,{ref:n,className:me("text-sm opacity-90",t),...e}));jb.displayName=xb.displayName;function hL(){const{toasts:t}=hM();return f.jsxs(cL,{children:[t.map(function({id:e,title:n,description:r,action:s,...i}){return f.jsxs(Ob,{...i,children:[f.jsxs("div",{className:"grid gap-1",children:[n&&f.jsx(Vb,{children:n}),r&&f.jsx(jb,{children:r})]}),s,f.jsx(Lb,{})]},e)}),f.jsx(Mb,{})]})}var tE=["light","dark"],fL="(prefers-color-scheme: dark)",pL=y.createContext(void 0),mL={setTheme:t=>{},themes:[]},gL=()=>{var t;return(t=y.useContext(pL))!=null?t:mL};y.memo(({forcedTheme:t,storageKey:e,attribute:n,enableSystem:r,enableColorScheme:s,defaultTheme:i,value:o,attrs:a,nonce:l})=>{let u=i==="system",d=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${a.map(T=>`'${T}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,h=s?tE.includes(i)&&i?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${i}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",p=(T,v=!1,x=!0)=>{let E=o?o[T]:T,_=v?T+"|| ''":`'${E}'`,S="";return s&&x&&!v&&tE.includes(T)&&(S+=`d.style.colorScheme = '${T}';`),n==="class"?v||E?S+=`c.add(${_})`:S+="null":E&&(S+=`d[s](n,${_})`),S},g=t?`!function(){${d}${p(t)}}()`:r?`!function(){try{${d}var e=localStorage.getItem('${e}');if('system'===e||(!e&&${u})){var t='${fL}',m=window.matchMedia(t);if(m.media!==t||m.matches){${p("dark")}}else{${p("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${p(o?"x[e]":"e",!0)}}${u?"":"else{"+p(i,!1,!1)+"}"}${h}}catch(e){}}()`:`!function(){try{${d}var e=localStorage.getItem('${e}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${p(o?"x[e]":"e",!0)}}else{${p(i,!1,!1)};}${h}}catch(t){}}();`;return y.createElement("script",{nonce:l,dangerouslySetInnerHTML:{__html:g}})});var yL=t=>{switch(t){case"success":return _L;case"info":return xL;case"warning":return EL;case"error":return TL;default:return null}},vL=Array(12).fill(0),wL=({visible:t,className:e})=>W.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},W.createElement("div",{className:"sonner-spinner"},vL.map((n,r)=>W.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),_L=W.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},W.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),EL=W.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},W.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),xL=W.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},W.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),TL=W.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},W.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),SL=W.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},W.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),W.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),bL=()=>{let[t,e]=W.useState(document.hidden);return W.useEffect(()=>{let n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t},dg=1,IL=class{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{let e=this.subscribers.indexOf(t);this.subscribers.splice(e,1)}),this.publish=t=>{this.subscribers.forEach(e=>e(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var e;let{message:n,...r}=t,s=typeof(t==null?void 0:t.id)=="number"||((e=t.id)==null?void 0:e.length)>0?t.id:dg++,i=this.toasts.find(a=>a.id===s),o=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(s)&&this.dismissedToasts.delete(s),i?this.toasts=this.toasts.map(a=>a.id===s?(this.publish({...a,...t,id:s,title:n}),{...a,...t,id:s,dismissible:o,title:n}):a):this.addToast({title:n,...r,dismissible:o,id:s}),s},this.dismiss=t=>(this.dismissedToasts.add(t),t||this.toasts.forEach(e=>{this.subscribers.forEach(n=>n({id:e.id,dismiss:!0}))}),this.subscribers.forEach(e=>e({id:t,dismiss:!0})),t),this.message=(t,e)=>this.create({...e,message:t}),this.error=(t,e)=>this.create({...e,message:t,type:"error"}),this.success=(t,e)=>this.create({...e,type:"success",message:t}),this.info=(t,e)=>this.create({...e,type:"info",message:t}),this.warning=(t,e)=>this.create({...e,type:"warning",message:t}),this.loading=(t,e)=>this.create({...e,type:"loading",message:t}),this.promise=(t,e)=>{if(!e)return;let n;e.loading!==void 0&&(n=this.create({...e,promise:t,type:"loading",message:e.loading,description:typeof e.description!="function"?e.description:void 0}));let r=t instanceof Promise?t:t(),s=n!==void 0,i,o=r.then(async l=>{if(i=["resolve",l],W.isValidElement(l))s=!1,this.create({id:n,type:"default",message:l});else if(AL(l)&&!l.ok){s=!1;let u=typeof e.error=="function"?await e.error(`HTTP error! status: ${l.status}`):e.error,d=typeof e.description=="function"?await e.description(`HTTP error! status: ${l.status}`):e.description;this.create({id:n,type:"error",message:u,description:d})}else if(e.success!==void 0){s=!1;let u=typeof e.success=="function"?await e.success(l):e.success,d=typeof e.description=="function"?await e.description(l):e.description;this.create({id:n,type:"success",message:u,description:d})}}).catch(async l=>{if(i=["reject",l],e.error!==void 0){s=!1;let u=typeof e.error=="function"?await e.error(l):e.error,d=typeof e.description=="function"?await e.description(l):e.description;this.create({id:n,type:"error",message:u,description:d})}}).finally(()=>{var l;s&&(this.dismiss(n),n=void 0),(l=e.finally)==null||l.call(e)}),a=()=>new Promise((l,u)=>o.then(()=>i[0]==="reject"?u(i[1]):l(i[1])).catch(u));return typeof n!="string"&&typeof n!="number"?{unwrap:a}:Object.assign(n,{unwrap:a})},this.custom=(t,e)=>{let n=(e==null?void 0:e.id)||dg++;return this.create({jsx:t(n),id:n,...e}),n},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},qt=new IL,CL=(t,e)=>{let n=(e==null?void 0:e.id)||dg++;return qt.addToast({title:t,...e,id:n}),n},AL=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",RL=CL,PL=()=>qt.toasts,kL=()=>qt.getActiveToasts();Object.assign(RL,{success:qt.success,info:qt.info,warning:qt.warning,error:qt.error,custom:qt.custom,message:qt.message,promise:qt.promise,dismiss:qt.dismiss,loading:qt.loading},{getHistory:PL,getToasts:kL});function NL(t,{insertAt:e}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}NL(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function ku(t){return t.label!==void 0}var DL=3,ML="32px",OL="16px",nE=4e3,LL=356,VL=14,jL=20,FL=200;function Ln(...t){return t.filter(Boolean).join(" ")}function UL(t){let[e,n]=t.split("-"),r=[];return e&&r.push(e),n&&r.push(n),r}var $L=t=>{var e,n,r,s,i,o,a,l,u,d,h;let{invert:p,toast:g,unstyled:T,interacting:v,setHeights:x,visibleToasts:E,heights:_,index:S,toasts:C,expanded:D,removeToast:O,defaultRichColors:I,closeButton:b,style:A,cancelButtonStyle:P,actionButtonStyle:N,className:M="",descriptionClassName:k="",duration:H,position:se,gap:Z,loadingIcon:oe,expandByDefault:F,classNames:V,icons:q,closeButtonAriaLabel:ee="Close toast",pauseWhenPageIsHidden:X}=t,[ce,ae]=W.useState(null),[Pe,Ne]=W.useState(null),[he,nn]=W.useState(!1),[Qe,gn]=W.useState(!1),[rr,Dr]=W.useState(!1),[yn,fi]=W.useState(!1),[Ga,as]=W.useState(!1),[pi,ls]=W.useState(0),[$e,dt]=W.useState(0),sr=W.useRef(g.duration||H||nE),Jc=W.useRef(null),ir=W.useRef(null),Wf=S===0,mi=S+1<=E,Mt=g.type,Mr=g.dismissible!==!1,Ka=g.className||"",qf=g.descriptionClassName||"",po=W.useMemo(()=>_.findIndex(ne=>ne.toastId===g.id)||0,[_,g.id]),Zc=W.useMemo(()=>{var ne;return(ne=g.closeButton)!=null?ne:b},[g.closeButton,b]),Qa=W.useMemo(()=>g.duration||H||nE,[g.duration,H]),Or=W.useRef(0),or=W.useRef(0),mo=W.useRef(0),Ht=W.useRef(null),[eu,go]=se.split("-"),Ya=W.useMemo(()=>_.reduce((ne,be,De)=>De>=po?ne:ne+be.height,0),[_,po]),cs=bL(),tu=g.invert||p,it=Mt==="loading";or.current=W.useMemo(()=>po*Z+Ya,[po,Ya]),W.useEffect(()=>{sr.current=Qa},[Qa]),W.useEffect(()=>{nn(!0)},[]),W.useEffect(()=>{let ne=ir.current;if(ne){let be=ne.getBoundingClientRect().height;return dt(be),x(De=>[{toastId:g.id,height:be,position:g.position},...De]),()=>x(De=>De.filter(ht=>ht.toastId!==g.id))}},[x,g.id]),W.useLayoutEffect(()=>{if(!he)return;let ne=ir.current,be=ne.style.height;ne.style.height="auto";let De=ne.getBoundingClientRect().height;ne.style.height=be,dt(De),x(ht=>ht.find(rn=>rn.toastId===g.id)?ht.map(rn=>rn.toastId===g.id?{...rn,height:De}:rn):[{toastId:g.id,height:De,position:g.position},...ht])},[he,g.title,g.description,x,g.id]);let Dn=W.useCallback(()=>{gn(!0),ls(or.current),x(ne=>ne.filter(be=>be.toastId!==g.id)),setTimeout(()=>{O(g)},FL)},[g,O,x,or]);W.useEffect(()=>{if(g.promise&&Mt==="loading"||g.duration===1/0||g.type==="loading")return;let ne;return D||v||X&&cs?(()=>{if(mo.current<Or.current){let be=new Date().getTime()-Or.current;sr.current=sr.current-be}mo.current=new Date().getTime()})():sr.current!==1/0&&(Or.current=new Date().getTime(),ne=setTimeout(()=>{var be;(be=g.onAutoClose)==null||be.call(g,g),Dn()},sr.current)),()=>clearTimeout(ne)},[D,v,g,Mt,X,cs,Dn]),W.useEffect(()=>{g.delete&&Dn()},[Dn,g.delete]);function gi(){var ne,be,De;return q!=null&&q.loading?W.createElement("div",{className:Ln(V==null?void 0:V.loader,(ne=g==null?void 0:g.classNames)==null?void 0:ne.loader,"sonner-loader"),"data-visible":Mt==="loading"},q.loading):oe?W.createElement("div",{className:Ln(V==null?void 0:V.loader,(be=g==null?void 0:g.classNames)==null?void 0:be.loader,"sonner-loader"),"data-visible":Mt==="loading"},oe):W.createElement(wL,{className:Ln(V==null?void 0:V.loader,(De=g==null?void 0:g.classNames)==null?void 0:De.loader),visible:Mt==="loading"})}return W.createElement("li",{tabIndex:0,ref:ir,className:Ln(M,Ka,V==null?void 0:V.toast,(e=g==null?void 0:g.classNames)==null?void 0:e.toast,V==null?void 0:V.default,V==null?void 0:V[Mt],(n=g==null?void 0:g.classNames)==null?void 0:n[Mt]),"data-sonner-toast":"","data-rich-colors":(r=g.richColors)!=null?r:I,"data-styled":!(g.jsx||g.unstyled||T),"data-mounted":he,"data-promise":!!g.promise,"data-swiped":Ga,"data-removed":Qe,"data-visible":mi,"data-y-position":eu,"data-x-position":go,"data-index":S,"data-front":Wf,"data-swiping":rr,"data-dismissible":Mr,"data-type":Mt,"data-invert":tu,"data-swipe-out":yn,"data-swipe-direction":Pe,"data-expanded":!!(D||F&&he),style:{"--index":S,"--toasts-before":S,"--z-index":C.length-S,"--offset":`${Qe?pi:or.current}px`,"--initial-height":F?"auto":`${$e}px`,...A,...g.style},onDragEnd:()=>{Dr(!1),ae(null),Ht.current=null},onPointerDown:ne=>{it||!Mr||(Jc.current=new Date,ls(or.current),ne.target.setPointerCapture(ne.pointerId),ne.target.tagName!=="BUTTON"&&(Dr(!0),Ht.current={x:ne.clientX,y:ne.clientY}))},onPointerUp:()=>{var ne,be,De,ht;if(yn||!Mr)return;Ht.current=null;let rn=Number(((ne=ir.current)==null?void 0:ne.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),ar=Number(((be=ir.current)==null?void 0:be.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),vn=new Date().getTime()-((De=Jc.current)==null?void 0:De.getTime()),Wt=ce==="x"?rn:ar,Mn=Math.abs(Wt)/vn;if(Math.abs(Wt)>=jL||Mn>.11){ls(or.current),(ht=g.onDismiss)==null||ht.call(g,g),Ne(ce==="x"?rn>0?"right":"left":ar>0?"down":"up"),Dn(),fi(!0),as(!1);return}Dr(!1),ae(null)},onPointerMove:ne=>{var be,De,ht,rn;if(!Ht.current||!Mr||((be=window.getSelection())==null?void 0:be.toString().length)>0)return;let ar=ne.clientY-Ht.current.y,vn=ne.clientX-Ht.current.x,Wt=(De=t.swipeDirections)!=null?De:UL(se);!ce&&(Math.abs(vn)>1||Math.abs(ar)>1)&&ae(Math.abs(vn)>Math.abs(ar)?"x":"y");let Mn={x:0,y:0};ce==="y"?(Wt.includes("top")||Wt.includes("bottom"))&&(Wt.includes("top")&&ar<0||Wt.includes("bottom")&&ar>0)&&(Mn.y=ar):ce==="x"&&(Wt.includes("left")||Wt.includes("right"))&&(Wt.includes("left")&&vn<0||Wt.includes("right")&&vn>0)&&(Mn.x=vn),(Math.abs(Mn.x)>0||Math.abs(Mn.y)>0)&&as(!0),(ht=ir.current)==null||ht.style.setProperty("--swipe-amount-x",`${Mn.x}px`),(rn=ir.current)==null||rn.style.setProperty("--swipe-amount-y",`${Mn.y}px`)}},Zc&&!g.jsx?W.createElement("button",{"aria-label":ee,"data-disabled":it,"data-close-button":!0,onClick:it||!Mr?()=>{}:()=>{var ne;Dn(),(ne=g.onDismiss)==null||ne.call(g,g)},className:Ln(V==null?void 0:V.closeButton,(s=g==null?void 0:g.classNames)==null?void 0:s.closeButton)},(i=q==null?void 0:q.close)!=null?i:SL):null,g.jsx||y.isValidElement(g.title)?g.jsx?g.jsx:typeof g.title=="function"?g.title():g.title:W.createElement(W.Fragment,null,Mt||g.icon||g.promise?W.createElement("div",{"data-icon":"",className:Ln(V==null?void 0:V.icon,(o=g==null?void 0:g.classNames)==null?void 0:o.icon)},g.promise||g.type==="loading"&&!g.icon?g.icon||gi():null,g.type!=="loading"?g.icon||(q==null?void 0:q[Mt])||yL(Mt):null):null,W.createElement("div",{"data-content":"",className:Ln(V==null?void 0:V.content,(a=g==null?void 0:g.classNames)==null?void 0:a.content)},W.createElement("div",{"data-title":"",className:Ln(V==null?void 0:V.title,(l=g==null?void 0:g.classNames)==null?void 0:l.title)},typeof g.title=="function"?g.title():g.title),g.description?W.createElement("div",{"data-description":"",className:Ln(k,qf,V==null?void 0:V.description,(u=g==null?void 0:g.classNames)==null?void 0:u.description)},typeof g.description=="function"?g.description():g.description):null),y.isValidElement(g.cancel)?g.cancel:g.cancel&&ku(g.cancel)?W.createElement("button",{"data-button":!0,"data-cancel":!0,style:g.cancelButtonStyle||P,onClick:ne=>{var be,De;ku(g.cancel)&&Mr&&((De=(be=g.cancel).onClick)==null||De.call(be,ne),Dn())},className:Ln(V==null?void 0:V.cancelButton,(d=g==null?void 0:g.classNames)==null?void 0:d.cancelButton)},g.cancel.label):null,y.isValidElement(g.action)?g.action:g.action&&ku(g.action)?W.createElement("button",{"data-button":!0,"data-action":!0,style:g.actionButtonStyle||N,onClick:ne=>{var be,De;ku(g.action)&&((De=(be=g.action).onClick)==null||De.call(be,ne),!ne.defaultPrevented&&Dn())},className:Ln(V==null?void 0:V.actionButton,(h=g==null?void 0:g.classNames)==null?void 0:h.actionButton)},g.action.label):null))};function rE(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function zL(t,e){let n={};return[t,e].forEach((r,s)=>{let i=s===1,o=i?"--mobile-offset":"--offset",a=i?OL:ML;function l(u){["top","right","bottom","left"].forEach(d=>{n[`${o}-${d}`]=typeof u=="number"?`${u}px`:u})}typeof r=="number"||typeof r=="string"?l(r):typeof r=="object"?["top","right","bottom","left"].forEach(u=>{r[u]===void 0?n[`${o}-${u}`]=a:n[`${o}-${u}`]=typeof r[u]=="number"?`${r[u]}px`:r[u]}):l(a)}),n}var BL=y.forwardRef(function(t,e){let{invert:n,position:r="bottom-right",hotkey:s=["altKey","KeyT"],expand:i,closeButton:o,className:a,offset:l,mobileOffset:u,theme:d="light",richColors:h,duration:p,style:g,visibleToasts:T=DL,toastOptions:v,dir:x=rE(),gap:E=VL,loadingIcon:_,icons:S,containerAriaLabel:C="Notifications",pauseWhenPageIsHidden:D}=t,[O,I]=W.useState([]),b=W.useMemo(()=>Array.from(new Set([r].concat(O.filter(X=>X.position).map(X=>X.position)))),[O,r]),[A,P]=W.useState([]),[N,M]=W.useState(!1),[k,H]=W.useState(!1),[se,Z]=W.useState(d!=="system"?d:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),oe=W.useRef(null),F=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),V=W.useRef(null),q=W.useRef(!1),ee=W.useCallback(X=>{I(ce=>{var ae;return(ae=ce.find(Pe=>Pe.id===X.id))!=null&&ae.delete||qt.dismiss(X.id),ce.filter(({id:Pe})=>Pe!==X.id)})},[]);return W.useEffect(()=>qt.subscribe(X=>{if(X.dismiss){I(ce=>ce.map(ae=>ae.id===X.id?{...ae,delete:!0}:ae));return}setTimeout(()=>{ZS.flushSync(()=>{I(ce=>{let ae=ce.findIndex(Pe=>Pe.id===X.id);return ae!==-1?[...ce.slice(0,ae),{...ce[ae],...X},...ce.slice(ae+1)]:[X,...ce]})})})}),[]),W.useEffect(()=>{if(d!=="system"){Z(d);return}if(d==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?Z("dark"):Z("light")),typeof window>"u")return;let X=window.matchMedia("(prefers-color-scheme: dark)");try{X.addEventListener("change",({matches:ce})=>{Z(ce?"dark":"light")})}catch{X.addListener(({matches:ae})=>{try{Z(ae?"dark":"light")}catch(Pe){console.error(Pe)}})}},[d]),W.useEffect(()=>{O.length<=1&&M(!1)},[O]),W.useEffect(()=>{let X=ce=>{var ae,Pe;s.every(Ne=>ce[Ne]||ce.code===Ne)&&(M(!0),(ae=oe.current)==null||ae.focus()),ce.code==="Escape"&&(document.activeElement===oe.current||(Pe=oe.current)!=null&&Pe.contains(document.activeElement))&&M(!1)};return document.addEventListener("keydown",X),()=>document.removeEventListener("keydown",X)},[s]),W.useEffect(()=>{if(oe.current)return()=>{V.current&&(V.current.focus({preventScroll:!0}),V.current=null,q.current=!1)}},[oe.current]),W.createElement("section",{ref:e,"aria-label":`${C} ${F}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},b.map((X,ce)=>{var ae;let[Pe,Ne]=X.split("-");return O.length?W.createElement("ol",{key:X,dir:x==="auto"?rE():x,tabIndex:-1,ref:oe,className:a,"data-sonner-toaster":!0,"data-theme":se,"data-y-position":Pe,"data-lifted":N&&O.length>1&&!i,"data-x-position":Ne,style:{"--front-toast-height":`${((ae=A[0])==null?void 0:ae.height)||0}px`,"--width":`${LL}px`,"--gap":`${E}px`,...g,...zL(l,u)},onBlur:he=>{q.current&&!he.currentTarget.contains(he.relatedTarget)&&(q.current=!1,V.current&&(V.current.focus({preventScroll:!0}),V.current=null))},onFocus:he=>{he.target instanceof HTMLElement&&he.target.dataset.dismissible==="false"||q.current||(q.current=!0,V.current=he.relatedTarget)},onMouseEnter:()=>M(!0),onMouseMove:()=>M(!0),onMouseLeave:()=>{k||M(!1)},onDragEnd:()=>M(!1),onPointerDown:he=>{he.target instanceof HTMLElement&&he.target.dataset.dismissible==="false"||H(!0)},onPointerUp:()=>H(!1)},O.filter(he=>!he.position&&ce===0||he.position===X).map((he,nn)=>{var Qe,gn;return W.createElement($L,{key:he.id,icons:S,index:nn,toast:he,defaultRichColors:h,duration:(Qe=v==null?void 0:v.duration)!=null?Qe:p,className:v==null?void 0:v.className,descriptionClassName:v==null?void 0:v.descriptionClassName,invert:n,visibleToasts:T,closeButton:(gn=v==null?void 0:v.closeButton)!=null?gn:o,interacting:k,position:X,style:v==null?void 0:v.style,unstyled:v==null?void 0:v.unstyled,classNames:v==null?void 0:v.classNames,cancelButtonStyle:v==null?void 0:v.cancelButtonStyle,actionButtonStyle:v==null?void 0:v.actionButtonStyle,removeToast:ee,toasts:O.filter(rr=>rr.position==he.position),heights:A.filter(rr=>rr.position==he.position),setHeights:P,expandByDefault:i,gap:E,loadingIcon:_,expanded:N,pauseWhenPageIsHidden:D,swipeDirections:t.swipeDirections})})):null}))});const HL=({...t})=>{const{theme:e="system"}=gL();return f.jsx(BL,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})};var WL=iy[" useId ".trim().toString()]||(()=>{}),qL=0;function Ui(t){const[e,n]=y.useState(WL());return fn(()=>{n(r=>r??String(qL++))},[t]),e?`radix-${e}`:""}const GL=["top","right","bottom","left"],ei=Math.min,an=Math.max,qd=Math.round,Nu=Math.floor,Er=t=>({x:t,y:t}),KL={left:"right",right:"left",bottom:"top",top:"bottom"},QL={start:"end",end:"start"};function hg(t,e,n){return an(t,ei(e,n))}function Jr(t,e){return typeof t=="function"?t(e):t}function Zr(t){return t.split("-")[0]}function La(t){return t.split("-")[1]}function sv(t){return t==="x"?"y":"x"}function iv(t){return t==="y"?"height":"width"}const YL=new Set(["top","bottom"]);function vr(t){return YL.has(Zr(t))?"y":"x"}function ov(t){return sv(vr(t))}function XL(t,e,n){n===void 0&&(n=!1);const r=La(t),s=ov(t),i=iv(s);let o=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(o=Gd(o)),[o,Gd(o)]}function JL(t){const e=Gd(t);return[fg(t),e,fg(e)]}function fg(t){return t.replace(/start|end/g,e=>QL[e])}const sE=["left","right"],iE=["right","left"],ZL=["top","bottom"],e4=["bottom","top"];function t4(t,e,n){switch(t){case"top":case"bottom":return n?e?iE:sE:e?sE:iE;case"left":case"right":return e?ZL:e4;default:return[]}}function n4(t,e,n,r){const s=La(t);let i=t4(Zr(t),n==="start",r);return s&&(i=i.map(o=>o+"-"+s),e&&(i=i.concat(i.map(fg)))),i}function Gd(t){return t.replace(/left|right|bottom|top/g,e=>KL[e])}function r4(t){return{top:0,right:0,bottom:0,left:0,...t}}function Fb(t){return typeof t!="number"?r4(t):{top:t,right:t,bottom:t,left:t}}function Kd(t){const{x:e,y:n,width:r,height:s}=t;return{width:r,height:s,top:n,left:e,right:e+r,bottom:n+s,x:e,y:n}}function oE(t,e,n){let{reference:r,floating:s}=t;const i=vr(e),o=ov(e),a=iv(o),l=Zr(e),u=i==="y",d=r.x+r.width/2-s.width/2,h=r.y+r.height/2-s.height/2,p=r[a]/2-s[a]/2;let g;switch(l){case"top":g={x:d,y:r.y-s.height};break;case"bottom":g={x:d,y:r.y+r.height};break;case"right":g={x:r.x+r.width,y:h};break;case"left":g={x:r.x-s.width,y:h};break;default:g={x:r.x,y:r.y}}switch(La(e)){case"start":g[o]-=p*(n&&u?-1:1);break;case"end":g[o]+=p*(n&&u?-1:1);break}return g}const s4=async(t,e,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:o}=n,a=i.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let u=await o.getElementRects({reference:t,floating:e,strategy:s}),{x:d,y:h}=oE(u,r,l),p=r,g={},T=0;for(let v=0;v<a.length;v++){const{name:x,fn:E}=a[v],{x:_,y:S,data:C,reset:D}=await E({x:d,y:h,initialPlacement:r,placement:p,strategy:s,middlewareData:g,rects:u,platform:o,elements:{reference:t,floating:e}});d=_??d,h=S??h,g={...g,[x]:{...g[x],...C}},D&&T<=50&&(T++,typeof D=="object"&&(D.placement&&(p=D.placement),D.rects&&(u=D.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:s}):D.rects),{x:d,y:h}=oE(u,p,l)),v=-1)}return{x:d,y:h,placement:p,strategy:s,middlewareData:g}};async function cc(t,e){var n;e===void 0&&(e={});const{x:r,y:s,platform:i,rects:o,elements:a,strategy:l}=t,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:h="floating",altBoundary:p=!1,padding:g=0}=Jr(e,t),T=Fb(g),x=a[p?h==="floating"?"reference":"floating":h],E=Kd(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(x)))==null||n?x:x.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(a.floating)),boundary:u,rootBoundary:d,strategy:l})),_=h==="floating"?{x:r,y:s,width:o.floating.width,height:o.floating.height}:o.reference,S=await(i.getOffsetParent==null?void 0:i.getOffsetParent(a.floating)),C=await(i.isElement==null?void 0:i.isElement(S))?await(i.getScale==null?void 0:i.getScale(S))||{x:1,y:1}:{x:1,y:1},D=Kd(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:_,offsetParent:S,strategy:l}):_);return{top:(E.top-D.top+T.top)/C.y,bottom:(D.bottom-E.bottom+T.bottom)/C.y,left:(E.left-D.left+T.left)/C.x,right:(D.right-E.right+T.right)/C.x}}const i4=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:s,rects:i,platform:o,elements:a,middlewareData:l}=e,{element:u,padding:d=0}=Jr(t,e)||{};if(u==null)return{};const h=Fb(d),p={x:n,y:r},g=ov(s),T=iv(g),v=await o.getDimensions(u),x=g==="y",E=x?"top":"left",_=x?"bottom":"right",S=x?"clientHeight":"clientWidth",C=i.reference[T]+i.reference[g]-p[g]-i.floating[T],D=p[g]-i.reference[g],O=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let I=O?O[S]:0;(!I||!await(o.isElement==null?void 0:o.isElement(O)))&&(I=a.floating[S]||i.floating[T]);const b=C/2-D/2,A=I/2-v[T]/2-1,P=ei(h[E],A),N=ei(h[_],A),M=P,k=I-v[T]-N,H=I/2-v[T]/2+b,se=hg(M,H,k),Z=!l.arrow&&La(s)!=null&&H!==se&&i.reference[T]/2-(H<M?P:N)-v[T]/2<0,oe=Z?H<M?H-M:H-k:0;return{[g]:p[g]+oe,data:{[g]:se,centerOffset:H-se-oe,...Z&&{alignmentOffset:oe}},reset:Z}}}),o4=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:s,middlewareData:i,rects:o,initialPlacement:a,platform:l,elements:u}=e,{mainAxis:d=!0,crossAxis:h=!0,fallbackPlacements:p,fallbackStrategy:g="bestFit",fallbackAxisSideDirection:T="none",flipAlignment:v=!0,...x}=Jr(t,e);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const E=Zr(s),_=vr(a),S=Zr(a)===a,C=await(l.isRTL==null?void 0:l.isRTL(u.floating)),D=p||(S||!v?[Gd(a)]:JL(a)),O=T!=="none";!p&&O&&D.push(...n4(a,v,T,C));const I=[a,...D],b=await cc(e,x),A=[];let P=((r=i.flip)==null?void 0:r.overflows)||[];if(d&&A.push(b[E]),h){const H=XL(s,o,C);A.push(b[H[0]],b[H[1]])}if(P=[...P,{placement:s,overflows:A}],!A.every(H=>H<=0)){var N,M;const H=(((N=i.flip)==null?void 0:N.index)||0)+1,se=I[H];if(se&&(!(h==="alignment"?_!==vr(se):!1)||P.every(F=>F.overflows[0]>0&&vr(F.placement)===_)))return{data:{index:H,overflows:P},reset:{placement:se}};let Z=(M=P.filter(oe=>oe.overflows[0]<=0).sort((oe,F)=>oe.overflows[1]-F.overflows[1])[0])==null?void 0:M.placement;if(!Z)switch(g){case"bestFit":{var k;const oe=(k=P.filter(F=>{if(O){const V=vr(F.placement);return V===_||V==="y"}return!0}).map(F=>[F.placement,F.overflows.filter(V=>V>0).reduce((V,q)=>V+q,0)]).sort((F,V)=>F[1]-V[1])[0])==null?void 0:k[0];oe&&(Z=oe);break}case"initialPlacement":Z=a;break}if(s!==Z)return{reset:{placement:Z}}}return{}}}};function aE(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function lE(t){return GL.some(e=>t[e]>=0)}const a4=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...s}=Jr(t,e);switch(r){case"referenceHidden":{const i=await cc(e,{...s,elementContext:"reference"}),o=aE(i,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:lE(o)}}}case"escaped":{const i=await cc(e,{...s,altBoundary:!0}),o=aE(i,n.floating);return{data:{escapedOffsets:o,escaped:lE(o)}}}default:return{}}}}},Ub=new Set(["left","top"]);async function l4(t,e){const{placement:n,platform:r,elements:s}=t,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),o=Zr(n),a=La(n),l=vr(n)==="y",u=Ub.has(o)?-1:1,d=i&&l?-1:1,h=Jr(e,t);let{mainAxis:p,crossAxis:g,alignmentAxis:T}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return a&&typeof T=="number"&&(g=a==="end"?T*-1:T),l?{x:g*d,y:p*u}:{x:p*u,y:g*d}}const c4=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:s,y:i,placement:o,middlewareData:a}=e,l=await l4(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:s+l.x,y:i+l.y,data:{...l,placement:o}}}}},u4=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:s}=e,{mainAxis:i=!0,crossAxis:o=!1,limiter:a={fn:x=>{let{x:E,y:_}=x;return{x:E,y:_}}},...l}=Jr(t,e),u={x:n,y:r},d=await cc(e,l),h=vr(Zr(s)),p=sv(h);let g=u[p],T=u[h];if(i){const x=p==="y"?"top":"left",E=p==="y"?"bottom":"right",_=g+d[x],S=g-d[E];g=hg(_,g,S)}if(o){const x=h==="y"?"top":"left",E=h==="y"?"bottom":"right",_=T+d[x],S=T-d[E];T=hg(_,T,S)}const v=a.fn({...e,[p]:g,[h]:T});return{...v,data:{x:v.x-n,y:v.y-r,enabled:{[p]:i,[h]:o}}}}}},d4=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:s,rects:i,middlewareData:o}=e,{offset:a=0,mainAxis:l=!0,crossAxis:u=!0}=Jr(t,e),d={x:n,y:r},h=vr(s),p=sv(h);let g=d[p],T=d[h];const v=Jr(a,e),x=typeof v=="number"?{mainAxis:v,crossAxis:0}:{mainAxis:0,crossAxis:0,...v};if(l){const S=p==="y"?"height":"width",C=i.reference[p]-i.floating[S]+x.mainAxis,D=i.reference[p]+i.reference[S]-x.mainAxis;g<C?g=C:g>D&&(g=D)}if(u){var E,_;const S=p==="y"?"width":"height",C=Ub.has(Zr(s)),D=i.reference[h]-i.floating[S]+(C&&((E=o.offset)==null?void 0:E[h])||0)+(C?0:x.crossAxis),O=i.reference[h]+i.reference[S]+(C?0:((_=o.offset)==null?void 0:_[h])||0)-(C?x.crossAxis:0);T<D?T=D:T>O&&(T=O)}return{[p]:g,[h]:T}}}},h4=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:s,rects:i,platform:o,elements:a}=e,{apply:l=()=>{},...u}=Jr(t,e),d=await cc(e,u),h=Zr(s),p=La(s),g=vr(s)==="y",{width:T,height:v}=i.floating;let x,E;h==="top"||h==="bottom"?(x=h,E=p===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(E=h,x=p==="end"?"top":"bottom");const _=v-d.top-d.bottom,S=T-d.left-d.right,C=ei(v-d[x],_),D=ei(T-d[E],S),O=!e.middlewareData.shift;let I=C,b=D;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(b=S),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(I=_),O&&!p){const P=an(d.left,0),N=an(d.right,0),M=an(d.top,0),k=an(d.bottom,0);g?b=T-2*(P!==0||N!==0?P+N:an(d.left,d.right)):I=v-2*(M!==0||k!==0?M+k:an(d.top,d.bottom))}await l({...e,availableWidth:b,availableHeight:I});const A=await o.getDimensions(a.floating);return T!==A.width||v!==A.height?{reset:{rects:!0}}:{}}}};function Xh(){return typeof window<"u"}function Va(t){return $b(t)?(t.nodeName||"").toLowerCase():"#document"}function un(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function kr(t){var e;return(e=($b(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function $b(t){return Xh()?t instanceof Node||t instanceof un(t).Node:!1}function Xn(t){return Xh()?t instanceof Element||t instanceof un(t).Element:!1}function Cr(t){return Xh()?t instanceof HTMLElement||t instanceof un(t).HTMLElement:!1}function cE(t){return!Xh()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof un(t).ShadowRoot}const f4=new Set(["inline","contents"]);function jc(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=Jn(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!f4.has(s)}const p4=new Set(["table","td","th"]);function m4(t){return p4.has(Va(t))}const g4=[":popover-open",":modal"];function Jh(t){return g4.some(e=>{try{return t.matches(e)}catch{return!1}})}const y4=["transform","translate","scale","rotate","perspective"],v4=["transform","translate","scale","rotate","perspective","filter"],w4=["paint","layout","strict","content"];function av(t){const e=lv(),n=Xn(t)?Jn(t):t;return y4.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||v4.some(r=>(n.willChange||"").includes(r))||w4.some(r=>(n.contain||"").includes(r))}function _4(t){let e=ti(t);for(;Cr(e)&&!_a(e);){if(av(e))return e;if(Jh(e))return null;e=ti(e)}return null}function lv(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const E4=new Set(["html","body","#document"]);function _a(t){return E4.has(Va(t))}function Jn(t){return un(t).getComputedStyle(t)}function Zh(t){return Xn(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function ti(t){if(Va(t)==="html")return t;const e=t.assignedSlot||t.parentNode||cE(t)&&t.host||kr(t);return cE(e)?e.host:e}function zb(t){const e=ti(t);return _a(e)?t.ownerDocument?t.ownerDocument.body:t.body:Cr(e)&&jc(e)?e:zb(e)}function uc(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=zb(t),i=s===((r=t.ownerDocument)==null?void 0:r.body),o=un(s);if(i){const a=pg(o);return e.concat(o,o.visualViewport||[],jc(s)?s:[],a&&n?uc(a):[])}return e.concat(s,uc(s,[],n))}function pg(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function Bb(t){const e=Jn(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=Cr(t),i=s?t.offsetWidth:n,o=s?t.offsetHeight:r,a=qd(n)!==i||qd(r)!==o;return a&&(n=i,r=o),{width:n,height:r,$:a}}function cv(t){return Xn(t)?t:t.contextElement}function qo(t){const e=cv(t);if(!Cr(e))return Er(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:i}=Bb(e);let o=(i?qd(n.width):n.width)/r,a=(i?qd(n.height):n.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const x4=Er(0);function Hb(t){const e=un(t);return!lv()||!e.visualViewport?x4:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function T4(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==un(t)?!1:e}function Ki(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),i=cv(t);let o=Er(1);e&&(r?Xn(r)&&(o=qo(r)):o=qo(t));const a=T4(i,n,r)?Hb(i):Er(0);let l=(s.left+a.x)/o.x,u=(s.top+a.y)/o.y,d=s.width/o.x,h=s.height/o.y;if(i){const p=un(i),g=r&&Xn(r)?un(r):r;let T=p,v=pg(T);for(;v&&r&&g!==T;){const x=qo(v),E=v.getBoundingClientRect(),_=Jn(v),S=E.left+(v.clientLeft+parseFloat(_.paddingLeft))*x.x,C=E.top+(v.clientTop+parseFloat(_.paddingTop))*x.y;l*=x.x,u*=x.y,d*=x.x,h*=x.y,l+=S,u+=C,T=un(v),v=pg(T)}}return Kd({width:d,height:h,x:l,y:u})}function uv(t,e){const n=Zh(t).scrollLeft;return e?e.left+n:Ki(kr(t)).left+n}function Wb(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),s=r.left+e.scrollLeft-(n?0:uv(t,r)),i=r.top+e.scrollTop;return{x:s,y:i}}function S4(t){let{elements:e,rect:n,offsetParent:r,strategy:s}=t;const i=s==="fixed",o=kr(r),a=e?Jh(e.floating):!1;if(r===o||a&&i)return n;let l={scrollLeft:0,scrollTop:0},u=Er(1);const d=Er(0),h=Cr(r);if((h||!h&&!i)&&((Va(r)!=="body"||jc(o))&&(l=Zh(r)),Cr(r))){const g=Ki(r);u=qo(r),d.x=g.x+r.clientLeft,d.y=g.y+r.clientTop}const p=o&&!h&&!i?Wb(o,l,!0):Er(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-l.scrollLeft*u.x+d.x+p.x,y:n.y*u.y-l.scrollTop*u.y+d.y+p.y}}function b4(t){return Array.from(t.getClientRects())}function I4(t){const e=kr(t),n=Zh(t),r=t.ownerDocument.body,s=an(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),i=an(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+uv(t);const a=-n.scrollTop;return Jn(r).direction==="rtl"&&(o+=an(e.clientWidth,r.clientWidth)-s),{width:s,height:i,x:o,y:a}}function C4(t,e){const n=un(t),r=kr(t),s=n.visualViewport;let i=r.clientWidth,o=r.clientHeight,a=0,l=0;if(s){i=s.width,o=s.height;const u=lv();(!u||u&&e==="fixed")&&(a=s.offsetLeft,l=s.offsetTop)}return{width:i,height:o,x:a,y:l}}const A4=new Set(["absolute","fixed"]);function R4(t,e){const n=Ki(t,!0,e==="fixed"),r=n.top+t.clientTop,s=n.left+t.clientLeft,i=Cr(t)?qo(t):Er(1),o=t.clientWidth*i.x,a=t.clientHeight*i.y,l=s*i.x,u=r*i.y;return{width:o,height:a,x:l,y:u}}function uE(t,e,n){let r;if(e==="viewport")r=C4(t,n);else if(e==="document")r=I4(kr(t));else if(Xn(e))r=R4(e,n);else{const s=Hb(t);r={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return Kd(r)}function qb(t,e){const n=ti(t);return n===e||!Xn(n)||_a(n)?!1:Jn(n).position==="fixed"||qb(n,e)}function P4(t,e){const n=e.get(t);if(n)return n;let r=uc(t,[],!1).filter(a=>Xn(a)&&Va(a)!=="body"),s=null;const i=Jn(t).position==="fixed";let o=i?ti(t):t;for(;Xn(o)&&!_a(o);){const a=Jn(o),l=av(o);!l&&a.position==="fixed"&&(s=null),(i?!l&&!s:!l&&a.position==="static"&&!!s&&A4.has(s.position)||jc(o)&&!l&&qb(t,o))?r=r.filter(d=>d!==o):s=a,o=ti(o)}return e.set(t,r),r}function k4(t){let{element:e,boundary:n,rootBoundary:r,strategy:s}=t;const o=[...n==="clippingAncestors"?Jh(e)?[]:P4(e,this._c):[].concat(n),r],a=o[0],l=o.reduce((u,d)=>{const h=uE(e,d,s);return u.top=an(h.top,u.top),u.right=ei(h.right,u.right),u.bottom=ei(h.bottom,u.bottom),u.left=an(h.left,u.left),u},uE(e,a,s));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function N4(t){const{width:e,height:n}=Bb(t);return{width:e,height:n}}function D4(t,e,n){const r=Cr(e),s=kr(e),i=n==="fixed",o=Ki(t,!0,i,e);let a={scrollLeft:0,scrollTop:0};const l=Er(0);function u(){l.x=uv(s)}if(r||!r&&!i)if((Va(e)!=="body"||jc(s))&&(a=Zh(e)),r){const g=Ki(e,!0,i,e);l.x=g.x+e.clientLeft,l.y=g.y+e.clientTop}else s&&u();i&&!r&&s&&u();const d=s&&!r&&!i?Wb(s,a):Er(0),h=o.left+a.scrollLeft-l.x-d.x,p=o.top+a.scrollTop-l.y-d.y;return{x:h,y:p,width:o.width,height:o.height}}function Up(t){return Jn(t).position==="static"}function dE(t,e){if(!Cr(t)||Jn(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return kr(t)===n&&(n=n.ownerDocument.body),n}function Gb(t,e){const n=un(t);if(Jh(t))return n;if(!Cr(t)){let s=ti(t);for(;s&&!_a(s);){if(Xn(s)&&!Up(s))return s;s=ti(s)}return n}let r=dE(t,e);for(;r&&m4(r)&&Up(r);)r=dE(r,e);return r&&_a(r)&&Up(r)&&!av(r)?n:r||_4(t)||n}const M4=async function(t){const e=this.getOffsetParent||Gb,n=this.getDimensions,r=await n(t.floating);return{reference:D4(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function O4(t){return Jn(t).direction==="rtl"}const L4={convertOffsetParentRelativeRectToViewportRelativeRect:S4,getDocumentElement:kr,getClippingRect:k4,getOffsetParent:Gb,getElementRects:M4,getClientRects:b4,getDimensions:N4,getScale:qo,isElement:Xn,isRTL:O4};function Kb(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function V4(t,e){let n=null,r;const s=kr(t);function i(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),i();const u=t.getBoundingClientRect(),{left:d,top:h,width:p,height:g}=u;if(a||e(),!p||!g)return;const T=Nu(h),v=Nu(s.clientWidth-(d+p)),x=Nu(s.clientHeight-(h+g)),E=Nu(d),S={rootMargin:-T+"px "+-v+"px "+-x+"px "+-E+"px",threshold:an(0,ei(1,l))||1};let C=!0;function D(O){const I=O[0].intersectionRatio;if(I!==l){if(!C)return o();I?o(!1,I):r=setTimeout(()=>{o(!1,1e-7)},1e3)}I===1&&!Kb(u,t.getBoundingClientRect())&&o(),C=!1}try{n=new IntersectionObserver(D,{...S,root:s.ownerDocument})}catch{n=new IntersectionObserver(D,S)}n.observe(t)}return o(!0),i}function j4(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,u=cv(t),d=s||i?[...u?uc(u):[],...uc(e)]:[];d.forEach(E=>{s&&E.addEventListener("scroll",n,{passive:!0}),i&&E.addEventListener("resize",n)});const h=u&&a?V4(u,n):null;let p=-1,g=null;o&&(g=new ResizeObserver(E=>{let[_]=E;_&&_.target===u&&g&&(g.unobserve(e),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var S;(S=g)==null||S.observe(e)})),n()}),u&&!l&&g.observe(u),g.observe(e));let T,v=l?Ki(t):null;l&&x();function x(){const E=Ki(t);v&&!Kb(v,E)&&n(),v=E,T=requestAnimationFrame(x)}return n(),()=>{var E;d.forEach(_=>{s&&_.removeEventListener("scroll",n),i&&_.removeEventListener("resize",n)}),h==null||h(),(E=g)==null||E.disconnect(),g=null,l&&cancelAnimationFrame(T)}}const F4=c4,U4=u4,$4=o4,z4=h4,B4=a4,hE=i4,H4=d4,W4=(t,e,n)=>{const r=new Map,s={platform:L4,...n},i={...s.platform,_c:r};return s4(t,e,{...s,platform:i})};var q4=typeof document<"u",G4=function(){},od=q4?y.useLayoutEffect:G4;function Qd(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!Qd(t[r],e[r]))return!1;return!0}if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(!(i==="_owner"&&t.$$typeof)&&!Qd(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function Qb(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function fE(t,e){const n=Qb(t);return Math.round(e*n)/n}function $p(t){const e=y.useRef(t);return od(()=>{e.current=t}),e}function K4(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:i,floating:o}={},transform:a=!0,whileElementsMounted:l,open:u}=t,[d,h]=y.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[p,g]=y.useState(r);Qd(p,r)||g(r);const[T,v]=y.useState(null),[x,E]=y.useState(null),_=y.useCallback(F=>{F!==O.current&&(O.current=F,v(F))},[]),S=y.useCallback(F=>{F!==I.current&&(I.current=F,E(F))},[]),C=i||T,D=o||x,O=y.useRef(null),I=y.useRef(null),b=y.useRef(d),A=l!=null,P=$p(l),N=$p(s),M=$p(u),k=y.useCallback(()=>{if(!O.current||!I.current)return;const F={placement:e,strategy:n,middleware:p};N.current&&(F.platform=N.current),W4(O.current,I.current,F).then(V=>{const q={...V,isPositioned:M.current!==!1};H.current&&!Qd(b.current,q)&&(b.current=q,Mc.flushSync(()=>{h(q)}))})},[p,e,n,N,M]);od(()=>{u===!1&&b.current.isPositioned&&(b.current.isPositioned=!1,h(F=>({...F,isPositioned:!1})))},[u]);const H=y.useRef(!1);od(()=>(H.current=!0,()=>{H.current=!1}),[]),od(()=>{if(C&&(O.current=C),D&&(I.current=D),C&&D){if(P.current)return P.current(C,D,k);k()}},[C,D,k,P,A]);const se=y.useMemo(()=>({reference:O,floating:I,setReference:_,setFloating:S}),[_,S]),Z=y.useMemo(()=>({reference:C,floating:D}),[C,D]),oe=y.useMemo(()=>{const F={position:n,left:0,top:0};if(!Z.floating)return F;const V=fE(Z.floating,d.x),q=fE(Z.floating,d.y);return a?{...F,transform:"translate("+V+"px, "+q+"px)",...Qb(Z.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:V,top:q}},[n,a,Z.floating,d.x,d.y]);return y.useMemo(()=>({...d,update:k,refs:se,elements:Z,floatingStyles:oe}),[d,k,se,Z,oe])}const Q4=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:s}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?hE({element:r.current,padding:s}).fn(n):{}:r?hE({element:r,padding:s}).fn(n):{}}}},Y4=(t,e)=>({...F4(t),options:[t,e]}),X4=(t,e)=>({...U4(t),options:[t,e]}),J4=(t,e)=>({...H4(t),options:[t,e]}),Z4=(t,e)=>({...$4(t),options:[t,e]}),eV=(t,e)=>({...z4(t),options:[t,e]}),tV=(t,e)=>({...B4(t),options:[t,e]}),nV=(t,e)=>({...Q4(t),options:[t,e]});var rV="Arrow",Yb=y.forwardRef((t,e)=>{const{children:n,width:r=10,height:s=5,...i}=t;return f.jsx(_e.svg,{...i,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:f.jsx("polygon",{points:"0,0 30,0 15,10"})})});Yb.displayName=rV;var sV=Yb;function iV(t){const[e,n]=y.useState(void 0);return fn(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,a;if("borderBoxSize"in i){const l=i.borderBoxSize,u=Array.isArray(l)?l[0]:l;o=u.inlineSize,a=u.blockSize}else o=t.offsetWidth,a=t.offsetHeight;n({width:o,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var dv="Popper",[Xb,ef]=tr(dv),[oV,Jb]=Xb(dv),Zb=t=>{const{__scopePopper:e,children:n}=t,[r,s]=y.useState(null);return f.jsx(oV,{scope:e,anchor:r,onAnchorChange:s,children:n})};Zb.displayName=dv;var eI="PopperAnchor",tI=y.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...s}=t,i=Jb(eI,n),o=y.useRef(null),a=Re(e,o);return y.useEffect(()=>{i.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:f.jsx(_e.div,{...s,ref:a})});tI.displayName=eI;var hv="PopperContent",[aV,lV]=Xb(hv),nI=y.forwardRef((t,e)=>{var he,nn,Qe,gn,rr,Dr;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:i="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:h="partial",hideWhenDetached:p=!1,updatePositionStrategy:g="optimized",onPlaced:T,...v}=t,x=Jb(hv,n),[E,_]=y.useState(null),S=Re(e,yn=>_(yn)),[C,D]=y.useState(null),O=iV(C),I=(O==null?void 0:O.width)??0,b=(O==null?void 0:O.height)??0,A=r+(i!=="center"?"-"+i:""),P=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},N=Array.isArray(u)?u:[u],M=N.length>0,k={padding:P,boundary:N.filter(uV),altBoundary:M},{refs:H,floatingStyles:se,placement:Z,isPositioned:oe,middlewareData:F}=K4({strategy:"fixed",placement:A,whileElementsMounted:(...yn)=>j4(...yn,{animationFrame:g==="always"}),elements:{reference:x.anchor},middleware:[Y4({mainAxis:s+b,alignmentAxis:o}),l&&X4({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?J4():void 0,...k}),l&&Z4({...k}),eV({...k,apply:({elements:yn,rects:fi,availableWidth:Ga,availableHeight:as})=>{const{width:pi,height:ls}=fi.reference,$e=yn.floating.style;$e.setProperty("--radix-popper-available-width",`${Ga}px`),$e.setProperty("--radix-popper-available-height",`${as}px`),$e.setProperty("--radix-popper-anchor-width",`${pi}px`),$e.setProperty("--radix-popper-anchor-height",`${ls}px`)}}),C&&nV({element:C,padding:a}),dV({arrowWidth:I,arrowHeight:b}),p&&tV({strategy:"referenceHidden",...k})]}),[V,q]=iI(Z),ee=Je(T);fn(()=>{oe&&(ee==null||ee())},[oe,ee]);const X=(he=F.arrow)==null?void 0:he.x,ce=(nn=F.arrow)==null?void 0:nn.y,ae=((Qe=F.arrow)==null?void 0:Qe.centerOffset)!==0,[Pe,Ne]=y.useState();return fn(()=>{E&&Ne(window.getComputedStyle(E).zIndex)},[E]),f.jsx("div",{ref:H.setFloating,"data-radix-popper-content-wrapper":"",style:{...se,transform:oe?se.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Pe,"--radix-popper-transform-origin":[(gn=F.transformOrigin)==null?void 0:gn.x,(rr=F.transformOrigin)==null?void 0:rr.y].join(" "),...((Dr=F.hide)==null?void 0:Dr.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:f.jsx(aV,{scope:n,placedSide:V,onArrowChange:D,arrowX:X,arrowY:ce,shouldHideArrow:ae,children:f.jsx(_e.div,{"data-side":V,"data-align":q,...v,ref:S,style:{...v.style,animation:oe?void 0:"none"}})})})});nI.displayName=hv;var rI="PopperArrow",cV={top:"bottom",right:"left",bottom:"top",left:"right"},sI=y.forwardRef(function(e,n){const{__scopePopper:r,...s}=e,i=lV(rI,r),o=cV[i.placedSide];return f.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:f.jsx(sV,{...s,ref:n,style:{...s.style,display:"block"}})})});sI.displayName=rI;function uV(t){return t!==null}var dV=t=>({name:"transformOrigin",options:t,fn(e){var x,E,_;const{placement:n,rects:r,middlewareData:s}=e,o=((x=s.arrow)==null?void 0:x.centerOffset)!==0,a=o?0:t.arrowWidth,l=o?0:t.arrowHeight,[u,d]=iI(n),h={start:"0%",center:"50%",end:"100%"}[d],p=(((E=s.arrow)==null?void 0:E.x)??0)+a/2,g=(((_=s.arrow)==null?void 0:_.y)??0)+l/2;let T="",v="";return u==="bottom"?(T=o?h:`${p}px`,v=`${-l}px`):u==="top"?(T=o?h:`${p}px`,v=`${r.floating.height+l}px`):u==="right"?(T=`${-l}px`,v=o?h:`${g}px`):u==="left"&&(T=`${r.floating.width+l}px`,v=o?h:`${g}px`),{data:{x:T,y:v}}}});function iI(t){const[e,n="center"]=t.split("-");return[e,n]}var oI=Zb,aI=tI,lI=nI,cI=sI,[tf,LW]=tr("Tooltip",[ef]),nf=ef(),uI="TooltipProvider",hV=700,mg="tooltip.open",[fV,fv]=tf(uI),dI=t=>{const{__scopeTooltip:e,delayDuration:n=hV,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:i}=t,o=y.useRef(!0),a=y.useRef(!1),l=y.useRef(0);return y.useEffect(()=>{const u=l.current;return()=>window.clearTimeout(u)},[]),f.jsx(fV,{scope:e,isOpenDelayedRef:o,delayDuration:n,onOpen:y.useCallback(()=>{window.clearTimeout(l.current),o.current=!1},[]),onClose:y.useCallback(()=>{window.clearTimeout(l.current),l.current=window.setTimeout(()=>o.current=!0,r)},[r]),isPointerInTransitRef:a,onPointerInTransitChange:y.useCallback(u=>{a.current=u},[]),disableHoverableContent:s,children:i})};dI.displayName=uI;var dc="Tooltip",[pV,rf]=tf(dc),hI=t=>{const{__scopeTooltip:e,children:n,open:r,defaultOpen:s,onOpenChange:i,disableHoverableContent:o,delayDuration:a}=t,l=fv(dc,t.__scopeTooltip),u=nf(e),[d,h]=y.useState(null),p=Ui(),g=y.useRef(0),T=o??l.disableHoverableContent,v=a??l.delayDuration,x=y.useRef(!1),[E,_]=Lc({prop:r,defaultProp:s??!1,onChange:I=>{I?(l.onOpen(),document.dispatchEvent(new CustomEvent(mg))):l.onClose(),i==null||i(I)},caller:dc}),S=y.useMemo(()=>E?x.current?"delayed-open":"instant-open":"closed",[E]),C=y.useCallback(()=>{window.clearTimeout(g.current),g.current=0,x.current=!1,_(!0)},[_]),D=y.useCallback(()=>{window.clearTimeout(g.current),g.current=0,_(!1)},[_]),O=y.useCallback(()=>{window.clearTimeout(g.current),g.current=window.setTimeout(()=>{x.current=!0,_(!0),g.current=0},v)},[v,_]);return y.useEffect(()=>()=>{g.current&&(window.clearTimeout(g.current),g.current=0)},[]),f.jsx(oI,{...u,children:f.jsx(pV,{scope:e,contentId:p,open:E,stateAttribute:S,trigger:d,onTriggerChange:h,onTriggerEnter:y.useCallback(()=>{l.isOpenDelayedRef.current?O():C()},[l.isOpenDelayedRef,O,C]),onTriggerLeave:y.useCallback(()=>{T?D():(window.clearTimeout(g.current),g.current=0)},[D,T]),onOpen:C,onClose:D,disableHoverableContent:T,children:n})})};hI.displayName=dc;var gg="TooltipTrigger",fI=y.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=rf(gg,n),i=fv(gg,n),o=nf(n),a=y.useRef(null),l=Re(e,a,s.onTriggerChange),u=y.useRef(!1),d=y.useRef(!1),h=y.useCallback(()=>u.current=!1,[]);return y.useEffect(()=>()=>document.removeEventListener("pointerup",h),[h]),f.jsx(aI,{asChild:!0,...o,children:f.jsx(_e.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:l,onPointerMove:J(t.onPointerMove,p=>{p.pointerType!=="touch"&&!d.current&&!i.isPointerInTransitRef.current&&(s.onTriggerEnter(),d.current=!0)}),onPointerLeave:J(t.onPointerLeave,()=>{s.onTriggerLeave(),d.current=!1}),onPointerDown:J(t.onPointerDown,()=>{s.open&&s.onClose(),u.current=!0,document.addEventListener("pointerup",h,{once:!0})}),onFocus:J(t.onFocus,()=>{u.current||s.onOpen()}),onBlur:J(t.onBlur,s.onClose),onClick:J(t.onClick,s.onClose)})})});fI.displayName=gg;var mV="TooltipPortal",[VW,gV]=tf(mV,{forceMount:void 0}),Ea="TooltipContent",pI=y.forwardRef((t,e)=>{const n=gV(Ea,t.__scopeTooltip),{forceMount:r=n.forceMount,side:s="top",...i}=t,o=rf(Ea,t.__scopeTooltip);return f.jsx(tn,{present:r||o.open,children:o.disableHoverableContent?f.jsx(mI,{side:s,...i,ref:e}):f.jsx(yV,{side:s,...i,ref:e})})}),yV=y.forwardRef((t,e)=>{const n=rf(Ea,t.__scopeTooltip),r=fv(Ea,t.__scopeTooltip),s=y.useRef(null),i=Re(e,s),[o,a]=y.useState(null),{trigger:l,onClose:u}=n,d=s.current,{onPointerInTransitChange:h}=r,p=y.useCallback(()=>{a(null),h(!1)},[h]),g=y.useCallback((T,v)=>{const x=T.currentTarget,E={x:T.clientX,y:T.clientY},_=xV(E,x.getBoundingClientRect()),S=TV(E,_),C=SV(v.getBoundingClientRect()),D=IV([...S,...C]);a(D),h(!0)},[h]);return y.useEffect(()=>()=>p(),[p]),y.useEffect(()=>{if(l&&d){const T=x=>g(x,d),v=x=>g(x,l);return l.addEventListener("pointerleave",T),d.addEventListener("pointerleave",v),()=>{l.removeEventListener("pointerleave",T),d.removeEventListener("pointerleave",v)}}},[l,d,g,p]),y.useEffect(()=>{if(o){const T=v=>{const x=v.target,E={x:v.clientX,y:v.clientY},_=(l==null?void 0:l.contains(x))||(d==null?void 0:d.contains(x)),S=!bV(E,o);_?p():S&&(p(),u())};return document.addEventListener("pointermove",T),()=>document.removeEventListener("pointermove",T)}},[l,d,o,u,p]),f.jsx(mI,{...t,ref:i})}),[vV,wV]=tf(dc,{isInside:!1}),_V=nb("TooltipContent"),mI=y.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":s,onEscapeKeyDown:i,onPointerDownOutside:o,...a}=t,l=rf(Ea,n),u=nf(n),{onClose:d}=l;return y.useEffect(()=>(document.addEventListener(mg,d),()=>document.removeEventListener(mg,d)),[d]),y.useEffect(()=>{if(l.trigger){const h=p=>{const g=p.target;g!=null&&g.contains(l.trigger)&&d()};return window.addEventListener("scroll",h,{capture:!0}),()=>window.removeEventListener("scroll",h,{capture:!0})}},[l.trigger,d]),f.jsx(Oc,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:h=>h.preventDefault(),onDismiss:d,children:f.jsxs(lI,{"data-state":l.stateAttribute,...u,...a,ref:e,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[f.jsx(_V,{children:r}),f.jsx(vV,{scope:n,isInside:!0,children:f.jsx(FM,{id:l.contentId,role:"tooltip",children:s||r})})]})})});pI.displayName=Ea;var gI="TooltipArrow",EV=y.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=nf(n);return wV(gI,n).isInside?null:f.jsx(cI,{...s,...r,ref:e})});EV.displayName=gI;function xV(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),s=Math.abs(e.right-t.x),i=Math.abs(e.left-t.x);switch(Math.min(n,r,s,i)){case i:return"left";case s:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function TV(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function SV(t){const{top:e,right:n,bottom:r,left:s}=t;return[{x:s,y:e},{x:n,y:e},{x:n,y:r},{x:s,y:r}]}function bV(t,e){const{x:n,y:r}=t;let s=!1;for(let i=0,o=e.length-1;i<e.length;o=i++){const a=e[i],l=e[o],u=a.x,d=a.y,h=l.x,p=l.y;d>r!=p>r&&n<(h-u)*(r-d)/(p-d)+u&&(s=!s)}return s}function IV(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),CV(e)}function CV(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const s=t[r];for(;e.length>=2;){const i=e[e.length-1],o=e[e.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))e.pop();else break}e.push(s)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const s=t[r];for(;n.length>=2;){const i=n[n.length-1],o=n[n.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))n.pop();else break}n.push(s)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var AV=dI,RV=hI,PV=fI,yI=pI;const vI=AV,kV=RV,NV=PV,wI=y.forwardRef(({className:t,sideOffset:e=4,...n},r)=>f.jsx(yI,{ref:r,sideOffset:e,className:me("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n}));wI.displayName=yI.displayName;var sf=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},of=typeof window>"u"||"Deno"in globalThis;function jn(){}function DV(t,e){return typeof t=="function"?t(e):t}function MV(t){return typeof t=="number"&&t>=0&&t!==1/0}function OV(t,e){return Math.max(t+(e||0)-Date.now(),0)}function yg(t,e){return typeof t=="function"?t(e):t}function LV(t,e){return typeof t=="function"?t(e):t}function pE(t,e){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:o,stale:a}=t;if(o){if(r){if(e.queryHash!==pv(o,e.options))return!1}else if(!fc(e.queryKey,o))return!1}if(n!=="all"){const l=e.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||s&&s!==e.state.fetchStatus||i&&!i(e))}function mE(t,e){const{exact:n,status:r,predicate:s,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(n){if(hc(e.options.mutationKey)!==hc(i))return!1}else if(!fc(e.options.mutationKey,i))return!1}return!(r&&e.state.status!==r||s&&!s(e))}function pv(t,e){return((e==null?void 0:e.queryKeyHashFn)||hc)(t)}function hc(t){return JSON.stringify(t,(e,n)=>vg(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function fc(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>fc(t[n],e[n])):!1}function _I(t,e){if(t===e)return t;const n=gE(t)&&gE(e);if(n||vg(t)&&vg(e)){const r=n?t:Object.keys(t),s=r.length,i=n?e:Object.keys(e),o=i.length,a=n?[]:{},l=new Set(r);let u=0;for(let d=0;d<o;d++){const h=n?d:i[d];(!n&&l.has(h)||n)&&t[h]===void 0&&e[h]===void 0?(a[h]=void 0,u++):(a[h]=_I(t[h],e[h]),a[h]===t[h]&&t[h]!==void 0&&u++)}return s===o&&u===s?t:a}return e}function gE(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function vg(t){if(!yE(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!yE(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function yE(t){return Object.prototype.toString.call(t)==="[object Object]"}function VV(t){return new Promise(e=>{setTimeout(e,t)})}function jV(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?_I(t,e):e}function FV(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function UV(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var mv=Symbol();function EI(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===mv?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var Ni,Ps,ra,Nx,$V=(Nx=class extends sf{constructor(){super();Se(this,Ni);Se(this,Ps);Se(this,ra);de(this,ra,e=>{if(!of&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){U(this,Ps)||this.setEventListener(U(this,ra))}onUnsubscribe(){var e;this.hasListeners()||((e=U(this,Ps))==null||e.call(this),de(this,Ps,void 0))}setEventListener(e){var n;de(this,ra,e),(n=U(this,Ps))==null||n.call(this),de(this,Ps,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){U(this,Ni)!==e&&(de(this,Ni,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof U(this,Ni)=="boolean"?U(this,Ni):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Ni=new WeakMap,Ps=new WeakMap,ra=new WeakMap,Nx),xI=new $V,sa,ks,ia,Dx,zV=(Dx=class extends sf{constructor(){super();Se(this,sa,!0);Se(this,ks);Se(this,ia);de(this,ia,e=>{if(!of&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){U(this,ks)||this.setEventListener(U(this,ia))}onUnsubscribe(){var e;this.hasListeners()||((e=U(this,ks))==null||e.call(this),de(this,ks,void 0))}setEventListener(e){var n;de(this,ia,e),(n=U(this,ks))==null||n.call(this),de(this,ks,e(this.setOnline.bind(this)))}setOnline(e){U(this,sa)!==e&&(de(this,sa,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return U(this,sa)}},sa=new WeakMap,ks=new WeakMap,ia=new WeakMap,Dx),Yd=new zV;function BV(){let t,e;const n=new Promise((s,i)=>{t=s,e=i});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),t(s)},n.reject=s=>{r({status:"rejected",reason:s}),e(s)},n}function HV(t){return Math.min(1e3*2**t,3e4)}function TI(t){return(t??"online")==="online"?Yd.isOnline():!0}var SI=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function zp(t){return t instanceof SI}function bI(t){let e=!1,n=0,r=!1,s;const i=BV(),o=v=>{var x;r||(p(new SI(v)),(x=t.abort)==null||x.call(t))},a=()=>{e=!0},l=()=>{e=!1},u=()=>xI.isFocused()&&(t.networkMode==="always"||Yd.isOnline())&&t.canRun(),d=()=>TI(t.networkMode)&&t.canRun(),h=v=>{var x;r||(r=!0,(x=t.onSuccess)==null||x.call(t,v),s==null||s(),i.resolve(v))},p=v=>{var x;r||(r=!0,(x=t.onError)==null||x.call(t,v),s==null||s(),i.reject(v))},g=()=>new Promise(v=>{var x;s=E=>{(r||u())&&v(E)},(x=t.onPause)==null||x.call(t)}).then(()=>{var v;s=void 0,r||(v=t.onContinue)==null||v.call(t)}),T=()=>{if(r)return;let v;const x=n===0?t.initialPromise:void 0;try{v=x??t.fn()}catch(E){v=Promise.reject(E)}Promise.resolve(v).then(h).catch(E=>{var O;if(r)return;const _=t.retry??(of?0:3),S=t.retryDelay??HV,C=typeof S=="function"?S(n,E):S,D=_===!0||typeof _=="number"&&n<_||typeof _=="function"&&_(n,E);if(e||!D){p(E);return}n++,(O=t.onFail)==null||O.call(t,n,E),VV(C).then(()=>u()?void 0:g()).then(()=>{e?p(E):T()})})};return{promise:i,cancel:o,continue:()=>(s==null||s(),i),cancelRetry:a,continueRetry:l,canStart:d,start:()=>(d()?T():g().then(T),i)}}var WV=t=>setTimeout(t,0);function qV(){let t=[],e=0,n=a=>{a()},r=a=>{a()},s=WV;const i=a=>{e?t.push(a):s(()=>{n(a)})},o=()=>{const a=t;t=[],a.length&&s(()=>{r(()=>{a.forEach(l=>{n(l)})})})};return{batch:a=>{let l;e++;try{l=a()}finally{e--,e||o()}return l},batchCalls:a=>(...l)=>{i(()=>{a(...l)})},schedule:i,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{s=a}}}var Vt=qV(),Di,Mx,II=(Mx=class{constructor(){Se(this,Di)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),MV(this.gcTime)&&de(this,Di,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(of?1/0:5*60*1e3))}clearGcTimeout(){U(this,Di)&&(clearTimeout(U(this,Di)),de(this,Di,void 0))}},Di=new WeakMap,Mx),oa,Mi,wn,Oi,At,Cc,Li,Fn,Vr,Ox,GV=(Ox=class extends II{constructor(n){super();Se(this,Fn);Se(this,oa);Se(this,Mi);Se(this,wn);Se(this,Oi);Se(this,At);Se(this,Cc);Se(this,Li);de(this,Li,!1),de(this,Cc,n.defaultOptions),this.setOptions(n.options),this.observers=[],de(this,Oi,n.client),de(this,wn,U(this,Oi).getQueryCache()),this.queryKey=n.queryKey,this.queryHash=n.queryHash,de(this,oa,QV(this.options)),this.state=n.state??U(this,oa),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var n;return(n=U(this,At))==null?void 0:n.promise}setOptions(n){this.options={...U(this,Cc),...n},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&U(this,wn).remove(this)}setData(n,r){const s=jV(this.state.data,n,this.options);return St(this,Fn,Vr).call(this,{data:s,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),s}setState(n,r){St(this,Fn,Vr).call(this,{type:"setState",state:n,setStateOptions:r})}cancel(n){var s,i;const r=(s=U(this,At))==null?void 0:s.promise;return(i=U(this,At))==null||i.cancel(n),r?r.then(jn).catch(jn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(U(this,oa))}isActive(){return this.observers.some(n=>LV(n.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===mv||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(n=>yg(n.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(n=>n.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(n=0){return this.state.data===void 0?!0:n==="static"?!1:this.state.isInvalidated?!0:!OV(this.state.dataUpdatedAt,n)}onFocus(){var r;const n=this.observers.find(s=>s.shouldFetchOnWindowFocus());n==null||n.refetch({cancelRefetch:!1}),(r=U(this,At))==null||r.continue()}onOnline(){var r;const n=this.observers.find(s=>s.shouldFetchOnReconnect());n==null||n.refetch({cancelRefetch:!1}),(r=U(this,At))==null||r.continue()}addObserver(n){this.observers.includes(n)||(this.observers.push(n),this.clearGcTimeout(),U(this,wn).notify({type:"observerAdded",query:this,observer:n}))}removeObserver(n){this.observers.includes(n)&&(this.observers=this.observers.filter(r=>r!==n),this.observers.length||(U(this,At)&&(U(this,Li)?U(this,At).cancel({revert:!0}):U(this,At).cancelRetry()),this.scheduleGc()),U(this,wn).notify({type:"observerRemoved",query:this,observer:n}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||St(this,Fn,Vr).call(this,{type:"invalidate"})}fetch(n,r){var d,h,p;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(U(this,At))return U(this,At).continueRetry(),U(this,At).promise}if(n&&this.setOptions(n),!this.options.queryFn){const g=this.observers.find(T=>T.options.queryFn);g&&this.setOptions(g.options)}const s=new AbortController,i=g=>{Object.defineProperty(g,"signal",{enumerable:!0,get:()=>(de(this,Li,!0),s.signal)})},o=()=>{const g=EI(this.options,r),v=(()=>{const x={client:U(this,Oi),queryKey:this.queryKey,meta:this.meta};return i(x),x})();return de(this,Li,!1),this.options.persister?this.options.persister(g,v,this):g(v)},l=(()=>{const g={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:U(this,Oi),state:this.state,fetchFn:o};return i(g),g})();(d=this.options.behavior)==null||d.onFetch(l,this),de(this,Mi,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((h=l.fetchOptions)==null?void 0:h.meta))&&St(this,Fn,Vr).call(this,{type:"fetch",meta:(p=l.fetchOptions)==null?void 0:p.meta});const u=g=>{var T,v,x,E;zp(g)&&g.silent||St(this,Fn,Vr).call(this,{type:"error",error:g}),zp(g)||((v=(T=U(this,wn).config).onError)==null||v.call(T,g,this),(E=(x=U(this,wn).config).onSettled)==null||E.call(x,this.state.data,g,this)),this.scheduleGc()};return de(this,At,bI({initialPromise:r==null?void 0:r.initialPromise,fn:l.fetchFn,abort:s.abort.bind(s),onSuccess:g=>{var T,v,x,E;if(g===void 0){u(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(g)}catch(_){u(_);return}(v=(T=U(this,wn).config).onSuccess)==null||v.call(T,g,this),(E=(x=U(this,wn).config).onSettled)==null||E.call(x,g,this.state.error,this),this.scheduleGc()},onError:u,onFail:(g,T)=>{St(this,Fn,Vr).call(this,{type:"failed",failureCount:g,error:T})},onPause:()=>{St(this,Fn,Vr).call(this,{type:"pause"})},onContinue:()=>{St(this,Fn,Vr).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0})),U(this,At).start()}},oa=new WeakMap,Mi=new WeakMap,wn=new WeakMap,Oi=new WeakMap,At=new WeakMap,Cc=new WeakMap,Li=new WeakMap,Fn=new WeakSet,Vr=function(n){const r=s=>{switch(n.type){case"failed":return{...s,fetchFailureCount:n.failureCount,fetchFailureReason:n.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...KV(s.data,this.options),fetchMeta:n.meta??null};case"success":return de(this,Mi,void 0),{...s,data:n.data,dataUpdateCount:s.dataUpdateCount+1,dataUpdatedAt:n.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!n.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=n.error;return zp(i)&&i.revert&&U(this,Mi)?{...U(this,Mi),fetchStatus:"idle"}:{...s,error:i,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...n.state}}};this.state=r(this.state),Vt.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),U(this,wn).notify({query:this,type:"updated",action:n})})},Ox);function KV(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:TI(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function QV(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var fr,Lx,YV=(Lx=class extends sf{constructor(e={}){super();Se(this,fr);this.config=e,de(this,fr,new Map)}build(e,n,r){const s=n.queryKey,i=n.queryHash??pv(s,n);let o=this.get(i);return o||(o=new GV({client:e,queryKey:s,queryHash:i,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(s)}),this.add(o)),o}add(e){U(this,fr).has(e.queryHash)||(U(this,fr).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=U(this,fr).get(e.queryHash);n&&(e.destroy(),n===e&&U(this,fr).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Vt.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return U(this,fr).get(e)}getAll(){return[...U(this,fr).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>pE(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>pE(e,r)):n}notify(e){Vt.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){Vt.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Vt.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},fr=new WeakMap,Lx),pr,Ot,Vi,mr,_s,Vx,XV=(Vx=class extends II{constructor(n){super();Se(this,mr);Se(this,pr);Se(this,Ot);Se(this,Vi);this.mutationId=n.mutationId,de(this,Ot,n.mutationCache),de(this,pr,[]),this.state=n.state||JV(),this.setOptions(n.options),this.scheduleGc()}setOptions(n){this.options=n,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(n){U(this,pr).includes(n)||(U(this,pr).push(n),this.clearGcTimeout(),U(this,Ot).notify({type:"observerAdded",mutation:this,observer:n}))}removeObserver(n){de(this,pr,U(this,pr).filter(r=>r!==n)),this.scheduleGc(),U(this,Ot).notify({type:"observerRemoved",mutation:this,observer:n})}optionalRemove(){U(this,pr).length||(this.state.status==="pending"?this.scheduleGc():U(this,Ot).remove(this))}continue(){var n;return((n=U(this,Vi))==null?void 0:n.continue())??this.execute(this.state.variables)}async execute(n){var o,a,l,u,d,h,p,g,T,v,x,E,_,S,C,D,O,I,b,A;const r=()=>{St(this,mr,_s).call(this,{type:"continue"})};de(this,Vi,bI({fn:()=>this.options.mutationFn?this.options.mutationFn(n):Promise.reject(new Error("No mutationFn found")),onFail:(P,N)=>{St(this,mr,_s).call(this,{type:"failed",failureCount:P,error:N})},onPause:()=>{St(this,mr,_s).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>U(this,Ot).canRun(this)}));const s=this.state.status==="pending",i=!U(this,Vi).canStart();try{if(s)r();else{St(this,mr,_s).call(this,{type:"pending",variables:n,isPaused:i}),await((a=(o=U(this,Ot).config).onMutate)==null?void 0:a.call(o,n,this));const N=await((u=(l=this.options).onMutate)==null?void 0:u.call(l,n));N!==this.state.context&&St(this,mr,_s).call(this,{type:"pending",context:N,variables:n,isPaused:i})}const P=await U(this,Vi).start();return await((h=(d=U(this,Ot).config).onSuccess)==null?void 0:h.call(d,P,n,this.state.context,this)),await((g=(p=this.options).onSuccess)==null?void 0:g.call(p,P,n,this.state.context)),await((v=(T=U(this,Ot).config).onSettled)==null?void 0:v.call(T,P,null,this.state.variables,this.state.context,this)),await((E=(x=this.options).onSettled)==null?void 0:E.call(x,P,null,n,this.state.context)),St(this,mr,_s).call(this,{type:"success",data:P}),P}catch(P){try{throw await((S=(_=U(this,Ot).config).onError)==null?void 0:S.call(_,P,n,this.state.context,this)),await((D=(C=this.options).onError)==null?void 0:D.call(C,P,n,this.state.context)),await((I=(O=U(this,Ot).config).onSettled)==null?void 0:I.call(O,void 0,P,this.state.variables,this.state.context,this)),await((A=(b=this.options).onSettled)==null?void 0:A.call(b,void 0,P,n,this.state.context)),P}finally{St(this,mr,_s).call(this,{type:"error",error:P})}}finally{U(this,Ot).runNext(this)}}},pr=new WeakMap,Ot=new WeakMap,Vi=new WeakMap,mr=new WeakSet,_s=function(n){const r=s=>{switch(n.type){case"failed":return{...s,failureCount:n.failureCount,failureReason:n.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:n.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:n.isPaused,status:"pending",variables:n.variables,submittedAt:Date.now()};case"success":return{...s,data:n.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:n.error,failureCount:s.failureCount+1,failureReason:n.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Vt.batch(()=>{U(this,pr).forEach(s=>{s.onMutationUpdate(n)}),U(this,Ot).notify({mutation:this,type:"updated",action:n})})},Vx);function JV(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Ur,Un,Ac,jx,ZV=(jx=class extends sf{constructor(e={}){super();Se(this,Ur);Se(this,Un);Se(this,Ac);this.config=e,de(this,Ur,new Set),de(this,Un,new Map),de(this,Ac,0)}build(e,n,r){const s=new XV({mutationCache:this,mutationId:++du(this,Ac)._,options:e.defaultMutationOptions(n),state:r});return this.add(s),s}add(e){U(this,Ur).add(e);const n=Du(e);if(typeof n=="string"){const r=U(this,Un).get(n);r?r.push(e):U(this,Un).set(n,[e])}this.notify({type:"added",mutation:e})}remove(e){if(U(this,Ur).delete(e)){const n=Du(e);if(typeof n=="string"){const r=U(this,Un).get(n);if(r)if(r.length>1){const s=r.indexOf(e);s!==-1&&r.splice(s,1)}else r[0]===e&&U(this,Un).delete(n)}}this.notify({type:"removed",mutation:e})}canRun(e){const n=Du(e);if(typeof n=="string"){const r=U(this,Un).get(n),s=r==null?void 0:r.find(i=>i.state.status==="pending");return!s||s===e}else return!0}runNext(e){var r;const n=Du(e);if(typeof n=="string"){const s=(r=U(this,Un).get(n))==null?void 0:r.find(i=>i!==e&&i.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Vt.batch(()=>{U(this,Ur).forEach(e=>{this.notify({type:"removed",mutation:e})}),U(this,Ur).clear(),U(this,Un).clear()})}getAll(){return Array.from(U(this,Ur))}find(e){const n={exact:!0,...e};return this.getAll().find(r=>mE(n,r))}findAll(e={}){return this.getAll().filter(n=>mE(e,n))}notify(e){Vt.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return Vt.batch(()=>Promise.all(e.map(n=>n.continue().catch(jn))))}},Ur=new WeakMap,Un=new WeakMap,Ac=new WeakMap,jx);function Du(t){var e;return(e=t.options.scope)==null?void 0:e.id}function vE(t){return{onFetch:(e,n)=>{var d,h,p,g,T;const r=e.options,s=(p=(h=(d=e.fetchOptions)==null?void 0:d.meta)==null?void 0:h.fetchMore)==null?void 0:p.direction,i=((g=e.state.data)==null?void 0:g.pages)||[],o=((T=e.state.data)==null?void 0:T.pageParams)||[];let a={pages:[],pageParams:[]},l=0;const u=async()=>{let v=!1;const x=S=>{Object.defineProperty(S,"signal",{enumerable:!0,get:()=>(e.signal.aborted?v=!0:e.signal.addEventListener("abort",()=>{v=!0}),e.signal)})},E=EI(e.options,e.fetchOptions),_=async(S,C,D)=>{if(v)return Promise.reject();if(C==null&&S.pages.length)return Promise.resolve(S);const I=(()=>{const N={client:e.client,queryKey:e.queryKey,pageParam:C,direction:D?"backward":"forward",meta:e.options.meta};return x(N),N})(),b=await E(I),{maxPages:A}=e.options,P=D?UV:FV;return{pages:P(S.pages,b,A),pageParams:P(S.pageParams,C,A)}};if(s&&i.length){const S=s==="backward",C=S?ej:wE,D={pages:i,pageParams:o},O=C(r,D);a=await _(D,O,S)}else{const S=t??i.length;do{const C=l===0?o[0]??r.initialPageParam:wE(r,a);if(l>0&&C==null)break;a=await _(a,C),l++}while(l<S)}return a};e.options.persister?e.fetchFn=()=>{var v,x;return(x=(v=e.options).persister)==null?void 0:x.call(v,u,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=u}}}function wE(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function ej(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var Ge,Ns,Ds,aa,la,Ms,ca,ua,Fx,tj=(Fx=class{constructor(t={}){Se(this,Ge);Se(this,Ns);Se(this,Ds);Se(this,aa);Se(this,la);Se(this,Ms);Se(this,ca);Se(this,ua);de(this,Ge,t.queryCache||new YV),de(this,Ns,t.mutationCache||new ZV),de(this,Ds,t.defaultOptions||{}),de(this,aa,new Map),de(this,la,new Map),de(this,Ms,0)}mount(){du(this,Ms)._++,U(this,Ms)===1&&(de(this,ca,xI.subscribe(async t=>{t&&(await this.resumePausedMutations(),U(this,Ge).onFocus())})),de(this,ua,Yd.subscribe(async t=>{t&&(await this.resumePausedMutations(),U(this,Ge).onOnline())})))}unmount(){var t,e;du(this,Ms)._--,U(this,Ms)===0&&((t=U(this,ca))==null||t.call(this),de(this,ca,void 0),(e=U(this,ua))==null||e.call(this),de(this,ua,void 0))}isFetching(t){return U(this,Ge).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return U(this,Ns).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=U(this,Ge).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=U(this,Ge).build(this,e),r=n.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(yg(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(t){return U(this,Ge).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),s=U(this,Ge).get(r.queryHash),i=s==null?void 0:s.state.data,o=DV(e,i);if(o!==void 0)return U(this,Ge).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return Vt.batch(()=>U(this,Ge).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=U(this,Ge).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=U(this,Ge);Vt.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=U(this,Ge);return Vt.batch(()=>(n.findAll(t).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},r=Vt.batch(()=>U(this,Ge).findAll(t).map(s=>s.cancel(n)));return Promise.all(r).then(jn).catch(jn)}invalidateQueries(t,e={}){return Vt.batch(()=>(U(this,Ge).findAll(t).forEach(n=>{n.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},r=Vt.batch(()=>U(this,Ge).findAll(t).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(jn)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(jn)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=U(this,Ge).build(this,e);return n.isStaleByTime(yg(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(jn).catch(jn)}fetchInfiniteQuery(t){return t.behavior=vE(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(jn).catch(jn)}ensureInfiniteQueryData(t){return t.behavior=vE(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Yd.isOnline()?U(this,Ns).resumePausedMutations():Promise.resolve()}getQueryCache(){return U(this,Ge)}getMutationCache(){return U(this,Ns)}getDefaultOptions(){return U(this,Ds)}setDefaultOptions(t){de(this,Ds,t)}setQueryDefaults(t,e){U(this,aa).set(hc(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...U(this,aa).values()],n={};return e.forEach(r=>{fc(t,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(t,e){U(this,la).set(hc(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...U(this,la).values()],n={};return e.forEach(r=>{fc(t,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...U(this,Ds).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=pv(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===mv&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...U(this,Ds).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){U(this,Ge).clear(),U(this,Ns).clear()}},Ge=new WeakMap,Ns=new WeakMap,Ds=new WeakMap,aa=new WeakMap,la=new WeakMap,Ms=new WeakMap,ca=new WeakMap,ua=new WeakMap,Fx),nj=y.createContext(void 0),rj=({client:t,children:e})=>(y.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),f.jsx(nj.Provider,{value:t,children:e}));/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Xd(){return Xd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Xd.apply(this,arguments)}var Vs;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Vs||(Vs={}));const _E="popstate";function sj(t){t===void 0&&(t={});function e(r,s){let{pathname:i,search:o,hash:a}=r.location;return wg("",{pathname:i,search:o,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:AI(s)}return oj(e,n,null,t)}function en(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function CI(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function ij(){return Math.random().toString(36).substr(2,8)}function EE(t,e){return{usr:t.state,key:t.key,idx:e}}function wg(t,e,n,r){return n===void 0&&(n=null),Xd({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?af(e):e,{state:n,key:e&&e.key||r||ij()})}function AI(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function af(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function oj(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,a=Vs.Pop,l=null,u=d();u==null&&(u=0,o.replaceState(Xd({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function h(){a=Vs.Pop;let x=d(),E=x==null?null:x-u;u=x,l&&l({action:a,location:v.location,delta:E})}function p(x,E){a=Vs.Push;let _=wg(v.location,x,E);u=d()+1;let S=EE(_,u),C=v.createHref(_);try{o.pushState(S,"",C)}catch(D){if(D instanceof DOMException&&D.name==="DataCloneError")throw D;s.location.assign(C)}i&&l&&l({action:a,location:v.location,delta:1})}function g(x,E){a=Vs.Replace;let _=wg(v.location,x,E);u=d();let S=EE(_,u),C=v.createHref(_);o.replaceState(S,"",C),i&&l&&l({action:a,location:v.location,delta:0})}function T(x){let E=s.location.origin!=="null"?s.location.origin:s.location.href,_=typeof x=="string"?x:AI(x);return _=_.replace(/ $/,"%20"),en(E,"No window.location.(origin|href) available to create URL for href: "+_),new URL(_,E)}let v={get action(){return a},get location(){return t(s,o)},listen(x){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(_E,h),l=x,()=>{s.removeEventListener(_E,h),l=null}},createHref(x){return e(s,x)},createURL:T,encodeLocation(x){let E=T(x);return{pathname:E.pathname,search:E.search,hash:E.hash}},push:p,replace:g,go(x){return o.go(x)}};return v}var xE;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(xE||(xE={}));function aj(t,e,n){return n===void 0&&(n="/"),lj(t,e,n,!1)}function lj(t,e,n,r){let s=typeof e=="string"?af(e):e,i=kI(s.pathname||"/",n);if(i==null)return null;let o=RI(t);cj(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let u=_j(i);a=vj(o[l],u,r)}return a}function RI(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,o,a)=>{let l={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};l.relativePath.startsWith("/")&&(en(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=Go([r,l.relativePath]),d=n.concat(l);i.children&&i.children.length>0&&(en(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),RI(i.children,e,d,u)),!(i.path==null&&!i.index)&&e.push({path:u,score:gj(u,i.index),routesMeta:d})};return t.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let l of PI(i.path))s(i,o,l)}),e}function PI(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=PI(r.join("/")),a=[];return a.push(...o.map(l=>l===""?i:[i,l].join("/"))),s&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function cj(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:yj(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const uj=/^:[\w-]+$/,dj=3,hj=2,fj=1,pj=10,mj=-2,TE=t=>t==="*";function gj(t,e){let n=t.split("/"),r=n.length;return n.some(TE)&&(r+=mj),e&&(r+=hj),n.filter(s=>!TE(s)).reduce((s,i)=>s+(uj.test(i)?dj:i===""?fj:pj),r)}function yj(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function vj(t,e,n){let{routesMeta:r}=t,s={},i="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],u=a===r.length-1,d=i==="/"?e:e.slice(i.length)||"/",h=SE({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},d),p=l.route;if(!h&&u&&n&&!r[r.length-1].route.index&&(h=SE({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},d)),!h)return null;Object.assign(s,h.params),o.push({params:s,pathname:Go([i,h.pathname]),pathnameBase:Ej(Go([i,h.pathnameBase])),route:p}),h.pathnameBase!=="/"&&(i=Go([i,h.pathnameBase]))}return o}function SE(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=wj(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((u,d,h)=>{let{paramName:p,isOptional:g}=d;if(p==="*"){let v=a[h]||"";o=i.slice(0,i.length-v.length).replace(/(.)\/+$/,"$1")}const T=a[h];return g&&!T?u[p]=void 0:u[p]=(T||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:t}}function wj(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),CI(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function _j(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return CI(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function kI(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}const Go=t=>t.join("/").replace(/\/\/+/g,"/"),Ej=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/");function xj(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const NI=["post","put","patch","delete"];new Set(NI);const Tj=["get",...NI];new Set(Tj);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Jd(){return Jd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Jd.apply(this,arguments)}const Sj=y.createContext(null),bj=y.createContext(null),DI=y.createContext(null),lf=y.createContext(null),cf=y.createContext({outlet:null,matches:[],isDataRoute:!1}),MI=y.createContext(null);function gv(){return y.useContext(lf)!=null}function OI(){return gv()||en(!1),y.useContext(lf).location}function Ij(t,e){return Cj(t,e)}function Cj(t,e,n,r){gv()||en(!1);let{navigator:s}=y.useContext(DI),{matches:i}=y.useContext(cf),o=i[i.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let u=OI(),d;if(e){var h;let x=typeof e=="string"?af(e):e;l==="/"||(h=x.pathname)!=null&&h.startsWith(l)||en(!1),d=x}else d=u;let p=d.pathname||"/",g=p;if(l!=="/"){let x=l.replace(/^\//,"").split("/");g="/"+p.replace(/^\//,"").split("/").slice(x.length).join("/")}let T=aj(t,{pathname:g}),v=Nj(T&&T.map(x=>Object.assign({},x,{params:Object.assign({},a,x.params),pathname:Go([l,s.encodeLocation?s.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?l:Go([l,s.encodeLocation?s.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),i,n,r);return e&&v?y.createElement(lf.Provider,{value:{location:Jd({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Vs.Pop}},v):v}function Aj(){let t=Lj(),e=xj(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return y.createElement(y.Fragment,null,y.createElement("h2",null,"Unexpected Application Error!"),y.createElement("h3",{style:{fontStyle:"italic"}},e),n?y.createElement("pre",{style:s},n):null,null)}const Rj=y.createElement(Aj,null);class Pj extends y.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?y.createElement(cf.Provider,{value:this.props.routeContext},y.createElement(MI.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function kj(t){let{routeContext:e,match:n,children:r}=t,s=y.useContext(Sj);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),y.createElement(cf.Provider,{value:e},r)}function Nj(t,e,n,r){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var i;if(!n)return null;if(n.errors)t=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(s=n)==null?void 0:s.errors;if(a!=null){let d=o.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id])!==void 0);d>=0||en(!1),o=o.slice(0,Math.min(o.length,d+1))}let l=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<o.length;d++){let h=o[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=d),h.route.id){let{loaderData:p,errors:g}=n,T=h.route.loader&&p[h.route.id]===void 0&&(!g||g[h.route.id]===void 0);if(h.route.lazy||T){l=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,h,p)=>{let g,T=!1,v=null,x=null;n&&(g=a&&h.route.id?a[h.route.id]:void 0,v=h.route.errorElement||Rj,l&&(u<0&&p===0?(T=!0,x=null):u===p&&(T=!0,x=h.route.hydrateFallbackElement||null)));let E=e.concat(o.slice(0,p+1)),_=()=>{let S;return g?S=v:T?S=x:h.route.Component?S=y.createElement(h.route.Component,null):h.route.element?S=h.route.element:S=d,y.createElement(kj,{match:h,routeContext:{outlet:d,matches:E,isDataRoute:n!=null},children:S})};return n&&(h.route.ErrorBoundary||h.route.errorElement||p===0)?y.createElement(Pj,{location:n.location,revalidation:n.revalidation,component:v,error:g,children:_(),routeContext:{outlet:null,matches:E,isDataRoute:!0}}):_()},null)}var _g=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(_g||{});function Dj(t){let e=y.useContext(bj);return e||en(!1),e}function Mj(t){let e=y.useContext(cf);return e||en(!1),e}function Oj(t){let e=Mj(),n=e.matches[e.matches.length-1];return n.route.id||en(!1),n.route.id}function Lj(){var t;let e=y.useContext(MI),n=Dj(_g.UseRouteError),r=Oj(_g.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function Vj(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function Eg(t){en(!1)}function jj(t){let{basename:e="/",children:n=null,location:r,navigationType:s=Vs.Pop,navigator:i,static:o=!1,future:a}=t;gv()&&en(!1);let l=e.replace(/^\/*/,"/"),u=y.useMemo(()=>({basename:l,navigator:i,static:o,future:Jd({v7_relativeSplatPath:!1},a)}),[l,a,i,o]);typeof r=="string"&&(r=af(r));let{pathname:d="/",search:h="",hash:p="",state:g=null,key:T="default"}=r,v=y.useMemo(()=>{let x=kI(d,l);return x==null?null:{location:{pathname:x,search:h,hash:p,state:g,key:T},navigationType:s}},[l,d,h,p,g,T,s]);return v==null?null:y.createElement(DI.Provider,{value:u},y.createElement(lf.Provider,{children:n,value:v}))}function Fj(t){let{children:e,location:n}=t;return Ij(xg(e),n)}new Promise(()=>{});function xg(t,e){e===void 0&&(e=[]);let n=[];return y.Children.forEach(t,(r,s)=>{if(!y.isValidElement(r))return;let i=[...e,s];if(r.type===y.Fragment){n.push.apply(n,xg(r.props.children,i));return}r.type!==Eg&&en(!1),!r.props.index||!r.props.children||en(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=xg(r.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const Uj="6";try{window.__reactRouterVersion=Uj}catch{}const $j="startTransition",bE=iy[$j];function zj(t){let{basename:e,children:n,future:r,window:s}=t,i=y.useRef();i.current==null&&(i.current=sj({window:s,v5Compat:!0}));let o=i.current,[a,l]=y.useState({action:o.action,location:o.location}),{v7_startTransition:u}=r||{},d=y.useCallback(h=>{u&&bE?bE(()=>l(h)):l(h)},[l,u]);return y.useLayoutEffect(()=>o.listen(d),[o,d]),y.useEffect(()=>Vj(r),[r]),y.createElement(jj,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}var IE;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(IE||(IE={}));var CE;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(CE||(CE={}));const Bj=()=>{};var AE={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LI=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},Hj=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],a=t[n++],l=((s&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},VI={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,a=o?t[s+1]:0,l=s+2<t.length,u=l?t[s+2]:0,d=i>>2,h=(i&3)<<4|a>>4;let p=(a&15)<<2|u>>6,g=u&63;l||(g=64,o||(p=64)),r.push(n[d],n[h],n[p],n[g])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(LI(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Hj(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const u=s<t.length?n[t.charAt(s)]:64;++s;const h=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||a==null||u==null||h==null)throw new Wj;const p=i<<2|a>>4;if(r.push(p),u!==64){const g=a<<4&240|u>>2;if(r.push(g),h!==64){const T=u<<6&192|h;r.push(T)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Wj extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const qj=function(t){const e=LI(t);return VI.encodeByteArray(e,!0)},Zd=function(t){return qj(t).replace(/\./g,"")},jI=function(t){try{return VI.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gj(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kj=()=>Gj().__FIREBASE_DEFAULTS__,Qj=()=>{if(typeof process>"u"||typeof AE>"u")return;const t=AE.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Yj=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&jI(t[1]);return e&&JSON.parse(e)},uf=()=>{try{return Bj()||Kj()||Qj()||Yj()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},FI=t=>{var e,n;return(n=(e=uf())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},Xj=t=>{const e=FI(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},UI=()=>{var t;return(t=uf())==null?void 0:t.config},$I=t=>{var e;return(e=uf())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jj{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ja(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function zI(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zj(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Zd(JSON.stringify(n)),Zd(JSON.stringify(o)),""].join(".")}const jl={};function eF(){const t={prod:[],emulator:[]};for(const e of Object.keys(jl))jl[e]?t.emulator.push(e):t.prod.push(e);return t}function tF(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let RE=!1;function BI(t,e){if(typeof window>"u"||typeof document>"u"||!ja(window.location.host)||jl[t]===e||jl[t]||RE)return;jl[t]=e;function n(p){return`__firebase__banner__${p}`}const r="__firebase__banner",i=eF().prod.length>0;function o(){const p=document.getElementById(r);p&&p.remove()}function a(p){p.style.display="flex",p.style.background="#7faaf0",p.style.position="fixed",p.style.bottom="5px",p.style.left="5px",p.style.padding=".5em",p.style.borderRadius="5px",p.style.alignItems="center"}function l(p,g){p.setAttribute("width","24"),p.setAttribute("id",g),p.setAttribute("height","24"),p.setAttribute("viewBox","0 0 24 24"),p.setAttribute("fill","none"),p.style.marginLeft="-6px"}function u(){const p=document.createElement("span");return p.style.cursor="pointer",p.style.marginLeft="16px",p.style.fontSize="24px",p.innerHTML=" &times;",p.onclick=()=>{RE=!0,o()},p}function d(p,g){p.setAttribute("id",g),p.innerText="Learn more",p.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",p.setAttribute("target","__blank"),p.style.paddingLeft="5px",p.style.textDecoration="underline"}function h(){const p=tF(r),g=n("text"),T=document.getElementById(g)||document.createElement("span"),v=n("learnmore"),x=document.getElementById(v)||document.createElement("a"),E=n("preprendIcon"),_=document.getElementById(E)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(p.created){const S=p.element;a(S),d(x,v);const C=u();l(_,E),S.append(_,T,x,C),document.body.appendChild(S)}i?(T.innerText="Preview backend disconnected.",_.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(_.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,T.innerText="Preview backend running in this workspace."),T.setAttribute("id",g)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",h):h()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function nF(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Dt())}function rF(){var e;const t=(e=uf())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function sF(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function yv(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function iF(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function oF(){const t=Dt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function aF(){return!rF()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function vv(){try{return typeof indexedDB=="object"}catch{return!1}}function wv(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)==null?void 0:i.message)||"")}}catch(n){e(n)}})}function HI(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lF="FirebaseError";class kn extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=lF,Object.setPrototypeOf(this,kn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,io.prototype.create)}}class io{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?cF(i,r):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new kn(s,a,r)}}function cF(t,e){return t.replace(uF,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const uF=/\{\$([^}]+)}/g;function dF(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function ni(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(PE(i)&&PE(o)){if(!ni(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function PE(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fc(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function hF(t,e){const n=new fF(t,e);return n.subscribe.bind(n)}class fF{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");pF(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=Bp),s.error===void 0&&(s.error=Bp),s.complete===void 0&&(s.complete=Bp);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function pF(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Bp(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mF=1e3,gF=2,yF=4*60*60*1e3,vF=.5;function kE(t,e=mF,n=gF){const r=e*Math.pow(n,t),s=Math.round(vF*r*(Math.random()-.5)*2);return Math.min(yF,r+s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yt(t){return t&&t._delegate?t._delegate:t}class Zn{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ti="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wF{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Jj;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(EF(e))try{this.getOrInitializeService({instanceIdentifier:Ti})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=Ti){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ti){return this.instances.has(e)}getOptions(e=Ti){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&o.resolve(s)}return s}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),s=this.onInitCallbacks.get(r)??new Set;s.add(e),this.onInitCallbacks.set(r,s);const i=this.instances.get(r);return i&&e(i,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:_F(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ti){return this.component?this.component.multipleInstances?e:Ti:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function _F(t){return t===Ti?void 0:t}function EF(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xF{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new wF(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ye;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ye||(ye={}));const TF={debug:ye.DEBUG,verbose:ye.VERBOSE,info:ye.INFO,warn:ye.WARN,error:ye.ERROR,silent:ye.SILENT},SF=ye.INFO,bF={[ye.DEBUG]:"log",[ye.VERBOSE]:"log",[ye.INFO]:"info",[ye.WARN]:"warn",[ye.ERROR]:"error"},IF=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=bF[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class df{constructor(e){this.name=e,this._logLevel=SF,this._logHandler=IF,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ye))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?TF[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ye.DEBUG,...e),this._logHandler(this,ye.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ye.VERBOSE,...e),this._logHandler(this,ye.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ye.INFO,...e),this._logHandler(this,ye.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ye.WARN,...e),this._logHandler(this,ye.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ye.ERROR,...e),this._logHandler(this,ye.ERROR,...e)}}const CF=(t,e)=>e.some(n=>t instanceof n);let NE,DE;function AF(){return NE||(NE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function RF(){return DE||(DE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const WI=new WeakMap,Tg=new WeakMap,qI=new WeakMap,Hp=new WeakMap,_v=new WeakMap;function PF(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(Gs(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&WI.set(n,t)}).catch(()=>{}),_v.set(e,t),e}function kF(t){if(Tg.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});Tg.set(t,e)}let Sg={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Tg.get(t);if(e==="objectStoreNames")return t.objectStoreNames||qI.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Gs(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function NF(t){Sg=t(Sg)}function DF(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Wp(this),e,...n);return qI.set(r,e.sort?e.sort():[e]),Gs(r)}:RF().includes(t)?function(...e){return t.apply(Wp(this),e),Gs(WI.get(this))}:function(...e){return Gs(t.apply(Wp(this),e))}}function MF(t){return typeof t=="function"?DF(t):(t instanceof IDBTransaction&&kF(t),CF(t,AF())?new Proxy(t,Sg):t)}function Gs(t){if(t instanceof IDBRequest)return PF(t);if(Hp.has(t))return Hp.get(t);const e=MF(t);return e!==t&&(Hp.set(t,e),_v.set(e,t)),e}const Wp=t=>_v.get(t);function GI(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),a=Gs(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Gs(o.result),l.oldVersion,l.newVersion,Gs(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{i&&l.addEventListener("close",()=>i()),s&&l.addEventListener("versionchange",u=>s(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const OF=["get","getKey","getAll","getAllKeys","count"],LF=["put","add","delete","clear"],qp=new Map;function ME(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(qp.get(e))return qp.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=LF.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||OF.includes(n)))return;const i=async function(o,...a){const l=this.transaction(o,s?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),s&&l.done]))[0]};return qp.set(e,i),i}NF(t=>({...t,get:(e,n,r)=>ME(e,n)||t.get(e,n,r),has:(e,n)=>!!ME(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VF{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(jF(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function jF(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const bg="@firebase/app",OE="0.14.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const es=new df("@firebase/app"),FF="@firebase/app-compat",UF="@firebase/analytics-compat",$F="@firebase/analytics",zF="@firebase/app-check-compat",BF="@firebase/app-check",HF="@firebase/auth",WF="@firebase/auth-compat",qF="@firebase/database",GF="@firebase/data-connect",KF="@firebase/database-compat",QF="@firebase/functions",YF="@firebase/functions-compat",XF="@firebase/installations",JF="@firebase/installations-compat",ZF="@firebase/messaging",e3="@firebase/messaging-compat",t3="@firebase/performance",n3="@firebase/performance-compat",r3="@firebase/remote-config",s3="@firebase/remote-config-compat",i3="@firebase/storage",o3="@firebase/storage-compat",a3="@firebase/firestore",l3="@firebase/ai",c3="@firebase/firestore-compat",u3="firebase",d3="12.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ig="[DEFAULT]",h3={[bg]:"fire-core",[FF]:"fire-core-compat",[$F]:"fire-analytics",[UF]:"fire-analytics-compat",[BF]:"fire-app-check",[zF]:"fire-app-check-compat",[HF]:"fire-auth",[WF]:"fire-auth-compat",[qF]:"fire-rtdb",[GF]:"fire-data-connect",[KF]:"fire-rtdb-compat",[QF]:"fire-fn",[YF]:"fire-fn-compat",[XF]:"fire-iid",[JF]:"fire-iid-compat",[ZF]:"fire-fcm",[e3]:"fire-fcm-compat",[t3]:"fire-perf",[n3]:"fire-perf-compat",[r3]:"fire-rc",[s3]:"fire-rc-compat",[i3]:"fire-gcs",[o3]:"fire-gcs-compat",[a3]:"fire-fst",[c3]:"fire-fst-compat",[l3]:"fire-vertex","fire-js":"fire-js",[u3]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eh=new Map,f3=new Map,Cg=new Map;function LE(t,e){try{t.container.addComponent(e)}catch(n){es.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Ar(t){const e=t.name;if(Cg.has(e))return es.debug(`There were multiple attempts to register component ${e}.`),!1;Cg.set(e,t);for(const n of eh.values())LE(n,t);for(const n of f3.values())LE(n,t);return!0}function oo(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function xn(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p3={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ks=new io("app","Firebase",p3);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m3{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Zn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ks.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fa=d3;function KI(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:Ig,automaticDataCollectionEnabled:!0,...e},s=r.name;if(typeof s!="string"||!s)throw Ks.create("bad-app-name",{appName:String(s)});if(n||(n=UI()),!n)throw Ks.create("no-options");const i=eh.get(s);if(i){if(ni(n,i.options)&&ni(r,i.config))return i;throw Ks.create("duplicate-app",{appName:s})}const o=new xF(s);for(const l of Cg.values())o.addComponent(l);const a=new m3(n,r,o);return eh.set(s,a),a}function Ev(t=Ig){const e=eh.get(t);if(!e&&t===Ig&&UI())return KI();if(!e)throw Ks.create("no-app",{appName:t});return e}function Cn(t,e,n){let r=h3[t]??t;n&&(r+=`-${n}`);const s=r.match(/\s|\//),i=e.match(/\s|\//);if(s||i){const o=[`Unable to register library "${r}" with version "${e}":`];s&&o.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&i&&o.push("and"),i&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),es.warn(o.join(" "));return}Ar(new Zn(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g3="firebase-heartbeat-database",y3=1,pc="firebase-heartbeat-store";let Gp=null;function QI(){return Gp||(Gp=GI(g3,y3,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(pc)}catch(n){console.warn(n)}}}}).catch(t=>{throw Ks.create("idb-open",{originalErrorMessage:t.message})})),Gp}async function v3(t){try{const n=(await QI()).transaction(pc),r=await n.objectStore(pc).get(YI(t));return await n.done,r}catch(e){if(e instanceof kn)es.warn(e.message);else{const n=Ks.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});es.warn(n.message)}}}async function VE(t,e){try{const r=(await QI()).transaction(pc,"readwrite");await r.objectStore(pc).put(e,YI(t)),await r.done}catch(n){if(n instanceof kn)es.warn(n.message);else{const r=Ks.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});es.warn(r.message)}}}function YI(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w3=1024,_3=30;class E3{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new T3(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=jE();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats.length>_3){const o=S3(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){es.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=jE(),{heartbeatsToSend:r,unsentEntries:s}=x3(this._heartbeatsCache.heartbeats),i=Zd(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return es.warn(n),""}}}function jE(){return new Date().toISOString().substring(0,10)}function x3(t,e=w3){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),FE(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),FE(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class T3{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return vv()?wv().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await v3(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return VE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return VE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function FE(t){return Zd(JSON.stringify({version:2,heartbeats:t})).length}function S3(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b3(t){Ar(new Zn("platform-logger",e=>new VF(e),"PRIVATE")),Ar(new Zn("heartbeat",e=>new E3(e),"PRIVATE")),Cn(bg,OE,t),Cn(bg,OE,"esm2020"),Cn("fire-js","")}b3("");var UE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Qs,XI;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(I,b){function A(){}A.prototype=b.prototype,I.F=b.prototype,I.prototype=new A,I.prototype.constructor=I,I.D=function(P,N,M){for(var k=Array(arguments.length-2),H=2;H<arguments.length;H++)k[H-2]=arguments[H];return b.prototype[N].apply(P,k)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(I,b,A){A||(A=0);const P=Array(16);if(typeof b=="string")for(var N=0;N<16;++N)P[N]=b.charCodeAt(A++)|b.charCodeAt(A++)<<8|b.charCodeAt(A++)<<16|b.charCodeAt(A++)<<24;else for(N=0;N<16;++N)P[N]=b[A++]|b[A++]<<8|b[A++]<<16|b[A++]<<24;b=I.g[0],A=I.g[1],N=I.g[2];let M=I.g[3],k;k=b+(M^A&(N^M))+P[0]+3614090360&4294967295,b=A+(k<<7&4294967295|k>>>25),k=M+(N^b&(A^N))+P[1]+3905402710&4294967295,M=b+(k<<12&4294967295|k>>>20),k=N+(A^M&(b^A))+P[2]+606105819&4294967295,N=M+(k<<17&4294967295|k>>>15),k=A+(b^N&(M^b))+P[3]+3250441966&4294967295,A=N+(k<<22&4294967295|k>>>10),k=b+(M^A&(N^M))+P[4]+4118548399&4294967295,b=A+(k<<7&4294967295|k>>>25),k=M+(N^b&(A^N))+P[5]+1200080426&4294967295,M=b+(k<<12&4294967295|k>>>20),k=N+(A^M&(b^A))+P[6]+2821735955&4294967295,N=M+(k<<17&4294967295|k>>>15),k=A+(b^N&(M^b))+P[7]+4249261313&4294967295,A=N+(k<<22&4294967295|k>>>10),k=b+(M^A&(N^M))+P[8]+1770035416&4294967295,b=A+(k<<7&4294967295|k>>>25),k=M+(N^b&(A^N))+P[9]+2336552879&4294967295,M=b+(k<<12&4294967295|k>>>20),k=N+(A^M&(b^A))+P[10]+4294925233&4294967295,N=M+(k<<17&4294967295|k>>>15),k=A+(b^N&(M^b))+P[11]+2304563134&4294967295,A=N+(k<<22&4294967295|k>>>10),k=b+(M^A&(N^M))+P[12]+1804603682&4294967295,b=A+(k<<7&4294967295|k>>>25),k=M+(N^b&(A^N))+P[13]+4254626195&4294967295,M=b+(k<<12&4294967295|k>>>20),k=N+(A^M&(b^A))+P[14]+2792965006&4294967295,N=M+(k<<17&4294967295|k>>>15),k=A+(b^N&(M^b))+P[15]+1236535329&4294967295,A=N+(k<<22&4294967295|k>>>10),k=b+(N^M&(A^N))+P[1]+4129170786&4294967295,b=A+(k<<5&4294967295|k>>>27),k=M+(A^N&(b^A))+P[6]+3225465664&4294967295,M=b+(k<<9&4294967295|k>>>23),k=N+(b^A&(M^b))+P[11]+643717713&4294967295,N=M+(k<<14&4294967295|k>>>18),k=A+(M^b&(N^M))+P[0]+3921069994&4294967295,A=N+(k<<20&4294967295|k>>>12),k=b+(N^M&(A^N))+P[5]+3593408605&4294967295,b=A+(k<<5&4294967295|k>>>27),k=M+(A^N&(b^A))+P[10]+38016083&4294967295,M=b+(k<<9&4294967295|k>>>23),k=N+(b^A&(M^b))+P[15]+3634488961&4294967295,N=M+(k<<14&4294967295|k>>>18),k=A+(M^b&(N^M))+P[4]+3889429448&4294967295,A=N+(k<<20&4294967295|k>>>12),k=b+(N^M&(A^N))+P[9]+568446438&4294967295,b=A+(k<<5&4294967295|k>>>27),k=M+(A^N&(b^A))+P[14]+3275163606&4294967295,M=b+(k<<9&4294967295|k>>>23),k=N+(b^A&(M^b))+P[3]+4107603335&4294967295,N=M+(k<<14&4294967295|k>>>18),k=A+(M^b&(N^M))+P[8]+1163531501&4294967295,A=N+(k<<20&4294967295|k>>>12),k=b+(N^M&(A^N))+P[13]+2850285829&4294967295,b=A+(k<<5&4294967295|k>>>27),k=M+(A^N&(b^A))+P[2]+4243563512&4294967295,M=b+(k<<9&4294967295|k>>>23),k=N+(b^A&(M^b))+P[7]+1735328473&4294967295,N=M+(k<<14&4294967295|k>>>18),k=A+(M^b&(N^M))+P[12]+2368359562&4294967295,A=N+(k<<20&4294967295|k>>>12),k=b+(A^N^M)+P[5]+4294588738&4294967295,b=A+(k<<4&4294967295|k>>>28),k=M+(b^A^N)+P[8]+2272392833&4294967295,M=b+(k<<11&4294967295|k>>>21),k=N+(M^b^A)+P[11]+1839030562&4294967295,N=M+(k<<16&4294967295|k>>>16),k=A+(N^M^b)+P[14]+4259657740&4294967295,A=N+(k<<23&4294967295|k>>>9),k=b+(A^N^M)+P[1]+2763975236&4294967295,b=A+(k<<4&4294967295|k>>>28),k=M+(b^A^N)+P[4]+1272893353&4294967295,M=b+(k<<11&4294967295|k>>>21),k=N+(M^b^A)+P[7]+4139469664&4294967295,N=M+(k<<16&4294967295|k>>>16),k=A+(N^M^b)+P[10]+3200236656&4294967295,A=N+(k<<23&4294967295|k>>>9),k=b+(A^N^M)+P[13]+681279174&4294967295,b=A+(k<<4&4294967295|k>>>28),k=M+(b^A^N)+P[0]+3936430074&4294967295,M=b+(k<<11&4294967295|k>>>21),k=N+(M^b^A)+P[3]+3572445317&4294967295,N=M+(k<<16&4294967295|k>>>16),k=A+(N^M^b)+P[6]+76029189&4294967295,A=N+(k<<23&4294967295|k>>>9),k=b+(A^N^M)+P[9]+3654602809&4294967295,b=A+(k<<4&4294967295|k>>>28),k=M+(b^A^N)+P[12]+3873151461&4294967295,M=b+(k<<11&4294967295|k>>>21),k=N+(M^b^A)+P[15]+530742520&4294967295,N=M+(k<<16&4294967295|k>>>16),k=A+(N^M^b)+P[2]+3299628645&4294967295,A=N+(k<<23&4294967295|k>>>9),k=b+(N^(A|~M))+P[0]+4096336452&4294967295,b=A+(k<<6&4294967295|k>>>26),k=M+(A^(b|~N))+P[7]+1126891415&4294967295,M=b+(k<<10&4294967295|k>>>22),k=N+(b^(M|~A))+P[14]+2878612391&4294967295,N=M+(k<<15&4294967295|k>>>17),k=A+(M^(N|~b))+P[5]+4237533241&4294967295,A=N+(k<<21&4294967295|k>>>11),k=b+(N^(A|~M))+P[12]+1700485571&4294967295,b=A+(k<<6&4294967295|k>>>26),k=M+(A^(b|~N))+P[3]+2399980690&4294967295,M=b+(k<<10&4294967295|k>>>22),k=N+(b^(M|~A))+P[10]+4293915773&4294967295,N=M+(k<<15&4294967295|k>>>17),k=A+(M^(N|~b))+P[1]+2240044497&4294967295,A=N+(k<<21&4294967295|k>>>11),k=b+(N^(A|~M))+P[8]+1873313359&4294967295,b=A+(k<<6&4294967295|k>>>26),k=M+(A^(b|~N))+P[15]+4264355552&4294967295,M=b+(k<<10&4294967295|k>>>22),k=N+(b^(M|~A))+P[6]+2734768916&4294967295,N=M+(k<<15&4294967295|k>>>17),k=A+(M^(N|~b))+P[13]+1309151649&4294967295,A=N+(k<<21&4294967295|k>>>11),k=b+(N^(A|~M))+P[4]+4149444226&4294967295,b=A+(k<<6&4294967295|k>>>26),k=M+(A^(b|~N))+P[11]+3174756917&4294967295,M=b+(k<<10&4294967295|k>>>22),k=N+(b^(M|~A))+P[2]+718787259&4294967295,N=M+(k<<15&4294967295|k>>>17),k=A+(M^(N|~b))+P[9]+3951481745&4294967295,I.g[0]=I.g[0]+b&4294967295,I.g[1]=I.g[1]+(N+(k<<21&4294967295|k>>>11))&4294967295,I.g[2]=I.g[2]+N&4294967295,I.g[3]=I.g[3]+M&4294967295}r.prototype.v=function(I,b){b===void 0&&(b=I.length);const A=b-this.blockSize,P=this.C;let N=this.h,M=0;for(;M<b;){if(N==0)for(;M<=A;)s(this,I,M),M+=this.blockSize;if(typeof I=="string"){for(;M<b;)if(P[N++]=I.charCodeAt(M++),N==this.blockSize){s(this,P),N=0;break}}else for(;M<b;)if(P[N++]=I[M++],N==this.blockSize){s(this,P),N=0;break}}this.h=N,this.o+=b},r.prototype.A=function(){var I=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);I[0]=128;for(var b=1;b<I.length-8;++b)I[b]=0;b=this.o*8;for(var A=I.length-8;A<I.length;++A)I[A]=b&255,b/=256;for(this.v(I),I=Array(16),b=0,A=0;A<4;++A)for(let P=0;P<32;P+=8)I[b++]=this.g[A]>>>P&255;return I};function i(I,b){var A=a;return Object.prototype.hasOwnProperty.call(A,I)?A[I]:A[I]=b(I)}function o(I,b){this.h=b;const A=[];let P=!0;for(let N=I.length-1;N>=0;N--){const M=I[N]|0;P&&M==b||(A[N]=M,P=!1)}this.g=A}var a={};function l(I){return-128<=I&&I<128?i(I,function(b){return new o([b|0],b<0?-1:0)}):new o([I|0],I<0?-1:0)}function u(I){if(isNaN(I)||!isFinite(I))return h;if(I<0)return x(u(-I));const b=[];let A=1;for(let P=0;I>=A;P++)b[P]=I/A|0,A*=4294967296;return new o(b,0)}function d(I,b){if(I.length==0)throw Error("number format error: empty string");if(b=b||10,b<2||36<b)throw Error("radix out of range: "+b);if(I.charAt(0)=="-")return x(d(I.substring(1),b));if(I.indexOf("-")>=0)throw Error('number format error: interior "-" character');const A=u(Math.pow(b,8));let P=h;for(let M=0;M<I.length;M+=8){var N=Math.min(8,I.length-M);const k=parseInt(I.substring(M,M+N),b);N<8?(N=u(Math.pow(b,N)),P=P.j(N).add(u(k))):(P=P.j(A),P=P.add(u(k)))}return P}var h=l(0),p=l(1),g=l(16777216);t=o.prototype,t.m=function(){if(v(this))return-x(this).m();let I=0,b=1;for(let A=0;A<this.g.length;A++){const P=this.i(A);I+=(P>=0?P:4294967296+P)*b,b*=4294967296}return I},t.toString=function(I){if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(T(this))return"0";if(v(this))return"-"+x(this).toString(I);const b=u(Math.pow(I,6));var A=this;let P="";for(;;){const N=C(A,b).g;A=E(A,N.j(b));let M=((A.g.length>0?A.g[0]:A.h)>>>0).toString(I);if(A=N,T(A))return M+P;for(;M.length<6;)M="0"+M;P=M+P}},t.i=function(I){return I<0?0:I<this.g.length?this.g[I]:this.h};function T(I){if(I.h!=0)return!1;for(let b=0;b<I.g.length;b++)if(I.g[b]!=0)return!1;return!0}function v(I){return I.h==-1}t.l=function(I){return I=E(this,I),v(I)?-1:T(I)?0:1};function x(I){const b=I.g.length,A=[];for(let P=0;P<b;P++)A[P]=~I.g[P];return new o(A,~I.h).add(p)}t.abs=function(){return v(this)?x(this):this},t.add=function(I){const b=Math.max(this.g.length,I.g.length),A=[];let P=0;for(let N=0;N<=b;N++){let M=P+(this.i(N)&65535)+(I.i(N)&65535),k=(M>>>16)+(this.i(N)>>>16)+(I.i(N)>>>16);P=k>>>16,M&=65535,k&=65535,A[N]=k<<16|M}return new o(A,A[A.length-1]&-2147483648?-1:0)};function E(I,b){return I.add(x(b))}t.j=function(I){if(T(this)||T(I))return h;if(v(this))return v(I)?x(this).j(x(I)):x(x(this).j(I));if(v(I))return x(this.j(x(I)));if(this.l(g)<0&&I.l(g)<0)return u(this.m()*I.m());const b=this.g.length+I.g.length,A=[];for(var P=0;P<2*b;P++)A[P]=0;for(P=0;P<this.g.length;P++)for(let N=0;N<I.g.length;N++){const M=this.i(P)>>>16,k=this.i(P)&65535,H=I.i(N)>>>16,se=I.i(N)&65535;A[2*P+2*N]+=k*se,_(A,2*P+2*N),A[2*P+2*N+1]+=M*se,_(A,2*P+2*N+1),A[2*P+2*N+1]+=k*H,_(A,2*P+2*N+1),A[2*P+2*N+2]+=M*H,_(A,2*P+2*N+2)}for(I=0;I<b;I++)A[I]=A[2*I+1]<<16|A[2*I];for(I=b;I<2*b;I++)A[I]=0;return new o(A,0)};function _(I,b){for(;(I[b]&65535)!=I[b];)I[b+1]+=I[b]>>>16,I[b]&=65535,b++}function S(I,b){this.g=I,this.h=b}function C(I,b){if(T(b))throw Error("division by zero");if(T(I))return new S(h,h);if(v(I))return b=C(x(I),b),new S(x(b.g),x(b.h));if(v(b))return b=C(I,x(b)),new S(x(b.g),b.h);if(I.g.length>30){if(v(I)||v(b))throw Error("slowDivide_ only works with positive integers.");for(var A=p,P=b;P.l(I)<=0;)A=D(A),P=D(P);var N=O(A,1),M=O(P,1);for(P=O(P,2),A=O(A,2);!T(P);){var k=M.add(P);k.l(I)<=0&&(N=N.add(A),M=k),P=O(P,1),A=O(A,1)}return b=E(I,N.j(b)),new S(N,b)}for(N=h;I.l(b)>=0;){for(A=Math.max(1,Math.floor(I.m()/b.m())),P=Math.ceil(Math.log(A)/Math.LN2),P=P<=48?1:Math.pow(2,P-48),M=u(A),k=M.j(b);v(k)||k.l(I)>0;)A-=P,M=u(A),k=M.j(b);T(M)&&(M=p),N=N.add(M),I=E(I,k)}return new S(N,I)}t.B=function(I){return C(this,I).h},t.and=function(I){const b=Math.max(this.g.length,I.g.length),A=[];for(let P=0;P<b;P++)A[P]=this.i(P)&I.i(P);return new o(A,this.h&I.h)},t.or=function(I){const b=Math.max(this.g.length,I.g.length),A=[];for(let P=0;P<b;P++)A[P]=this.i(P)|I.i(P);return new o(A,this.h|I.h)},t.xor=function(I){const b=Math.max(this.g.length,I.g.length),A=[];for(let P=0;P<b;P++)A[P]=this.i(P)^I.i(P);return new o(A,this.h^I.h)};function D(I){const b=I.g.length+1,A=[];for(let P=0;P<b;P++)A[P]=I.i(P)<<1|I.i(P-1)>>>31;return new o(A,I.h)}function O(I,b){const A=b>>5;b%=32;const P=I.g.length-A,N=[];for(let M=0;M<P;M++)N[M]=b>0?I.i(M+A)>>>b|I.i(M+A+1)<<32-b:I.i(M+A);return new o(N,I.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,XI=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.B,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=d,Qs=o}).apply(typeof UE<"u"?UE:typeof self<"u"?self:typeof window<"u"?window:{});var Mu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var JI,Tl,ZI,ad,Ag,eC,tC,nC;(function(){var t,e=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Mu=="object"&&Mu];for(var m=0;m<c.length;++m){var w=c[m];if(w&&w.Math==Math)return w}throw Error("Cannot find global object")}var r=n(this);function s(c,m){if(m)e:{var w=r;c=c.split(".");for(var R=0;R<c.length-1;R++){var L=c[R];if(!(L in w))break e;w=w[L]}c=c[c.length-1],R=w[c],m=m(R),m!=R&&m!=null&&e(w,c,{configurable:!0,writable:!0,value:m})}}s("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),s("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),s("Object.entries",function(c){return c||function(m){var w=[],R;for(R in m)Object.prototype.hasOwnProperty.call(m,R)&&w.push([R,m[R]]);return w}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var i=i||{},o=this||self;function a(c){var m=typeof c;return m=="object"&&c!=null||m=="function"}function l(c,m,w){return c.call.apply(c.bind,arguments)}function u(c,m,w){return u=l,u.apply(null,arguments)}function d(c,m){var w=Array.prototype.slice.call(arguments,1);return function(){var R=w.slice();return R.push.apply(R,arguments),c.apply(this,R)}}function h(c,m){function w(){}w.prototype=m.prototype,c.Z=m.prototype,c.prototype=new w,c.prototype.constructor=c,c.Ob=function(R,L,j){for(var G=Array(arguments.length-2),pe=2;pe<arguments.length;pe++)G[pe-2]=arguments[pe];return m.prototype[L].apply(R,G)}}var p=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function g(c){const m=c.length;if(m>0){const w=Array(m);for(let R=0;R<m;R++)w[R]=c[R];return w}return[]}function T(c,m){for(let R=1;R<arguments.length;R++){const L=arguments[R];var w=typeof L;if(w=w!="object"?w:L?Array.isArray(L)?"array":w:"null",w=="array"||w=="object"&&typeof L.length=="number"){w=c.length||0;const j=L.length||0;c.length=w+j;for(let G=0;G<j;G++)c[w+G]=L[G]}else c.push(L)}}class v{constructor(m,w){this.i=m,this.j=w,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function x(c){o.setTimeout(()=>{throw c},0)}function E(){var c=I;let m=null;return c.g&&(m=c.g,c.g=c.g.next,c.g||(c.h=null),m.next=null),m}class _{constructor(){this.h=this.g=null}add(m,w){const R=S.get();R.set(m,w),this.h?this.h.next=R:this.g=R,this.h=R}}var S=new v(()=>new C,c=>c.reset());class C{constructor(){this.next=this.g=this.h=null}set(m,w){this.h=m,this.g=w,this.next=null}reset(){this.next=this.g=this.h=null}}let D,O=!1,I=new _,b=()=>{const c=Promise.resolve(void 0);D=()=>{c.then(A)}};function A(){for(var c;c=E();){try{c.h.call(c.g)}catch(w){x(w)}var m=S;m.j(c),m.h<100&&(m.h++,c.next=m.g,m.g=c)}O=!1}function P(){this.u=this.u,this.C=this.C}P.prototype.u=!1,P.prototype.dispose=function(){this.u||(this.u=!0,this.N())},P.prototype[Symbol.dispose]=function(){this.dispose()},P.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function N(c,m){this.type=c,this.g=this.target=m,this.defaultPrevented=!1}N.prototype.h=function(){this.defaultPrevented=!0};var M=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var c=!1,m=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const w=()=>{};o.addEventListener("test",w,m),o.removeEventListener("test",w,m)}catch{}return c}();function k(c){return/^[\s\xa0]*$/.test(c)}function H(c,m){N.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,m)}h(H,N),H.prototype.init=function(c,m){const w=this.type=c.type,R=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=m,m=c.relatedTarget,m||(w=="mouseover"?m=c.fromElement:w=="mouseout"&&(m=c.toElement)),this.relatedTarget=m,R?(this.clientX=R.clientX!==void 0?R.clientX:R.pageX,this.clientY=R.clientY!==void 0?R.clientY:R.pageY,this.screenX=R.screenX||0,this.screenY=R.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&H.Z.h.call(this)},H.prototype.h=function(){H.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var se="closure_listenable_"+(Math.random()*1e6|0),Z=0;function oe(c,m,w,R,L){this.listener=c,this.proxy=null,this.src=m,this.type=w,this.capture=!!R,this.ha=L,this.key=++Z,this.da=this.fa=!1}function F(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function V(c,m,w){for(const R in c)m.call(w,c[R],R,c)}function q(c,m){for(const w in c)m.call(void 0,c[w],w,c)}function ee(c){const m={};for(const w in c)m[w]=c[w];return m}const X="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ce(c,m){let w,R;for(let L=1;L<arguments.length;L++){R=arguments[L];for(w in R)c[w]=R[w];for(let j=0;j<X.length;j++)w=X[j],Object.prototype.hasOwnProperty.call(R,w)&&(c[w]=R[w])}}function ae(c){this.src=c,this.g={},this.h=0}ae.prototype.add=function(c,m,w,R,L){const j=c.toString();c=this.g[j],c||(c=this.g[j]=[],this.h++);const G=Ne(c,m,R,L);return G>-1?(m=c[G],w||(m.fa=!1)):(m=new oe(m,this.src,j,!!R,L),m.fa=w,c.push(m)),m};function Pe(c,m){const w=m.type;if(w in c.g){var R=c.g[w],L=Array.prototype.indexOf.call(R,m,void 0),j;(j=L>=0)&&Array.prototype.splice.call(R,L,1),j&&(F(m),c.g[w].length==0&&(delete c.g[w],c.h--))}}function Ne(c,m,w,R){for(let L=0;L<c.length;++L){const j=c[L];if(!j.da&&j.listener==m&&j.capture==!!w&&j.ha==R)return L}return-1}var he="closure_lm_"+(Math.random()*1e6|0),nn={};function Qe(c,m,w,R,L){if(Array.isArray(m)){for(let j=0;j<m.length;j++)Qe(c,m[j],w,R,L);return null}return w=ls(w),c&&c[se]?c.J(m,w,a(R)?!!R.capture:!!R,L):gn(c,m,w,!1,R,L)}function gn(c,m,w,R,L,j){if(!m)throw Error("Invalid event type");const G=a(L)?!!L.capture:!!L;let pe=as(c);if(pe||(c[he]=pe=new ae(c)),w=pe.add(m,w,R,G,j),w.proxy)return w;if(R=rr(),w.proxy=R,R.src=c,R.listener=w,c.addEventListener)M||(L=G),L===void 0&&(L=!1),c.addEventListener(m.toString(),R,L);else if(c.attachEvent)c.attachEvent(fi(m.toString()),R);else if(c.addListener&&c.removeListener)c.addListener(R);else throw Error("addEventListener and attachEvent are unavailable.");return w}function rr(){function c(w){return m.call(c.src,c.listener,w)}const m=Ga;return c}function Dr(c,m,w,R,L){if(Array.isArray(m))for(var j=0;j<m.length;j++)Dr(c,m[j],w,R,L);else R=a(R)?!!R.capture:!!R,w=ls(w),c&&c[se]?(c=c.i,j=String(m).toString(),j in c.g&&(m=c.g[j],w=Ne(m,w,R,L),w>-1&&(F(m[w]),Array.prototype.splice.call(m,w,1),m.length==0&&(delete c.g[j],c.h--)))):c&&(c=as(c))&&(m=c.g[m.toString()],c=-1,m&&(c=Ne(m,w,R,L)),(w=c>-1?m[c]:null)&&yn(w))}function yn(c){if(typeof c!="number"&&c&&!c.da){var m=c.src;if(m&&m[se])Pe(m.i,c);else{var w=c.type,R=c.proxy;m.removeEventListener?m.removeEventListener(w,R,c.capture):m.detachEvent?m.detachEvent(fi(w),R):m.addListener&&m.removeListener&&m.removeListener(R),(w=as(m))?(Pe(w,c),w.h==0&&(w.src=null,m[he]=null)):F(c)}}}function fi(c){return c in nn?nn[c]:nn[c]="on"+c}function Ga(c,m){if(c.da)c=!0;else{m=new H(m,this);const w=c.listener,R=c.ha||c.src;c.fa&&yn(c),c=w.call(R,m)}return c}function as(c){return c=c[he],c instanceof ae?c:null}var pi="__closure_events_fn_"+(Math.random()*1e9>>>0);function ls(c){return typeof c=="function"?c:(c[pi]||(c[pi]=function(m){return c.handleEvent(m)}),c[pi])}function $e(){P.call(this),this.i=new ae(this),this.M=this,this.G=null}h($e,P),$e.prototype[se]=!0,$e.prototype.removeEventListener=function(c,m,w,R){Dr(this,c,m,w,R)};function dt(c,m){var w,R=c.G;if(R)for(w=[];R;R=R.G)w.push(R);if(c=c.M,R=m.type||m,typeof m=="string")m=new N(m,c);else if(m instanceof N)m.target=m.target||c;else{var L=m;m=new N(R,c),ce(m,L)}L=!0;let j,G;if(w)for(G=w.length-1;G>=0;G--)j=m.g=w[G],L=sr(j,R,!0,m)&&L;if(j=m.g=c,L=sr(j,R,!0,m)&&L,L=sr(j,R,!1,m)&&L,w)for(G=0;G<w.length;G++)j=m.g=w[G],L=sr(j,R,!1,m)&&L}$e.prototype.N=function(){if($e.Z.N.call(this),this.i){var c=this.i;for(const m in c.g){const w=c.g[m];for(let R=0;R<w.length;R++)F(w[R]);delete c.g[m],c.h--}}this.G=null},$e.prototype.J=function(c,m,w,R){return this.i.add(String(c),m,!1,w,R)},$e.prototype.K=function(c,m,w,R){return this.i.add(String(c),m,!0,w,R)};function sr(c,m,w,R){if(m=c.i.g[String(m)],!m)return!0;m=m.concat();let L=!0;for(let j=0;j<m.length;++j){const G=m[j];if(G&&!G.da&&G.capture==w){const pe=G.listener,ot=G.ha||G.src;G.fa&&Pe(c.i,G),L=pe.call(ot,R)!==!1&&L}}return L&&!R.defaultPrevented}function Jc(c,m){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=u(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:o.setTimeout(c,m||0)}function ir(c){c.g=Jc(()=>{c.g=null,c.i&&(c.i=!1,ir(c))},c.l);const m=c.h;c.h=null,c.m.apply(null,m)}class Wf extends P{constructor(m,w){super(),this.m=m,this.l=w,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:ir(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function mi(c){P.call(this),this.h=c,this.g={}}h(mi,P);var Mt=[];function Mr(c){V(c.g,function(m,w){this.g.hasOwnProperty(w)&&yn(m)},c),c.g={}}mi.prototype.N=function(){mi.Z.N.call(this),Mr(this)},mi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ka=o.JSON.stringify,qf=o.JSON.parse,po=class{stringify(c){return o.JSON.stringify(c,void 0)}parse(c){return o.JSON.parse(c,void 0)}};function Zc(){}function Qa(){}var Or={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function or(){N.call(this,"d")}h(or,N);function mo(){N.call(this,"c")}h(mo,N);var Ht={},eu=null;function go(){return eu=eu||new $e}Ht.Ia="serverreachability";function Ya(c){N.call(this,Ht.Ia,c)}h(Ya,N);function cs(c){const m=go();dt(m,new Ya(m))}Ht.STAT_EVENT="statevent";function tu(c,m){N.call(this,Ht.STAT_EVENT,c),this.stat=m}h(tu,N);function it(c){const m=go();dt(m,new tu(m,c))}Ht.Ja="timingevent";function Dn(c,m){N.call(this,Ht.Ja,c),this.size=m}h(Dn,N);function gi(c,m){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){c()},m)}function ne(){this.g=!0}ne.prototype.ua=function(){this.g=!1};function be(c,m,w,R,L,j){c.info(function(){if(c.g)if(j){var G="",pe=j.split("&");for(let ke=0;ke<pe.length;ke++){var ot=pe[ke].split("=");if(ot.length>1){const ft=ot[0];ot=ot[1];const cr=ft.split("_");G=cr.length>=2&&cr[1]=="type"?G+(ft+"="+ot+"&"):G+(ft+"=redacted&")}}}else G=null;else G=j;return"XMLHTTP REQ ("+R+") [attempt "+L+"]: "+m+`
`+w+`
`+G})}function De(c,m,w,R,L,j,G){c.info(function(){return"XMLHTTP RESP ("+R+") [ attempt "+L+"]: "+m+`
`+w+`
`+j+" "+G})}function ht(c,m,w,R){c.info(function(){return"XMLHTTP TEXT ("+m+"): "+ar(c,w)+(R?" "+R:"")})}function rn(c,m){c.info(function(){return"TIMEOUT: "+m})}ne.prototype.info=function(){};function ar(c,m){if(!c.g)return m;if(!m)return null;try{const j=JSON.parse(m);if(j){for(c=0;c<j.length;c++)if(Array.isArray(j[c])){var w=j[c];if(!(w.length<2)){var R=w[1];if(Array.isArray(R)&&!(R.length<1)){var L=R[0];if(L!="noop"&&L!="stop"&&L!="close")for(let G=1;G<R.length;G++)R[G]=""}}}}return Ka(j)}catch{return m}}var vn={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Wt={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Mn;function Gf(){}h(Gf,Zc),Gf.prototype.g=function(){return new XMLHttpRequest},Mn=new Gf;function Xa(c){return encodeURIComponent(String(c))}function yN(c){var m=1;c=c.split(":");const w=[];for(;m>0&&c.length;)w.push(c.shift()),m--;return c.length&&w.push(c.join(":")),w}function us(c,m,w,R){this.j=c,this.i=m,this.l=w,this.S=R||1,this.V=new mi(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Yw}function Yw(){this.i=null,this.g="",this.h=!1}var Xw={},Kf={};function Qf(c,m,w){c.M=1,c.A=ru(lr(m)),c.u=w,c.R=!0,Jw(c,null)}function Jw(c,m){c.F=Date.now(),nu(c),c.B=lr(c.A);var w=c.B,R=c.S;Array.isArray(R)||(R=[String(R)]),d0(w.i,"t",R),c.C=0,w=c.j.L,c.h=new Yw,c.g=R0(c.j,w?m:null,!c.u),c.P>0&&(c.O=new Wf(u(c.Y,c,c.g),c.P)),m=c.V,w=c.g,R=c.ba;var L="readystatechange";Array.isArray(L)||(L&&(Mt[0]=L.toString()),L=Mt);for(let j=0;j<L.length;j++){const G=Qe(w,L[j],R||m.handleEvent,!1,m.h||m);if(!G)break;m.g[G.key]=G}m=c.J?ee(c.J):{},c.u?(c.v||(c.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,m)):(c.v="GET",c.g.ea(c.B,c.v,null,m)),cs(),be(c.i,c.v,c.B,c.l,c.S,c.u)}us.prototype.ba=function(c){c=c.target;const m=this.O;m&&fs(c)==3?m.j():this.Y(c)},us.prototype.Y=function(c){try{if(c==this.g)e:{const pe=fs(this.g),ot=this.g.ya(),ke=this.g.ca();if(!(pe<3)&&(pe!=3||this.g&&(this.h.h||this.g.la()||v0(this.g)))){this.K||pe!=4||ot==7||(ot==8||ke<=0?cs(3):cs(2)),Yf(this);var m=this.g.ca();this.X=m;var w=vN(this);if(this.o=m==200,De(this.i,this.v,this.B,this.l,this.S,pe,m),this.o){if(this.U&&!this.L){t:{if(this.g){var R,L=this.g;if((R=L.g?L.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!k(R)){var j=R;break t}}j=null}if(c=j)ht(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Xf(this,c);else{this.o=!1,this.m=3,it(12),yi(this),Ja(this);break e}}if(this.R){c=!0;let ft;for(;!this.K&&this.C<w.length;)if(ft=wN(this,w),ft==Kf){pe==4&&(this.m=4,it(14),c=!1),ht(this.i,this.l,null,"[Incomplete Response]");break}else if(ft==Xw){this.m=4,it(15),ht(this.i,this.l,w,"[Invalid Chunk]"),c=!1;break}else ht(this.i,this.l,ft,null),Xf(this,ft);if(Zw(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),pe!=4||w.length!=0||this.h.h||(this.m=1,it(16),c=!1),this.o=this.o&&c,!c)ht(this.i,this.l,w,"[Invalid Chunked Response]"),yi(this),Ja(this);else if(w.length>0&&!this.W){this.W=!0;var G=this.j;G.g==this&&G.aa&&!G.P&&(G.j.info("Great, no buffering proxy detected. Bytes received: "+w.length),ip(G),G.P=!0,it(11))}}else ht(this.i,this.l,w,null),Xf(this,w);pe==4&&yi(this),this.o&&!this.K&&(pe==4?b0(this.j,this):(this.o=!1,nu(this)))}else DN(this.g),m==400&&w.indexOf("Unknown SID")>0?(this.m=3,it(12)):(this.m=0,it(13)),yi(this),Ja(this)}}}catch{}finally{}};function vN(c){if(!Zw(c))return c.g.la();const m=v0(c.g);if(m==="")return"";let w="";const R=m.length,L=fs(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return yi(c),Ja(c),"";c.h.i=new o.TextDecoder}for(let j=0;j<R;j++)c.h.h=!0,w+=c.h.i.decode(m[j],{stream:!(L&&j==R-1)});return m.length=0,c.h.g+=w,c.C=0,c.h.g}function Zw(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function wN(c,m){var w=c.C,R=m.indexOf(`
`,w);return R==-1?Kf:(w=Number(m.substring(w,R)),isNaN(w)?Xw:(R+=1,R+w>m.length?Kf:(m=m.slice(R,R+w),c.C=R+w,m)))}us.prototype.cancel=function(){this.K=!0,yi(this)};function nu(c){c.T=Date.now()+c.H,e0(c,c.H)}function e0(c,m){if(c.D!=null)throw Error("WatchDog timer not null");c.D=gi(u(c.aa,c),m)}function Yf(c){c.D&&(o.clearTimeout(c.D),c.D=null)}us.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(rn(this.i,this.B),this.M!=2&&(cs(),it(17)),yi(this),this.m=2,Ja(this)):e0(this,this.T-c)};function Ja(c){c.j.I==0||c.K||b0(c.j,c)}function yi(c){Yf(c);var m=c.O;m&&typeof m.dispose=="function"&&m.dispose(),c.O=null,Mr(c.V),c.g&&(m=c.g,c.g=null,m.abort(),m.dispose())}function Xf(c,m){try{var w=c.j;if(w.I!=0&&(w.g==c||Jf(w.h,c))){if(!c.L&&Jf(w.h,c)&&w.I==3){try{var R=w.Ba.g.parse(m)}catch{R=null}if(Array.isArray(R)&&R.length==3){var L=R;if(L[0]==0){e:if(!w.v){if(w.g)if(w.g.F+3e3<c.F)lu(w),ou(w);else break e;sp(w),it(18)}}else w.xa=L[1],0<w.xa-w.K&&L[2]<37500&&w.F&&w.A==0&&!w.C&&(w.C=gi(u(w.Va,w),6e3));r0(w.h)<=1&&w.ta&&(w.ta=void 0)}else wi(w,11)}else if((c.L||w.g==c)&&lu(w),!k(m))for(L=w.Ba.g.parse(m),m=0;m<L.length;m++){let ke=L[m];const ft=ke[0];if(!(ft<=w.K))if(w.K=ft,ke=ke[1],w.I==2)if(ke[0]=="c"){w.M=ke[1],w.ba=ke[2];const cr=ke[3];cr!=null&&(w.ka=cr,w.j.info("VER="+w.ka));const _i=ke[4];_i!=null&&(w.za=_i,w.j.info("SVER="+w.za));const ps=ke[5];ps!=null&&typeof ps=="number"&&ps>0&&(R=1.5*ps,w.O=R,w.j.info("backChannelRequestTimeoutMs_="+R)),R=w;const ms=c.g;if(ms){const uu=ms.g?ms.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(uu){var j=R.h;j.g||uu.indexOf("spdy")==-1&&uu.indexOf("quic")==-1&&uu.indexOf("h2")==-1||(j.j=j.l,j.g=new Set,j.h&&(Zf(j,j.h),j.h=null))}if(R.G){const op=ms.g?ms.g.getResponseHeader("X-HTTP-Session-Id"):null;op&&(R.wa=op,Le(R.J,R.G,op))}}w.I=3,w.l&&w.l.ra(),w.aa&&(w.T=Date.now()-c.F,w.j.info("Handshake RTT: "+w.T+"ms")),R=w;var G=c;if(R.na=A0(R,R.L?R.ba:null,R.W),G.L){s0(R.h,G);var pe=G,ot=R.O;ot&&(pe.H=ot),pe.D&&(Yf(pe),nu(pe)),R.g=G}else T0(R);w.i.length>0&&au(w)}else ke[0]!="stop"&&ke[0]!="close"||wi(w,7);else w.I==3&&(ke[0]=="stop"||ke[0]=="close"?ke[0]=="stop"?wi(w,7):rp(w):ke[0]!="noop"&&w.l&&w.l.qa(ke),w.A=0)}}cs(4)}catch{}}var _N=class{constructor(c,m){this.g=c,this.map=m}};function t0(c){this.l=c||10,o.PerformanceNavigationTiming?(c=o.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function n0(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function r0(c){return c.h?1:c.g?c.g.size:0}function Jf(c,m){return c.h?c.h==m:c.g?c.g.has(m):!1}function Zf(c,m){c.g?c.g.add(m):c.h=m}function s0(c,m){c.h&&c.h==m?c.h=null:c.g&&c.g.has(m)&&c.g.delete(m)}t0.prototype.cancel=function(){if(this.i=i0(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function i0(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let m=c.i;for(const w of c.g.values())m=m.concat(w.G);return m}return g(c.i)}var o0=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function EN(c,m){if(c){c=c.split("&");for(let w=0;w<c.length;w++){const R=c[w].indexOf("=");let L,j=null;R>=0?(L=c[w].substring(0,R),j=c[w].substring(R+1)):L=c[w],m(L,j?decodeURIComponent(j.replace(/\+/g," ")):"")}}}function ds(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;c instanceof ds?(this.l=c.l,Za(this,c.j),this.o=c.o,this.g=c.g,el(this,c.u),this.h=c.h,ep(this,h0(c.i)),this.m=c.m):c&&(m=String(c).match(o0))?(this.l=!1,Za(this,m[1]||"",!0),this.o=tl(m[2]||""),this.g=tl(m[3]||"",!0),el(this,m[4]),this.h=tl(m[5]||"",!0),ep(this,m[6]||"",!0),this.m=tl(m[7]||"")):(this.l=!1,this.i=new rl(null,this.l))}ds.prototype.toString=function(){const c=[];var m=this.j;m&&c.push(nl(m,a0,!0),":");var w=this.g;return(w||m=="file")&&(c.push("//"),(m=this.o)&&c.push(nl(m,a0,!0),"@"),c.push(Xa(w).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),w=this.u,w!=null&&c.push(":",String(w))),(w=this.h)&&(this.g&&w.charAt(0)!="/"&&c.push("/"),c.push(nl(w,w.charAt(0)=="/"?SN:TN,!0))),(w=this.i.toString())&&c.push("?",w),(w=this.m)&&c.push("#",nl(w,IN)),c.join("")},ds.prototype.resolve=function(c){const m=lr(this);let w=!!c.j;w?Za(m,c.j):w=!!c.o,w?m.o=c.o:w=!!c.g,w?m.g=c.g:w=c.u!=null;var R=c.h;if(w)el(m,c.u);else if(w=!!c.h){if(R.charAt(0)!="/")if(this.g&&!this.h)R="/"+R;else{var L=m.h.lastIndexOf("/");L!=-1&&(R=m.h.slice(0,L+1)+R)}if(L=R,L==".."||L==".")R="";else if(L.indexOf("./")!=-1||L.indexOf("/.")!=-1){R=L.lastIndexOf("/",0)==0,L=L.split("/");const j=[];for(let G=0;G<L.length;){const pe=L[G++];pe=="."?R&&G==L.length&&j.push(""):pe==".."?((j.length>1||j.length==1&&j[0]!="")&&j.pop(),R&&G==L.length&&j.push("")):(j.push(pe),R=!0)}R=j.join("/")}else R=L}return w?m.h=R:w=c.i.toString()!=="",w?ep(m,h0(c.i)):w=!!c.m,w&&(m.m=c.m),m};function lr(c){return new ds(c)}function Za(c,m,w){c.j=w?tl(m,!0):m,c.j&&(c.j=c.j.replace(/:$/,""))}function el(c,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);c.u=m}else c.u=null}function ep(c,m,w){m instanceof rl?(c.i=m,CN(c.i,c.l)):(w||(m=nl(m,bN)),c.i=new rl(m,c.l))}function Le(c,m,w){c.i.set(m,w)}function ru(c){return Le(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function tl(c,m){return c?m?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function nl(c,m,w){return typeof c=="string"?(c=encodeURI(c).replace(m,xN),w&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function xN(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var a0=/[#\/\?@]/g,TN=/[#\?:]/g,SN=/[#\?]/g,bN=/[#\?@]/g,IN=/#/g;function rl(c,m){this.h=this.g=null,this.i=c||null,this.j=!!m}function vi(c){c.g||(c.g=new Map,c.h=0,c.i&&EN(c.i,function(m,w){c.add(decodeURIComponent(m.replace(/\+/g," ")),w)}))}t=rl.prototype,t.add=function(c,m){vi(this),this.i=null,c=yo(this,c);let w=this.g.get(c);return w||this.g.set(c,w=[]),w.push(m),this.h+=1,this};function l0(c,m){vi(c),m=yo(c,m),c.g.has(m)&&(c.i=null,c.h-=c.g.get(m).length,c.g.delete(m))}function c0(c,m){return vi(c),m=yo(c,m),c.g.has(m)}t.forEach=function(c,m){vi(this),this.g.forEach(function(w,R){w.forEach(function(L){c.call(m,L,R,this)},this)},this)};function u0(c,m){vi(c);let w=[];if(typeof m=="string")c0(c,m)&&(w=w.concat(c.g.get(yo(c,m))));else for(c=Array.from(c.g.values()),m=0;m<c.length;m++)w=w.concat(c[m]);return w}t.set=function(c,m){return vi(this),this.i=null,c=yo(this,c),c0(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[m]),this.h+=1,this},t.get=function(c,m){return c?(c=u0(this,c),c.length>0?String(c[0]):m):m};function d0(c,m,w){l0(c,m),w.length>0&&(c.i=null,c.g.set(yo(c,m),g(w)),c.h+=w.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],m=Array.from(this.g.keys());for(let R=0;R<m.length;R++){var w=m[R];const L=Xa(w);w=u0(this,w);for(let j=0;j<w.length;j++){let G=L;w[j]!==""&&(G+="="+Xa(w[j])),c.push(G)}}return this.i=c.join("&")};function h0(c){const m=new rl;return m.i=c.i,c.g&&(m.g=new Map(c.g),m.h=c.h),m}function yo(c,m){return m=String(m),c.j&&(m=m.toLowerCase()),m}function CN(c,m){m&&!c.j&&(vi(c),c.i=null,c.g.forEach(function(w,R){const L=R.toLowerCase();R!=L&&(l0(this,R),d0(this,L,w))},c)),c.j=m}function AN(c,m){const w=new ne;if(o.Image){const R=new Image;R.onload=d(hs,w,"TestLoadImage: loaded",!0,m,R),R.onerror=d(hs,w,"TestLoadImage: error",!1,m,R),R.onabort=d(hs,w,"TestLoadImage: abort",!1,m,R),R.ontimeout=d(hs,w,"TestLoadImage: timeout",!1,m,R),o.setTimeout(function(){R.ontimeout&&R.ontimeout()},1e4),R.src=c}else m(!1)}function RN(c,m){const w=new ne,R=new AbortController,L=setTimeout(()=>{R.abort(),hs(w,"TestPingServer: timeout",!1,m)},1e4);fetch(c,{signal:R.signal}).then(j=>{clearTimeout(L),j.ok?hs(w,"TestPingServer: ok",!0,m):hs(w,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(L),hs(w,"TestPingServer: error",!1,m)})}function hs(c,m,w,R,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),R(w)}catch{}}function PN(){this.g=new po}function tp(c){this.i=c.Sb||null,this.h=c.ab||!1}h(tp,Zc),tp.prototype.g=function(){return new su(this.i,this.h)};function su(c,m){$e.call(this),this.H=c,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}h(su,$e),t=su.prototype,t.open=function(c,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=m,this.readyState=1,il(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(m.body=c),(this.H||o).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,sl(this)),this.readyState=0},t.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,il(this)),this.g&&(this.readyState=3,il(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;f0(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function f0(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}t.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var m=c.value?c.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!c.done}))&&(this.response=this.responseText+=m)}c.done?sl(this):il(this),this.readyState==3&&f0(this)}},t.Oa=function(c){this.g&&(this.response=this.responseText=c,sl(this))},t.Na=function(c){this.g&&(this.response=c,sl(this))},t.ga=function(){this.g&&sl(this)};function sl(c){c.readyState=4,c.l=null,c.j=null,c.B=null,il(c)}t.setRequestHeader=function(c,m){this.A.append(c,m)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],m=this.h.entries();for(var w=m.next();!w.done;)w=w.value,c.push(w[0]+": "+w[1]),w=m.next();return c.join(`\r
`)};function il(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(su.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function p0(c){let m="";return V(c,function(w,R){m+=R,m+=":",m+=w,m+=`\r
`}),m}function np(c,m,w){e:{for(R in w){var R=!1;break e}R=!0}R||(w=p0(w),typeof c=="string"?w!=null&&Xa(w):Le(c,m,w))}function qe(c){$e.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}h(qe,$e);var kN=/^https?$/i,NN=["POST","PUT"];t=qe.prototype,t.Fa=function(c){this.H=c},t.ea=function(c,m,w,R){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);m=m?m.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Mn.g(),this.g.onreadystatechange=p(u(this.Ca,this));try{this.B=!0,this.g.open(m,String(c),!0),this.B=!1}catch(j){m0(this,j);return}if(c=w||"",w=new Map(this.headers),R)if(Object.getPrototypeOf(R)===Object.prototype)for(var L in R)w.set(L,R[L]);else if(typeof R.keys=="function"&&typeof R.get=="function")for(const j of R.keys())w.set(j,R.get(j));else throw Error("Unknown input type for opt_headers: "+String(R));R=Array.from(w.keys()).find(j=>j.toLowerCase()=="content-type"),L=o.FormData&&c instanceof o.FormData,!(Array.prototype.indexOf.call(NN,m,void 0)>=0)||R||L||w.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[j,G]of w)this.g.setRequestHeader(j,G);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(j){m0(this,j)}};function m0(c,m){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=m,c.o=5,g0(c),iu(c)}function g0(c){c.A||(c.A=!0,dt(c,"complete"),dt(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,dt(this,"complete"),dt(this,"abort"),iu(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),iu(this,!0)),qe.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?y0(this):this.Xa())},t.Xa=function(){y0(this)};function y0(c){if(c.h&&typeof i<"u"){if(c.v&&fs(c)==4)setTimeout(c.Ca.bind(c),0);else if(dt(c,"readystatechange"),fs(c)==4){c.h=!1;try{const j=c.ca();e:switch(j){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var w;if(!(w=m)){var R;if(R=j===0){let G=String(c.D).match(o0)[1]||null;!G&&o.self&&o.self.location&&(G=o.self.location.protocol.slice(0,-1)),R=!kN.test(G?G.toLowerCase():"")}w=R}if(w)dt(c,"complete"),dt(c,"success");else{c.o=6;try{var L=fs(c)>2?c.g.statusText:""}catch{L=""}c.l=L+" ["+c.ca()+"]",g0(c)}}finally{iu(c)}}}}function iu(c,m){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const w=c.g;c.g=null,m||dt(c,"ready");try{w.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function fs(c){return c.g?c.g.readyState:0}t.ca=function(){try{return fs(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(c){if(this.g){var m=this.g.responseText;return c&&m.indexOf(c)==0&&(m=m.substring(c.length)),qf(m)}};function v0(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function DN(c){const m={};c=(c.g&&fs(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let R=0;R<c.length;R++){if(k(c[R]))continue;var w=yN(c[R]);const L=w[0];if(w=w[1],typeof w!="string")continue;w=w.trim();const j=m[L]||[];m[L]=j,j.push(w)}q(m,function(R){return R.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function ol(c,m,w){return w&&w.internalChannelParams&&w.internalChannelParams[c]||m}function w0(c){this.za=0,this.i=[],this.j=new ne,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=ol("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=ol("baseRetryDelayMs",5e3,c),this.Za=ol("retryDelaySeedMs",1e4,c),this.Ta=ol("forwardChannelMaxRetries",2,c),this.va=ol("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new t0(c&&c.concurrentRequestLimit),this.Ba=new PN,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=w0.prototype,t.ka=8,t.I=1,t.connect=function(c,m,w,R){it(0),this.W=c,this.H=m||{},w&&R!==void 0&&(this.H.OSID=w,this.H.OAID=R),this.F=this.X,this.J=A0(this,null,this.W),au(this)};function rp(c){if(_0(c),c.I==3){var m=c.V++,w=lr(c.J);if(Le(w,"SID",c.M),Le(w,"RID",m),Le(w,"TYPE","terminate"),al(c,w),m=new us(c,c.j,m),m.M=2,m.A=ru(lr(w)),w=!1,o.navigator&&o.navigator.sendBeacon)try{w=o.navigator.sendBeacon(m.A.toString(),"")}catch{}!w&&o.Image&&(new Image().src=m.A,w=!0),w||(m.g=R0(m.j,null),m.g.ea(m.A)),m.F=Date.now(),nu(m)}C0(c)}function ou(c){c.g&&(ip(c),c.g.cancel(),c.g=null)}function _0(c){ou(c),c.v&&(o.clearTimeout(c.v),c.v=null),lu(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&o.clearTimeout(c.m),c.m=null)}function au(c){if(!n0(c.h)&&!c.m){c.m=!0;var m=c.Ea;D||b(),O||(D(),O=!0),I.add(m,c),c.D=0}}function MN(c,m){return r0(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=m.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=gi(u(c.Ea,c,m),I0(c,c.D)),c.D++,!0)}t.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const L=new us(this,this.j,c);let j=this.o;if(this.U&&(j?(j=ee(j),ce(j,this.U)):j=this.U),this.u!==null||this.R||(L.J=j,j=null),this.S)e:{for(var m=0,w=0;w<this.i.length;w++){t:{var R=this.i[w];if("__data__"in R.map&&(R=R.map.__data__,typeof R=="string")){R=R.length;break t}R=void 0}if(R===void 0)break;if(m+=R,m>4096){m=w;break e}if(m===4096||w===this.i.length-1){m=w+1;break e}}m=1e3}else m=1e3;m=x0(this,L,m),w=lr(this.J),Le(w,"RID",c),Le(w,"CVER",22),this.G&&Le(w,"X-HTTP-Session-Id",this.G),al(this,w),j&&(this.R?m="headers="+Xa(p0(j))+"&"+m:this.u&&np(w,this.u,j)),Zf(this.h,L),this.Ra&&Le(w,"TYPE","init"),this.S?(Le(w,"$req",m),Le(w,"SID","null"),L.U=!0,Qf(L,w,null)):Qf(L,w,m),this.I=2}}else this.I==3&&(c?E0(this,c):this.i.length==0||n0(this.h)||E0(this))};function E0(c,m){var w;m?w=m.l:w=c.V++;const R=lr(c.J);Le(R,"SID",c.M),Le(R,"RID",w),Le(R,"AID",c.K),al(c,R),c.u&&c.o&&np(R,c.u,c.o),w=new us(c,c.j,w,c.D+1),c.u===null&&(w.J=c.o),m&&(c.i=m.G.concat(c.i)),m=x0(c,w,1e3),w.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),Zf(c.h,w),Qf(w,R,m)}function al(c,m){c.H&&V(c.H,function(w,R){Le(m,R,w)}),c.l&&V({},function(w,R){Le(m,R,w)})}function x0(c,m,w){w=Math.min(c.i.length,w);const R=c.l?u(c.l.Ka,c.l,c):null;e:{var L=c.i;let pe=-1;for(;;){const ot=["count="+w];pe==-1?w>0?(pe=L[0].g,ot.push("ofs="+pe)):pe=0:ot.push("ofs="+pe);let ke=!0;for(let ft=0;ft<w;ft++){var j=L[ft].g;const cr=L[ft].map;if(j-=pe,j<0)pe=Math.max(0,L[ft].g-100),ke=!1;else try{j="req"+j+"_"||"";try{var G=cr instanceof Map?cr:Object.entries(cr);for(const[_i,ps]of G){let ms=ps;a(ps)&&(ms=Ka(ps)),ot.push(j+_i+"="+encodeURIComponent(ms))}}catch(_i){throw ot.push(j+"type="+encodeURIComponent("_badmap")),_i}}catch{R&&R(cr)}}if(ke){G=ot.join("&");break e}}G=void 0}return c=c.i.splice(0,w),m.G=c,G}function T0(c){if(!c.g&&!c.v){c.Y=1;var m=c.Da;D||b(),O||(D(),O=!0),I.add(m,c),c.A=0}}function sp(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=gi(u(c.Da,c),I0(c,c.A)),c.A++,!0)}t.Da=function(){if(this.v=null,S0(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=gi(u(this.Wa,this),c)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,it(10),ou(this),S0(this))};function ip(c){c.B!=null&&(o.clearTimeout(c.B),c.B=null)}function S0(c){c.g=new us(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var m=lr(c.na);Le(m,"RID","rpc"),Le(m,"SID",c.M),Le(m,"AID",c.K),Le(m,"CI",c.F?"0":"1"),!c.F&&c.ia&&Le(m,"TO",c.ia),Le(m,"TYPE","xmlhttp"),al(c,m),c.u&&c.o&&np(m,c.u,c.o),c.O&&(c.g.H=c.O);var w=c.g;c=c.ba,w.M=1,w.A=ru(lr(m)),w.u=null,w.R=!0,Jw(w,c)}t.Va=function(){this.C!=null&&(this.C=null,ou(this),sp(this),it(19))};function lu(c){c.C!=null&&(o.clearTimeout(c.C),c.C=null)}function b0(c,m){var w=null;if(c.g==m){lu(c),ip(c),c.g=null;var R=2}else if(Jf(c.h,m))w=m.G,s0(c.h,m),R=1;else return;if(c.I!=0){if(m.o)if(R==1){w=m.u?m.u.length:0,m=Date.now()-m.F;var L=c.D;R=go(),dt(R,new Dn(R,w)),au(c)}else T0(c);else if(L=m.m,L==3||L==0&&m.X>0||!(R==1&&MN(c,m)||R==2&&sp(c)))switch(w&&w.length>0&&(m=c.h,m.i=m.i.concat(w)),L){case 1:wi(c,5);break;case 4:wi(c,10);break;case 3:wi(c,6);break;default:wi(c,2)}}}function I0(c,m){let w=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(w*=2),w*m}function wi(c,m){if(c.j.info("Error code "+m),m==2){var w=u(c.bb,c),R=c.Ua;const L=!R;R=new ds(R||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||Za(R,"https"),ru(R),L?AN(R.toString(),w):RN(R.toString(),w)}else it(2);c.I=0,c.l&&c.l.pa(m),C0(c),_0(c)}t.bb=function(c){c?(this.j.info("Successfully pinged google.com"),it(2)):(this.j.info("Failed to ping google.com"),it(1))};function C0(c){if(c.I=0,c.ja=[],c.l){const m=i0(c.h);(m.length!=0||c.i.length!=0)&&(T(c.ja,m),T(c.ja,c.i),c.h.i.length=0,g(c.i),c.i.length=0),c.l.oa()}}function A0(c,m,w){var R=w instanceof ds?lr(w):new ds(w);if(R.g!="")m&&(R.g=m+"."+R.g),el(R,R.u);else{var L=o.location;R=L.protocol,m=m?m+"."+L.hostname:L.hostname,L=+L.port;const j=new ds(null);R&&Za(j,R),m&&(j.g=m),L&&el(j,L),w&&(j.h=w),R=j}return w=c.G,m=c.wa,w&&m&&Le(R,w,m),Le(R,"VER",c.ka),al(c,R),R}function R0(c,m,w){if(m&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=c.Aa&&!c.ma?new qe(new tp({ab:w})):new qe(c.ma),m.Fa(c.L),m}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function P0(){}t=P0.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function cu(){}cu.prototype.g=function(c,m){return new sn(c,m)};function sn(c,m){$e.call(this),this.g=new w0(m),this.l=c,this.h=m&&m.messageUrlParams||null,c=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(c?c["X-WebChannel-Content-Type"]=m.messageContentType:c={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(c?c["X-WebChannel-Client-Profile"]=m.sa:c={"X-WebChannel-Client-Profile":m.sa}),this.g.U=c,(c=m&&m.Qb)&&!k(c)&&(this.g.u=c),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!k(m)&&(this.g.G=m,c=this.h,c!==null&&m in c&&(c=this.h,m in c&&delete c[m])),this.j=new vo(this)}h(sn,$e),sn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},sn.prototype.close=function(){rp(this.g)},sn.prototype.o=function(c){var m=this.g;if(typeof c=="string"){var w={};w.__data__=c,c=w}else this.v&&(w={},w.__data__=Ka(c),c=w);m.i.push(new _N(m.Ya++,c)),m.I==3&&au(m)},sn.prototype.N=function(){this.g.l=null,delete this.j,rp(this.g),delete this.g,sn.Z.N.call(this)};function k0(c){or.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var m=c.__sm__;if(m){e:{for(const w in m){c=w;break e}c=void 0}(this.i=c)&&(c=this.i,m=m!==null&&c in m?m[c]:void 0),this.data=m}else this.data=c}h(k0,or);function N0(){mo.call(this),this.status=1}h(N0,mo);function vo(c){this.g=c}h(vo,P0),vo.prototype.ra=function(){dt(this.g,"a")},vo.prototype.qa=function(c){dt(this.g,new k0(c))},vo.prototype.pa=function(c){dt(this.g,new N0)},vo.prototype.oa=function(){dt(this.g,"b")},cu.prototype.createWebChannel=cu.prototype.g,sn.prototype.send=sn.prototype.o,sn.prototype.open=sn.prototype.m,sn.prototype.close=sn.prototype.close,nC=function(){return new cu},tC=function(){return go()},eC=Ht,Ag={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},vn.NO_ERROR=0,vn.TIMEOUT=8,vn.HTTP_ERROR=6,ad=vn,Wt.COMPLETE="complete",ZI=Wt,Qa.EventType=Or,Or.OPEN="a",Or.CLOSE="b",Or.ERROR="c",Or.MESSAGE="d",$e.prototype.listen=$e.prototype.J,Tl=Qa,qe.prototype.listenOnce=qe.prototype.K,qe.prototype.getLastError=qe.prototype.Ha,qe.prototype.getLastErrorCode=qe.prototype.ya,qe.prototype.getStatus=qe.prototype.ca,qe.prototype.getResponseJson=qe.prototype.La,qe.prototype.getResponseText=qe.prototype.la,qe.prototype.send=qe.prototype.ea,qe.prototype.setWithCredentials=qe.prototype.Fa,JI=qe}).apply(typeof Mu<"u"?Mu:typeof self<"u"?self:typeof window<"u"?window:{});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Rt.UNAUTHENTICATED=new Rt(null),Rt.GOOGLE_CREDENTIALS=new Rt("google-credentials-uid"),Rt.FIRST_PARTY=new Rt("first-party-uid"),Rt.MOCK_USER=new Rt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ua="12.9.0";function I3(t){Ua=t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qi=new df("@firebase/firestore");function To(){return Qi.logLevel}function Q(t,...e){if(Qi.logLevel<=ye.DEBUG){const n=e.map(xv);Qi.debug(`Firestore (${Ua}): ${t}`,...n)}}function ts(t,...e){if(Qi.logLevel<=ye.ERROR){const n=e.map(xv);Qi.error(`Firestore (${Ua}): ${t}`,...n)}}function Yi(t,...e){if(Qi.logLevel<=ye.WARN){const n=e.map(xv);Qi.warn(`Firestore (${Ua}): ${t}`,...n)}}function xv(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function re(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,rC(t,r,n)}function rC(t,e,n){let r=`FIRESTORE (${Ua}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw ts(r),new Error(r)}function Ce(t,e,n,r){let s="Unexpected state";typeof n=="string"?s=n:r=n,t||rC(e,s,r)}function ue(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class K extends kn{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sC{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class C3{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Rt.UNAUTHENTICATED))}shutdown(){}}class A3{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class R3{constructor(e){this.t=e,this.currentUser=Rt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ce(this.o===void 0,42304);let r=this.i;const s=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let i=new Gr;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Gr,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const l=i;e.enqueueRetryable(async()=>{await l.promise,await s(this.currentUser)})},a=l=>{Q("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(Q("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Gr)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Q("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ce(typeof r.accessToken=="string",31837,{l:r}),new sC(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ce(e===null||typeof e=="string",2055,{h:e}),new Rt(e)}}class P3{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Rt.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class k3{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new P3(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Rt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class $E{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class N3{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,xn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Ce(this.o===void 0,3512);const r=i=>{i.error!=null&&Q("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.m;return this.m=i.token,Q("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{Q("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.V.getImmediate({optional:!0});i?s(i):Q("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new $E(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ce(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new $E(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D3(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tv{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=D3(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%62))}return r}}function ve(t,e){return t<e?-1:t>e?1:0}function Rg(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const s=t.charAt(r),i=e.charAt(r);if(s!==i)return Kp(s)===Kp(i)?ve(s,i):Kp(s)?1:-1}return ve(t.length,e.length)}const M3=55296,O3=57343;function Kp(t){const e=t.charCodeAt(0);return e>=M3&&e<=O3}function xa(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zE="__name__";class hr{constructor(e,n,r){n===void 0?n=0:n>e.length&&re(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&re(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return hr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof hr?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=hr.compareSegments(e.get(s),n.get(s));if(i!==0)return i}return ve(e.length,n.length)}static compareSegments(e,n){const r=hr.isNumericId(e),s=hr.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?hr.extractNumericId(e).compare(hr.extractNumericId(n)):Rg(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Qs.fromString(e.substring(4,e.length-2))}}class Me extends hr{construct(e,n,r){return new Me(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new K($.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new Me(n)}static emptyPath(){return new Me([])}}const L3=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class _t extends hr{construct(e,n,r){return new _t(e,n,r)}static isValidIdentifier(e){return L3.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),_t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===zE}static keyField(){return new _t([zE])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new K($.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const a=e[s];if(a==="\\"){if(s+1===e.length)throw new K($.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[s+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new K($.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,s+=2}else a==="`"?(o=!o,s++):a!=="."||o?(r+=a,s++):(i(),s++)}if(i(),o)throw new K($.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new _t(n)}static emptyPath(){return new _t([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class te{constructor(e){this.path=e}static fromPath(e){return new te(Me.fromString(e))}static fromName(e){return new te(Me.fromString(e).popFirst(5))}static empty(){return new te(Me.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Me.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Me.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new te(new Me(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iC(t,e,n){if(!n)throw new K($.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function V3(t,e,n,r){if(e===!0&&r===!0)throw new K($.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function BE(t){if(!te.isDocumentKey(t))throw new K($.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function HE(t){if(te.isDocumentKey(t))throw new K($.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function oC(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function hf(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":re(12329,{type:typeof t})}function Gn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new K($.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=hf(t);throw new K($.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function st(t,e){const n={typeString:t};return e&&(n.value=e),n}function Uc(t,e){if(!oC(t))throw new K($.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const s=e[r].typeString,i="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const o=t[r];if(s&&typeof o!==s){n=`JSON field '${r}' must be a ${s}.`;break}if(i!==void 0&&o!==i.value){n=`Expected '${r}' field to equal '${i.value}'`;break}}if(n)throw new K($.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WE=-62135596800,qE=1e6;class Ie{static now(){return Ie.fromMillis(Date.now())}static fromDate(e){return Ie.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*qE);return new Ie(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new K($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new K($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<WE)throw new K($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new K($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/qE}_compareTo(e){return this.seconds===e.seconds?ve(this.nanoseconds,e.nanoseconds):ve(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Ie._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Uc(e,Ie._jsonSchema))return new Ie(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-WE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Ie._jsonSchemaVersion="firestore/timestamp/1.0",Ie._jsonSchema={type:st("string",Ie._jsonSchemaVersion),seconds:st("number"),nanoseconds:st("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class le{static fromTimestamp(e){return new le(e)}static min(){return new le(new Ie(0,0))}static max(){return new le(new Ie(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mc=-1;function j3(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=le.fromTimestamp(r===1e9?new Ie(n+1,0):new Ie(n,r));return new ri(s,te.empty(),e)}function F3(t){return new ri(t.readTime,t.key,mc)}class ri{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new ri(le.min(),te.empty(),mc)}static max(){return new ri(le.max(),te.empty(),mc)}}function U3(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=te.comparator(t.documentKey,e.documentKey),n!==0?n:ve(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $3="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class z3{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $a(t){if(t.code!==$.FAILED_PRECONDITION||t.message!==$3)throw t;Q("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&re(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new z((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof z?n:z.resolve(n)}catch(n){return z.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):z.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):z.reject(n)}static resolve(e){return new z((n,r)=>{n(e)})}static reject(e){return new z((n,r)=>{r(e)})}static waitFor(e){return new z((n,r)=>{let s=0,i=0,o=!1;e.forEach(a=>{++s,a.next(()=>{++i,o&&i===s&&n()},l=>r(l))}),o=!0,i===s&&n()})}static or(e){let n=z.resolve(!1);for(const r of e)n=n.next(s=>s?z.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new z((r,s)=>{const i=e.length,o=new Array(i);let a=0;for(let l=0;l<i;l++){const u=l;n(e[u]).next(d=>{o[u]=d,++a,a===i&&r(o)},d=>s(d))}})}static doWhile(e,n){return new z((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}function B3(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function za(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ff{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}ff.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sv=-1;function pf(t){return t==null}function th(t){return t===0&&1/t==-1/0}function H3(t){return typeof t=="number"&&Number.isInteger(t)&&!th(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aC="";function W3(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=GE(e)),e=q3(t.get(n),e);return GE(e)}function q3(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const i=t.charAt(s);switch(i){case"\0":n+="";break;case aC:n+="";break;default:n+=i}}return n}function GE(t){return t+aC+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KE(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ao(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function lC(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class We{constructor(e,n){this.comparator=e,this.root=n||wt.EMPTY}insert(e,n){return new We(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,wt.BLACK,null,null))}remove(e){return new We(this.comparator,this.root.remove(e,this.comparator).copy(null,null,wt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ou(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ou(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ou(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ou(this.root,e,this.comparator,!0)}}class Ou{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class wt{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??wt.RED,this.left=s??wt.EMPTY,this.right=i??wt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new wt(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return wt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return wt.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,wt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,wt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw re(43730,{key:this.key,value:this.value});if(this.right.isRed())throw re(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw re(27949);return e+(this.isRed()?0:1)}}wt.EMPTY=null,wt.RED=!0,wt.BLACK=!1;wt.EMPTY=new class{constructor(){this.size=0}get key(){throw re(57766)}get value(){throw re(16141)}get color(){throw re(16727)}get left(){throw re(29726)}get right(){throw re(36894)}copy(e,n,r,s,i){return this}insert(e,n,r){return new wt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ut{constructor(e){this.comparator=e,this.data=new We(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new QE(this.data.getIterator())}getIteratorFrom(e){return new QE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof ut)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new ut(this.comparator);return n.data=e,n}}class QE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bn{constructor(e){this.fields=e,e.sort(_t.comparator)}static empty(){return new Bn([])}unionWith(e){let n=new ut(_t.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Bn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return xa(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cC extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new cC("Invalid base64 string: "+i):i}}(e);return new Tt(n)}static fromUint8Array(e){const n=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(e);return new Tt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ve(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Tt.EMPTY_BYTE_STRING=new Tt("");const G3=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function si(t){if(Ce(!!t,39018),typeof t=="string"){let e=0;const n=G3.exec(t);if(Ce(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ye(t.seconds),nanos:Ye(t.nanos)}}function Ye(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ii(t){return typeof t=="string"?Tt.fromBase64String(t):Tt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uC="server_timestamp",dC="__type__",hC="__previous_value__",fC="__local_write_time__";function bv(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[dC])==null?void 0:r.stringValue)===uC}function mf(t){const e=t.mapValue.fields[hC];return bv(e)?mf(e):e}function gc(t){const e=si(t.mapValue.fields[fC].timestampValue);return new Ie(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K3{constructor(e,n,r,s,i,o,a,l,u,d,h){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u,this.isUsingEmulator=d,this.apiKey=h}}const nh="(default)";class yc{constructor(e,n){this.projectId=e,this.database=n||nh}static empty(){return new yc("","")}get isDefaultDatabase(){return this.database===nh}isEqual(e){return e instanceof yc&&e.projectId===this.projectId&&e.database===this.database}}function Q3(t,e){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new K($.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new yc(t.options.projectId,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pC="__type__",mC="__max__",Lu={mapValue:{fields:{__type__:{stringValue:mC}}}},gC="__vector__",rh="value";function oi(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?bv(t)?4:X3(t)?9007199254740991:Y3(t)?10:11:re(28295,{value:t})}function Rr(t,e){if(t===e)return!0;const n=oi(t);if(n!==oi(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return gc(t).isEqual(gc(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=si(s.timestampValue),a=si(i.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return ii(s.bytesValue).isEqual(ii(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return Ye(s.geoPointValue.latitude)===Ye(i.geoPointValue.latitude)&&Ye(s.geoPointValue.longitude)===Ye(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return Ye(s.integerValue)===Ye(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=Ye(s.doubleValue),a=Ye(i.doubleValue);return o===a?th(o)===th(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return xa(t.arrayValue.values||[],e.arrayValue.values||[],Rr);case 10:case 11:return function(s,i){const o=s.mapValue.fields||{},a=i.mapValue.fields||{};if(KE(o)!==KE(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!Rr(o[l],a[l])))return!1;return!0}(t,e);default:return re(52216,{left:t})}}function vc(t,e){return(t.values||[]).find(n=>Rr(n,e))!==void 0}function Ta(t,e){if(t===e)return 0;const n=oi(t),r=oi(e);if(n!==r)return ve(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ve(t.booleanValue,e.booleanValue);case 2:return function(i,o){const a=Ye(i.integerValue||i.doubleValue),l=Ye(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return YE(t.timestampValue,e.timestampValue);case 4:return YE(gc(t),gc(e));case 5:return Rg(t.stringValue,e.stringValue);case 6:return function(i,o){const a=ii(i),l=ii(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const a=i.split("/"),l=o.split("/");for(let u=0;u<a.length&&u<l.length;u++){const d=ve(a[u],l[u]);if(d!==0)return d}return ve(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const a=ve(Ye(i.latitude),Ye(o.latitude));return a!==0?a:ve(Ye(i.longitude),Ye(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return XE(t.arrayValue,e.arrayValue);case 10:return function(i,o){var p,g,T,v;const a=i.fields||{},l=o.fields||{},u=(p=a[rh])==null?void 0:p.arrayValue,d=(g=l[rh])==null?void 0:g.arrayValue,h=ve(((T=u==null?void 0:u.values)==null?void 0:T.length)||0,((v=d==null?void 0:d.values)==null?void 0:v.length)||0);return h!==0?h:XE(u,d)}(t.mapValue,e.mapValue);case 11:return function(i,o){if(i===Lu.mapValue&&o===Lu.mapValue)return 0;if(i===Lu.mapValue)return 1;if(o===Lu.mapValue)return-1;const a=i.fields||{},l=Object.keys(a),u=o.fields||{},d=Object.keys(u);l.sort(),d.sort();for(let h=0;h<l.length&&h<d.length;++h){const p=Rg(l[h],d[h]);if(p!==0)return p;const g=Ta(a[l[h]],u[d[h]]);if(g!==0)return g}return ve(l.length,d.length)}(t.mapValue,e.mapValue);default:throw re(23264,{he:n})}}function YE(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ve(t,e);const n=si(t),r=si(e),s=ve(n.seconds,r.seconds);return s!==0?s:ve(n.nanos,r.nanos)}function XE(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=Ta(n[s],r[s]);if(i)return i}return ve(n.length,r.length)}function Sa(t){return Pg(t)}function Pg(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=si(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return ii(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return te.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=Pg(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${Pg(n.fields[o])}`;return s+"}"}(t.mapValue):re(61005,{value:t})}function ld(t){switch(oi(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=mf(t);return e?16+ld(e):16;case 5:return 2*t.stringValue.length;case 6:return ii(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,i)=>s+ld(i),0)}(t.arrayValue);case 10:case 11:return function(r){let s=0;return ao(r.fields,(i,o)=>{s+=i.length+ld(o)}),s}(t.mapValue);default:throw re(13486,{value:t})}}function JE(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function kg(t){return!!t&&"integerValue"in t}function Iv(t){return!!t&&"arrayValue"in t}function ZE(t){return!!t&&"nullValue"in t}function e1(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function cd(t){return!!t&&"mapValue"in t}function Y3(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[pC])==null?void 0:r.stringValue)===gC}function Fl(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return ao(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Fl(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Fl(t.arrayValue.values[n]);return e}return{...t}}function X3(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===mC}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tn{constructor(e){this.value=e}static empty(){return new Tn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!cd(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Fl(n)}setAll(e){let n=_t.emptyPath(),r={},s=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,s),r={},s=[],n=a.popLast()}o?r[a.lastSegment()]=Fl(o):s.push(a.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());cd(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Rr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];cd(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){ao(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new Tn(Fl(this.value))}}function yC(t){const e=[];return ao(t.fields,(n,r)=>{const s=new _t([n]);if(cd(r)){const i=yC(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)}),new Bn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kt{constructor(e,n,r,s,i,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new kt(e,0,le.min(),le.min(),le.min(),Tn.empty(),0)}static newFoundDocument(e,n,r,s){return new kt(e,1,n,le.min(),r,s,0)}static newNoDocument(e,n){return new kt(e,2,n,le.min(),le.min(),Tn.empty(),0)}static newUnknownDocument(e,n){return new kt(e,3,n,le.min(),le.min(),Tn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(le.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Tn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Tn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=le.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof kt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new kt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sh{constructor(e,n){this.position=e,this.inclusive=n}}function t1(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=te.comparator(te.fromName(o.referenceValue),n.key):r=Ta(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function n1(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Rr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wc{constructor(e,n="asc"){this.field=e,this.dir=n}}function J3(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vC{}class rt extends vC{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new e5(e,n,r):n==="array-contains"?new r5(e,r):n==="in"?new s5(e,r):n==="not-in"?new i5(e,r):n==="array-contains-any"?new o5(e,r):new rt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new t5(e,r):new n5(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Ta(n,this.value)):n!==null&&oi(this.value)===oi(n)&&this.matchesComparison(Ta(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return re(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class er extends vC{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new er(e,n)}matches(e){return wC(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function wC(t){return t.op==="and"}function _C(t){return Z3(t)&&wC(t)}function Z3(t){for(const e of t.filters)if(e instanceof er)return!1;return!0}function Ng(t){if(t instanceof rt)return t.field.canonicalString()+t.op.toString()+Sa(t.value);if(_C(t))return t.filters.map(e=>Ng(e)).join(",");{const e=t.filters.map(n=>Ng(n)).join(",");return`${t.op}(${e})`}}function EC(t,e){return t instanceof rt?function(r,s){return s instanceof rt&&r.op===s.op&&r.field.isEqual(s.field)&&Rr(r.value,s.value)}(t,e):t instanceof er?function(r,s){return s instanceof er&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,o,a)=>i&&EC(o,s.filters[a]),!0):!1}(t,e):void re(19439)}function xC(t){return t instanceof rt?function(n){return`${n.field.canonicalString()} ${n.op} ${Sa(n.value)}`}(t):t instanceof er?function(n){return n.op.toString()+" {"+n.getFilters().map(xC).join(" ,")+"}"}(t):"Filter"}class e5 extends rt{constructor(e,n,r){super(e,n,r),this.key=te.fromName(r.referenceValue)}matches(e){const n=te.comparator(e.key,this.key);return this.matchesComparison(n)}}class t5 extends rt{constructor(e,n){super(e,"in",n),this.keys=TC("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class n5 extends rt{constructor(e,n){super(e,"not-in",n),this.keys=TC("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function TC(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map(r=>te.fromName(r.referenceValue))}class r5 extends rt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Iv(n)&&vc(n.arrayValue,this.value)}}class s5 extends rt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&vc(this.value.arrayValue,n)}}class i5 extends rt{constructor(e,n){super(e,"not-in",n)}matches(e){if(vc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!vc(this.value.arrayValue,n)}}class o5 extends rt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Iv(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>vc(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a5{constructor(e,n=null,r=[],s=[],i=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=a,this.Te=null}}function r1(t,e=null,n=[],r=[],s=null,i=null,o=null){return new a5(t,e,n,r,s,i,o)}function Cv(t){const e=ue(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Ng(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),pf(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Sa(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Sa(r)).join(",")),e.Te=n}return e.Te}function Av(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!J3(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!EC(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!n1(t.startAt,e.startAt)&&n1(t.endAt,e.endAt)}function Dg(t){return te.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ba{constructor(e,n=null,r=[],s=[],i=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=l,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function l5(t,e,n,r,s,i,o,a){return new Ba(t,e,n,r,s,i,o,a)}function gf(t){return new Ba(t)}function s1(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function c5(t){return te.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function SC(t){return t.collectionGroup!==null}function Ul(t){const e=ue(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const i of e.explicitOrderBy)e.Ie.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new ut(_t.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.Ie.push(new wc(i,r))}),n.has(_t.keyField().canonicalString())||e.Ie.push(new wc(_t.keyField(),r))}return e.Ie}function xr(t){const e=ue(t);return e.Ee||(e.Ee=u5(e,Ul(t))),e.Ee}function u5(t,e){if(t.limitType==="F")return r1(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new wc(s.field,i)});const n=t.endAt?new sh(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new sh(t.startAt.position,t.startAt.inclusive):null;return r1(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Mg(t,e){const n=t.filters.concat([e]);return new Ba(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function d5(t,e){const n=t.explicitOrderBy.concat([e]);return new Ba(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}function ih(t,e,n){return new Ba(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function yf(t,e){return Av(xr(t),xr(e))&&t.limitType===e.limitType}function bC(t){return`${Cv(xr(t))}|lt:${t.limitType}`}function So(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>xC(s)).join(", ")}]`),pf(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>Sa(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>Sa(s)).join(",")),`Target(${r})`}(xr(t))}; limitType=${t.limitType})`}function vf(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):te.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of Ul(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(o,a,l){const u=t1(o,a,l);return o.inclusive?u<=0:u<0}(r.startAt,Ul(r),s)||r.endAt&&!function(o,a,l){const u=t1(o,a,l);return o.inclusive?u>=0:u>0}(r.endAt,Ul(r),s))}(t,e)}function h5(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function IC(t){return(e,n)=>{let r=!1;for(const s of Ul(t)){const i=f5(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function f5(t,e,n){const r=t.field.isKeyField()?te.comparator(e.key,n.key):function(i,o,a){const l=o.data.field(i),u=a.data.field(i);return l!==null&&u!==null?Ta(l,u):re(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return re(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lo{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){ao(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return lC(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p5=new We(te.comparator);function ns(){return p5}const CC=new We(te.comparator);function Sl(...t){let e=CC;for(const n of t)e=e.insert(n.key,n);return e}function AC(t){let e=CC;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Ai(){return $l()}function RC(){return $l()}function $l(){return new lo(t=>t.toString(),(t,e)=>t.isEqual(e))}const m5=new We(te.comparator),g5=new ut(te.comparator);function we(...t){let e=g5;for(const n of t)e=e.add(n);return e}const y5=new ut(ve);function v5(){return y5}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rv(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:th(e)?"-0":e}}function PC(t){return{integerValue:""+t}}function kC(t,e){return H3(e)?PC(e):Rv(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wf{constructor(){this._=void 0}}function w5(t,e,n){return t instanceof _c?function(s,i){const o={fields:{[dC]:{stringValue:uC},[fC]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&bv(i)&&(i=mf(i)),i&&(o.fields[hC]=i),{mapValue:o}}(n,e):t instanceof Ec?DC(t,e):t instanceof xc?MC(t,e):function(s,i){const o=NC(s,i),a=i1(o)+i1(s.Ae);return kg(o)&&kg(s.Ae)?PC(a):Rv(s.serializer,a)}(t,e)}function _5(t,e,n){return t instanceof Ec?DC(t,e):t instanceof xc?MC(t,e):n}function NC(t,e){return t instanceof Tc?function(r){return kg(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class _c extends wf{}class Ec extends wf{constructor(e){super(),this.elements=e}}function DC(t,e){const n=OC(e);for(const r of t.elements)n.some(s=>Rr(s,r))||n.push(r);return{arrayValue:{values:n}}}class xc extends wf{constructor(e){super(),this.elements=e}}function MC(t,e){let n=OC(e);for(const r of t.elements)n=n.filter(s=>!Rr(s,r));return{arrayValue:{values:n}}}class Tc extends wf{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function i1(t){return Ye(t.integerValue||t.doubleValue)}function OC(t){return Iv(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LC{constructor(e,n){this.field=e,this.transform=n}}function E5(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof Ec&&s instanceof Ec||r instanceof xc&&s instanceof xc?xa(r.elements,s.elements,Rr):r instanceof Tc&&s instanceof Tc?Rr(r.Ae,s.Ae):r instanceof _c&&s instanceof _c}(t.transform,e.transform)}class x5{constructor(e,n){this.version=e,this.transformResults=n}}class Tr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Tr}static exists(e){return new Tr(void 0,e)}static updateTime(e){return new Tr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ud(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class _f{}function VC(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new FC(t.key,Tr.none()):new $c(t.key,t.data,Tr.none());{const n=t.data,r=Tn.empty();let s=new ut(_t.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new co(t.key,r,new Bn(s.toArray()),Tr.none())}}function T5(t,e,n){t instanceof $c?function(s,i,o){const a=s.value.clone(),l=a1(s.fieldTransforms,i,o.transformResults);a.setAll(l),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof co?function(s,i,o){if(!ud(s.precondition,i))return void i.convertToUnknownDocument(o.version);const a=a1(s.fieldTransforms,i,o.transformResults),l=i.data;l.setAll(jC(s)),l.setAll(a),i.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function zl(t,e,n,r){return t instanceof $c?function(i,o,a,l){if(!ud(i.precondition,o))return a;const u=i.value.clone(),d=l1(i.fieldTransforms,l,o);return u.setAll(d),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof co?function(i,o,a,l){if(!ud(i.precondition,o))return a;const u=l1(i.fieldTransforms,l,o),d=o.data;return d.setAll(jC(i)),d.setAll(u),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),a===null?null:a.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(h=>h.field))}(t,e,n,r):function(i,o,a){return ud(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function S5(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=NC(r.transform,s||null);i!=null&&(n===null&&(n=Tn.empty()),n.set(r.field,i))}return n||null}function o1(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&xa(r,s,(i,o)=>E5(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class $c extends _f{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class co extends _f{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function jC(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function a1(t,e,n){const r=new Map;Ce(t.length===n.length,32656,{Ve:n.length,de:t.length});for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,a=e.data.field(i.field);r.set(i.field,_5(o,a,n[s]))}return r}function l1(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,w5(i,o,e))}return r}class FC extends _f{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class b5 extends _f{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I5{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&T5(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=zl(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=zl(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=RC();return this.mutations.forEach(s=>{const i=e.get(s.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=n.has(s.key)?null:a;const l=VC(o,a);l!==null&&r.set(s.key,l),o.isValidDocument()||o.convertToNoDocument(le.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),we())}isEqual(e){return this.batchId===e.batchId&&xa(this.mutations,e.mutations,(n,r)=>o1(n,r))&&xa(this.baseMutations,e.baseMutations,(n,r)=>o1(n,r))}}class Pv{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){Ce(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let s=function(){return m5}();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new Pv(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let C5=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A5{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var et,Ee;function R5(t){switch(t){case $.OK:return re(64938);case $.CANCELLED:case $.UNKNOWN:case $.DEADLINE_EXCEEDED:case $.RESOURCE_EXHAUSTED:case $.INTERNAL:case $.UNAVAILABLE:case $.UNAUTHENTICATED:return!1;case $.INVALID_ARGUMENT:case $.NOT_FOUND:case $.ALREADY_EXISTS:case $.PERMISSION_DENIED:case $.FAILED_PRECONDITION:case $.ABORTED:case $.OUT_OF_RANGE:case $.UNIMPLEMENTED:case $.DATA_LOSS:return!0;default:return re(15467,{code:t})}}function UC(t){if(t===void 0)return ts("GRPC error has no .code"),$.UNKNOWN;switch(t){case et.OK:return $.OK;case et.CANCELLED:return $.CANCELLED;case et.UNKNOWN:return $.UNKNOWN;case et.DEADLINE_EXCEEDED:return $.DEADLINE_EXCEEDED;case et.RESOURCE_EXHAUSTED:return $.RESOURCE_EXHAUSTED;case et.INTERNAL:return $.INTERNAL;case et.UNAVAILABLE:return $.UNAVAILABLE;case et.UNAUTHENTICATED:return $.UNAUTHENTICATED;case et.INVALID_ARGUMENT:return $.INVALID_ARGUMENT;case et.NOT_FOUND:return $.NOT_FOUND;case et.ALREADY_EXISTS:return $.ALREADY_EXISTS;case et.PERMISSION_DENIED:return $.PERMISSION_DENIED;case et.FAILED_PRECONDITION:return $.FAILED_PRECONDITION;case et.ABORTED:return $.ABORTED;case et.OUT_OF_RANGE:return $.OUT_OF_RANGE;case et.UNIMPLEMENTED:return $.UNIMPLEMENTED;case et.DATA_LOSS:return $.DATA_LOSS;default:return re(39323,{code:t})}}(Ee=et||(et={}))[Ee.OK=0]="OK",Ee[Ee.CANCELLED=1]="CANCELLED",Ee[Ee.UNKNOWN=2]="UNKNOWN",Ee[Ee.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ee[Ee.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ee[Ee.NOT_FOUND=5]="NOT_FOUND",Ee[Ee.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ee[Ee.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ee[Ee.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ee[Ee.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ee[Ee.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ee[Ee.ABORTED=10]="ABORTED",Ee[Ee.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ee[Ee.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ee[Ee.INTERNAL=13]="INTERNAL",Ee[Ee.UNAVAILABLE=14]="UNAVAILABLE",Ee[Ee.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P5(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k5=new Qs([4294967295,4294967295],0);function c1(t){const e=P5().encode(t),n=new XI;return n.update(e),new Uint8Array(n.digest())}function u1(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new Qs([n,r],0),new Qs([s,i],0)]}class kv{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new bl(`Invalid padding: ${n}`);if(r<0)throw new bl(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new bl(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new bl(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Qs.fromNumber(this.ge)}ye(e,n,r){let s=e.add(n.multiply(Qs.fromNumber(r)));return s.compare(k5)===1&&(s=new Qs([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=c1(e),[r,s]=u1(n);for(let i=0;i<this.hashCount;i++){const o=this.ye(r,s,i);if(!this.we(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new kv(i,s,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.ge===0)return;const n=c1(e),[r,s]=u1(n);for(let i=0;i<this.hashCount;i++){const o=this.ye(r,s,i);this.be(o)}}be(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class bl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ef{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,zc.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Ef(le.min(),s,new We(ve),ns(),we())}}class zc{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new zc(r,n,we(),we(),we())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dd{constructor(e,n,r,s){this.Se=e,this.removedTargetIds=n,this.key=r,this.De=s}}class $C{constructor(e,n){this.targetId=e,this.Ce=n}}class zC{constructor(e,n,r=Tt.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class d1{constructor(){this.ve=0,this.Fe=h1(),this.Me=Tt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=we(),n=we(),r=we();return this.Fe.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:re(38017,{changeType:i})}}),new zc(this.Me,this.xe,e,n,r)}Ke(){this.Oe=!1,this.Fe=h1()}qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,Ce(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class N5{constructor(e){this.Ge=e,this.ze=new Map,this.je=ns(),this.He=Vu(),this.Je=Vu(),this.Ze=new We(ve)}Xe(e){for(const n of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.We(),r.Ne||r.Ke(),r.Le(e.resumeToken);break;case 2:r.We(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.Qe(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:re(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((r,s)=>{this.rt(s)&&n(s)})}st(e){const n=e.targetId,r=e.Ce.count,s=this.ot(n);if(s){const i=s.target;if(Dg(i))if(r===0){const o=new te(i.path);this.et(n,o,kt.newNoDocument(o,le.min()))}else Ce(r===1,20013,{expectedCount:r});else{const o=this._t(n);if(o!==r){const a=this.ut(e),l=a?this.ct(a,e,o):1;if(l!==0){this.it(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,u)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,a;try{o=ii(r).toUint8Array()}catch(l){if(l instanceof cC)return Yi("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new kv(o,s,i)}catch(l){return Yi(l instanceof bl?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.ge===0?null:a}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const o=this.Ge.ht(),a=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(a)||(this.et(n,i,null),s++)}),s}Tt(e){const n=new Map;this.ze.forEach((i,o)=>{const a=this.ot(o);if(a){if(i.current&&Dg(a.target)){const l=new te(a.target.path);this.It(l).has(o)||this.Et(o,l)||this.et(o,l,kt.newNoDocument(l,e))}i.Be&&(n.set(o,i.ke()),i.Ke())}});let r=we();this.Je.forEach((i,o)=>{let a=!0;o.forEachWhile(l=>{const u=this.ot(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(i))}),this.je.forEach((i,o)=>o.setReadTime(e));const s=new Ef(e,n,this.Ze,this.je,r);return this.je=ns(),this.He=Vu(),this.Je=Vu(),this.Ze=new We(ve),s}Ye(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).qe(n.key,r),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(e)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const s=this.nt(e);this.Et(e,n)?s.qe(n,1):s.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(e)),this.Je=this.Je.insert(n,this.Rt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let n=this.ze.get(e);return n||(n=new d1,this.ze.set(e,n)),n}Rt(e){let n=this.Je.get(e);return n||(n=new ut(ve),this.Je=this.Je.insert(e,n)),n}It(e){let n=this.He.get(e);return n||(n=new ut(ve),this.He=this.He.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||Q("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new d1),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Vu(){return new We(te.comparator)}function h1(){return new We(te.comparator)}const D5={asc:"ASCENDING",desc:"DESCENDING"},M5={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},O5={and:"AND",or:"OR"};class L5{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Og(t,e){return t.useProto3Json||pf(e)?e:{value:e}}function oh(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function BC(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function V5(t,e){return oh(t,e.toTimestamp())}function Sr(t){return Ce(!!t,49232),le.fromTimestamp(function(n){const r=si(n);return new Ie(r.seconds,r.nanos)}(t))}function Nv(t,e){return Lg(t,e).canonicalString()}function Lg(t,e){const n=function(s){return new Me(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function HC(t){const e=Me.fromString(t);return Ce(QC(e),10190,{key:e.toString()}),e}function Vg(t,e){return Nv(t.databaseId,e.path)}function Qp(t,e){const n=HC(e);if(n.get(1)!==t.databaseId.projectId)throw new K($.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new K($.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new te(qC(n))}function WC(t,e){return Nv(t.databaseId,e)}function j5(t){const e=HC(t);return e.length===4?Me.emptyPath():qC(e)}function jg(t){return new Me(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function qC(t){return Ce(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function f1(t,e,n){return{name:Vg(t,e),fields:n.value.mapValue.fields}}function F5(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:re(39313,{state:u})}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(u,d){return u.useProto3Json?(Ce(d===void 0||typeof d=="string",58123),Tt.fromBase64String(d||"")):(Ce(d===void 0||d instanceof Buffer||d instanceof Uint8Array,16193),Tt.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const d=u.code===void 0?$.UNKNOWN:UC(u.code);return new K(d,u.message||"")}(o);n=new zC(r,s,i,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=Qp(t,r.document.name),i=Sr(r.document.updateTime),o=r.document.createTime?Sr(r.document.createTime):le.min(),a=new Tn({mapValue:{fields:r.document.fields}}),l=kt.newFoundDocument(s,i,o,a),u=r.targetIds||[],d=r.removedTargetIds||[];n=new dd(u,d,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=Qp(t,r.document),i=r.readTime?Sr(r.readTime):le.min(),o=kt.newNoDocument(s,i),a=r.removedTargetIds||[];n=new dd([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=Qp(t,r.document),i=r.removedTargetIds||[];n=new dd([],i,s,null)}else{if(!("filter"in e))return re(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new A5(s,i),a=r.targetId;n=new $C(a,o)}}return n}function U5(t,e){let n;if(e instanceof $c)n={update:f1(t,e.key,e.value)};else if(e instanceof FC)n={delete:Vg(t,e.key)};else if(e instanceof co)n={update:f1(t,e.key,e.data),updateMask:Q5(e.fieldMask)};else{if(!(e instanceof b5))return re(16599,{dt:e.type});n={verify:Vg(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const a=o.transform;if(a instanceof _c)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Ec)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof xc)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Tc)return{fieldPath:o.field.canonicalString(),increment:a.Ae};throw re(20930,{transform:o.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:V5(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:re(27497)}(t,e.precondition)),n}function $5(t,e){return t&&t.length>0?(Ce(e!==void 0,14353),t.map(n=>function(s,i){let o=s.updateTime?Sr(s.updateTime):Sr(i);return o.isEqual(le.min())&&(o=Sr(i)),new x5(o,s.transformResults||[])}(n,e))):[]}function z5(t,e){return{documents:[WC(t,e.path)]}}function B5(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=WC(t,s);const i=function(u){if(u.length!==0)return KC(er.create(u,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(u){if(u.length!==0)return u.map(d=>function(p){return{field:bo(p.field),direction:q5(p.dir)}}(d))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=Og(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{ft:n,parent:s}}function H5(t){let e=j5(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){Ce(r===1,65062);const d=n.from[0];d.allDescendants?s=d.collectionId:e=e.child(d.collectionId)}let i=[];n.where&&(i=function(h){const p=GC(h);return p instanceof er&&_C(p)?p.getFilters():[p]}(n.where));let o=[];n.orderBy&&(o=function(h){return h.map(p=>function(T){return new wc(Io(T.field),function(x){switch(x){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(T.direction))}(p))}(n.orderBy));let a=null;n.limit&&(a=function(h){let p;return p=typeof h=="object"?h.value:h,pf(p)?null:p}(n.limit));let l=null;n.startAt&&(l=function(h){const p=!!h.before,g=h.values||[];return new sh(g,p)}(n.startAt));let u=null;return n.endAt&&(u=function(h){const p=!h.before,g=h.values||[];return new sh(g,p)}(n.endAt)),l5(e,s,o,i,a,"F",l,u)}function W5(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return re(28987,{purpose:s})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function GC(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Io(n.unaryFilter.field);return rt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=Io(n.unaryFilter.field);return rt.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Io(n.unaryFilter.field);return rt.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Io(n.unaryFilter.field);return rt.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return re(61313);default:return re(60726)}}(t):t.fieldFilter!==void 0?function(n){return rt.create(Io(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return re(58110);default:return re(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return er.create(n.compositeFilter.filters.map(r=>GC(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return re(1026)}}(n.compositeFilter.op))}(t):re(30097,{filter:t})}function q5(t){return D5[t]}function G5(t){return M5[t]}function K5(t){return O5[t]}function bo(t){return{fieldPath:t.canonicalString()}}function Io(t){return _t.fromServerFormat(t.fieldPath)}function KC(t){return t instanceof rt?function(n){if(n.op==="=="){if(e1(n.value))return{unaryFilter:{field:bo(n.field),op:"IS_NAN"}};if(ZE(n.value))return{unaryFilter:{field:bo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(e1(n.value))return{unaryFilter:{field:bo(n.field),op:"IS_NOT_NAN"}};if(ZE(n.value))return{unaryFilter:{field:bo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:bo(n.field),op:G5(n.op),value:n.value}}}(t):t instanceof er?function(n){const r=n.getFilters().map(s=>KC(s));return r.length===1?r[0]:{compositeFilter:{op:K5(n.op),filters:r}}}(t):re(54877,{filter:t})}function Q5(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function QC(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}function YC(t){return!!t&&typeof t._toProto=="function"&&t._protoValueType==="ProtoValue"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class js{constructor(e,n,r,s,i=le.min(),o=le.min(),a=Tt.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new js(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new js(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new js(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new js(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y5{constructor(e){this.yt=e}}function X5(t){const e=H5({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?ih(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J5{constructor(){this.Sn=new Z5}addToCollectionParentIndex(e,n){return this.Sn.add(n),z.resolve()}getCollectionParents(e,n){return z.resolve(this.Sn.getEntries(n))}addFieldIndex(e,n){return z.resolve()}deleteFieldIndex(e,n){return z.resolve()}deleteAllFieldIndexes(e){return z.resolve()}createTargetIndexes(e,n){return z.resolve()}getDocumentsMatchingTarget(e,n){return z.resolve(null)}getIndexType(e,n){return z.resolve(0)}getFieldIndexes(e,n){return z.resolve([])}getNextCollectionGroupToUpdate(e){return z.resolve(null)}getMinOffset(e,n){return z.resolve(ri.min())}getMinOffsetFromCollectionGroup(e,n){return z.resolve(ri.min())}updateCollectionGroup(e,n,r){return z.resolve()}updateIndexEntries(e,n){return z.resolve()}}class Z5{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new ut(Me.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new ut(Me.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p1={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},XC=41943040;class Gt{static withCacheSize(e){return new Gt(e,Gt.DEFAULT_COLLECTION_PERCENTILE,Gt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Gt.DEFAULT_COLLECTION_PERCENTILE=10,Gt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Gt.DEFAULT=new Gt(XC,Gt.DEFAULT_COLLECTION_PERCENTILE,Gt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Gt.DISABLED=new Gt(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ba{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new ba(0)}static ar(){return new ba(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m1="LruGarbageCollector",e6=1048576;function g1([t,e],[n,r]){const s=ve(t,n);return s===0?ve(e,r):s}class t6{constructor(e){this.Pr=e,this.buffer=new ut(g1),this.Tr=0}Ir(){return++this.Tr}Er(e){const n=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();g1(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class n6{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){Q(m1,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){za(n)?Q(m1,"Ignoring IndexedDB error during garbage collection: ",n):await $a(n)}await this.Ar(3e5)})}}class r6{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.dr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return z.resolve(ff.ce);const r=new t6(n);return this.Vr.forEachTarget(e,s=>r.Er(s.sequenceNumber)).next(()=>this.Vr.mr(e,s=>r.Er(s))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Vr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Q("LruGarbageCollector","Garbage collection skipped; disabled"),z.resolve(p1)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Q("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),p1):this.gr(e,n))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,n){let r,s,i,o,a,l,u;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(h=>(h>this.params.maximumSequenceNumbersToCollect?(Q("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${h}`),s=this.params.maximumSequenceNumbersToCollect):s=h,o=Date.now(),this.nthSequenceNumber(e,s))).next(h=>(r=h,a=Date.now(),this.removeTargets(e,r,n))).next(h=>(i=h,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(h=>(u=Date.now(),To()<=ye.DEBUG&&Q("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-d}ms
	Determined least recently used ${s} in `+(a-o)+`ms
	Removed ${i} targets in `+(l-a)+`ms
	Removed ${h} documents in `+(u-l)+`ms
Total Duration: ${u-d}ms`),z.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:i,documentsRemoved:h})))}}function s6(t,e){return new r6(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i6{constructor(){this.changes=new lo(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,kt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?z.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o6{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a6{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&zl(r.mutation,s,Bn.empty(),Ie.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,we()).next(()=>r))}getLocalViewOfDocuments(e,n,r=we()){const s=Ai();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let o=Sl();return i.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Ai();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,we()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,s){let i=ns();const o=$l(),a=function(){return $l()}();return n.forEach((l,u)=>{const d=r.get(u.key);s.has(u.key)&&(d===void 0||d.mutation instanceof co)?i=i.insert(u.key,u):d!==void 0?(o.set(u.key,d.mutation.getFieldMask()),zl(d.mutation,u,d.mutation.getFieldMask(),Ie.now())):o.set(u.key,Bn.empty())}),this.recalculateAndSaveOverlays(e,i).next(l=>(l.forEach((u,d)=>o.set(u,d)),n.forEach((u,d)=>a.set(u,new o6(d,o.get(u)??null))),a))}recalculateAndSaveOverlays(e,n){const r=$l();let s=new We((o,a)=>o-a),i=we();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let d=r.get(l)||Bn.empty();d=a.applyToLocalView(u,d),r.set(l,d);const h=(s.get(a.batchId)||we()).add(l);s=s.insert(a.batchId,h)})}).next(()=>{const o=[],a=s.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,d=l.value,h=RC();d.forEach(p=>{if(!i.has(p)){const g=VC(n.get(p),r.get(p));g!==null&&h.set(p,g),i=i.add(p)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,h))}return z.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return c5(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):SC(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):z.resolve(Ai());let a=mc,l=i;return o.next(u=>z.forEach(u,(d,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),i.get(d)?z.resolve():this.remoteDocumentCache.getEntry(e,d).next(p=>{l=l.insert(d,p)}))).next(()=>this.populateOverlays(e,u,i)).next(()=>this.computeViews(e,l,u,we())).next(d=>({batchId:a,changes:AC(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new te(n)).next(r=>{let s=Sl();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let o=Sl();return this.indexManager.getCollectionParents(e,i).next(a=>z.forEach(a,l=>{const u=function(h,p){return new Ba(p,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,l.child(i));return this.getDocumentsMatchingCollectionQuery(e,u,r,s).next(d=>{d.forEach((h,p)=>{o=o.insert(h,p)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(o=>{i.forEach((l,u)=>{const d=u.getKey();o.get(d)===null&&(o=o.insert(d,kt.newInvalidDocument(d)))});let a=Sl();return o.forEach((l,u)=>{const d=i.get(l);d!==void 0&&zl(d.mutation,u,Bn.empty(),Ie.now()),vf(n,u)&&(a=a.insert(l,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l6{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,n){return z.resolve(this.Nr.get(n))}saveBundleMetadata(e,n){return this.Nr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:Sr(s.createTime)}}(n)),z.resolve()}getNamedQuery(e,n){return z.resolve(this.Br.get(n))}saveNamedQuery(e,n){return this.Br.set(n.name,function(s){return{name:s.name,query:X5(s.bundledQuery),readTime:Sr(s.readTime)}}(n)),z.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c6{constructor(){this.overlays=new We(te.comparator),this.Lr=new Map}getOverlay(e,n){return z.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Ai();return z.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.bt(e,n,i)}),z.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.Lr.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.Lr.delete(r)),z.resolve()}getOverlaysForCollection(e,n,r){const s=Ai(),i=n.length+1,o=new te(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===i&&l.largestBatchId>r&&s.set(l.getKey(),l)}return z.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new We((u,d)=>u-d);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let d=i.get(u.largestBatchId);d===null&&(d=Ai(),i=i.insert(u.largestBatchId,d)),d.set(u.getKey(),u)}}const a=Ai(),l=i.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,d)=>a.set(u,d)),!(a.size()>=s)););return z.resolve(a)}bt(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.Lr.get(s.largestBatchId).delete(r.key);this.Lr.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new C5(n,r));let i=this.Lr.get(n);i===void 0&&(i=we(),this.Lr.set(n,i)),this.Lr.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u6{constructor(){this.sessionToken=Tt.EMPTY_BYTE_STRING}getSessionToken(e){return z.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,z.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dv{constructor(){this.kr=new ut(pt.Kr),this.qr=new ut(pt.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,n){const r=new pt(e,n);this.kr=this.kr.add(r),this.qr=this.qr.add(r)}$r(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Wr(new pt(e,n))}Qr(e,n){e.forEach(r=>this.removeReference(r,n))}Gr(e){const n=new te(new Me([])),r=new pt(n,e),s=new pt(n,e+1),i=[];return this.qr.forEachInRange([r,s],o=>{this.Wr(o),i.push(o.key)}),i}zr(){this.kr.forEach(e=>this.Wr(e))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const n=new te(new Me([])),r=new pt(n,e),s=new pt(n,e+1);let i=we();return this.qr.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new pt(e,0),r=this.kr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class pt{constructor(e,n){this.key=e,this.Hr=n}static Kr(e,n){return te.comparator(e.key,n.key)||ve(e.Hr,n.Hr)}static Ur(e,n){return ve(e.Hr,n.Hr)||te.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d6{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new ut(pt.Kr)}checkEmpty(e){return z.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new I5(i,n,r,s);this.mutationQueue.push(o);for(const a of s)this.Jr=this.Jr.add(new pt(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return z.resolve(o)}lookupMutationBatch(e,n){return z.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.Xr(r),i=s<0?0:s;return z.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return z.resolve(this.mutationQueue.length===0?Sv:this.Yn-1)}getAllMutationBatches(e){return z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new pt(n,0),s=new pt(n,Number.POSITIVE_INFINITY),i=[];return this.Jr.forEachInRange([r,s],o=>{const a=this.Zr(o.Hr);i.push(a)}),z.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new ut(ve);return n.forEach(s=>{const i=new pt(s,0),o=new pt(s,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([i,o],a=>{r=r.add(a.Hr)})}),z.resolve(this.Yr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;te.isDocumentKey(i)||(i=i.child(""));const o=new pt(new te(i),0);let a=new ut(ve);return this.Jr.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===s&&(a=a.add(l.Hr)),!0)},o),z.resolve(this.Yr(a))}Yr(e){const n=[];return e.forEach(r=>{const s=this.Zr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){Ce(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Jr;return z.forEach(n.mutations,s=>{const i=new pt(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Jr=r})}nr(e){}containsKey(e,n){const r=new pt(n,0),s=this.Jr.firstAfterOrEqual(r);return z.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,z.resolve()}ei(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h6{constructor(e){this.ti=e,this.docs=function(){return new We(te.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.ti(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return z.resolve(r?r.document.mutableCopy():kt.newInvalidDocument(n))}getEntries(e,n){let r=ns();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():kt.newInvalidDocument(s))}),z.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=ns();const o=n.path,a=new te(o.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:d}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||U3(F3(d),r)<=0||(s.has(d.key)||vf(n,d))&&(i=i.insert(d.key,d.mutableCopy()))}return z.resolve(i)}getAllFromCollectionGroup(e,n,r,s){re(9500)}ni(e,n){return z.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new f6(this)}getSize(e){return z.resolve(this.size)}}class f6 extends i6{constructor(e){super(),this.Mr=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.Mr.addEntry(e,s)):this.Mr.removeEntry(r)}),z.waitFor(n)}getFromCache(e,n){return this.Mr.getEntry(e,n)}getAllFromCache(e,n){return this.Mr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p6{constructor(e){this.persistence=e,this.ri=new lo(n=>Cv(n),Av),this.lastRemoteSnapshotVersion=le.min(),this.highestTargetId=0,this.ii=0,this.si=new Dv,this.targetCount=0,this.oi=ba._r()}forEachTarget(e,n){return this.ri.forEach((r,s)=>n(s)),z.resolve()}getLastRemoteSnapshotVersion(e){return z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return z.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),z.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.ii&&(this.ii=n),z.resolve()}lr(e){this.ri.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.oi=new ba(n),this.highestTargetId=n),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,n){return this.lr(n),this.targetCount+=1,z.resolve()}updateTargetData(e,n){return this.lr(n),z.resolve()}removeTargetData(e,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,z.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.ri.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.ri.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),s++)}),z.waitFor(i).next(()=>s)}getTargetCount(e){return z.resolve(this.targetCount)}getTargetData(e,n){const r=this.ri.get(n)||null;return z.resolve(r)}addMatchingKeys(e,n,r){return this.si.$r(n,r),z.resolve()}removeMatchingKeys(e,n,r){this.si.Qr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),z.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this.si.Gr(n),z.resolve()}getMatchingKeysForTargetId(e,n){const r=this.si.jr(n);return z.resolve(r)}containsKey(e,n){return z.resolve(this.si.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JC{constructor(e,n){this._i={},this.overlays={},this.ai=new ff(0),this.ui=!1,this.ui=!0,this.ci=new u6,this.referenceDelegate=e(this),this.li=new p6(this),this.indexManager=new J5,this.remoteDocumentCache=function(s){return new h6(s)}(r=>this.referenceDelegate.hi(r)),this.serializer=new Y5(n),this.Pi=new l6(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new c6,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this._i[e.toKey()];return r||(r=new d6(n,this.referenceDelegate),this._i[e.toKey()]=r),r}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,n,r){Q("MemoryPersistence","Starting transaction:",e);const s=new m6(this.ai.next());return this.referenceDelegate.Ti(),r(s).next(i=>this.referenceDelegate.Ii(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Ei(e,n){return z.or(Object.values(this._i).map(r=>()=>r.containsKey(e,n)))}}class m6 extends z3{constructor(e){super(),this.currentSequenceNumber=e}}class Mv{constructor(e){this.persistence=e,this.Ri=new Dv,this.Ai=null}static Vi(e){return new Mv(e)}get di(){if(this.Ai)return this.Ai;throw re(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.di.delete(r.toString()),z.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.di.add(r.toString()),z.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),z.resolve()}removeTarget(e,n){this.Ri.Gr(n.targetId).forEach(s=>this.di.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.di.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}Ti(){this.Ai=new Set}Ii(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return z.forEach(this.di,r=>{const s=te.fromPath(r);return this.mi(e,s).next(i=>{i||n.removeEntry(s,le.min())})}).next(()=>(this.Ai=null,n.apply(e)))}updateLimboDocument(e,n){return this.mi(e,n).next(r=>{r?this.di.delete(n.toString()):this.di.add(n.toString())})}hi(e){return 0}mi(e,n){return z.or([()=>z.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class ah{constructor(e,n){this.persistence=e,this.fi=new lo(r=>W3(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=s6(this,n)}static Vi(e,n){return new ah(e,n)}Ti(){}Ii(e){return z.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(s=>r+s))}pr(e){let n=0;return this.mr(e,r=>{n++}).next(()=>n)}mr(e,n){return z.forEach(this.fi,(r,s)=>this.wr(e,r,s).next(i=>i?z.resolve():n(s)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),i=s.newChangeBuffer();return s.ni(e,o=>this.wr(e,o,n).next(a=>{a||(r++,i.removeEntry(o,le.min()))})).next(()=>i.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.fi.set(n,e.currentSequenceNumber),z.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.fi.set(r,e.currentSequenceNumber),z.resolve()}removeReference(e,n,r){return this.fi.set(r,e.currentSequenceNumber),z.resolve()}updateLimboDocument(e,n){return this.fi.set(n,e.currentSequenceNumber),z.resolve()}hi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=ld(e.data.value)),n}wr(e,n,r){return z.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.fi.get(n);return z.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ov{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.Ts=r,this.Is=s}static Es(e,n){let r=we(),s=we();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new Ov(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g6{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y6{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=function(){return aF()?8:B3(Dt())>0?6:4}()}initialize(e,n){this.fs=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.gs(e,n).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.ps(e,n,s,r).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new g6;return this.ys(e,n,o).next(a=>{if(i.result=a,this.As)return this.ws(e,n,o,a.size)})}).next(()=>i.result)}ws(e,n,r,s){return r.documentReadCount<this.Vs?(To()<=ye.DEBUG&&Q("QueryEngine","SDK will not create cache indexes for query:",So(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),z.resolve()):(To()<=ye.DEBUG&&Q("QueryEngine","Query:",So(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.ds*s?(To()<=ye.DEBUG&&Q("QueryEngine","The SDK decides to create cache indexes for query:",So(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,xr(n))):z.resolve())}gs(e,n){if(s1(n))return z.resolve(null);let r=xr(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=ih(n,null,"F"),r=xr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const o=we(...i);return this.fs.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.bs(n,a);return this.Ss(n,u,o,l.readTime)?this.gs(e,ih(n,null,"F")):this.Ds(e,u,n,l)}))})))}ps(e,n,r,s){return s1(n)||s.isEqual(le.min())?z.resolve(null):this.fs.getDocuments(e,r).next(i=>{const o=this.bs(n,i);return this.Ss(n,o,r,s)?z.resolve(null):(To()<=ye.DEBUG&&Q("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),So(n)),this.Ds(e,o,n,j3(s,mc)).next(a=>a))})}bs(e,n){let r=new ut(IC(e));return n.forEach((s,i)=>{vf(e,i)&&(r=r.add(i))}),r}Ss(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}ys(e,n,r){return To()<=ye.DEBUG&&Q("QueryEngine","Using full collection scan to execute query:",So(n)),this.fs.getDocumentsMatchingQuery(e,n,ri.min(),r)}Ds(e,n,r,s){return this.fs.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lv="LocalStore",v6=3e8;class w6{constructor(e,n,r,s){this.persistence=e,this.Cs=n,this.serializer=s,this.vs=new We(ve),this.Fs=new lo(i=>Cv(i),Av),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(r)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new a6(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.vs))}}function _6(t,e,n,r){return new w6(t,e,n,r)}async function ZC(t,e){const n=ue(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.Os(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],a=[];let l=we();for(const u of s){o.push(u.batchId);for(const d of u.mutations)l=l.add(d.key)}for(const u of i){a.push(u.batchId);for(const d of u.mutations)l=l.add(d.key)}return n.localDocuments.getDocuments(r,l).next(u=>({Ns:u,removedBatchIds:o,addedBatchIds:a}))})})}function E6(t,e){const n=ue(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.xs.newChangeBuffer({trackRemovals:!0});return function(a,l,u,d){const h=u.batch,p=h.keys();let g=z.resolve();return p.forEach(T=>{g=g.next(()=>d.getEntry(l,T)).next(v=>{const x=u.docVersions.get(T);Ce(x!==null,48541),v.version.compareTo(x)<0&&(h.applyToRemoteDocument(v,u),v.isValidDocument()&&(v.setReadTime(u.commitVersion),d.addEntry(v)))})}),g.next(()=>a.mutationQueue.removeMutationBatch(l,h))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=we();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function eA(t){const e=ue(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.li.getLastRemoteSnapshotVersion(n))}function x6(t,e){const n=ue(t),r=e.snapshotVersion;let s=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.xs.newChangeBuffer({trackRemovals:!0});s=n.vs;const a=[];e.targetChanges.forEach((d,h)=>{const p=s.get(h);if(!p)return;a.push(n.li.removeMatchingKeys(i,d.removedDocuments,h).next(()=>n.li.addMatchingKeys(i,d.addedDocuments,h)));let g=p.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(h)!==null?g=g.withResumeToken(Tt.EMPTY_BYTE_STRING,le.min()).withLastLimboFreeSnapshotVersion(le.min()):d.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(d.resumeToken,r)),s=s.insert(h,g),function(v,x,E){return v.resumeToken.approximateByteSize()===0||x.snapshotVersion.toMicroseconds()-v.snapshotVersion.toMicroseconds()>=v6?!0:E.addedDocuments.size+E.modifiedDocuments.size+E.removedDocuments.size>0}(p,g,d)&&a.push(n.li.updateTargetData(i,g))});let l=ns(),u=we();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(i,d))}),a.push(T6(i,o,e.documentUpdates).next(d=>{l=d.Bs,u=d.Ls})),!r.isEqual(le.min())){const d=n.li.getLastRemoteSnapshotVersion(i).next(h=>n.li.setTargetsMetadata(i,i.currentSequenceNumber,r));a.push(d)}return z.waitFor(a).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,l,u)).next(()=>l)}).then(i=>(n.vs=s,i))}function T6(t,e,n){let r=we(),s=we();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let o=ns();return n.forEach((a,l)=>{const u=i.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(s=s.add(a)),l.isNoDocument()&&l.version.isEqual(le.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):Q(Lv,"Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{Bs:o,Ls:s}})}function S6(t,e){const n=ue(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=Sv),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function b6(t,e){const n=ue(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.li.getTargetData(r,e).next(i=>i?(s=i,z.resolve(s)):n.li.allocateTargetId(r).next(o=>(s=new js(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.li.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.vs.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.vs=n.vs.insert(r.targetId,r),n.Fs.set(e,r.targetId)),r})}async function Fg(t,e,n){const r=ue(t),s=r.vs.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!za(o))throw o;Q(Lv,`Failed to update sequence numbers for target ${e}: ${o}`)}r.vs=r.vs.remove(e),r.Fs.delete(s.target)}function y1(t,e,n){const r=ue(t);let s=le.min(),i=we();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,u,d){const h=ue(l),p=h.Fs.get(d);return p!==void 0?z.resolve(h.vs.get(p)):h.li.getTargetData(u,d)}(r,o,xr(e)).next(a=>{if(a)return s=a.lastLimboFreeSnapshotVersion,r.li.getMatchingKeysForTargetId(o,a.targetId).next(l=>{i=l})}).next(()=>r.Cs.getDocumentsMatchingQuery(o,e,n?s:le.min(),n?i:we())).next(a=>(I6(r,h5(e),a),{documents:a,ks:i})))}function I6(t,e,n){let r=t.Ms.get(e)||le.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.Ms.set(e,r)}class v1{constructor(){this.activeTargetIds=v5()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class C6{constructor(){this.vo=new v1,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,n,r){this.Fo[e]=n}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new v1,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A6{Mo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w1="ConnectivityMonitor";class _1{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){Q(w1,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){Q(w1,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ju=null;function Ug(){return ju===null?ju=function(){return 268435456+Math.round(2147483648*Math.random())}():ju++,"0x"+ju.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yp="RestConnection",R6={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class P6{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+e.host,this.Uo=`projects/${r}/databases/${s}`,this.$o=this.databaseId.database===nh?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Wo(e,n,r,s,i){const o=Ug(),a=this.Qo(e,n.toUriEncodedString());Q(Yp,`Sending RPC '${e}' ${o}:`,a,r);const l={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(l,s,i);const{host:u}=new URL(a),d=ja(u);return this.zo(e,a,l,r,d).then(h=>(Q(Yp,`Received RPC '${e}' ${o}: `,h),h),h=>{throw Yi(Yp,`RPC '${e}' ${o} failed with error: `,h,"url: ",a,"request:",r),h})}jo(e,n,r,s,i,o){return this.Wo(e,n,r,s,i)}Go(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ua}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,i)=>e[i]=s),r&&r.headers.forEach((s,i)=>e[i]=s)}Qo(e,n){const r=R6[e];let s=`${this.qo}/v1/${n}:${r}`;return this.databaseInfo.apiKey&&(s=`${s}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),s}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k6{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ct="WebChannelConnection",vl=(t,e,n)=>{t.listen(e,r=>{try{n(r)}catch(s){setTimeout(()=>{throw s},0)}})};class Ko extends P6{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!Ko.c_){const e=tC();vl(e,eC.STAT_EVENT,n=>{n.stat===Ag.PROXY?Q(Ct,"STAT_EVENT: detected buffering proxy"):n.stat===Ag.NOPROXY&&Q(Ct,"STAT_EVENT: detected no buffering proxy")}),Ko.c_=!0}}zo(e,n,r,s,i){const o=Ug();return new Promise((a,l)=>{const u=new JI;u.setWithCredentials(!0),u.listenOnce(ZI.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case ad.NO_ERROR:const h=u.getResponseJson();Q(Ct,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(h)),a(h);break;case ad.TIMEOUT:Q(Ct,`RPC '${e}' ${o} timed out`),l(new K($.DEADLINE_EXCEEDED,"Request time out"));break;case ad.HTTP_ERROR:const p=u.getStatus();if(Q(Ct,`RPC '${e}' ${o} failed with status:`,p,"response text:",u.getResponseText()),p>0){let g=u.getResponseJson();Array.isArray(g)&&(g=g[0]);const T=g==null?void 0:g.error;if(T&&T.status&&T.message){const v=function(E){const _=E.toLowerCase().replace(/_/g,"-");return Object.values($).indexOf(_)>=0?_:$.UNKNOWN}(T.status);l(new K(v,T.message))}else l(new K($.UNKNOWN,"Server responded with status "+u.getStatus()))}else l(new K($.UNAVAILABLE,"Connection failed."));break;default:re(9055,{l_:e,streamId:o,h_:u.getLastErrorCode(),P_:u.getLastError()})}}finally{Q(Ct,`RPC '${e}' ${o} completed.`)}});const d=JSON.stringify(s);Q(Ct,`RPC '${e}' ${o} sending request:`,s),u.send(n,"POST",d,r,15)})}T_(e,n,r){const s=Ug(),i=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=this.createWebChannelTransport(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(a.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(a.useFetchStreams=!0),this.Go(a.initMessageHeaders,n,r),a.encodeInitMessageHeaders=!0;const u=i.join("");Q(Ct,`Creating RPC '${e}' stream ${s}: ${u}`,a);const d=o.createWebChannel(u,a);this.I_(d);let h=!1,p=!1;const g=new k6({Ho:T=>{p?Q(Ct,`Not sending because RPC '${e}' stream ${s} is closed:`,T):(h||(Q(Ct,`Opening RPC '${e}' stream ${s} transport.`),d.open(),h=!0),Q(Ct,`RPC '${e}' stream ${s} sending:`,T),d.send(T))},Jo:()=>d.close()});return vl(d,Tl.EventType.OPEN,()=>{p||(Q(Ct,`RPC '${e}' stream ${s} transport opened.`),g.i_())}),vl(d,Tl.EventType.CLOSE,()=>{p||(p=!0,Q(Ct,`RPC '${e}' stream ${s} transport closed`),g.o_(),this.E_(d))}),vl(d,Tl.EventType.ERROR,T=>{p||(p=!0,Yi(Ct,`RPC '${e}' stream ${s} transport errored. Name:`,T.name,"Message:",T.message),g.o_(new K($.UNAVAILABLE,"The operation could not be completed")))}),vl(d,Tl.EventType.MESSAGE,T=>{var v;if(!p){const x=T.data[0];Ce(!!x,16349);const E=x,_=(E==null?void 0:E.error)||((v=E[0])==null?void 0:v.error);if(_){Q(Ct,`RPC '${e}' stream ${s} received error:`,_);const S=_.status;let C=function(I){const b=et[I];if(b!==void 0)return UC(b)}(S),D=_.message;S==="NOT_FOUND"&&D.includes("database")&&D.includes("does not exist")&&D.includes(this.databaseId.database)&&Yi(`Database '${this.databaseId.database}' not found. Please check your project configuration.`),C===void 0&&(C=$.INTERNAL,D="Unknown error status: "+S+" with message "+_.message),p=!0,g.o_(new K(C,D)),d.close()}else Q(Ct,`RPC '${e}' stream ${s} received:`,x),g.__(x)}}),Ko.u_(),setTimeout(()=>{g.s_()},0),g}terminate(){this.a_.forEach(e=>e.close()),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter(n=>n===e)}Go(e,n,r){super.Go(e,n,r),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return nC()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N6(t){return new Ko(t)}function Xp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xf(t){return new L5(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ko.c_=!1;class tA{constructor(e,n,r=1e3,s=1.5,i=6e4){this.Ci=e,this.timerId=n,this.R_=r,this.A_=s,this.V_=i,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const n=Math.floor(this.d_+this.y_()),r=Math.max(0,Date.now()-this.f_),s=Math.max(0,n-r);s>0&&Q("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,s,()=>(this.f_=Date.now(),e())),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E1="PersistentStream";class nA{constructor(e,n,r,s,i,o,a,l){this.Ci=e,this.b_=r,this.S_=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new tA(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,()=>this.k_()))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===$.RESOURCE_EXHAUSTED?(ts(n.toString()),ts("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===$.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(n)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.D_===n&&this.G_(r,s)},r=>{e(()=>{const s=new K($.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(s)})})}G_(e,n){const r=this.Q_(this.D_);this.stream=this.j_(e,n),this.stream.Zo(()=>{r(()=>this.listener.Zo())}),this.stream.Yo(()=>{r(()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.Yo()))}),this.stream.t_(s=>{r(()=>this.z_(s))}),this.stream.onMessage(s=>{r(()=>++this.F_==1?this.H_(s):this.onNext(s))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return Q(E1,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return n=>{this.Ci.enqueueAndForget(()=>this.D_===e?n():(Q(E1,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class D6 extends nA{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}j_(e,n){return this.connection.T_("Listen",e,n)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=F5(this.serializer,e),r=function(i){if(!("targetChange"in i))return le.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?le.min():o.readTime?Sr(o.readTime):le.min()}(e);return this.listener.J_(n,r)}Z_(e){const n={};n.database=jg(this.serializer),n.addTarget=function(i,o){let a;const l=o.target;if(a=Dg(l)?{documents:z5(i,l)}:{query:B5(i,l).ft},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=BC(i,o.resumeToken);const u=Og(i,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(le.min())>0){a.readTime=oh(i,o.snapshotVersion.toTimestamp());const u=Og(i,o.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const r=W5(this.serializer,e);r&&(n.labels=r),this.K_(n)}X_(e){const n={};n.database=jg(this.serializer),n.removeTarget=e,this.K_(n)}}class M6 extends nA{constructor(e,n,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}H_(e){return Ce(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ce(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ce(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=$5(e.writeResults,e.commitTime),r=Sr(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=jg(this.serializer),this.K_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>U5(this.serializer,r))};this.K_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O6{}class L6 extends O6{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new K($.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,r,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.Wo(e,Lg(n,r),s,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new K($.UNKNOWN,i.toString())})}jo(e,n,r,s,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.jo(e,Lg(n,r),s,o,a,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new K($.UNKNOWN,o.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}function V6(t,e,n,r){return new L6(t,e,n,r)}class j6{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ts(n),this.aa=!1):Q("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xi="RemoteStore";class F6{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=i,this.Aa.Mo(o=>{r.enqueueAndForget(async()=>{uo(this)&&(Q(Xi,"Restarting streams for network reachability change."),await async function(l){const u=ue(l);u.Ea.add(4),await Bc(u),u.Va.set("Unknown"),u.Ea.delete(4),await Tf(u)}(this))})}),this.Va=new j6(r,s)}}async function Tf(t){if(uo(t))for(const e of t.Ra)await e(!0)}async function Bc(t){for(const e of t.Ra)await e(!1)}function rA(t,e){const n=ue(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Uv(n)?Fv(n):Ha(n).O_()&&jv(n,e))}function Vv(t,e){const n=ue(t),r=Ha(n);n.Ia.delete(e),r.O_()&&sA(n,e),n.Ia.size===0&&(r.O_()?r.L_():uo(n)&&n.Va.set("Unknown"))}function jv(t,e){if(t.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(le.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ha(t).Z_(e)}function sA(t,e){t.da.$e(e),Ha(t).X_(e)}function Fv(t){t.da=new N5({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Ha(t).start(),t.Va.ua()}function Uv(t){return uo(t)&&!Ha(t).x_()&&t.Ia.size>0}function uo(t){return ue(t).Ea.size===0}function iA(t){t.da=void 0}async function U6(t){t.Va.set("Online")}async function $6(t){t.Ia.forEach((e,n)=>{jv(t,e)})}async function z6(t,e){iA(t),Uv(t)?(t.Va.ha(e),Fv(t)):t.Va.set("Unknown")}async function B6(t,e,n){if(t.Va.set("Online"),e instanceof zC&&e.state===2&&e.cause)try{await async function(s,i){const o=i.cause;for(const a of i.targetIds)s.Ia.has(a)&&(await s.remoteSyncer.rejectListen(a,o),s.Ia.delete(a),s.da.removeTarget(a))}(t,e)}catch(r){Q(Xi,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await lh(t,r)}else if(e instanceof dd?t.da.Xe(e):e instanceof $C?t.da.st(e):t.da.tt(e),!n.isEqual(le.min()))try{const r=await eA(t.localStore);n.compareTo(r)>=0&&await function(i,o){const a=i.da.Tt(o);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const d=i.Ia.get(u);d&&i.Ia.set(u,d.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,u)=>{const d=i.Ia.get(l);if(!d)return;i.Ia.set(l,d.withResumeToken(Tt.EMPTY_BYTE_STRING,d.snapshotVersion)),sA(i,l);const h=new js(d.target,l,u,d.sequenceNumber);jv(i,h)}),i.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){Q(Xi,"Failed to raise snapshot:",r),await lh(t,r)}}async function lh(t,e,n){if(!za(e))throw e;t.Ea.add(1),await Bc(t),t.Va.set("Offline"),n||(n=()=>eA(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Q(Xi,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Tf(t)})}function oA(t,e){return e().catch(n=>lh(t,n,e))}async function Sf(t){const e=ue(t),n=ai(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Sv;for(;H6(e);)try{const s=await S6(e.localStore,r);if(s===null){e.Ta.length===0&&n.L_();break}r=s.batchId,W6(e,s)}catch(s){await lh(e,s)}aA(e)&&lA(e)}function H6(t){return uo(t)&&t.Ta.length<10}function W6(t,e){t.Ta.push(e);const n=ai(t);n.O_()&&n.Y_&&n.ea(e.mutations)}function aA(t){return uo(t)&&!ai(t).x_()&&t.Ta.length>0}function lA(t){ai(t).start()}async function q6(t){ai(t).ra()}async function G6(t){const e=ai(t);for(const n of t.Ta)e.ea(n.mutations)}async function K6(t,e,n){const r=t.Ta.shift(),s=Pv.from(r,e,n);await oA(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await Sf(t)}async function Q6(t,e){e&&ai(t).Y_&&await async function(r,s){if(function(o){return R5(o)&&o!==$.ABORTED}(s.code)){const i=r.Ta.shift();ai(r).B_(),await oA(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await Sf(r)}}(t,e),aA(t)&&lA(t)}async function x1(t,e){const n=ue(t);n.asyncQueue.verifyOperationInProgress(),Q(Xi,"RemoteStore received new credentials");const r=uo(n);n.Ea.add(3),await Bc(n),r&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Tf(n)}async function Y6(t,e){const n=ue(t);e?(n.Ea.delete(2),await Tf(n)):e||(n.Ea.add(2),await Bc(n),n.Va.set("Unknown"))}function Ha(t){return t.ma||(t.ma=function(n,r,s){const i=ue(n);return i.sa(),new D6(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Zo:U6.bind(null,t),Yo:$6.bind(null,t),t_:z6.bind(null,t),J_:B6.bind(null,t)}),t.Ra.push(async e=>{e?(t.ma.B_(),Uv(t)?Fv(t):t.Va.set("Unknown")):(await t.ma.stop(),iA(t))})),t.ma}function ai(t){return t.fa||(t.fa=function(n,r,s){const i=ue(n);return i.sa(),new M6(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Zo:()=>Promise.resolve(),Yo:q6.bind(null,t),t_:Q6.bind(null,t),ta:G6.bind(null,t),na:K6.bind(null,t)}),t.Ra.push(async e=>{e?(t.fa.B_(),await Sf(t)):(await t.fa.stop(),t.Ta.length>0&&(Q(Xi,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $v{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new Gr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,a=new $v(e,n,o,s,i);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new K($.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function zv(t,e){if(ts("AsyncQueue",`${e}: ${t}`),za(t))return new K($.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qo{static emptySet(e){return new Qo(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||te.comparator(n.key,r.key):(n,r)=>te.comparator(n.key,r.key),this.keyedMap=Sl(),this.sortedSet=new We(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Qo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Qo;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T1{constructor(){this.ga=new We(te.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):re(63341,{Vt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,r)=>{e.push(r)}),e}}class Ia{constructor(e,n,r,s,i,o,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Ia(e,n,Qo.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&yf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X6{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some(e=>e.Da())}}class J6{constructor(){this.queries=S1(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const s=ue(n),i=s.queries;s.queries=S1(),i.forEach((o,a)=>{for(const l of a.ba)l.onError(r)})})(this,new K($.ABORTED,"Firestore shutting down"))}}function S1(){return new lo(t=>bC(t),yf)}async function Bv(t,e){const n=ue(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.Sa()&&e.Da()&&(r=2):(i=new X6,r=e.Da()?0:1);try{switch(r){case 0:i.wa=await n.onListen(s,!0);break;case 1:i.wa=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(o){const a=zv(o,`Initialization of query '${So(e.query)}' failed`);return void e.onError(a)}n.queries.set(s,i),i.ba.push(e),e.va(n.onlineState),i.wa&&e.Fa(i.wa)&&Wv(n)}async function Hv(t,e){const n=ue(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const o=i.ba.indexOf(e);o>=0&&(i.ba.splice(o,1),i.ba.length===0?s=e.Da()?0:1:!i.Sa()&&e.Da()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function Z6(t,e){const n=ue(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const a of o.ba)a.Fa(s)&&(r=!0);o.wa=s}}r&&Wv(n)}function eU(t,e,n){const r=ue(t),s=r.queries.get(e);if(s)for(const i of s.ba)i.onError(n);r.queries.delete(e)}function Wv(t){t.Ca.forEach(e=>{e.next()})}var $g,b1;(b1=$g||($g={})).Ma="default",b1.Cache="cache";class qv{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new Ia(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.Ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Ia.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==$g.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cA{constructor(e){this.key=e}}class uA{constructor(e){this.key=e}}class tU{constructor(e,n){this.query=e,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=we(),this.mutatedKeys=we(),this.eu=IC(e),this.tu=new Qo(this.eu)}get nu(){return this.Za}ru(e,n){const r=n?n.iu:new T1,s=n?n.tu:this.tu;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,a=!1;const l=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,u=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((d,h)=>{const p=s.get(d),g=vf(this.query,h)?h:null,T=!!p&&this.mutatedKeys.has(p.key),v=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations);let x=!1;p&&g?p.data.isEqual(g.data)?T!==v&&(r.track({type:3,doc:g}),x=!0):this.su(p,g)||(r.track({type:2,doc:g}),x=!0,(l&&this.eu(g,l)>0||u&&this.eu(g,u)<0)&&(a=!0)):!p&&g?(r.track({type:0,doc:g}),x=!0):p&&!g&&(r.track({type:1,doc:p}),x=!0,(l||u)&&(a=!0)),x&&(g?(o=o.add(g),i=v?i.add(d):i.delete(d)):(o=o.delete(d),i=i.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),i=i.delete(d.key),r.track({type:1,doc:d})}return{tu:o,iu:r,Ss:a,mutatedKeys:i}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const o=e.iu.ya();o.sort((d,h)=>function(g,T){const v=x=>{switch(x){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return re(20277,{Vt:x})}};return v(g)-v(T)}(d.type,h.type)||this.eu(d.doc,h.doc)),this.ou(r),s=s??!1;const a=n&&!s?this._u():[],l=this.Ya.size===0&&this.current&&!s?1:0,u=l!==this.Xa;return this.Xa=l,o.length!==0||u?{snapshot:new Ia(this.query,e.tu,i,o,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:a}:{au:a}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new T1,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Za=this.Za.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Za=this.Za.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=we(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Ya=this.Ya.add(r.key))});const n=[];return e.forEach(r=>{this.Ya.has(r)||n.push(new uA(r))}),this.Ya.forEach(r=>{e.has(r)||n.push(new cA(r))}),n}cu(e){this.Za=e.ks,this.Ya=we();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Ia.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const Gv="SyncEngine";class nU{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class rU{constructor(e){this.key=e,this.hu=!1}}class sU{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new lo(a=>bC(a),yf),this.Iu=new Map,this.Eu=new Set,this.Ru=new We(te.comparator),this.Au=new Map,this.Vu=new Dv,this.du={},this.mu=new Map,this.fu=ba.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function iU(t,e,n=!0){const r=gA(t);let s;const i=r.Tu.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.lu()):s=await dA(r,e,n,!0),s}async function oU(t,e){const n=gA(t);await dA(n,e,!0,!1)}async function dA(t,e,n,r){const s=await b6(t.localStore,xr(e)),i=s.targetId,o=t.sharedClientState.addLocalQueryTarget(i,n);let a;return r&&(a=await aU(t,e,i,o==="current",s.resumeToken)),t.isPrimaryClient&&n&&rA(t.remoteStore,s),a}async function aU(t,e,n,r,s){t.pu=(h,p,g)=>async function(v,x,E,_){let S=x.view.ru(E);S.Ss&&(S=await y1(v.localStore,x.query,!1).then(({documents:I})=>x.view.ru(I,S)));const C=_&&_.targetChanges.get(x.targetId),D=_&&_.targetMismatches.get(x.targetId)!=null,O=x.view.applyChanges(S,v.isPrimaryClient,C,D);return C1(v,x.targetId,O.au),O.snapshot}(t,h,p,g);const i=await y1(t.localStore,e,!0),o=new tU(e,i.ks),a=o.ru(i.documents),l=zc.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),u=o.applyChanges(a,t.isPrimaryClient,l);C1(t,n,u.au);const d=new nU(e,n,o);return t.Tu.set(e,d),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),u.snapshot}async function lU(t,e,n){const r=ue(t),s=r.Tu.get(e),i=r.Iu.get(s.targetId);if(i.length>1)return r.Iu.set(s.targetId,i.filter(o=>!yf(o,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await Fg(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&Vv(r.remoteStore,s.targetId),zg(r,s.targetId)}).catch($a)):(zg(r,s.targetId),await Fg(r.localStore,s.targetId,!0))}async function cU(t,e){const n=ue(t),r=n.Tu.get(e),s=n.Iu.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Vv(n.remoteStore,r.targetId))}async function uU(t,e,n){const r=yU(t);try{const s=await function(o,a){const l=ue(o),u=Ie.now(),d=a.reduce((g,T)=>g.add(T.key),we());let h,p;return l.persistence.runTransaction("Locally write mutations","readwrite",g=>{let T=ns(),v=we();return l.xs.getEntries(g,d).next(x=>{T=x,T.forEach((E,_)=>{_.isValidDocument()||(v=v.add(E))})}).next(()=>l.localDocuments.getOverlayedDocuments(g,T)).next(x=>{h=x;const E=[];for(const _ of a){const S=S5(_,h.get(_.key).overlayedDocument);S!=null&&E.push(new co(_.key,S,yC(S.value.mapValue),Tr.exists(!0)))}return l.mutationQueue.addMutationBatch(g,u,E,a)}).next(x=>{p=x;const E=x.applyToLocalDocumentSet(h,v);return l.documentOverlayCache.saveOverlays(g,x.batchId,E)})}).then(()=>({batchId:p.batchId,changes:AC(h)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(o,a,l){let u=o.du[o.currentUser.toKey()];u||(u=new We(ve)),u=u.insert(a,l),o.du[o.currentUser.toKey()]=u}(r,s.batchId,n),await Hc(r,s.changes),await Sf(r.remoteStore)}catch(s){const i=zv(s,"Failed to persist write");n.reject(i)}}async function hA(t,e){const n=ue(t);try{const r=await x6(n.localStore,e);e.targetChanges.forEach((s,i)=>{const o=n.Au.get(i);o&&(Ce(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?o.hu=!0:s.modifiedDocuments.size>0?Ce(o.hu,14607):s.removedDocuments.size>0&&(Ce(o.hu,42227),o.hu=!1))}),await Hc(n,r,e)}catch(r){await $a(r)}}function I1(t,e,n){const r=ue(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Tu.forEach((i,o)=>{const a=o.view.va(e);a.snapshot&&s.push(a.snapshot)}),function(o,a){const l=ue(o);l.onlineState=a;let u=!1;l.queries.forEach((d,h)=>{for(const p of h.ba)p.va(a)&&(u=!0)}),u&&Wv(l)}(r.eventManager,e),s.length&&r.Pu.J_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function dU(t,e,n){const r=ue(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Au.get(e),i=s&&s.key;if(i){let o=new We(te.comparator);o=o.insert(i,kt.newNoDocument(i,le.min()));const a=we().add(i),l=new Ef(le.min(),new Map,new We(ve),o,a);await hA(r,l),r.Ru=r.Ru.remove(i),r.Au.delete(e),Kv(r)}else await Fg(r.localStore,e,!1).then(()=>zg(r,e,n)).catch($a)}async function hU(t,e){const n=ue(t),r=e.batch.batchId;try{const s=await E6(n.localStore,e);pA(n,r,null),fA(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Hc(n,s)}catch(s){await $a(s)}}async function fU(t,e,n){const r=ue(t);try{const s=await function(o,a){const l=ue(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let d;return l.mutationQueue.lookupMutationBatch(u,a).next(h=>(Ce(h!==null,37113),d=h.keys(),l.mutationQueue.removeMutationBatch(u,h))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,d,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,d)).next(()=>l.localDocuments.getDocuments(u,d))})}(r.localStore,e);pA(r,e,n),fA(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Hc(r,s)}catch(s){await $a(s)}}function fA(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function pA(t,e,n){const r=ue(t);let s=r.du[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.du[r.currentUser.toKey()]=s}}function zg(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Vu.Gr(e).forEach(r=>{t.Vu.containsKey(r)||mA(t,r)})}function mA(t,e){t.Eu.delete(e.path.canonicalString());const n=t.Ru.get(e);n!==null&&(Vv(t.remoteStore,n),t.Ru=t.Ru.remove(e),t.Au.delete(n),Kv(t))}function C1(t,e,n){for(const r of n)r instanceof cA?(t.Vu.addReference(r.key,e),pU(t,r)):r instanceof uA?(Q(Gv,"Document no longer in limbo: "+r.key),t.Vu.removeReference(r.key,e),t.Vu.containsKey(r.key)||mA(t,r.key)):re(19791,{wu:r})}function pU(t,e){const n=e.key,r=n.path.canonicalString();t.Ru.get(n)||t.Eu.has(r)||(Q(Gv,"New document in limbo: "+n),t.Eu.add(r),Kv(t))}function Kv(t){for(;t.Eu.size>0&&t.Ru.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new te(Me.fromString(e)),r=t.fu.next();t.Au.set(r,new rU(n)),t.Ru=t.Ru.insert(n,r),rA(t.remoteStore,new js(xr(gf(n.path)),r,"TargetPurposeLimboResolution",ff.ce))}}async function Hc(t,e,n){const r=ue(t),s=[],i=[],o=[];r.Tu.isEmpty()||(r.Tu.forEach((a,l)=>{o.push(r.pu(l,e,n).then(u=>{var d;if((u||n)&&r.isPrimaryClient){const h=u?!u.fromCache:(d=n==null?void 0:n.targetChanges.get(l.targetId))==null?void 0:d.current;r.sharedClientState.updateQueryState(l.targetId,h?"current":"not-current")}if(u){s.push(u);const h=Ov.Es(l.targetId,u);i.push(h)}}))}),await Promise.all(o),r.Pu.J_(s),await async function(l,u){const d=ue(l);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>z.forEach(u,p=>z.forEach(p.Ts,g=>d.persistence.referenceDelegate.addReference(h,p.targetId,g)).next(()=>z.forEach(p.Is,g=>d.persistence.referenceDelegate.removeReference(h,p.targetId,g)))))}catch(h){if(!za(h))throw h;Q(Lv,"Failed to update sequence numbers: "+h)}for(const h of u){const p=h.targetId;if(!h.fromCache){const g=d.vs.get(p),T=g.snapshotVersion,v=g.withLastLimboFreeSnapshotVersion(T);d.vs=d.vs.insert(p,v)}}}(r.localStore,i))}async function mU(t,e){const n=ue(t);if(!n.currentUser.isEqual(e)){Q(Gv,"User change. New user:",e.toKey());const r=await ZC(n.localStore,e);n.currentUser=e,function(i,o){i.mu.forEach(a=>{a.forEach(l=>{l.reject(new K($.CANCELLED,o))})}),i.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Hc(n,r.Ns)}}function gU(t,e){const n=ue(t),r=n.Au.get(e);if(r&&r.hu)return we().add(r.key);{let s=we();const i=n.Iu.get(e);if(!i)return s;for(const o of i){const a=n.Tu.get(o);s=s.unionWith(a.view.nu)}return s}}function gA(t){const e=ue(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=hA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=gU.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=dU.bind(null,e),e.Pu.J_=Z6.bind(null,e.eventManager),e.Pu.yu=eU.bind(null,e.eventManager),e}function yU(t){const e=ue(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=hU.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=fU.bind(null,e),e}class ch{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=xf(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return _6(this.persistence,new y6,e.initialUser,this.serializer)}Cu(e){return new JC(Mv.Vi,this.serializer)}Du(e){return new C6}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ch.provider={build:()=>new ch};class vU extends ch{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Ce(this.persistence.referenceDelegate instanceof ah,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new n6(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Gt.withCacheSize(this.cacheSizeBytes):Gt.DEFAULT;return new JC(r=>ah.Vi(r,n),this.serializer)}}class Bg{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>I1(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=mU.bind(null,this.syncEngine),await Y6(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new J6}()}createDatastore(e){const n=xf(e.databaseInfo.databaseId),r=N6(e.databaseInfo);return V6(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,o,a){return new F6(r,s,i,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>I1(this.syncEngine,n,0),function(){return _1.v()?new _1:new A6}())}createSyncEngine(e,n){return function(s,i,o,a,l,u,d){const h=new sU(s,i,o,a,l,u);return d&&(h.gu=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const i=ue(s);Q(Xi,"RemoteStore shutting down."),i.Ea.add(5),await Bc(i),i.Aa.shutdown(),i.Va.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}Bg.provider={build:()=>new Bg};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qv{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):ts("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const li="FirestoreClient";class wU{constructor(e,n,r,s,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this._databaseInfo=s,this.user=Rt.UNAUTHENTICATED,this.clientId=Tv.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,async o=>{Q(li,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(Q(li,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Gr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=zv(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Jp(t,e){t.asyncQueue.verifyOperationInProgress(),Q(li,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await ZC(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function A1(t,e){t.asyncQueue.verifyOperationInProgress();const n=await _U(t);Q(li,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>x1(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>x1(e.remoteStore,s)),t._onlineComponents=e}async function _U(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Q(li,"Using user provided OfflineComponentProvider");try{await Jp(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===$.FAILED_PRECONDITION||s.code===$.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;Yi("Error using user provided cache. Falling back to memory cache: "+n),await Jp(t,new ch)}}else Q(li,"Using default OfflineComponentProvider"),await Jp(t,new vU(void 0));return t._offlineComponents}async function yA(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Q(li,"Using user provided OnlineComponentProvider"),await A1(t,t._uninitializedComponentsProvider._online)):(Q(li,"Using default OnlineComponentProvider"),await A1(t,new Bg))),t._onlineComponents}function EU(t){return yA(t).then(e=>e.syncEngine)}async function uh(t){const e=await yA(t),n=e.eventManager;return n.onListen=iU.bind(null,e.syncEngine),n.onUnlisten=lU.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=oU.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=cU.bind(null,e.syncEngine),n}function xU(t,e,n,r){const s=new Qv(r),i=new qv(e,s,n);return t.asyncQueue.enqueueAndForget(async()=>Bv(await uh(t),i)),()=>{s.Nu(),t.asyncQueue.enqueueAndForget(async()=>Hv(await uh(t),i))}}function TU(t,e,n={}){const r=new Gr;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,l,u){const d=new Qv({next:p=>{d.Nu(),o.enqueueAndForget(()=>Hv(i,h));const g=p.docs.has(a);!g&&p.fromCache?u.reject(new K($.UNAVAILABLE,"Failed to get document because the client is offline.")):g&&p.fromCache&&l&&l.source==="server"?u.reject(new K($.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(p)},error:p=>u.reject(p)}),h=new qv(gf(a.path),d,{includeMetadataChanges:!0,Ka:!0});return Bv(i,h)}(await uh(t),t.asyncQueue,e,n,r)),r.promise}function SU(t,e,n={}){const r=new Gr;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,l,u){const d=new Qv({next:p=>{d.Nu(),o.enqueueAndForget(()=>Hv(i,h)),p.fromCache&&l.source==="server"?u.reject(new K($.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(p)},error:p=>u.reject(p)}),h=new qv(a,d,{includeMetadataChanges:!0,Ka:!0});return Bv(i,h)}(await uh(t),t.asyncQueue,e,n,r)),r.promise}function bU(t,e){const n=new Gr;return t.asyncQueue.enqueueAndForget(async()=>uU(await EU(t),e,n)),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vA(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IU="ComponentProvider",R1=new Map;function CU(t,e,n,r,s){return new K3(t,e,n,s.host,s.ssl,s.experimentalForceLongPolling,s.experimentalAutoDetectLongPolling,vA(s.experimentalLongPollingOptions),s.useFetchStreams,s.isUsingEmulator,r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wA="firestore.googleapis.com",P1=!0;class k1{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new K($.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=wA,this.ssl=P1}else this.host=e.host,this.ssl=e.ssl??P1;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=XC;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<e6)throw new K($.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}V3("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=vA(e.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new K($.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new K($.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new K($.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class bf{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new k1({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new K($.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new K($.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new k1(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new C3;switch(r.type){case"firstParty":return new k3(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new K($.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=R1.get(n);r&&(Q(IU,"Removing Datastore"),R1.delete(n),r.terminate())}(this),Promise.resolve()}}function AU(t,e,n,r={}){var u;t=Gn(t,bf);const s=ja(e),i=t._getSettings(),o={...i,emulatorOptions:t._getEmulatorOptions()},a=`${e}:${n}`;s&&(zI(`https://${a}`),BI("Firestore",!0)),i.host!==wA&&i.host!==a&&Yi("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l={...i,host:a,ssl:s,emulatorOptions:r};if(!ni(l,o)&&(t._setSettings(l),r.mockUserToken)){let d,h;if(typeof r.mockUserToken=="string")d=r.mockUserToken,h=Rt.MOCK_USER;else{d=Zj(r.mockUserToken,(u=t._app)==null?void 0:u.options.projectId);const p=r.mockUserToken.sub||r.mockUserToken.user_id;if(!p)throw new K($.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new Rt(p)}t._authCredentials=new A3(new sC(d,h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class is{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new is(this.firestore,e,this._query)}}class Ze{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ys(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ze(this.firestore,e,this._key)}toJSON(){return{type:Ze._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Uc(n,Ze._jsonSchema))return new Ze(e,r||null,new te(Me.fromString(n.referencePath)))}}Ze._jsonSchemaVersion="firestore/documentReference/1.0",Ze._jsonSchema={type:st("string",Ze._jsonSchemaVersion),referencePath:st("string")};class Ys extends is{constructor(e,n,r){super(e,n,gf(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ze(this.firestore,null,new te(e))}withConverter(e){return new Ys(this.firestore,e,this._path)}}function Ca(t,e,...n){if(t=yt(t),iC("collection","path",e),t instanceof bf){const r=Me.fromString(e,...n);return HE(r),new Ys(t,null,r)}{if(!(t instanceof Ze||t instanceof Ys))throw new K($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Me.fromString(e,...n));return HE(r),new Ys(t.firestore,null,r)}}function Kt(t,e,...n){if(t=yt(t),arguments.length===1&&(e=Tv.newId()),iC("doc","path",e),t instanceof bf){const r=Me.fromString(e,...n);return BE(r),new Ze(t,null,new te(r))}{if(!(t instanceof Ze||t instanceof Ys))throw new K($.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Me.fromString(e,...n));return BE(r),new Ze(t.firestore,t instanceof Ys?t.converter:null,new te(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N1="AsyncQueue";class D1{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new tA(this,"async_queue_retry"),this._c=()=>{const r=Xp();r&&Q(N1,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=Xp();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Xp();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new Gr;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Yu.push(e),this.lc()))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!za(e))throw e;Q(N1,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,ts("INTERNAL UNHANDLED ERROR: ",M1(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const s=$v.createAndSchedule(this,e,n,r,i=>this.hc(i));return this.tc.push(s),s}uc(){this.nc&&re(47125,{Pc:M1(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}Rc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function M1(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class Ji extends bf{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new D1,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new D1(e),this._firestoreClient=void 0,await e}}}function RU(t,e){const n=typeof t=="object"?t:Ev(),r=typeof t=="string"?t:nh,s=oo(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=Xj("firestore");i&&AU(s,...i)}return s}function If(t){if(t._terminated)throw new K($.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||PU(t),t._firestoreClient}function PU(t){var r,s,i,o;const e=t._freezeSettings(),n=CU(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,(s=t._app)==null?void 0:s.options.apiKey,e);t._componentsProvider||(i=e.localCache)!=null&&i._offlineComponentProvider&&((o=e.localCache)!=null&&o._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new wU(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(l){const u=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(u),_online:u}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Sn(Tt.fromBase64String(e))}catch(n){throw new K($.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Sn(Tt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Sn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Uc(e,Sn._jsonSchema))return Sn.fromBase64String(e.bytes)}}Sn._jsonSchemaVersion="firestore/bytes/1.0",Sn._jsonSchema={type:st("string",Sn._jsonSchemaVersion),bytes:st("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _A{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new K($.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new _t(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cf{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class br{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new K($.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new K($.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ve(this._lat,e._lat)||ve(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:br._jsonSchemaVersion}}static fromJSON(e){if(Uc(e,br._jsonSchema))return new br(e.latitude,e.longitude)}}br._jsonSchemaVersion="firestore/geoPoint/1.0",br._jsonSchema={type:st("string",br._jsonSchemaVersion),latitude:st("number"),longitude:st("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kn{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Kn._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Uc(e,Kn._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new Kn(e.vectorValues);throw new K($.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Kn._jsonSchemaVersion="firestore/vectorValue/1.0",Kn._jsonSchema={type:st("string",Kn._jsonSchemaVersion),vectorValues:st("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kU=/^__.*__$/;class NU{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new co(e,this.data,this.fieldMask,n,this.fieldTransforms):new $c(e,this.data,n,this.fieldTransforms)}}function EA(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw re(40011,{dataSource:t})}}class Yv{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.validatePath(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new Yv({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){var s;const n=(s=this.path)==null?void 0:s.child(e),r=this.contextWith({path:n,arrayElement:!1});return r.validatePathSegment(e),r}childContextForFieldPath(e){var s;const n=(s=this.path)==null?void 0:s.child(e),r=this.contextWith({path:n,arrayElement:!1});return r.validatePath(),r}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return dh(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(EA(this.dataSource)&&kU.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class DU{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||xf(e)}createContext(e,n,r,s=!1){return new Yv({dataSource:e,methodName:n,targetDoc:r,path:_t.emptyPath(),arrayElement:!1,hasConverter:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Xv(t){const e=t._freezeSettings(),n=xf(t._databaseId);return new DU(t._databaseId,!!e.ignoreUndefinedProperties,n)}function xA(t,e,n,r,s,i={}){const o=t.createContext(i.merge||i.mergeFields?2:0,e,n,s);bA("Data must be an object, but it was:",o,r);const a=TA(r,o);let l,u;if(i.merge)l=new Bn(o.fieldMask),u=o.fieldTransforms;else if(i.mergeFields){const d=[];for(const h of i.mergeFields){const p=Wc(e,h,n);if(!o.contains(p))throw new K($.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);VU(d,p)||d.push(p)}l=new Bn(d),u=o.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,u=o.fieldTransforms;return new NU(new Tn(a),l,u)}class Jv extends Cf{_toFieldTransform(e){return new LC(e.path,new _c)}isEqual(e){return e instanceof Jv}}class Zv extends Cf{constructor(e,n){super(e),this.Vc=n}_toFieldTransform(e){const n=new Tc(e.serializer,kC(e.serializer,this.Vc));return new LC(e.path,n)}isEqual(e){return e instanceof Zv&&this.Vc===e.Vc}}function MU(t,e,n,r=!1){return ew(n,t.createContext(r?4:3,e))}function ew(t,e){if(SA(t=yt(t)))return bA("Unsupported field value:",e,t),TA(t,e);if(t instanceof Cf)return function(r,s){if(!EA(s.dataSource))throw s.createError(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.createError(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return function(r,s){const i=[];let o=0;for(const a of r){let l=ew(a,s.childContextForArray(o));l==null&&(l={nullValue:"NULL_VALUE"}),i.push(l),o++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=yt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return kC(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=Ie.fromDate(r);return{timestampValue:oh(s.serializer,i)}}if(r instanceof Ie){const i=new Ie(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:oh(s.serializer,i)}}if(r instanceof br)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Sn)return{bytesValue:BC(s.serializer,r._byteString)};if(r instanceof Ze){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.createError(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:Nv(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof Kn)return function(o,a){const l=o instanceof Kn?o.toArray():o;return{mapValue:{fields:{[pC]:{stringValue:gC},[rh]:{arrayValue:{values:l.map(d=>{if(typeof d!="number")throw a.createError("VectorValues must only contain numeric values.");return Rv(a.serializer,d)})}}}}}}(r,s);if(YC(r))return r._toProto(s.serializer);throw s.createError(`Unsupported field value: ${hf(r)}`)}(t,e)}function TA(t,e){const n={};return lC(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ao(t,(r,s)=>{const i=ew(s,e.childContextForField(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function SA(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ie||t instanceof br||t instanceof Sn||t instanceof Ze||t instanceof Cf||t instanceof Kn||YC(t))}function bA(t,e,n){if(!SA(n)||!oC(n)){const r=hf(n);throw r==="an object"?e.createError(t+" a custom object"):e.createError(t+" "+r)}}function Wc(t,e,n){if((e=yt(e))instanceof _A)return e._internalPath;if(typeof e=="string")return LU(t,e);throw dh("Field path arguments must be of type string or ",t,!1,void 0,n)}const OU=new RegExp("[~\\*/\\[\\]]");function LU(t,e,n){if(e.search(OU)>=0)throw dh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new _A(...e.split("."))._internalPath}catch{throw dh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function dh(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(i||o)&&(l+=" (found",i&&(l+=` in field ${r}`),o&&(l+=` in document ${s}`),l+=")"),new K($.INVALID_ARGUMENT,a+t+l)}function VU(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jU{convertValue(e,n="none"){switch(oi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ye(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ii(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw re(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return ao(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertVectorValue(e){var r,s,i;const n=(i=(s=(r=e.fields)==null?void 0:r[rh].arrayValue)==null?void 0:s.values)==null?void 0:i.map(o=>Ye(o.doubleValue));return new Kn(n)}convertGeoPoint(e){return new br(Ye(e.latitude),Ye(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=mf(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(gc(e));default:return null}}convertTimestamp(e){const n=si(e);return new Ie(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Me.fromString(e);Ce(QC(r),9688,{name:e});const s=new yc(r.get(1),r.get(3)),i=new te(r.popFirst(5));return s.isEqual(n)||ts(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tw extends jU{constructor(e){super(),this.firestore=e}convertBytes(e){return new Sn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ze(this.firestore,null,n)}}function FU(){return new Jv("serverTimestamp")}function UU(t){return new Zv("increment",t)}const O1="@firebase/firestore",L1="4.11.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V1(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const s=n;for(const i of r)if(i in s&&typeof s[i]=="function")return!0;return!1}(t,["next","error","complete"])}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IA{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Ze(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new $U(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){var e;return((e=this._document)==null?void 0:e.data.clone().value.mapValue.fields)??void 0}get(e){if(this._document){const n=this._document.data.field(Wc("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class $U extends IA{data(){return super.data()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CA(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new K($.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class nw{}class rw extends nw{}function hh(t,e,...n){let r=[];e instanceof nw&&r.push(e),r=r.concat(n),function(i){const o=i.filter(l=>l instanceof sw).length,a=i.filter(l=>l instanceof Af).length;if(o>1||o>0&&a>0)throw new K($.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)t=s._apply(t);return t}class Af extends rw{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Af(e,n,r)}_apply(e){const n=this._parse(e);return AA(e._query,n),new is(e.firestore,e.converter,Mg(e._query,n))}_parse(e){const n=Xv(e.firestore);return function(i,o,a,l,u,d,h){let p;if(u.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new K($.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){F1(h,d);const T=[];for(const v of h)T.push(j1(l,i,v));p={arrayValue:{values:T}}}else p=j1(l,i,h)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||F1(h,d),p=MU(a,o,h,d==="in"||d==="not-in");return rt.create(u,d,p)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function zU(t,e,n){const r=e,s=Wc("where",t);return Af._create(s,r,n)}class sw extends nw{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new sw(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:er.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,i){let o=s;const a=i.getFlattenedFilters();for(const l of a)AA(o,l),o=Mg(o,l)}(e._query,n),new is(e.firestore,e.converter,Mg(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class iw extends rw{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new iw(e,n)}_apply(e){const n=function(s,i,o){if(s.startAt!==null)throw new K($.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new K($.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new wc(i,o)}(e._query,this._field,this._direction);return new is(e.firestore,e.converter,d5(e._query,n))}}function BU(t,e="asc"){const n=e,r=Wc("orderBy",t);return iw._create(r,n)}class ow extends rw{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new ow(e,n,r)}_apply(e){return new is(e.firestore,e.converter,ih(e._query,this._limit,this._limitType))}}function HU(t){return ow._create("limit",t,"F")}function j1(t,e,n){if(typeof(n=yt(n))=="string"){if(n==="")throw new K($.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!SC(e)&&n.indexOf("/")!==-1)throw new K($.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Me.fromString(n));if(!te.isDocumentKey(r))throw new K($.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return JE(t,new te(r))}if(n instanceof Ze)return JE(t,n._key);throw new K($.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${hf(n)}.`)}function F1(t,e){if(!Array.isArray(t)||t.length===0)throw new K($.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function AA(t,e){const n=function(s,i){for(const o of s)for(const a of o.getFlattenedFilters())if(i.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new K($.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new K($.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function RA(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class Il{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class $i extends IA{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new hd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Wc("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new K($.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=$i._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}$i._jsonSchemaVersion="firestore/documentSnapshot/1.0",$i._jsonSchema={type:st("string",$i._jsonSchemaVersion),bundleSource:st("string","DocumentSnapshot"),bundleName:st("string"),bundle:st("string")};class hd extends $i{data(e={}){return super.data(e)}}class zi{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new Il(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new hd(this._firestore,this._userDataWriter,r.key,r,new Il(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new K($.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(a=>{const l=new hd(s._firestore,s._userDataWriter,a.doc.key,a.doc,new Il(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(a=>i||a.type!==3).map(a=>{const l=new hd(s._firestore,s._userDataWriter,a.doc.key,a.doc,new Il(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);let u=-1,d=-1;return a.type!==0&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),d=o.indexOf(a.doc.key)),{type:WU(a.type),doc:l,oldIndex:u,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new K($.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=zi._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Tv.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],s=[];return this.docs.forEach(i=>{i._document!==null&&(n.push(i._document),r.push(this._userDataWriter.convertObjectMap(i._document.data.value.mapValue.fields,"previous")),s.push(i.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function WU(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return re(61501,{type:t})}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */zi._jsonSchemaVersion="firestore/querySnapshot/1.0",zi._jsonSchema={type:st("string",zi._jsonSchemaVersion),bundleSource:st("string","QuerySnapshot"),bundleName:st("string"),bundle:st("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ri(t){t=Gn(t,Ze);const e=Gn(t.firestore,Ji),n=If(e);return TU(n,t._key).then(r=>NA(e,t,r))}function PA(t){t=Gn(t,is);const e=Gn(t.firestore,Ji),n=If(e),r=new tw(e);return CA(t._query),SU(n,t._query).then(s=>new zi(e,r,t,s))}function Yo(t,e,n){t=Gn(t,Ze);const r=Gn(t.firestore,Ji),s=RA(t.converter,e,n),i=Xv(r);return kA(r,[xA(i,"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,Tr.none())])}function qU(t,e){const n=Gn(t.firestore,Ji),r=Kt(t),s=RA(t.converter,e),i=Xv(t.firestore);return kA(n,[xA(i,"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,Tr.exists(!1))]).then(()=>r)}function Hg(t,...e){var u,d,h;t=yt(t);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||V1(e[r])||(n=e[r++]);const s={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(V1(e[r])){const p=e[r];e[r]=(u=p.next)==null?void 0:u.bind(p),e[r+1]=(d=p.error)==null?void 0:d.bind(p),e[r+2]=(h=p.complete)==null?void 0:h.bind(p)}let i,o,a;if(t instanceof Ze)o=Gn(t.firestore,Ji),a=gf(t._key.path),i={next:p=>{e[r]&&e[r](NA(o,t,p))},error:e[r+1],complete:e[r+2]};else{const p=Gn(t,is);o=Gn(p.firestore,Ji),a=p._query;const g=new tw(o);i={next:T=>{e[r]&&e[r](new zi(o,g,p,T))},error:e[r+1],complete:e[r+2]},CA(t._query)}const l=If(o);return xU(l,a,s,i)}function kA(t,e){const n=If(t);return bU(n,e)}function NA(t,e,n){const r=n.docs.get(e._key),s=new tw(t);return new $i(t,s,e._key,r,new Il(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){I3(Fa),Ar(new Zn("firestore",(r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),a=new Ji(new R3(r.getProvider("auth-internal")),new N3(o,r.getProvider("app-check-internal")),Q3(o,s),o);return i={useFetchStreams:n,...i},a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),Cn(O1,L1,e),Cn(O1,L1,"esm2020")})();function DA(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const GU=DA,MA=new io("auth","Firebase",DA());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fh=new df("@firebase/auth");function KU(t,...e){fh.logLevel<=ye.WARN&&fh.warn(`Auth (${Fa}): ${t}`,...e)}function fd(t,...e){fh.logLevel<=ye.ERROR&&fh.error(`Auth (${Fa}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pr(t,...e){throw lw(t,...e)}function Qn(t,...e){return lw(t,...e)}function aw(t,e,n){const r={...GU(),[e]:n};return new io("auth","Firebase",r).create(e,{appName:t.name})}function Xs(t){return aw(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function OA(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Pr(t,"argument-error"),aw(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function lw(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return MA.create(t,...e)}function ie(t,e,...n){if(!t)throw lw(e,...n)}function Hr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw fd(e),new Error(e)}function rs(t,e){t||Hr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wg(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function QU(){return U1()==="http:"||U1()==="https:"}function U1(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YU(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(QU()||yv()||"connection"in navigator)?navigator.onLine:!0}function XU(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qc{constructor(e,n){this.shortDelay=e,this.longDelay=n,rs(n>e,"Short delay should be less than long delay!"),this.isMobile=nF()||iF()}get(){return YU()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cw(t,e){rs(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LA{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Hr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Hr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Hr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JU={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZU=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],e9=new qc(3e4,6e4);function uw(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Wa(t,e,n,r,s={}){return VA(t,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const a=Fc({key:t.config.apiKey,...o}).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const u={method:e,headers:l,...i};return sF()||(u.referrerPolicy="no-referrer"),t.emulatorConfig&&ja(t.emulatorConfig.host)&&(u.credentials="include"),LA.fetch()(await jA(t,t.config.apiHost,n,a),u)})}async function VA(t,e,n){t._canInitEmulator=!1;const r={...JU,...e};try{const s=new n9(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw Fu(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const a=i.ok?o.errorMessage:o.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Fu(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Fu(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw Fu(t,"user-disabled",o);const d=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw aw(t,d,u);Pr(t,d)}}catch(s){if(s instanceof kn)throw s;Pr(t,"network-request-failed",{message:String(s)})}}async function t9(t,e,n,r,s={}){const i=await Wa(t,e,n,r,s);return"mfaPendingCredential"in i&&Pr(t,"multi-factor-auth-required",{_serverResponse:i}),i}async function jA(t,e,n,r){const s=`${e}${n}?${r}`,i=t,o=i.config.emulator?cw(t.config,s):`${t.config.apiScheme}://${s}`;return ZU.includes(n)&&(await i._persistenceManagerAvailable,i._getPersistenceType()==="COOKIE")?i._getPersistence()._getFinalTarget(o).toString():o}class n9{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Qn(this.auth,"network-request-failed")),e9.get())})}}function Fu(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=Qn(t,e,r);return s.customData._tokenResponse=n,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function r9(t,e){return Wa(t,"POST","/v1/accounts:delete",e)}async function ph(t,e){return Wa(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bl(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function s9(t,e=!1){const n=yt(t),r=await n.getIdToken(e),s=dw(r);ie(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:Bl(Zp(s.auth_time)),issuedAtTime:Bl(Zp(s.iat)),expirationTime:Bl(Zp(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function Zp(t){return Number(t)*1e3}function dw(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return fd("JWT malformed, contained fewer than 3 sections"),null;try{const s=jI(n);return s?JSON.parse(s):(fd("Failed to decode base64 JWT payload"),null)}catch(s){return fd("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function $1(t){const e=dw(t);return ie(e,"internal-error"),ie(typeof e.exp<"u","internal-error"),ie(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sc(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof kn&&i9(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function i9({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o9{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qg{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Bl(this.lastLoginAt),this.creationTime=Bl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mh(t){var h;const e=t.auth,n=await t.getIdToken(),r=await Sc(t,ph(e,{idToken:n}));ie(r==null?void 0:r.users.length,e,"internal-error");const s=r.users[0];t._notifyReloadListener(s);const i=(h=s.providerUserInfo)!=null&&h.length?FA(s.providerUserInfo):[],o=l9(t.providerData,i),a=t.isAnonymous,l=!(t.email&&s.passwordHash)&&!(o!=null&&o.length),u=a?l:!1,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new qg(s.createdAt,s.lastLoginAt),isAnonymous:u};Object.assign(t,d)}async function a9(t){const e=yt(t);await mh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function l9(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function FA(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function c9(t,e){const n=await VA(t,{},async()=>{const r=Fc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=await jA(t,s,"/v1/token",`key=${i}`),a=await t._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";const l={method:"POST",headers:a,body:r};return t.emulatorConfig&&ja(t.emulatorConfig.host)&&(l.credentials="include"),LA.fetch()(o,l)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function u9(t,e){return Wa(t,"POST","/v2/accounts:revokeToken",uw(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ie(e.idToken,"internal-error"),ie(typeof e.idToken<"u","internal-error"),ie(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):$1(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ie(e.length!==0,"internal-error");const n=$1(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ie(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await c9(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new Xo;return r&&(ie(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(ie(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(ie(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Xo,this.toJSON())}_performRefresh(){return Hr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ws(t,e){ie(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Hn{constructor({uid:e,auth:n,stsTokenManager:r,...s}){this.providerId="firebase",this.proactiveRefresh=new o9(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new qg(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Sc(this,this.stsTokenManager.getToken(this.auth,e));return ie(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return s9(this,e)}reload(){return a9(this)}_assign(e){this!==e&&(ie(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Hn({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){ie(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await mh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(xn(this.auth.app))return Promise.reject(Xs(this.auth));const e=await this.getIdToken();return await Sc(this,r9(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,s=n.email??void 0,i=n.phoneNumber??void 0,o=n.photoURL??void 0,a=n.tenantId??void 0,l=n._redirectEventId??void 0,u=n.createdAt??void 0,d=n.lastLoginAt??void 0,{uid:h,emailVerified:p,isAnonymous:g,providerData:T,stsTokenManager:v}=n;ie(h&&v,e,"internal-error");const x=Xo.fromJSON(this.name,v);ie(typeof h=="string",e,"internal-error"),ws(r,e.name),ws(s,e.name),ie(typeof p=="boolean",e,"internal-error"),ie(typeof g=="boolean",e,"internal-error"),ws(i,e.name),ws(o,e.name),ws(a,e.name),ws(l,e.name),ws(u,e.name),ws(d,e.name);const E=new Hn({uid:h,auth:e,email:s,emailVerified:p,displayName:r,isAnonymous:g,photoURL:o,phoneNumber:i,tenantId:a,stsTokenManager:x,createdAt:u,lastLoginAt:d});return T&&Array.isArray(T)&&(E.providerData=T.map(_=>({..._}))),l&&(E._redirectEventId=l),E}static async _fromIdTokenResponse(e,n,r=!1){const s=new Xo;s.updateFromServerResponse(n);const i=new Hn({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await mh(i),i}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];ie(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?FA(s.providerUserInfo):[],o=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),a=new Xo;a.updateFromIdToken(r);const l=new Hn({uid:s.localId,auth:e,stsTokenManager:a,isAnonymous:o}),u={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new qg(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z1=new Map;function Wr(t){rs(t instanceof Function,"Expected a class definition");let e=z1.get(t);return e?(rs(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,z1.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UA{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}UA.type="NONE";const B1=UA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pd(t,e,n){return`firebase:${t}:${e}:${n}`}class Jo{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=pd(this.userKey,s.apiKey,i),this.fullPersistenceKey=pd("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await ph(this.auth,{idToken:e}).catch(()=>{});return n?Hn._fromGetAccountInfoResponse(this.auth,n,e):null}return Hn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Jo(Wr(B1),e,r);const s=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let i=s[0]||Wr(B1);const o=pd(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const d=await u._get(o);if(d){let h;if(typeof d=="string"){const p=await ph(e,{idToken:d}).catch(()=>{});if(!p)break;h=await Hn._fromGetAccountInfoResponse(e,p,d)}else h=Hn._fromJSON(e,d);u!==i&&(a=h),i=u;break}}catch{}const l=s.filter(u=>u._shouldAllowMigration);return!i._shouldAllowMigration||!l.length?new Jo(i,e,r):(i=l[0],a&&await i._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==i)try{await u._remove(o)}catch{}})),new Jo(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H1(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(HA(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if($A(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(qA(e))return"Blackberry";if(GA(e))return"Webos";if(zA(e))return"Safari";if((e.includes("chrome/")||BA(e))&&!e.includes("edge/"))return"Chrome";if(WA(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function $A(t=Dt()){return/firefox\//i.test(t)}function zA(t=Dt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function BA(t=Dt()){return/crios\//i.test(t)}function HA(t=Dt()){return/iemobile/i.test(t)}function WA(t=Dt()){return/android/i.test(t)}function qA(t=Dt()){return/blackberry/i.test(t)}function GA(t=Dt()){return/webos/i.test(t)}function hw(t=Dt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function d9(t=Dt()){var e;return hw(t)&&!!((e=window.navigator)!=null&&e.standalone)}function h9(){return oF()&&document.documentMode===10}function KA(t=Dt()){return hw(t)||WA(t)||GA(t)||qA(t)||/windows phone/i.test(t)||HA(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QA(t,e=[]){let n;switch(t){case"Browser":n=H1(Dt());break;case"Worker":n=`${H1(Dt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Fa}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f9{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((o,a)=>{try{const l=e(i);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function p9(t,e={}){return Wa(t,"GET","/v2/passwordPolicy",uw(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m9=6;class g9{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??m9,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y9{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new W1(this),this.idTokenSubscription=new W1(this),this.beforeStateQueue=new f9(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=MA,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(i=>this._resolvePersistenceManagerAvailable=i)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Wr(n)),this._initializationPromise=this.queue(async()=>{var r,s,i;if(!this._deleted&&(this.persistenceManager=await Jo.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((s=this._popupRedirectResolver)!=null&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)==null?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await ph(this,{idToken:e}),r=await Hn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var i;if(xn(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(i=this.redirectUser)==null?void 0:i._redirectEventId,a=r==null?void 0:r._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(r=l.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return ie(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await mh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=XU()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(xn(this.app))return Promise.reject(Xs(this));const n=e?yt(e):null;return n&&ie(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ie(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return xn(this.app)?Promise.reject(Xs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return xn(this.app)?Promise.reject(Xs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Wr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await p9(this),n=new g9(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new io("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await u9(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Wr(e)||this._popupRedirectResolver;ie(n,this,"argument-error"),this.redirectPersistenceManager=await Jo.create(this,[Wr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(ie(a,this,"internal-error"),a.then(()=>{o||i(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,s);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ie(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=QA(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var s;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((s=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:s.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(xn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&KU(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function qa(t){return yt(t)}class W1{constructor(e){this.auth=e,this.observer=null,this.addObserver=hF(n=>this.observer=n)}get next(){return ie(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fw={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function v9(t){fw=t}function w9(t){return fw.loadJS(t)}function _9(){return fw.gapiScript}function E9(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x9(t,e){const n=oo(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(ni(i,e??{}))return s;Pr(s,"already-initialized")}return n.initialize({options:e})}function T9(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Wr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function S9(t,e,n){const r=qa(t);ie(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!!(n!=null&&n.disableWarnings),i=YA(e),{host:o,port:a}=b9(e),l=a===null?"":`:${a}`,u={url:`${i}//${o}${l}/`},d=Object.freeze({host:o,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){ie(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),ie(ni(u,r.config.emulator)&&ni(d,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=u,r.emulatorConfig=d,r.settings.appVerificationDisabledForTesting=!0,ja(o)?(zI(`${i}//${o}${l}`),BI("Auth",!0)):I9()}function YA(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function b9(t){const e=YA(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:q1(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:q1(o)}}}function q1(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function I9(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XA{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Hr("not implemented")}_getIdTokenResponse(e){return Hr("not implemented")}_linkToIdToken(e,n){return Hr("not implemented")}_getReauthenticationResolver(e){return Hr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zo(t,e){return t9(t,"POST","/v1/accounts:signInWithIdp",uw(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C9="http://localhost";class Zi extends XA{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Zi(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Pr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s,...i}=n;if(!r||!s)return null;const o=new Zi(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Zo(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Zo(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Zo(e,n)}buildRequest(){const e={requestUri:C9,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Fc(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rf{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gc extends Rf{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cs extends Gc{constructor(){super("facebook.com")}static credential(e){return Zi._fromParams({providerId:Cs.PROVIDER_ID,signInMethod:Cs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Cs.credentialFromTaggedObject(e)}static credentialFromError(e){return Cs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Cs.credential(e.oauthAccessToken)}catch{return null}}}Cs.FACEBOOK_SIGN_IN_METHOD="facebook.com";Cs.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $r extends Gc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Zi._fromParams({providerId:$r.PROVIDER_ID,signInMethod:$r.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return $r.credentialFromTaggedObject(e)}static credentialFromError(e){return $r.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return $r.credential(n,r)}catch{return null}}}$r.GOOGLE_SIGN_IN_METHOD="google.com";$r.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class As extends Gc{constructor(){super("github.com")}static credential(e){return Zi._fromParams({providerId:As.PROVIDER_ID,signInMethod:As.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return As.credentialFromTaggedObject(e)}static credentialFromError(e){return As.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return As.credential(e.oauthAccessToken)}catch{return null}}}As.GITHUB_SIGN_IN_METHOD="github.com";As.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rs extends Gc{constructor(){super("twitter.com")}static credential(e,n){return Zi._fromParams({providerId:Rs.PROVIDER_ID,signInMethod:Rs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Rs.credentialFromTaggedObject(e)}static credentialFromError(e){return Rs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Rs.credential(n,r)}catch{return null}}}Rs.TWITTER_SIGN_IN_METHOD="twitter.com";Rs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aa{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await Hn._fromIdTokenResponse(e,r,s),o=G1(r);return new Aa({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=G1(r);return new Aa({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function G1(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gh extends kn{constructor(e,n,r,s){super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,gh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new gh(e,n,r,s)}}function JA(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?gh._fromErrorAndOperation(t,i,e,r):i})}async function A9(t,e,n=!1){const r=await Sc(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Aa._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function R9(t,e,n=!1){const{auth:r}=t;if(xn(r.app))return Promise.reject(Xs(r));const s="reauthenticate";try{const i=await Sc(t,JA(r,s,e,t),n);ie(i.idToken,r,"internal-error");const o=dw(i.idToken);ie(o,r,"internal-error");const{sub:a}=o;return ie(t.uid===a,r,"user-mismatch"),Aa._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&Pr(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function P9(t,e,n=!1){if(xn(t.app))return Promise.reject(Xs(t));const r="signIn",s=await JA(t,r,e),i=await Aa._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}function k9(t,e,n,r){return yt(t).onIdTokenChanged(e,n,r)}function N9(t,e,n){return yt(t).beforeAuthStateChanged(e,n)}function D9(t,e,n,r){return yt(t).onAuthStateChanged(e,n,r)}function M9(t){return yt(t).signOut()}const yh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZA{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(yh,"1"),this.storage.removeItem(yh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O9=1e3,L9=10;class eR extends ZA{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=KA(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);h9()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,L9):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},O9)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}eR.type="LOCAL";const V9=eR;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tR extends ZA{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}tR.type="SESSION";const nR=tR;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j9(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new Pf(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const a=Array.from(o).map(async u=>u(n.origin,i)),l=await j9(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Pf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pw(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F9{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((a,l)=>{const u=pw("",20);s.port1.start();const d=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(h){const p=h;if(p.data.eventId===u)switch(p.data.status){case"ack":clearTimeout(d),i=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(p.data.response);break;default:clearTimeout(d),clearTimeout(i),l(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ir(){return window}function U9(t){Ir().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rR(){return typeof Ir().WorkerGlobalScope<"u"&&typeof Ir().importScripts=="function"}async function $9(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function z9(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function B9(){return rR()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sR="firebaseLocalStorageDb",H9=1,vh="firebaseLocalStorage",iR="fbase_key";class Kc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function kf(t,e){return t.transaction([vh],e?"readwrite":"readonly").objectStore(vh)}function W9(){const t=indexedDB.deleteDatabase(sR);return new Kc(t).toPromise()}function Gg(){const t=indexedDB.open(sR,H9);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(vh,{keyPath:iR})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(vh)?e(r):(r.close(),await W9(),e(await Gg()))})})}async function K1(t,e,n){const r=kf(t,!0).put({[iR]:e,value:n});return new Kc(r).toPromise()}async function q9(t,e){const n=kf(t,!1).get(e),r=await new Kc(n).toPromise();return r===void 0?null:r.value}function Q1(t,e){const n=kf(t,!0).delete(e);return new Kc(n).toPromise()}const G9=800,K9=3;class oR{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Gg(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>K9)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return rR()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Pf._getInstance(B9()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await $9(),!this.activeServiceWorker)return;this.sender=new F9(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||z9()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Gg();return await K1(e,yh,"1"),await Q1(e,yh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>K1(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>q9(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Q1(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=kf(s,!1).getAll();return new Kc(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),G9)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}oR.type="LOCAL";const Q9=oR;new qc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mw(t,e){return e?Wr(e):(ie(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gw extends XA{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Zo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Zo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Zo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function Y9(t){return P9(t.auth,new gw(t),t.bypassAuthState)}function X9(t){const{auth:e,user:n}=t;return ie(n,e,"internal-error"),R9(n,new gw(t),t.bypassAuthState)}async function J9(t){const{auth:e,user:n}=t;return ie(n,e,"internal-error"),A9(n,new gw(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aR{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Y9;case"linkViaPopup":case"linkViaRedirect":return J9;case"reauthViaPopup":case"reauthViaRedirect":return X9;default:Pr(this.auth,"internal-error")}}resolve(e){rs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){rs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z9=new qc(2e3,1e4);async function e$(t,e,n){if(xn(t.app))return Promise.reject(Qn(t,"operation-not-supported-in-this-environment"));const r=qa(t);OA(t,e,Rf);const s=mw(r,n);return new Pi(r,"signInViaPopup",e,s).executeNotNull()}class Pi extends aR{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,Pi.currentPopupAction&&Pi.currentPopupAction.cancel(),Pi.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ie(e,this.auth,"internal-error"),e}async onExecution(){rs(this.filter.length===1,"Popup operations only handle one event");const e=pw();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Qn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(Qn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Pi.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Qn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Z9.get())};e()}}Pi.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t$="pendingRedirect",md=new Map;class n$ extends aR{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=md.get(this.auth._key());if(!e){try{const r=await r$(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}md.set(this.auth._key(),e)}return this.bypassAuthState||md.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function r$(t,e){const n=cR(e),r=lR(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}async function s$(t,e){return lR(t)._set(cR(e),"true")}function i$(t,e){md.set(t._key(),e)}function lR(t){return Wr(t._redirectPersistence)}function cR(t){return pd(t$,t.config.apiKey,t.name)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o$(t,e,n){return a$(t,e,n)}async function a$(t,e,n){if(xn(t.app))return Promise.reject(Xs(t));const r=qa(t);OA(t,e,Rf),await r._initializationPromise;const s=mw(r,n);return await s$(s,r),s._openRedirect(r,e,"signInViaRedirect")}async function l$(t,e){return await qa(t)._initializationPromise,uR(t,e,!1)}async function uR(t,e,n=!1){if(xn(t.app))return Promise.reject(Xs(t));const r=qa(t),s=mw(r,e),o=await new n$(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c$=10*60*1e3;class u${constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!d$(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!dR(e)){const s=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(Qn(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=c$&&this.cachedEventUids.clear(),this.cachedEventUids.has(Y1(e))}saveEventToCache(e){this.cachedEventUids.add(Y1(e)),this.lastProcessedEventTime=Date.now()}}function Y1(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function dR({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function d$(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return dR(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function h$(t,e={}){return Wa(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f$=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,p$=/^https?/;async function m$(t){if(t.config.emulator)return;const{authorizedDomains:e}=await h$(t);for(const n of e)try{if(g$(n))return}catch{}Pr(t,"unauthorized-domain")}function g$(t){const e=Wg(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!p$.test(n))return!1;if(f$.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y$=new qc(3e4,6e4);function X1(){const t=Ir().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function v$(t){return new Promise((e,n)=>{var s,i,o;function r(){X1(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{X1(),n(Qn(t,"network-request-failed"))},timeout:y$.get()})}if((i=(s=Ir().gapi)==null?void 0:s.iframes)!=null&&i.Iframe)e(gapi.iframes.getContext());else if((o=Ir().gapi)!=null&&o.load)r();else{const a=E9("iframefcb");return Ir()[a]=()=>{gapi.load?r():n(Qn(t,"network-request-failed"))},w9(`${_9()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw gd=null,e})}let gd=null;function w$(t){return gd=gd||v$(t),gd}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _$=new qc(5e3,15e3),E$="__/auth/iframe",x$="emulator/auth/iframe",T$={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},S$=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function b$(t){const e=t.config;ie(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?cw(e,x$):`https://${t.config.authDomain}/${E$}`,r={apiKey:e.apiKey,appName:t.name,v:Fa},s=S$.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${Fc(r).slice(1)}`}async function I$(t){const e=await w$(t),n=Ir().gapi;return ie(n,t,"internal-error"),e.open({where:document.body,url:b$(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:T$,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=Qn(t,"network-request-failed"),a=Ir().setTimeout(()=>{i(o)},_$.get());function l(){Ir().clearTimeout(a),s(r)}r.ping(l).then(l,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C$={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},A$=500,R$=600,P$="_blank",k$="http://localhost";class J1{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function N$(t,e,n,r=A$,s=R$){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l={...C$,width:r.toString(),height:s.toString(),top:i,left:o},u=Dt().toLowerCase();n&&(a=BA(u)?P$:n),$A(u)&&(e=e||k$,l.scrollbars="yes");const d=Object.entries(l).reduce((p,[g,T])=>`${p}${g}=${T},`,"");if(d9(u)&&a!=="_self")return D$(e||"",a),new J1(null);const h=window.open(e||"",a,d);ie(h,t,"popup-blocked");try{h.focus()}catch{}return new J1(h)}function D$(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M$="__/auth/handler",O$="emulator/auth/handler",L$=encodeURIComponent("fac");async function Z1(t,e,n,r,s,i){ie(t.config.authDomain,t,"auth-domain-config-required"),ie(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Fa,eventId:s};if(e instanceof Rf){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",dF(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,h]of Object.entries({}))o[d]=h}if(e instanceof Gc){const d=e.getScopes().filter(h=>h!=="");d.length>0&&(o.scopes=d.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const d of Object.keys(a))a[d]===void 0&&delete a[d];const l=await t._getAppCheckToken(),u=l?`#${L$}=${encodeURIComponent(l)}`:"";return`${V$(t)}?${Fc(a).slice(1)}${u}`}function V$({config:t}){return t.emulator?cw(t,O$):`https://${t.authDomain}/${M$}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const em="webStorageSupport";class j${constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=nR,this._completeRedirectFn=uR,this._overrideRedirectResult=i$}async _openPopup(e,n,r,s){var o;rs((o=this.eventManagers[e._key()])==null?void 0:o.manager,"_initialize() not called before _openPopup()");const i=await Z1(e,n,r,Wg(),s);return N$(e,i,pw())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await Z1(e,n,r,Wg(),s);return U9(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(rs(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await I$(e),r=new u$(e);return n.register("authEvent",s=>(ie(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(em,{type:em},s=>{var o;const i=(o=s==null?void 0:s[0])==null?void 0:o[em];i!==void 0&&n(!!i),Pr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=m$(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return KA()||zA()||hw()}}const F$=j$;var ex="@firebase/auth",tx="1.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U${constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ie(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $$(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function z$(t){Ar(new Zn("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;ie(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:QA(t)},u=new y9(r,s,i,l);return T9(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Ar(new Zn("auth-internal",e=>{const n=qa(e.getProvider("auth").getImmediate());return(r=>new U$(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Cn(ex,tx,$$(t)),Cn(ex,tx,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B$=5*60,H$=$I("authIdTokenMaxAge")||B$;let nx=null;const W$=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>H$)return;const s=n==null?void 0:n.token;nx!==s&&(nx=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function q$(t=Ev()){const e=oo(t,"auth");if(e.isInitialized())return e.getImmediate();const n=x9(t,{popupRedirectResolver:F$,persistence:[Q9,V9,nR]}),r=$I("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const o=W$(i.toString());N9(n,o,()=>o(n.currentUser)),k9(n,a=>o(a))}}const s=FI("auth");return s&&S9(n,`http://${s}`),n}function G$(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}v9({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=Qn("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",G$().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});z$("Browser");var K$="firebase",Q$="12.9.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Cn(K$,Q$,"app");const hR="@firebase/installations",yw="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fR=1e4,pR=`w:${yw}`,mR="FIS_v2",Y$="https://firebaseinstallations.googleapis.com/v1",X$=60*60*1e3,J$="installations",Z$="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ez={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},eo=new io(J$,Z$,ez);function gR(t){return t instanceof kn&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yR({projectId:t}){return`${Y$}/projects/${t}/installations`}function vR(t){return{token:t.token,requestStatus:2,expiresIn:nz(t.expiresIn),creationTime:Date.now()}}async function wR(t,e){const r=(await e.json()).error;return eo.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function _R({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function tz(t,{refreshToken:e}){const n=_R(t);return n.append("Authorization",rz(e)),n}async function ER(t){const e=await t();return e.status>=500&&e.status<600?t():e}function nz(t){return Number(t.replace("s","000"))}function rz(t){return`${mR} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sz({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=yR(t),s=_R(t),i=e.getImmediate({optional:!0});if(i){const u=await i.getHeartbeatsHeader();u&&s.append("x-firebase-client",u)}const o={fid:n,authVersion:mR,appId:t.appId,sdkVersion:pR},a={method:"POST",headers:s,body:JSON.stringify(o)},l=await ER(()=>fetch(r,a));if(l.ok){const u=await l.json();return{fid:u.fid||n,registrationStatus:2,refreshToken:u.refreshToken,authToken:vR(u.authToken)}}else throw await wR("Create Installation",l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xR(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iz(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oz=/^[cdef][\w-]{21}$/,Kg="";function az(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=lz(t);return oz.test(n)?n:Kg}catch{return Kg}}function lz(t){return iz(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nf(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TR=new Map;function SR(t,e){const n=Nf(t);bR(n,e),cz(n,e)}function bR(t,e){const n=TR.get(t);if(n)for(const r of n)r(e)}function cz(t,e){const n=uz();n&&n.postMessage({key:t,fid:e}),dz()}let ki=null;function uz(){return!ki&&"BroadcastChannel"in self&&(ki=new BroadcastChannel("[Firebase] FID Change"),ki.onmessage=t=>{bR(t.data.key,t.data.fid)}),ki}function dz(){TR.size===0&&ki&&(ki.close(),ki=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hz="firebase-installations-database",fz=1,to="firebase-installations-store";let tm=null;function vw(){return tm||(tm=GI(hz,fz,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(to)}}})),tm}async function wh(t,e){const n=Nf(t),s=(await vw()).transaction(to,"readwrite"),i=s.objectStore(to),o=await i.get(n);return await i.put(e,n),await s.done,(!o||o.fid!==e.fid)&&SR(t,e.fid),e}async function IR(t){const e=Nf(t),r=(await vw()).transaction(to,"readwrite");await r.objectStore(to).delete(e),await r.done}async function Df(t,e){const n=Nf(t),s=(await vw()).transaction(to,"readwrite"),i=s.objectStore(to),o=await i.get(n),a=e(o);return a===void 0?await i.delete(n):await i.put(a,n),await s.done,a&&(!o||o.fid!==a.fid)&&SR(t,a.fid),a}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ww(t){let e;const n=await Df(t.appConfig,r=>{const s=pz(r),i=mz(t,s);return e=i.registrationPromise,i.installationEntry});return n.fid===Kg?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function pz(t){const e=t||{fid:az(),registrationStatus:0};return CR(e)}function mz(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const s=Promise.reject(eo.create("app-offline"));return{installationEntry:e,registrationPromise:s}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=gz(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:yz(t)}:{installationEntry:e}}async function gz(t,e){try{const n=await sz(t,e);return wh(t.appConfig,n)}catch(n){throw gR(n)&&n.customData.serverCode===409?await IR(t.appConfig):await wh(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function yz(t){let e=await rx(t.appConfig);for(;e.registrationStatus===1;)await xR(100),e=await rx(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await ww(t);return r||n}return e}function rx(t){return Df(t,e=>{if(!e)throw eo.create("installation-not-found");return CR(e)})}function CR(t){return vz(t)?{fid:t.fid,registrationStatus:0}:t}function vz(t){return t.registrationStatus===1&&t.registrationTime+fR<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wz({appConfig:t,heartbeatServiceProvider:e},n){const r=_z(t,n),s=tz(t,n),i=e.getImmediate({optional:!0});if(i){const u=await i.getHeartbeatsHeader();u&&s.append("x-firebase-client",u)}const o={installation:{sdkVersion:pR,appId:t.appId}},a={method:"POST",headers:s,body:JSON.stringify(o)},l=await ER(()=>fetch(r,a));if(l.ok){const u=await l.json();return vR(u)}else throw await wR("Generate Auth Token",l)}function _z(t,{fid:e}){return`${yR(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _w(t,e=!1){let n;const r=await Df(t.appConfig,i=>{if(!AR(i))throw eo.create("not-registered");const o=i.authToken;if(!e&&Tz(o))return i;if(o.requestStatus===1)return n=Ez(t,e),i;{if(!navigator.onLine)throw eo.create("app-offline");const a=bz(i);return n=xz(t,a),a}});return n?await n:r.authToken}async function Ez(t,e){let n=await sx(t.appConfig);for(;n.authToken.requestStatus===1;)await xR(100),n=await sx(t.appConfig);const r=n.authToken;return r.requestStatus===0?_w(t,e):r}function sx(t){return Df(t,e=>{if(!AR(e))throw eo.create("not-registered");const n=e.authToken;return Iz(n)?{...e,authToken:{requestStatus:0}}:e})}async function xz(t,e){try{const n=await wz(t,e),r={...e,authToken:n};return await wh(t.appConfig,r),n}catch(n){if(gR(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await IR(t.appConfig);else{const r={...e,authToken:{requestStatus:0}};await wh(t.appConfig,r)}throw n}}function AR(t){return t!==void 0&&t.registrationStatus===2}function Tz(t){return t.requestStatus===2&&!Sz(t)}function Sz(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+X$}function bz(t){const e={requestStatus:1,requestTime:Date.now()};return{...t,authToken:e}}function Iz(t){return t.requestStatus===1&&t.requestTime+fR<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cz(t){const e=t,{installationEntry:n,registrationPromise:r}=await ww(e);return r?r.catch(console.error):_w(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Az(t,e=!1){const n=t;return await Rz(n),(await _w(n,e)).token}async function Rz(t){const{registrationPromise:e}=await ww(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pz(t){if(!t||!t.options)throw nm("App Configuration");if(!t.name)throw nm("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw nm(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function nm(t){return eo.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RR="installations",kz="installations-internal",Nz=t=>{const e=t.getProvider("app").getImmediate(),n=Pz(e),r=oo(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},Dz=t=>{const e=t.getProvider("app").getImmediate(),n=oo(e,RR).getImmediate();return{getId:()=>Cz(n),getToken:s=>Az(n,s)}};function Mz(){Ar(new Zn(RR,Nz,"PUBLIC")),Ar(new Zn(kz,Dz,"PRIVATE"))}Mz();Cn(hR,yw);Cn(hR,yw,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _h="analytics",Oz="firebase_id",Lz="origin",Vz=60*1e3,jz="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Ew="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ft=new df("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fz={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},dn=new io("analytics","Analytics",Fz);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uz(t){if(!t.startsWith(Ew)){const e=dn.create("invalid-gtag-resource",{gtagURL:t});return Ft.warn(e.message),""}return t}function PR(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function $z(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function zz(t,e){const n=$z("firebase-js-sdk-policy",{createScriptURL:Uz}),r=document.createElement("script"),s=`${Ew}?l=${t}&id=${e}`;r.src=n?n==null?void 0:n.createScriptURL(s):s,r.async=!0,document.head.appendChild(r)}function Bz(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function Hz(t,e,n,r,s,i){const o=r[s];try{if(o)await e[o];else{const l=(await PR(n)).find(u=>u.measurementId===s);l&&await e[l.appId]}}catch(a){Ft.error(a)}t("config",s,i)}async function Wz(t,e,n,r,s){try{let i=[];if(s&&s.send_to){let o=s.send_to;Array.isArray(o)||(o=[o]);const a=await PR(n);for(const l of o){const u=a.find(h=>h.measurementId===l),d=u&&e[u.appId];if(d)i.push(d);else{i=[];break}}}i.length===0&&(i=Object.values(e)),await Promise.all(i),t("event",r,s||{})}catch(i){Ft.error(i)}}function qz(t,e,n,r){async function s(i,...o){try{if(i==="event"){const[a,l]=o;await Wz(t,e,n,a,l)}else if(i==="config"){const[a,l]=o;await Hz(t,e,n,r,a,l)}else if(i==="consent"){const[a,l]=o;t("consent",a,l)}else if(i==="get"){const[a,l,u]=o;t("get",a,l,u)}else if(i==="set"){const[a]=o;t("set",a)}else t(i,...o)}catch(a){Ft.error(a)}}return s}function Gz(t,e,n,r,s){let i=function(...o){window[r].push(arguments)};return window[s]&&typeof window[s]=="function"&&(i=window[s]),window[s]=qz(i,t,e,n),{gtagCore:i,wrappedGtag:window[s]}}function Kz(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(Ew)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qz=30,Yz=1e3;class Xz{constructor(e={},n=Yz){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const kR=new Xz;function Jz(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function Zz(t){var o;const{appId:e,apiKey:n}=t,r={method:"GET",headers:Jz(n)},s=jz.replace("{app-id}",e),i=await fetch(s,r);if(i.status!==200&&i.status!==304){let a="";try{const l=await i.json();(o=l.error)!=null&&o.message&&(a=l.error.message)}catch{}throw dn.create("config-fetch-failed",{httpStatus:i.status,responseMessage:a})}return i.json()}async function eB(t,e=kR,n){const{appId:r,apiKey:s,measurementId:i}=t.options;if(!r)throw dn.create("no-app-id");if(!s){if(i)return{measurementId:i,appId:r};throw dn.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new rB;return setTimeout(async()=>{a.abort()},Vz),NR({appId:r,apiKey:s,measurementId:i},o,a,e)}async function NR(t,{throttleEndTimeMillis:e,backoffCount:n},r,s=kR){var a;const{appId:i,measurementId:o}=t;try{await tB(r,e)}catch(l){if(o)return Ft.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${l==null?void 0:l.message}]`),{appId:i,measurementId:o};throw l}try{const l=await Zz(t);return s.deleteThrottleMetadata(i),l}catch(l){const u=l;if(!nB(u)){if(s.deleteThrottleMetadata(i),o)return Ft.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${u==null?void 0:u.message}]`),{appId:i,measurementId:o};throw l}const d=Number((a=u==null?void 0:u.customData)==null?void 0:a.httpStatus)===503?kE(n,s.intervalMillis,Qz):kE(n,s.intervalMillis),h={throttleEndTimeMillis:Date.now()+d,backoffCount:n+1};return s.setThrottleMetadata(i,h),Ft.debug(`Calling attemptFetch again in ${d} millis`),NR(t,h,r,s)}}function tB(t,e){return new Promise((n,r)=>{const s=Math.max(e-Date.now(),0),i=setTimeout(n,s);t.addEventListener(()=>{clearTimeout(i),r(dn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function nB(t){if(!(t instanceof kn)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class rB{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function sB(t,e,n,r,s){if(s&&s.global){t("event",n,r);return}else{const i=await e,o={...r,send_to:i};t("event",n,o)}}async function iB(t,e,n,r){if(r&&r.global){const s={};for(const i of Object.keys(n))s[`user_properties.${i}`]=n[i];return t("set",s),Promise.resolve()}else{const s=await e;t("config",s,{update:!0,user_properties:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oB(){if(vv())try{await wv()}catch(t){return Ft.warn(dn.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return Ft.warn(dn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function aB(t,e,n,r,s,i,o){const a=eB(t);a.then(p=>{n[p.measurementId]=p.appId,t.options.measurementId&&p.measurementId!==t.options.measurementId&&Ft.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${p.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(p=>Ft.error(p)),e.push(a);const l=oB().then(p=>{if(p)return r.getId()}),[u,d]=await Promise.all([a,l]);Kz(i)||zz(i,u.measurementId),s("js",new Date);const h=(o==null?void 0:o.config)??{};return h[Lz]="firebase",h.update=!0,d!=null&&(h[Oz]=d),s("config",u.measurementId,h),u.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lB{constructor(e){this.app=e}_delete(){return delete ea[this.app.options.appId],Promise.resolve()}}let ea={},ix=[];const ox={};let rm="dataLayer",cB="gtag",ax,xw,lx=!1;function uB(){const t=[];if(yv()&&t.push("This is a browser extension environment."),HI()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,s)=>`(${s+1}) ${r}`).join(" "),n=dn.create("invalid-analytics-context",{errorInfo:e});Ft.warn(n.message)}}function dB(t,e,n){uB();const r=t.options.appId;if(!r)throw dn.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)Ft.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw dn.create("no-api-key");if(ea[r]!=null)throw dn.create("already-exists",{id:r});if(!lx){Bz(rm);const{wrappedGtag:i,gtagCore:o}=Gz(ea,ix,ox,rm,cB);xw=i,ax=o,lx=!0}return ea[r]=aB(t,ix,ox,e,ax,rm,n),new lB(t)}function hB(t=Ev()){t=yt(t);const e=oo(t,_h);return e.isInitialized()?e.getImmediate():fB(t)}function fB(t,e={}){const n=oo(t,_h);if(n.isInitialized()){const s=n.getImmediate();if(ni(e,n.getOptions()))return s;throw dn.create("already-initialized")}return n.initialize({options:e})}async function pB(){if(yv()||!HI()||!vv())return!1;try{return await wv()}catch{return!1}}function mB(t,e,n){t=yt(t),iB(xw,ea[t.app.options.appId],e,n).catch(r=>Ft.error(r))}function DR(t,e,n,r){t=yt(t),sB(xw,ea[t.app.options.appId],e,n,r).catch(s=>Ft.error(s))}const cx="@firebase/analytics",ux="0.10.19";function gB(){Ar(new Zn(_h,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("installations-internal").getImmediate();return dB(r,s,n)},"PUBLIC")),Ar(new Zn("analytics-internal",t,"PRIVATE")),Cn(cx,ux),Cn(cx,ux,"esm2020");function t(e){try{const n=e.getProvider(_h).getImmediate();return{logEvent:(r,s,i)=>DR(n,r,s,i),setUserProperties:(r,s)=>mB(n,r,s)}}catch(n){throw dn.create("interop-component-reg-failed",{reason:n})}}}gB();const yB={apiKey:"AIzaSyBYn8Cm6HMheXYXq-mK6VrjAiuvgoaTODM",authDomain:"letsgokings-369ea.firebaseapp.com",projectId:"letsgokings-369ea",storageBucket:"letsgokings-369ea.firebasestorage.app",messagingSenderId:"488277685860",appId:"1:488277685860:web:78ec0ade64cc4d563e5171",measurementId:"G-HW520HE04S"},Tw=KI(yB),Hl=q$(Tw),at=RU(Tw),Eh=new $r,MR=pB().then(t=>t?hB(Tw):null);Eh.addScope("profile");Eh.addScope("email");let Uu=null;const vB=async()=>Uu||(Uu=await MR,Uu),zt=async t=>{try{const e=await vB();e&&DR(e,t.name,t.params)}catch(e){console.error("[Analytics] Error tracking event:",e)}},wB=t=>{zt({name:"login",params:{method:t}})},_B=t=>{zt({name:"logout",params:{user_type:t}})},dx=t=>{zt({name:"sign_up",params:{method:t}})},EB=t=>{zt({name:"challenge_started",params:{user_type:t}})},xB=(t,e)=>{zt({name:"relapse_reported",params:{streak_days:t,user_type:e}})},OR=(t,e,n)=>{zt({name:"auto_relapse",params:{streak_days:t,hours_inactive:e,user_type:n}})},TB=(t,e)=>{zt({name:"streak_confirmed",params:{streak_days:t,user_type:e}})},SB=t=>{zt({name:"feedback_submitted",params:{user_type:t}})},bB=t=>{zt({name:"leaderboard_viewed",params:{user_type:t}})},IB=t=>{zt({name:"rules_viewed",params:{user_type:t}})},hx=t=>{zt({name:"live_chat_viewed",params:{user_type:t}})},CB=t=>{zt({name:"app_install_clicked",params:{platform:t}})},AB=t=>{zt({name:"media_modal_opened",params:{user_type:t}})},RB=(t,e,n)=>{zt({name:"video_started",params:{video_id:t,video_title:e,user_type:n}})},$u=(t,e,n,r)=>{zt({name:"video_watch_time",params:{video_id:t,video_title:e,watch_duration_seconds:n,user_type:r}})},Sw="guest_credentials",fx=t=>{if(!t.relapseTime)return!1;const e=new Date(t.relapseTime);return(new Date().getTime()-e.getTime())/(1e3*60*60*24)<=3},LR=y.createContext(void 0),Si="users",Ss="guests",PB="feedback",Ra="letsgokings_guest_id",bw="letsgokings_guest_username",kB=()=>{let t=localStorage.getItem(Ra);return t||(t="guest_"+Date.now()+"_"+Math.random().toString(36).substr(2,9),localStorage.setItem(Ra,t)),t},NB=()=>localStorage.getItem(Ra),DB=async t=>{try{const e=hh(Ca(at,Sw),zU("username","==",t.toLowerCase()));return!(await PA(e)).empty}catch(e){return console.error("Error checking username:",e),!1}},MB=async(t,e,n)=>{try{if(await DB(t))return{success:!1,error:"Username already exists. Please choose a different one."};const s="guest_"+Date.now()+"_"+Math.random().toString(36).substr(2,9),i={username:t.toLowerCase(),password:e,guestId:s,createdAt:Ie.now()};return await Yo(Kt(at,Sw,t.toLowerCase()),i),localStorage.setItem(Ra,s),localStorage.setItem(bw,t.toLowerCase()),{success:!0,user:{id:s,name:t,isGuest:!0,photoUrl:n}}}catch(r){return console.error("Error registering guest:",r),{success:!1,error:"Failed to register. Please try again."}}},OB=async(t,e)=>{try{const n=await Ri(Kt(at,Sw,t.toLowerCase()));if(!n.exists())return{success:!1,error:"Username not found. Please register first."};const r=n.data();if(r.password!==e)return{success:!1,error:"Invalid password."};localStorage.setItem(Ra,r.guestId),localStorage.setItem(bw,t.toLowerCase());const s=await Ri(Kt(at,Ss,r.guestId));return s.exists()?{success:!0,user:s.data().user}:{success:!0,user:{id:r.guestId,name:t,isGuest:!0}}}catch(n){return console.error("Error checking guest credentials:",n),{success:!1,error:"Failed to login. Please try again."}}},yd=t=>{if(!(t!=null&&t.startDate)||!t.isActive)return 0;const e=new Date(t.startDate),r=Math.abs(new Date().getTime()-e.getTime());return Math.floor(r/(1e3*60*60*24))},LB=t=>{if(!t||t.isActive)return!1;const e=new Date(t.lastUpdateTime);return(new Date().getTime()-e.getTime())/(1e3*60*60)>24},VR=t=>{if(!t||!t.isActive||!t.startDate)return{shouldRelapse:!1,hoursInactive:0};if(t.exempt)return{shouldRelapse:!1,hoursInactive:0};const e=new Date(t.lastUpdateTime),r=(new Date().getTime()-e.getTime())/(1e3*60*60);return{shouldRelapse:r>=24,hoursInactive:Math.floor(r)}},px=async t=>{let e=0;try{const n=await PA(Ca(at,t));for(const r of n.docs){const s=r.data(),{shouldRelapse:i,hoursInactive:o}=VR(s.streak);if(i){const a=yd(s.streak),l={userId:s.streak.userId,startDate:null,isActive:!1,lastUpdateTime:new Date().toISOString(),relapseTime:new Date().toISOString(),previousStartDate:s.streak.startDate};await Yo(Kt(at,t,s.user.id),{user:s.user,streak:l,updatedAt:Ie.now()}),OR(a,o,s.user.isGuest?"guest":"google"),console.log(`Auto-relapsed ${s.user.name} after ${o} hours of inactivity`),e++}}}catch(n){console.error(`Error processing auto-relapse for ${t}:`,n)}return e},VB=async()=>{console.log("Running client-side auto-relapse check...");const[t,e]=await Promise.all([px(Si),px(Ss)]);t+e>0&&console.log(`Auto-relapse complete: ${t} users, ${e} guests relapsed`)},jB=({children:t})=>{const[e,n]=y.useState(null),[r,s]=y.useState(null),[i,o]=y.useState([]),[a,l]=y.useState(!0);y.useEffect(()=>{const E=D9(Hl,async _=>{if(_){const S={id:_.uid,name:_.displayName||"Warrior",email:_.email||void 0,photoUrl:_.photoURL||void 0,isGuest:!1};n(S);try{const C=await Ri(Kt(at,Si,S.id));if(C.exists()){const D=C.data();s(D.streak)}}catch(C){console.error("Error fetching user data:",C)}}else n(null),s(null);l(!1)});return()=>E()},[]),y.useEffect(()=>{VB()},[]),y.useEffect(()=>{const E=hh(Ca(at,Si)),_=hh(Ca(at,Ss));let S=[],C=[];const D=()=>{const A=[...S,...C].filter(P=>!LB(P.streak));A.sort((P,N)=>{if(N.daysCount!==P.daysCount)return N.daysCount-P.daysCount;const M=P.streak.startDate?new Date(P.streak.startDate).getTime():1/0,k=N.streak.startDate?new Date(N.streak.startDate).getTime():1/0;return M-k}),o(A)},O=Hg(E,b=>{S=[],b.forEach(A=>{const P=A.data();S.push({user:P.user,streak:P.streak,daysCount:yd(P.streak),isRecentlyRelapsed:fx(P.streak)})}),D(),l(!1)},b=>{console.error("Error fetching users leaderboard:",b),l(!1)}),I=Hg(_,b=>{C=[],b.forEach(A=>{const P=A.data();C.push({user:P.user,streak:P.streak,daysCount:yd(P.streak),isRecentlyRelapsed:fx(P.streak)})}),D(),l(!1)},b=>{console.error("Error fetching guests leaderboard:",b),l(!1)});return()=>{O(),I()}},[]),y.useEffect(()=>{if(!e)return;(async()=>{try{const _=e.isGuest?Ss:Si,S=await Ri(Kt(at,_,e.id));if(S.exists()){const C=S.data();s(C.streak)}}catch(_){console.error("Error fetching user data:",_)}})()},[e]),y.useEffect(()=>{a||(async()=>{if(e)return;const _=NB();if(_)try{const S=await Ri(Kt(at,Ss,_));if(S.exists()){const C=S.data();n(C.user),s(C.streak)}}catch(S){console.error("Error restoring guest session:",S)}})()},[a,e]),y.useEffect(()=>{if(!e||!r)return;const{shouldRelapse:E,hoursInactive:_}=VR(r);if(!E)return;(async()=>{const C=yd(r),D={userId:e.id,startDate:null,isActive:!1,lastUpdateTime:new Date().toISOString(),relapseTime:new Date().toISOString(),previousStartDate:r.startDate};s(D);const O=e.isGuest?Ss:Si;try{const I={user:e,streak:D,updatedAt:Ie.now()};await Yo(Kt(at,O,e.id),I),OR(C,_,e.isGuest?"guest":"google"),console.log(`Auto-relapsed user after ${_} hours of inactivity`)}catch(I){console.error("Error saving auto-relapse to Firestore:",I)}})()},[e,r]);const u=()=>{if(!(r!=null&&r.startDate)||!r.isActive)return 0;const E=new Date(r.startDate),S=Math.abs(new Date().getTime()-E.getTime());return Math.floor(S/(1e3*60*60*24))},d=async(E,_)=>{const S=E.isGuest?Ss:Si;try{const D={user:{id:E.id,name:E.name,isGuest:E.isGuest,...E.email&&{email:E.email},...E.photoUrl&&{photoUrl:E.photoUrl}},streak:_,updatedAt:Ie.now()};await Yo(Kt(at,S,E.id),D)}catch(C){console.error("Error saving to Firestore:",C)}},h=async E=>{const _=E.isGuest?{...E,id:kB()}:E;n(_);const S=_.isGuest?Ss:Si;try{const C=await Ri(Kt(at,S,_.id));if(C.exists()){const D=C.data();s(D.streak),await d(_,D.streak),wB(_.isGuest?"guest":"google")}else if(_.isGuest){const D={userId:_.id,startDate:null,isActive:!1,lastUpdateTime:new Date().toISOString()};s(D),dx("guest")}else dx("google")}catch(C){console.error("Error during login:",C)}},p=async()=>{try{const E=e!=null&&e.isGuest?"guest":"google";e&&!e.isGuest&&await M9(Hl),e!=null&&e.isGuest&&(localStorage.removeItem(Ra),localStorage.removeItem(bw)),_B(E),n(null),s(null)}catch(E){console.error("Error signing out:",E)}},g=async()=>{if(!e)return;const E={userId:e.id,startDate:new Date().toISOString(),isActive:!0,lastUpdateTime:new Date().toISOString(),relapseTime:(r==null?void 0:r.relapseTime)||null,previousStartDate:(r==null?void 0:r.previousStartDate)||null};s(E),await d(e,E),EB(e.isGuest?"guest":"google")},T=async()=>{if(!e)return;const E=u(),_={userId:e.id,startDate:null,isActive:!1,lastUpdateTime:new Date().toISOString(),relapseTime:new Date().toISOString(),previousStartDate:(r==null?void 0:r.startDate)||null};s(_),await d(e,_),xB(E,e.isGuest?"guest":"google")},v=async()=>{if(!e||!r)return;const E=u(),_={...r,lastUpdateTime:new Date().toISOString()};s(_),await d(e,_),TB(E,e.isGuest?"guest":"google")},x=async E=>{if(!e||!E.trim())return!1;try{const _=`${e.id}_${Date.now()}`,S={userId:e.id,userName:e.name,isGuest:e.isGuest,message:E.trim(),createdAt:Ie.now()};return await Yo(Kt(at,PB,_),S),SB(e.isGuest?"guest":"google"),!0}catch(_){return console.error("Error submitting feedback:",_),!1}};return f.jsx(LR.Provider,{value:{currentUser:e,streakData:r,leaderboard:i,isLoading:a,login:h,logout:p,startChallenge:g,relapse:T,confirmActive:v,getDaysCount:u,submitFeedback:x},children:t})},hi=()=>{const t=y.useContext(LR);if(!t)throw new Error("useApp must be used within an AppProvider");return t},jR=y.createContext(void 0),mx="letsGoKings_theme",FB=({children:t})=>{const[e,n]=y.useState(()=>localStorage.getItem(mx)||"dark");y.useEffect(()=>{const s=document.documentElement;e==="light"?s.classList.add("light"):s.classList.remove("light"),localStorage.setItem(mx,e)},[e]);const r=()=>{n(s=>s==="dark"?"light":"dark")};return f.jsx(jR.Provider,{value:{theme:e,toggleTheme:r},children:t})},UB=()=>{const t=y.useContext(jR);if(!t)throw new Error("useTheme must be used within a ThemeProvider");return t},Iw=tv("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),tt=y.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...s},i)=>{const o=r?mM:"button";return f.jsx(o,{className:me(Iw({variant:e,size:n,className:t})),ref:i,...s})});tt.displayName="Button";const xh=y.forwardRef(({className:t,type:e,...n},r)=>f.jsx("input",{type:e,className:me("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));xh.displayName="Input";const $B=tv("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),vd=y.forwardRef(({className:t,variant:e,...n},r)=>f.jsx("div",{ref:r,role:"alert",className:me($B({variant:e}),t),...n}));vd.displayName="Alert";const zB=y.forwardRef(({className:t,...e},n)=>f.jsx("h5",{ref:n,className:me("mb-1 font-medium leading-none tracking-tight",t),...e}));zB.displayName="AlertTitle";const wd=y.forwardRef(({className:t,...e},n)=>f.jsx("div",{ref:n,className:me("text-sm [&_p]:leading-relaxed",t),...e}));wd.displayName="AlertDescription";const BB=(t,e=150)=>new Promise((n,r)=>{const s=new FileReader;s.onload=i=>{var a;const o=new Image;o.onload=()=>{const l=document.createElement("canvas");let{width:u,height:d}=o;u>d?u>e&&(d=d*e/u,u=e):d>e&&(u=u*e/d,d=e),l.width=u,l.height=d;const h=l.getContext("2d");if(!h){r(new Error("Could not get canvas context"));return}h.drawImage(o,0,0,u,d);const p=l.toDataURL("image/jpeg",.7);n(p)},o.onerror=()=>r(new Error("Failed to load image")),o.src=(a=i.target)==null?void 0:a.result},s.onerror=()=>r(new Error("Failed to read file")),s.readAsDataURL(t)}),HB=()=>{const{login:t}=hi(),[e,n]=y.useState(""),[r,s]=y.useState(""),[i,o]=y.useState(!0),[a,l]=y.useState(!1),[u,d]=y.useState(null),[h,p]=y.useState(!1),[g,T]=y.useState(null),v=y.useRef(null);y.useEffect(()=>{(async()=>{try{const D=await l$(Hl);D!=null&&D.user&&t({id:D.user.uid,name:D.user.displayName||"Warrior",email:D.user.email||void 0,photoUrl:D.user.photoURL||void 0,isGuest:!1})}catch(D){console.error("Redirect sign-in error:",D)}})()},[t]);const x=async()=>{p(!0),T(null);try{const D=(await e$(Hl,Eh)).user;t({id:D.uid,name:D.displayName||"Warrior",email:D.email||void 0,photoUrl:D.photoURL||void 0,isGuest:!1})}catch(C){if(console.error("Google sign-in error:",C),C instanceof kn)if(C.code==="auth/popup-closed-by-user")T(null);else if(C.code==="auth/missing-or-invalid-nonce"||C.code==="auth/credential-already-in-use")T("Please try again");else if(C.code==="auth/popup-blocked")try{await o$(Hl,Eh)}catch{T("Sign-in failed. Please try again.")}else T(C.message);else{const D=C instanceof Error?C.message:"Failed to sign in with Google";T(D)}}finally{p(!1)}},E=async()=>{if(!e.trim()||!r.trim()){T("Please enter both username and password");return}p(!0),T(null);try{if(i){const C=await OB(e.trim(),r);C.success&&C.user?t(C.user):T(C.error||"Invalid username or password")}else{const C=await MB(e.trim(),r,u||void 0);C.success&&C.user?t(C.user):T(C.error||"Failed to register")}}catch(C){console.error("Guest auth error:",C),T("An error occurred. Please try again.")}finally{p(!1)}},_=y.useCallback(async C=>{var O;const D=(O=C.target.files)==null?void 0:O[0];if(D)try{const I=await BB(D,150);d(I)}catch(I){console.error("Error compressing image:",I),T("Failed to process image. Please try a different one.")}},[]),S=()=>{var C;(C=v.current)==null||C.click()};return f.jsxs("div",{className:"min-h-screen bg-[#0a0e17] flex flex-col",children:[f.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center px-4 py-8",children:[f.jsxs("div",{className:"mb-6 relative",children:[f.jsx("svg",{className:"absolute -top-1 -right-1 h-4 w-4 text-yellow-400 animate-pulse",viewBox:"0 0 24 24",fill:"currentColor",children:f.jsx("path",{d:"M12 2l2.4 7.4h7.6l-6 4.6 2.3 7-6.3-4.6-6.3 4.6 2.3-7-6-4.6h7.6z"})}),f.jsx(wa,{className:"h-14 w-14 text-yellow-400 animate-bounce-slow",strokeWidth:2})]}),f.jsxs("h1",{className:"font-display text-3xl sm:text-4xl font-bold mb-3",children:[f.jsx("span",{className:"text-blue-400",children:"LetsGo"}),f.jsx("span",{className:"text-yellow-400",children:"Kings"})]}),f.jsx("p",{className:"text-gray-400 text-base mb-10",children:"Master your energy. Live your dream life."}),a?f.jsxs("div",{className:"w-full max-w-sm space-y-5",children:[f.jsxs(vd,{className:"bg-[#151a26] border-gray-700 rounded-lg",children:[f.jsx(wO,{className:"h-4 w-4 text-gray-400"}),f.jsx(wd,{className:"text-sm text-gray-400 ml-2",children:"Please remember username and password for future login."})]}),f.jsxs("div",{className:"flex justify-center gap-4",children:[f.jsx("button",{onClick:()=>o(!0),className:`text-sm font-medium transition-colors ${i?"text-blue-400 border-b-2 border-blue-400":"text-gray-500 hover:text-gray-300"}`,children:"Login"}),f.jsx("button",{onClick:()=>o(!1),className:`text-sm font-medium transition-colors ${i?"text-gray-500 hover:text-gray-300":"text-blue-400 border-b-2 border-blue-400"}`,children:"Register"})]}),g&&f.jsx(vd,{className:"bg-red-500/10 border-red-500/50 rounded-lg",children:f.jsx(wd,{className:"text-sm text-red-400 text-center",children:g})}),f.jsx("div",{className:"flex justify-center",children:f.jsxs("div",{onClick:S,className:"relative w-24 h-24 rounded-full overflow-hidden cursor-pointer group border-2 border-blue-500/50 hover:border-blue-400 transition-colors",children:[u?f.jsx("img",{src:u,alt:"Profile",className:"w-full h-full object-cover"}):f.jsx("div",{className:"w-full h-full bg-[#151a26] flex items-center justify-center",children:f.jsx(J_,{className:"h-10 w-10 text-gray-500"})}),f.jsx("div",{className:"absolute inset-0 bg-black/50 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity",children:f.jsx(lO,{className:"h-6 w-6 text-white"})}),f.jsx("input",{ref:v,type:"file",accept:"image/*",onChange:_,className:"hidden"})]})}),f.jsx(xh,{placeholder:"Enter username",value:e,onChange:C=>n(C.target.value),className:"h-12 bg-[#151a26] border-gray-700 text-white placeholder:text-gray-500 rounded-full focus:border-blue-500 px-5"}),f.jsx(xh,{type:"password",placeholder:"Enter password",value:r,onChange:C=>s(C.target.value),className:"h-12 bg-[#151a26] border-gray-700 text-white placeholder:text-gray-500 rounded-full focus:border-blue-500 px-5",onKeyDown:C=>C.key==="Enter"&&E()}),f.jsxs("div",{className:"flex gap-3",children:[f.jsx(tt,{variant:"outline",onClick:()=>l(!1),className:"flex-1 h-12 border-gray-700 text-gray-300 hover:bg-gray-700/50 rounded-full",children:"Back"}),f.jsx(tt,{onClick:E,disabled:!e.trim()||!r.trim()||h,className:"flex-1 h-12 bg-blue-600 hover:bg-blue-700 text-white font-medium rounded-full disabled:opacity-50",children:h?f.jsxs(f.Fragment,{children:[f.jsx(Y_,{className:"h-4 w-4 mr-2 animate-spin"}),i?"Logging in...":"Registering..."]}):i?"Login":"Register"})]})]}):f.jsxs("div",{className:"w-full max-w-sm space-y-4",children:[g&&f.jsx(vd,{className:"bg-red-500/10 border-red-500/50 rounded-full",children:f.jsx(wd,{className:"text-sm text-red-400 text-center",children:g})}),f.jsxs(tt,{onClick:x,disabled:h,className:"w-full h-12 bg-white text-gray-900 hover:bg-gray-100 font-medium rounded-full disabled:opacity-50",children:[f.jsxs("svg",{className:"h-5 w-5 mr-2",viewBox:"0 0 24 24",children:[f.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),f.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),f.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),f.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),h?f.jsxs(f.Fragment,{children:[f.jsx(Y_,{className:"h-4 w-4 mr-2 animate-spin"}),"Signing in..."]}):"Continue with Google"]}),f.jsxs("div",{className:"relative",children:[f.jsx("div",{className:"absolute inset-0 flex items-center",children:f.jsx("span",{className:"w-full border-t border-gray-700"})}),f.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:f.jsx("span",{className:"bg-[#0a0e17] px-3 text-gray-500",children:"or"})})]}),f.jsxs(tt,{variant:"outline",onClick:()=>l(!0),className:"w-full h-12 border-blue-500/50 text-blue-400 hover:bg-blue-500/10 rounded-full",children:[f.jsx(J_,{className:"h-4 w-4 mr-2"}),"Continue as Guest"]}),f.jsxs("p",{className:"text-center text-sm text-gray-500 pt-4",children:["Join ",f.jsx("span",{className:"text-blue-400",children:"thousands"})," of men reclaiming ",f.jsx("span",{className:"text-blue-400",children:"their"})," power through discipline"]})]})]}),f.jsx("div",{className:"text-center py-8 px-4",children:f.jsxs("p",{className:"text-sm text-gray-500 italic",children:['"Every time you say ',f.jsx("span",{className:"text-blue-400",children:"no"}),", your ",f.jsx("span",{className:"text-yellow-400",children:"future"}),'  says thank you. "']})})]})};var sm="focusScope.autoFocusOnMount",im="focusScope.autoFocusOnUnmount",gx={bubbles:!1,cancelable:!0},WB="FocusScope",Cw=y.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...o}=t,[a,l]=y.useState(null),u=Je(s),d=Je(i),h=y.useRef(null),p=Re(e,v=>l(v)),g=y.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;y.useEffect(()=>{if(r){let v=function(S){if(g.paused||!a)return;const C=S.target;a.contains(C)?h.current=C:Es(h.current,{select:!0})},x=function(S){if(g.paused||!a)return;const C=S.relatedTarget;C!==null&&(a.contains(C)||Es(h.current,{select:!0}))},E=function(S){if(document.activeElement===document.body)for(const D of S)D.removedNodes.length>0&&Es(a)};document.addEventListener("focusin",v),document.addEventListener("focusout",x);const _=new MutationObserver(E);return a&&_.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",v),document.removeEventListener("focusout",x),_.disconnect()}}},[r,a,g.paused]),y.useEffect(()=>{if(a){vx.add(g);const v=document.activeElement;if(!a.contains(v)){const E=new CustomEvent(sm,gx);a.addEventListener(sm,u),a.dispatchEvent(E),E.defaultPrevented||(qB(XB(FR(a)),{select:!0}),document.activeElement===v&&Es(a))}return()=>{a.removeEventListener(sm,u),setTimeout(()=>{const E=new CustomEvent(im,gx);a.addEventListener(im,d),a.dispatchEvent(E),E.defaultPrevented||Es(v??document.body,{select:!0}),a.removeEventListener(im,d),vx.remove(g)},0)}}},[a,u,d,g]);const T=y.useCallback(v=>{if(!n&&!r||g.paused)return;const x=v.key==="Tab"&&!v.altKey&&!v.ctrlKey&&!v.metaKey,E=document.activeElement;if(x&&E){const _=v.currentTarget,[S,C]=GB(_);S&&C?!v.shiftKey&&E===C?(v.preventDefault(),n&&Es(S,{select:!0})):v.shiftKey&&E===S&&(v.preventDefault(),n&&Es(C,{select:!0})):E===_&&v.preventDefault()}},[n,r,g.paused]);return f.jsx(_e.div,{tabIndex:-1,...o,ref:p,onKeyDown:T})});Cw.displayName=WB;function qB(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(Es(r,{select:e}),document.activeElement!==n)return}function GB(t){const e=FR(t),n=yx(e,t),r=yx(e.reverse(),t);return[n,r]}function FR(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function yx(t,e){for(const n of t)if(!KB(n,{upTo:e}))return n}function KB(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function QB(t){return t instanceof HTMLInputElement&&"select"in t}function Es(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&QB(t)&&e&&t.select()}}var vx=YB();function YB(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=wx(t,e),t.unshift(e)},remove(e){var n;t=wx(t,e),(n=t[0])==null||n.resume()}}}function wx(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function XB(t){return t.filter(e=>e.tagName!=="A")}var om=0;function UR(){y.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??_x()),document.body.insertAdjacentElement("beforeend",t[1]??_x()),om++,()=>{om===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),om--}},[])}function _x(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var yr=function(){return yr=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},yr.apply(this,arguments)};function $R(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function JB(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))}var _d="right-scroll-bar-position",Ed="width-before-scroll-bar",ZB="with-scroll-bars-hidden",e8="--removed-body-scroll-bar-size";function am(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function t8(t,e){var n=y.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=e,n.facade}var n8=typeof window<"u"?y.useLayoutEffect:y.useEffect,Ex=new WeakMap;function r8(t,e){var n=t8(null,function(r){return t.forEach(function(s){return am(s,r)})});return n8(function(){var r=Ex.get(n);if(r){var s=new Set(r),i=new Set(t),o=n.current;s.forEach(function(a){i.has(a)||am(a,null)}),i.forEach(function(a){s.has(a)||am(a,o)})}Ex.set(n,t)},[t]),n}function s8(t){return t}function i8(t,e){e===void 0&&(e=s8);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(i){var o=e(i,r);return n.push(o),function(){n=n.filter(function(a){return a!==o})}},assignSyncMedium:function(i){for(r=!0;n.length;){var o=n;n=[],o.forEach(i)}n={push:function(a){return i(a)},filter:function(){return n}}},assignMedium:function(i){r=!0;var o=[];if(n.length){var a=n;n=[],a.forEach(i),o=n}var l=function(){var d=o;o=[],d.forEach(i)},u=function(){return Promise.resolve().then(l)};u(),n={push:function(d){o.push(d),u()},filter:function(d){return o=o.filter(d),n}}}};return s}function o8(t){t===void 0&&(t={});var e=i8(null);return e.options=yr({async:!0,ssr:!1},t),e}var zR=function(t){var e=t.sideCar,n=$R(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return y.createElement(r,yr({},n))};zR.isSideCarExport=!0;function a8(t,e){return t.useMedium(e),zR}var BR=o8(),lm=function(){},Mf=y.forwardRef(function(t,e){var n=y.useRef(null),r=y.useState({onScrollCapture:lm,onWheelCapture:lm,onTouchMoveCapture:lm}),s=r[0],i=r[1],o=t.forwardProps,a=t.children,l=t.className,u=t.removeScrollBar,d=t.enabled,h=t.shards,p=t.sideCar,g=t.noRelative,T=t.noIsolation,v=t.inert,x=t.allowPinchZoom,E=t.as,_=E===void 0?"div":E,S=t.gapMode,C=$R(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),D=p,O=r8([n,e]),I=yr(yr({},C),s);return y.createElement(y.Fragment,null,d&&y.createElement(D,{sideCar:BR,removeScrollBar:u,shards:h,noRelative:g,noIsolation:T,inert:v,setCallbacks:i,allowPinchZoom:!!x,lockRef:n,gapMode:S}),o?y.cloneElement(y.Children.only(a),yr(yr({},I),{ref:O})):y.createElement(_,yr({},I,{className:l,ref:O}),a))});Mf.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Mf.classNames={fullWidth:Ed,zeroRight:_d};var l8=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function c8(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=l8();return e&&t.setAttribute("nonce",e),t}function u8(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function d8(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var h8=function(){var t=0,e=null;return{add:function(n){t==0&&(e=c8())&&(u8(e,n),d8(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},f8=function(){var t=h8();return function(e,n){y.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},HR=function(){var t=f8(),e=function(n){var r=n.styles,s=n.dynamic;return t(r,s),null};return e},p8={left:0,top:0,right:0,gap:0},cm=function(t){return parseInt(t||"",10)||0},m8=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[cm(n),cm(r),cm(s)]},g8=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return p8;var e=m8(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},y8=HR(),ta="data-scroll-locked",v8=function(t,e,n,r){var s=t.left,i=t.top,o=t.right,a=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(ZB,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(ta,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(_d,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Ed,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(_d," .").concat(_d,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Ed," .").concat(Ed,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(ta,`] {
    `).concat(e8,": ").concat(a,`px;
  }
`)},xx=function(){var t=parseInt(document.body.getAttribute(ta)||"0",10);return isFinite(t)?t:0},w8=function(){y.useEffect(function(){return document.body.setAttribute(ta,(xx()+1).toString()),function(){var t=xx()-1;t<=0?document.body.removeAttribute(ta):document.body.setAttribute(ta,t.toString())}},[])},_8=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,s=r===void 0?"margin":r;w8();var i=y.useMemo(function(){return g8(s)},[s]);return y.createElement(y8,{styles:v8(i,!e,s,n?"":"!important")})},Qg=!1;if(typeof window<"u")try{var zu=Object.defineProperty({},"passive",{get:function(){return Qg=!0,!0}});window.addEventListener("test",zu,zu),window.removeEventListener("test",zu,zu)}catch{Qg=!1}var _o=Qg?{passive:!1}:!1,E8=function(t){return t.tagName==="TEXTAREA"},WR=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!E8(t)&&n[e]==="visible")},x8=function(t){return WR(t,"overflowY")},T8=function(t){return WR(t,"overflowX")},Tx=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=qR(t,r);if(s){var i=GR(t,r),o=i[1],a=i[2];if(o>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},S8=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},b8=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},qR=function(t,e){return t==="v"?x8(e):T8(e)},GR=function(t,e){return t==="v"?S8(e):b8(e)},I8=function(t,e){return t==="h"&&e==="rtl"?-1:1},C8=function(t,e,n,r,s){var i=I8(t,window.getComputedStyle(e).direction),o=i*r,a=n.target,l=e.contains(a),u=!1,d=o>0,h=0,p=0;do{if(!a)break;var g=GR(t,a),T=g[0],v=g[1],x=g[2],E=v-x-i*T;(T||E)&&qR(t,a)&&(h+=E,p+=T);var _=a.parentNode;a=_&&_.nodeType===Node.DOCUMENT_FRAGMENT_NODE?_.host:_}while(!l&&a!==document.body||l&&(e.contains(a)||e===a));return(d&&(Math.abs(h)<1||!s)||!d&&(Math.abs(p)<1||!s))&&(u=!0),u},Bu=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},Sx=function(t){return[t.deltaX,t.deltaY]},bx=function(t){return t&&"current"in t?t.current:t},A8=function(t,e){return t[0]===e[0]&&t[1]===e[1]},R8=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},P8=0,Eo=[];function k8(t){var e=y.useRef([]),n=y.useRef([0,0]),r=y.useRef(),s=y.useState(P8++)[0],i=y.useState(HR)[0],o=y.useRef(t);y.useEffect(function(){o.current=t},[t]),y.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var v=JB([t.lockRef.current],(t.shards||[]).map(bx),!0).filter(Boolean);return v.forEach(function(x){return x.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),v.forEach(function(x){return x.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var a=y.useCallback(function(v,x){if("touches"in v&&v.touches.length===2||v.type==="wheel"&&v.ctrlKey)return!o.current.allowPinchZoom;var E=Bu(v),_=n.current,S="deltaX"in v?v.deltaX:_[0]-E[0],C="deltaY"in v?v.deltaY:_[1]-E[1],D,O=v.target,I=Math.abs(S)>Math.abs(C)?"h":"v";if("touches"in v&&I==="h"&&O.type==="range")return!1;var b=Tx(I,O);if(!b)return!0;if(b?D=I:(D=I==="v"?"h":"v",b=Tx(I,O)),!b)return!1;if(!r.current&&"changedTouches"in v&&(S||C)&&(r.current=D),!D)return!0;var A=r.current||D;return C8(A,x,v,A==="h"?S:C,!0)},[]),l=y.useCallback(function(v){var x=v;if(!(!Eo.length||Eo[Eo.length-1]!==i)){var E="deltaY"in x?Sx(x):Bu(x),_=e.current.filter(function(D){return D.name===x.type&&(D.target===x.target||x.target===D.shadowParent)&&A8(D.delta,E)})[0];if(_&&_.should){x.cancelable&&x.preventDefault();return}if(!_){var S=(o.current.shards||[]).map(bx).filter(Boolean).filter(function(D){return D.contains(x.target)}),C=S.length>0?a(x,S[0]):!o.current.noIsolation;C&&x.cancelable&&x.preventDefault()}}},[]),u=y.useCallback(function(v,x,E,_){var S={name:v,delta:x,target:E,should:_,shadowParent:N8(E)};e.current.push(S),setTimeout(function(){e.current=e.current.filter(function(C){return C!==S})},1)},[]),d=y.useCallback(function(v){n.current=Bu(v),r.current=void 0},[]),h=y.useCallback(function(v){u(v.type,Sx(v),v.target,a(v,t.lockRef.current))},[]),p=y.useCallback(function(v){u(v.type,Bu(v),v.target,a(v,t.lockRef.current))},[]);y.useEffect(function(){return Eo.push(i),t.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:p}),document.addEventListener("wheel",l,_o),document.addEventListener("touchmove",l,_o),document.addEventListener("touchstart",d,_o),function(){Eo=Eo.filter(function(v){return v!==i}),document.removeEventListener("wheel",l,_o),document.removeEventListener("touchmove",l,_o),document.removeEventListener("touchstart",d,_o)}},[]);var g=t.removeScrollBar,T=t.inert;return y.createElement(y.Fragment,null,T?y.createElement(i,{styles:R8(s)}):null,g?y.createElement(_8,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function N8(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const D8=a8(BR,k8);var Aw=y.forwardRef(function(t,e){return y.createElement(Mf,yr({},t,{ref:e,sideCar:D8}))});Aw.classNames=Mf.classNames;var M8=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},xo=new WeakMap,Hu=new WeakMap,Wu={},um=0,KR=function(t){return t&&(t.host||KR(t.parentNode))},O8=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=KR(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},L8=function(t,e,n,r){var s=O8(e,Array.isArray(t)?t:[t]);Wu[n]||(Wu[n]=new WeakMap);var i=Wu[n],o=[],a=new Set,l=new Set(s),u=function(h){!h||a.has(h)||(a.add(h),u(h.parentNode))};s.forEach(u);var d=function(h){!h||l.has(h)||Array.prototype.forEach.call(h.children,function(p){if(a.has(p))d(p);else try{var g=p.getAttribute(r),T=g!==null&&g!=="false",v=(xo.get(p)||0)+1,x=(i.get(p)||0)+1;xo.set(p,v),i.set(p,x),o.push(p),v===1&&T&&Hu.set(p,!0),x===1&&p.setAttribute(n,"true"),T||p.setAttribute(r,"true")}catch(E){console.error("aria-hidden: cannot operate on ",p,E)}})};return d(e),a.clear(),um++,function(){o.forEach(function(h){var p=xo.get(h)-1,g=i.get(h)-1;xo.set(h,p),i.set(h,g),p||(Hu.has(h)||h.removeAttribute(r),Hu.delete(h)),g||h.removeAttribute(n)}),um--,um||(xo=new WeakMap,xo=new WeakMap,Hu=new WeakMap,Wu={})}},QR=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),s=M8(t);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live]"))),L8(r,s,n,"aria-hidden")):function(){return null}},Of="Dialog",[YR,XR]=tr(Of),[V8,nr]=YR(Of),JR=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:s,onOpenChange:i,modal:o=!0}=t,a=y.useRef(null),l=y.useRef(null),[u,d]=Lc({prop:r,defaultProp:s??!1,onChange:i,caller:Of});return f.jsx(V8,{scope:e,triggerRef:a,contentRef:l,contentId:Ui(),titleId:Ui(),descriptionId:Ui(),open:u,onOpenChange:d,onOpenToggle:y.useCallback(()=>d(h=>!h),[d]),modal:o,children:n})};JR.displayName=Of;var ZR="DialogTrigger",eP=y.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=nr(ZR,n),i=Re(e,s.triggerRef);return f.jsx(_e.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":kw(s.open),...r,ref:i,onClick:J(t.onClick,s.onOpenToggle)})});eP.displayName=ZR;var Rw="DialogPortal",[j8,tP]=YR(Rw,{forceMount:void 0}),nP=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:s}=t,i=nr(Rw,e);return f.jsx(j8,{scope:e,forceMount:n,children:y.Children.map(r,o=>f.jsx(tn,{present:n||i.open,children:f.jsx(Kh,{asChild:!0,container:s,children:o})}))})};nP.displayName=Rw;var Th="DialogOverlay",rP=y.forwardRef((t,e)=>{const n=tP(Th,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=nr(Th,t.__scopeDialog);return i.modal?f.jsx(tn,{present:r||i.open,children:f.jsx(U8,{...s,ref:e})}):null});rP.displayName=Th;var F8=va("DialogOverlay.RemoveScroll"),U8=y.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=nr(Th,n);return f.jsx(Aw,{as:F8,allowPinchZoom:!0,shards:[s.contentRef],children:f.jsx(_e.div,{"data-state":kw(s.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),no="DialogContent",sP=y.forwardRef((t,e)=>{const n=tP(no,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=nr(no,t.__scopeDialog);return f.jsx(tn,{present:r||i.open,children:i.modal?f.jsx($8,{...s,ref:e}):f.jsx(z8,{...s,ref:e})})});sP.displayName=no;var $8=y.forwardRef((t,e)=>{const n=nr(no,t.__scopeDialog),r=y.useRef(null),s=Re(e,n.contentRef,r);return y.useEffect(()=>{const i=r.current;if(i)return QR(i)},[]),f.jsx(iP,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:J(t.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:J(t.onPointerDownOutside,i=>{const o=i.detail.originalEvent,a=o.button===0&&o.ctrlKey===!0;(o.button===2||a)&&i.preventDefault()}),onFocusOutside:J(t.onFocusOutside,i=>i.preventDefault())})}),z8=y.forwardRef((t,e)=>{const n=nr(no,t.__scopeDialog),r=y.useRef(!1),s=y.useRef(!1);return f.jsx(iP,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,a;(o=t.onCloseAutoFocus)==null||o.call(t,i),i.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),i.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:i=>{var l,u;(l=t.onInteractOutside)==null||l.call(t,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=i.target;((u=n.triggerRef.current)==null?void 0:u.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),iP=y.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:i,...o}=t,a=nr(no,n),l=y.useRef(null),u=Re(e,l);return UR(),f.jsxs(f.Fragment,{children:[f.jsx(Cw,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:i,children:f.jsx(Oc,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":kw(a.open),...o,ref:u,onDismiss:()=>a.onOpenChange(!1)})}),f.jsxs(f.Fragment,{children:[f.jsx(H8,{titleId:a.titleId}),f.jsx(q8,{contentRef:l,descriptionId:a.descriptionId})]})]})}),Pw="DialogTitle",oP=y.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=nr(Pw,n);return f.jsx(_e.h2,{id:s.titleId,...r,ref:e})});oP.displayName=Pw;var aP="DialogDescription",lP=y.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=nr(aP,n);return f.jsx(_e.p,{id:s.descriptionId,...r,ref:e})});lP.displayName=aP;var cP="DialogClose",uP=y.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=nr(cP,n);return f.jsx(_e.button,{type:"button",...r,ref:e,onClick:J(t.onClick,()=>s.onOpenChange(!1))})});uP.displayName=cP;function kw(t){return t?"open":"closed"}var dP="DialogTitleWarning",[B8,hP]=fM(dP,{contentName:no,titleName:Pw,docsSlug:"dialog"}),H8=({titleId:t})=>{const e=hP(dP),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return y.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},W8="DialogDescriptionWarning",q8=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${hP(W8).contentName}}.`;return y.useEffect(()=>{var i;const s=(i=t.current)==null?void 0:i.getAttribute("aria-describedby");e&&s&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},fP=JR,G8=eP,pP=nP,Nw=rP,Dw=sP,Mw=oP,Ow=lP,Lw=uP,mP="AlertDialog",[K8,zW]=tr(mP,[XR]),os=XR(),gP=t=>{const{__scopeAlertDialog:e,...n}=t,r=os(e);return f.jsx(fP,{...r,...n,modal:!0})};gP.displayName=mP;var Q8="AlertDialogTrigger",yP=y.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,s=os(n);return f.jsx(G8,{...s,...r,ref:e})});yP.displayName=Q8;var Y8="AlertDialogPortal",vP=t=>{const{__scopeAlertDialog:e,...n}=t,r=os(e);return f.jsx(pP,{...r,...n})};vP.displayName=Y8;var X8="AlertDialogOverlay",wP=y.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,s=os(n);return f.jsx(Nw,{...s,...r,ref:e})});wP.displayName=X8;var na="AlertDialogContent",[J8,Z8]=K8(na),e7=nb("AlertDialogContent"),_P=y.forwardRef((t,e)=>{const{__scopeAlertDialog:n,children:r,...s}=t,i=os(n),o=y.useRef(null),a=Re(e,o),l=y.useRef(null);return f.jsx(B8,{contentName:na,titleName:EP,docsSlug:"alert-dialog",children:f.jsx(J8,{scope:n,cancelRef:l,children:f.jsxs(Dw,{role:"alertdialog",...i,...s,ref:a,onOpenAutoFocus:J(s.onOpenAutoFocus,u=>{var d;u.preventDefault(),(d=l.current)==null||d.focus({preventScroll:!0})}),onPointerDownOutside:u=>u.preventDefault(),onInteractOutside:u=>u.preventDefault(),children:[f.jsx(e7,{children:r}),f.jsx(n7,{contentRef:o})]})})})});_P.displayName=na;var EP="AlertDialogTitle",xP=y.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,s=os(n);return f.jsx(Mw,{...s,...r,ref:e})});xP.displayName=EP;var TP="AlertDialogDescription",SP=y.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,s=os(n);return f.jsx(Ow,{...s,...r,ref:e})});SP.displayName=TP;var t7="AlertDialogAction",bP=y.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,s=os(n);return f.jsx(Lw,{...s,...r,ref:e})});bP.displayName=t7;var IP="AlertDialogCancel",CP=y.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,{cancelRef:s}=Z8(IP,n),i=os(n),o=Re(e,s);return f.jsx(Lw,{...i,...r,ref:o})});CP.displayName=IP;var n7=({contentRef:t})=>{const e=`\`${na}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${na}\` by passing a \`${TP}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${na}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return y.useEffect(()=>{var r;document.getElementById((r=t.current)==null?void 0:r.getAttribute("aria-describedby"))||console.warn(e)},[e,t]),null},r7=gP,s7=yP,i7=vP,AP=wP,RP=_P,PP=bP,kP=CP,NP=xP,DP=SP;const o7=r7,a7=s7,l7=i7,MP=y.forwardRef(({className:t,...e},n)=>f.jsx(AP,{className:me("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:n}));MP.displayName=AP.displayName;const OP=y.forwardRef(({className:t,...e},n)=>f.jsxs(l7,{children:[f.jsx(MP,{}),f.jsx(RP,{ref:n,className:me("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...e})]}));OP.displayName=RP.displayName;const LP=({className:t,...e})=>f.jsx("div",{className:me("flex flex-col space-y-2 text-center sm:text-left",t),...e});LP.displayName="AlertDialogHeader";const VP=({className:t,...e})=>f.jsx("div",{className:me("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});VP.displayName="AlertDialogFooter";const jP=y.forwardRef(({className:t,...e},n)=>f.jsx(NP,{ref:n,className:me("text-lg font-semibold",t),...e}));jP.displayName=NP.displayName;const FP=y.forwardRef(({className:t,...e},n)=>f.jsx(DP,{ref:n,className:me("text-sm text-muted-foreground",t),...e}));FP.displayName=DP.displayName;const UP=y.forwardRef(({className:t,...e},n)=>f.jsx(PP,{ref:n,className:me(Iw(),t),...e}));UP.displayName=PP.displayName;const $P=y.forwardRef(({className:t,...e},n)=>f.jsx(kP,{ref:n,className:me(Iw({variant:"outline"}),"mt-2 sm:mt-0",t),...e}));$P.displayName=kP.displayName;const c7=()=>{const{streakData:t,currentUser:e,leaderboard:n}=hi(),[r,s]=y.useState(0),[i,o]=y.useState(0),[a,l]=y.useState(0),[u,d]=y.useState(0);y.useEffect(()=>{const T=()=>{if(!(t!=null&&t.startDate)||!t.isActive){s(0),o(0),l(0),d(0);return}const x=new Date(t.startDate),_=new Date().getTime()-x.getTime(),S=Math.floor(_/(1e3*60*60*24)),C=Math.floor(_%(1e3*60*60*24)/(1e3*60*60)),D=Math.floor(_%(1e3*60*60)/(1e3*60)),O=Math.floor(_%(1e3*60)/1e3);s(S),o(C),l(D),d(O)};T();const v=setInterval(T,1e3);return()=>clearInterval(v)},[t]);const h=(t==null?void 0:t.isActive)&&(t==null?void 0:t.startDate),p=y.useMemo(()=>[...n].sort((T,v)=>T.streak.isActive!==v.streak.isActive?T.streak.isActive?-1:1:v.daysCount-T.daysCount),[n]),g=e?p.findIndex(T=>T.user.id===e.id)+1:0;return f.jsxs("div",{className:"card-elevated p-6 sm:p-8",children:[f.jsxs("div",{className:"flex items-center justify-between mb-6",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(nv,{className:`h-5 w-5 ${h?"text-primary animate-pulse-glow":"text-muted-foreground"}`}),f.jsx("h2",{className:"text-lg font-semibold",children:"Your Streak"})]}),g>0&&f.jsxs("div",{className:"flex items-center gap-1",children:[f.jsx(Ab,{className:"h-5 w-5 text-primary"}),f.jsx("span",{className:"text-lg font-semibold text-white",children:g})]})]}),f.jsxs("div",{className:"text-center",children:[f.jsxs("div",{className:"relative inline-block",children:[f.jsx("div",{className:`text-7xl sm:text-8xl font-display font-bold animate-count-up ${h?"text-gradient-gold":"text-muted-foreground"}`,children:r}),f.jsx("div",{className:"text-sm uppercase tracking-widest text-muted-foreground mt-2",children:r===1?"Day":"Days"})]}),h&&f.jsxs("div",{className:"mt-6 flex justify-center gap-4 sm:gap-6",children:[f.jsx(dm,{value:i,label:"Hours"}),f.jsx(dm,{value:a,label:"Min"}),f.jsx(dm,{value:u,label:"Sec"})]}),(t==null?void 0:t.startDate)&&f.jsxs("div",{className:"mt-6 flex items-center justify-center gap-2 text-sm text-muted-foreground",children:[f.jsx(aO,{className:"h-4 w-4"}),f.jsxs("span",{children:["Started ",new Date(t.startDate).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})]})]}),!h&&f.jsx("p",{className:"mt-6 text-muted-foreground",children:"Start your challenge to begin tracking"})]})]})},dm=({value:t,label:e})=>f.jsxs("div",{className:"flex flex-col items-center",children:[f.jsx("div",{className:"bg-secondary/50 rounded-lg px-3 py-2 min-w-[3rem]",children:f.jsx("span",{className:"text-xl font-semibold font-mono",children:t.toString().padStart(2,"0")})}),f.jsx("span",{className:"text-xs text-muted-foreground mt-1 uppercase tracking-wide",children:e})]}),Yg=fP,u7=pP,zP=y.forwardRef(({className:t,...e},n)=>f.jsx(Nw,{ref:n,className:me("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));zP.displayName=Nw.displayName;const Sh=y.forwardRef(({className:t,children:e,...n},r)=>f.jsxs(u7,{children:[f.jsx(zP,{}),f.jsxs(Dw,{ref:r,className:me("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[e,f.jsxs(Lw,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-accent data-[state=open]:text-muted-foreground hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[f.jsx(lc,{className:"h-4 w-4"}),f.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Sh.displayName=Dw.displayName;const bh=({className:t,...e})=>f.jsx("div",{className:me("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});bh.displayName="DialogHeader";const Xg=({className:t,...e})=>f.jsx("div",{className:me("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});Xg.displayName="DialogFooter";const Ih=y.forwardRef(({className:t,...e},n)=>f.jsx(Mw,{ref:n,className:me("text-lg font-semibold leading-none tracking-tight",t),...e}));Ih.displayName=Mw.displayName;const BP=y.forwardRef(({className:t,...e},n)=>f.jsx(Ow,{ref:n,className:me("text-sm text-muted-foreground",t),...e}));BP.displayName=Ow.displayName;var d7=y.createContext(void 0);function Vw(t){const e=y.useContext(d7);return t||e||"ltr"}function h7(t,[e,n]){return Math.min(n,Math.max(e,t))}function f7(t,e){return y.useReducer((n,r)=>e[n][r]??n,t)}var jw="ScrollArea",[HP,BW]=tr(jw),[p7,Nn]=HP(jw),WP=y.forwardRef((t,e)=>{const{__scopeScrollArea:n,type:r="hover",dir:s,scrollHideDelay:i=600,...o}=t,[a,l]=y.useState(null),[u,d]=y.useState(null),[h,p]=y.useState(null),[g,T]=y.useState(null),[v,x]=y.useState(null),[E,_]=y.useState(0),[S,C]=y.useState(0),[D,O]=y.useState(!1),[I,b]=y.useState(!1),A=Re(e,N=>l(N)),P=Vw(s);return f.jsx(p7,{scope:n,type:r,dir:P,scrollHideDelay:i,scrollArea:a,viewport:u,onViewportChange:d,content:h,onContentChange:p,scrollbarX:g,onScrollbarXChange:T,scrollbarXEnabled:D,onScrollbarXEnabledChange:O,scrollbarY:v,onScrollbarYChange:x,scrollbarYEnabled:I,onScrollbarYEnabledChange:b,onCornerWidthChange:_,onCornerHeightChange:C,children:f.jsx(_e.div,{dir:P,...o,ref:A,style:{position:"relative","--radix-scroll-area-corner-width":E+"px","--radix-scroll-area-corner-height":S+"px",...t.style}})})});WP.displayName=jw;var qP="ScrollAreaViewport",GP=y.forwardRef((t,e)=>{const{__scopeScrollArea:n,children:r,nonce:s,...i}=t,o=Nn(qP,n),a=y.useRef(null),l=Re(e,a,o.onViewportChange);return f.jsxs(f.Fragment,{children:[f.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),f.jsx(_e.div,{"data-radix-scroll-area-viewport":"",...i,ref:l,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...t.style},children:f.jsx("div",{ref:o.onContentChange,style:{minWidth:"100%",display:"table"},children:r})})]})});GP.displayName=qP;var Nr="ScrollAreaScrollbar",Fw=y.forwardRef((t,e)=>{const{forceMount:n,...r}=t,s=Nn(Nr,t.__scopeScrollArea),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:o}=s,a=t.orientation==="horizontal";return y.useEffect(()=>(a?i(!0):o(!0),()=>{a?i(!1):o(!1)}),[a,i,o]),s.type==="hover"?f.jsx(m7,{...r,ref:e,forceMount:n}):s.type==="scroll"?f.jsx(g7,{...r,ref:e,forceMount:n}):s.type==="auto"?f.jsx(KP,{...r,ref:e,forceMount:n}):s.type==="always"?f.jsx(Uw,{...r,ref:e}):null});Fw.displayName=Nr;var m7=y.forwardRef((t,e)=>{const{forceMount:n,...r}=t,s=Nn(Nr,t.__scopeScrollArea),[i,o]=y.useState(!1);return y.useEffect(()=>{const a=s.scrollArea;let l=0;if(a){const u=()=>{window.clearTimeout(l),o(!0)},d=()=>{l=window.setTimeout(()=>o(!1),s.scrollHideDelay)};return a.addEventListener("pointerenter",u),a.addEventListener("pointerleave",d),()=>{window.clearTimeout(l),a.removeEventListener("pointerenter",u),a.removeEventListener("pointerleave",d)}}},[s.scrollArea,s.scrollHideDelay]),f.jsx(tn,{present:n||i,children:f.jsx(KP,{"data-state":i?"visible":"hidden",...r,ref:e})})}),g7=y.forwardRef((t,e)=>{const{forceMount:n,...r}=t,s=Nn(Nr,t.__scopeScrollArea),i=t.orientation==="horizontal",o=Vf(()=>l("SCROLL_END"),100),[a,l]=f7("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return y.useEffect(()=>{if(a==="idle"){const u=window.setTimeout(()=>l("HIDE"),s.scrollHideDelay);return()=>window.clearTimeout(u)}},[a,s.scrollHideDelay,l]),y.useEffect(()=>{const u=s.viewport,d=i?"scrollLeft":"scrollTop";if(u){let h=u[d];const p=()=>{const g=u[d];h!==g&&(l("SCROLL"),o()),h=g};return u.addEventListener("scroll",p),()=>u.removeEventListener("scroll",p)}},[s.viewport,i,l,o]),f.jsx(tn,{present:n||a!=="hidden",children:f.jsx(Uw,{"data-state":a==="hidden"?"hidden":"visible",...r,ref:e,onPointerEnter:J(t.onPointerEnter,()=>l("POINTER_ENTER")),onPointerLeave:J(t.onPointerLeave,()=>l("POINTER_LEAVE"))})})}),KP=y.forwardRef((t,e)=>{const n=Nn(Nr,t.__scopeScrollArea),{forceMount:r,...s}=t,[i,o]=y.useState(!1),a=t.orientation==="horizontal",l=Vf(()=>{if(n.viewport){const u=n.viewport.offsetWidth<n.viewport.scrollWidth,d=n.viewport.offsetHeight<n.viewport.scrollHeight;o(a?u:d)}},10);return Pa(n.viewport,l),Pa(n.content,l),f.jsx(tn,{present:r||i,children:f.jsx(Uw,{"data-state":i?"visible":"hidden",...s,ref:e})})}),Uw=y.forwardRef((t,e)=>{const{orientation:n="vertical",...r}=t,s=Nn(Nr,t.__scopeScrollArea),i=y.useRef(null),o=y.useRef(0),[a,l]=y.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=ZP(a.viewport,a.content),d={...r,sizes:a,onSizesChange:l,hasThumb:u>0&&u<1,onThumbChange:p=>i.current=p,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:p=>o.current=p};function h(p,g){return x7(p,o.current,a,g)}return n==="horizontal"?f.jsx(y7,{...d,ref:e,onThumbPositionChange:()=>{if(s.viewport&&i.current){const p=s.viewport.scrollLeft,g=Ix(p,a,s.dir);i.current.style.transform=`translate3d(${g}px, 0, 0)`}},onWheelScroll:p=>{s.viewport&&(s.viewport.scrollLeft=p)},onDragScroll:p=>{s.viewport&&(s.viewport.scrollLeft=h(p,s.dir))}}):n==="vertical"?f.jsx(v7,{...d,ref:e,onThumbPositionChange:()=>{if(s.viewport&&i.current){const p=s.viewport.scrollTop,g=Ix(p,a);i.current.style.transform=`translate3d(0, ${g}px, 0)`}},onWheelScroll:p=>{s.viewport&&(s.viewport.scrollTop=p)},onDragScroll:p=>{s.viewport&&(s.viewport.scrollTop=h(p))}}):null}),y7=y.forwardRef((t,e)=>{const{sizes:n,onSizesChange:r,...s}=t,i=Nn(Nr,t.__scopeScrollArea),[o,a]=y.useState(),l=y.useRef(null),u=Re(e,l,i.onScrollbarXChange);return y.useEffect(()=>{l.current&&a(getComputedStyle(l.current))},[l]),f.jsx(YP,{"data-orientation":"horizontal",...s,ref:u,sizes:n,style:{bottom:0,left:i.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:i.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Lf(n)+"px",...t.style},onThumbPointerDown:d=>t.onThumbPointerDown(d.x),onDragScroll:d=>t.onDragScroll(d.x),onWheelScroll:(d,h)=>{if(i.viewport){const p=i.viewport.scrollLeft+d.deltaX;t.onWheelScroll(p),tk(p,h)&&d.preventDefault()}},onResize:()=>{l.current&&i.viewport&&o&&r({content:i.viewport.scrollWidth,viewport:i.viewport.offsetWidth,scrollbar:{size:l.current.clientWidth,paddingStart:Ah(o.paddingLeft),paddingEnd:Ah(o.paddingRight)}})}})}),v7=y.forwardRef((t,e)=>{const{sizes:n,onSizesChange:r,...s}=t,i=Nn(Nr,t.__scopeScrollArea),[o,a]=y.useState(),l=y.useRef(null),u=Re(e,l,i.onScrollbarYChange);return y.useEffect(()=>{l.current&&a(getComputedStyle(l.current))},[l]),f.jsx(YP,{"data-orientation":"vertical",...s,ref:u,sizes:n,style:{top:0,right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Lf(n)+"px",...t.style},onThumbPointerDown:d=>t.onThumbPointerDown(d.y),onDragScroll:d=>t.onDragScroll(d.y),onWheelScroll:(d,h)=>{if(i.viewport){const p=i.viewport.scrollTop+d.deltaY;t.onWheelScroll(p),tk(p,h)&&d.preventDefault()}},onResize:()=>{l.current&&i.viewport&&o&&r({content:i.viewport.scrollHeight,viewport:i.viewport.offsetHeight,scrollbar:{size:l.current.clientHeight,paddingStart:Ah(o.paddingTop),paddingEnd:Ah(o.paddingBottom)}})}})}),[w7,QP]=HP(Nr),YP=y.forwardRef((t,e)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:s,onThumbChange:i,onThumbPointerUp:o,onThumbPointerDown:a,onThumbPositionChange:l,onDragScroll:u,onWheelScroll:d,onResize:h,...p}=t,g=Nn(Nr,n),[T,v]=y.useState(null),x=Re(e,A=>v(A)),E=y.useRef(null),_=y.useRef(""),S=g.viewport,C=r.content-r.viewport,D=Je(d),O=Je(l),I=Vf(h,10);function b(A){if(E.current){const P=A.clientX-E.current.left,N=A.clientY-E.current.top;u({x:P,y:N})}}return y.useEffect(()=>{const A=P=>{const N=P.target;(T==null?void 0:T.contains(N))&&D(P,C)};return document.addEventListener("wheel",A,{passive:!1}),()=>document.removeEventListener("wheel",A,{passive:!1})},[S,T,C,D]),y.useEffect(O,[r,O]),Pa(T,I),Pa(g.content,I),f.jsx(w7,{scope:n,scrollbar:T,hasThumb:s,onThumbChange:Je(i),onThumbPointerUp:Je(o),onThumbPositionChange:O,onThumbPointerDown:Je(a),children:f.jsx(_e.div,{...p,ref:x,style:{position:"absolute",...p.style},onPointerDown:J(t.onPointerDown,A=>{A.button===0&&(A.target.setPointerCapture(A.pointerId),E.current=T.getBoundingClientRect(),_.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",g.viewport&&(g.viewport.style.scrollBehavior="auto"),b(A))}),onPointerMove:J(t.onPointerMove,b),onPointerUp:J(t.onPointerUp,A=>{const P=A.target;P.hasPointerCapture(A.pointerId)&&P.releasePointerCapture(A.pointerId),document.body.style.webkitUserSelect=_.current,g.viewport&&(g.viewport.style.scrollBehavior=""),E.current=null})})})}),Ch="ScrollAreaThumb",XP=y.forwardRef((t,e)=>{const{forceMount:n,...r}=t,s=QP(Ch,t.__scopeScrollArea);return f.jsx(tn,{present:n||s.hasThumb,children:f.jsx(_7,{ref:e,...r})})}),_7=y.forwardRef((t,e)=>{const{__scopeScrollArea:n,style:r,...s}=t,i=Nn(Ch,n),o=QP(Ch,n),{onThumbPositionChange:a}=o,l=Re(e,h=>o.onThumbChange(h)),u=y.useRef(void 0),d=Vf(()=>{u.current&&(u.current(),u.current=void 0)},100);return y.useEffect(()=>{const h=i.viewport;if(h){const p=()=>{if(d(),!u.current){const g=T7(h,a);u.current=g,a()}};return a(),h.addEventListener("scroll",p),()=>h.removeEventListener("scroll",p)}},[i.viewport,d,a]),f.jsx(_e.div,{"data-state":o.hasThumb?"visible":"hidden",...s,ref:l,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:J(t.onPointerDownCapture,h=>{const g=h.target.getBoundingClientRect(),T=h.clientX-g.left,v=h.clientY-g.top;o.onThumbPointerDown({x:T,y:v})}),onPointerUp:J(t.onPointerUp,o.onThumbPointerUp)})});XP.displayName=Ch;var $w="ScrollAreaCorner",JP=y.forwardRef((t,e)=>{const n=Nn($w,t.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?f.jsx(E7,{...t,ref:e}):null});JP.displayName=$w;var E7=y.forwardRef((t,e)=>{const{__scopeScrollArea:n,...r}=t,s=Nn($w,n),[i,o]=y.useState(0),[a,l]=y.useState(0),u=!!(i&&a);return Pa(s.scrollbarX,()=>{var h;const d=((h=s.scrollbarX)==null?void 0:h.offsetHeight)||0;s.onCornerHeightChange(d),l(d)}),Pa(s.scrollbarY,()=>{var h;const d=((h=s.scrollbarY)==null?void 0:h.offsetWidth)||0;s.onCornerWidthChange(d),o(d)}),u?f.jsx(_e.div,{...r,ref:e,style:{width:i,height:a,position:"absolute",right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:0,...t.style}}):null});function Ah(t){return t?parseInt(t,10):0}function ZP(t,e){const n=t/e;return isNaN(n)?0:n}function Lf(t){const e=ZP(t.viewport,t.content),n=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,r=(t.scrollbar.size-n)*e;return Math.max(r,18)}function x7(t,e,n,r="ltr"){const s=Lf(n),i=s/2,o=e||i,a=s-o,l=n.scrollbar.paddingStart+o,u=n.scrollbar.size-n.scrollbar.paddingEnd-a,d=n.content-n.viewport,h=r==="ltr"?[0,d]:[d*-1,0];return ek([l,u],h)(t)}function Ix(t,e,n="ltr"){const r=Lf(e),s=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,i=e.scrollbar.size-s,o=e.content-e.viewport,a=i-r,l=n==="ltr"?[0,o]:[o*-1,0],u=h7(t,l);return ek([0,o],[0,a])(u)}function ek(t,e){return n=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const r=(e[1]-e[0])/(t[1]-t[0]);return e[0]+r*(n-t[0])}}function tk(t,e){return t>0&&t<e}var T7=(t,e=()=>{})=>{let n={left:t.scrollLeft,top:t.scrollTop},r=0;return function s(){const i={left:t.scrollLeft,top:t.scrollTop},o=n.left!==i.left,a=n.top!==i.top;(o||a)&&e(),n=i,r=window.requestAnimationFrame(s)}(),()=>window.cancelAnimationFrame(r)};function Vf(t,e){const n=Je(t),r=y.useRef(0);return y.useEffect(()=>()=>window.clearTimeout(r.current),[]),y.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,e)},[n,e])}function Pa(t,e){const n=Je(e);fn(()=>{let r=0;if(t){const s=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return s.observe(t),()=>{window.cancelAnimationFrame(r),s.unobserve(t)}}},[t,n])}var nk=WP,S7=GP,b7=JP;const jf=y.forwardRef(({className:t,children:e,...n},r)=>f.jsxs(nk,{ref:r,className:me("relative overflow-hidden",t),...n,children:[f.jsx(S7,{className:"h-full w-full rounded-[inherit]",children:e}),f.jsx(rk,{}),f.jsx(b7,{})]}));jf.displayName=nk.displayName;const rk=y.forwardRef(({className:t,orientation:e="vertical",...n},r)=>f.jsx(Fw,{ref:r,orientation:e,className:me("flex touch-none select-none transition-colors",e==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",e==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",t),...n,children:f.jsx(XP,{className:"relative flex-1 rounded-full bg-border"})}));rk.displayName=Fw.displayName;const I7=[{id:"EmKKSQ0Dy4M",title:"Video 1",thumbnail:"https://img.youtube.com/vi/EmKKSQ0Dy4M/mqdefault.jpg"},{id:"gJctVD_oMx4",title:"Video 2",thumbnail:"https://img.youtube.com/vi/gJctVD_oMx4/mqdefault.jpg"},{id:"0KqmvRtQV-E",title:"Video 3",thumbnail:"https://img.youtube.com/vi/0KqmvRtQV-E/mqdefault.jpg"},{id:"bxkUSK3H6Hk",title:"Video 4",thumbnail:"https://img.youtube.com/vi/bxkUSK3H6Hk/mqdefault.jpg"},{id:"l7ImtskJx8c",title:"Video 5",thumbnail:"https://img.youtube.com/vi/l7ImtskJx8c/mqdefault.jpg"},{id:"KnAMJXuE0Cc",title:"Video 6",thumbnail:"https://img.youtube.com/vi/KnAMJXuE0Cc/mqdefault.jpg"},{id:"tBAzIyPTJX0",title:"Video 7",thumbnail:"https://img.youtube.com/vi/tBAzIyPTJX0/mqdefault.jpg"},{id:"u4j2d7iLWsw",title:"Video 8",thumbnail:"https://img.youtube.com/vi/u4j2d7iLWsw/mqdefault.jpg"},{id:"Y5Oapy7C4gE",title:"Video 9",thumbnail:"https://img.youtube.com/vi/Y5Oapy7C4gE/mqdefault.jpg"},{id:"aHb_I2oSlyY",title:"Video 10",thumbnail:"https://img.youtube.com/vi/aHb_I2oSlyY/mqdefault.jpg"},{id:"7FP5BN8r4ig",title:"Video 11",thumbnail:"https://img.youtube.com/vi/7FP5BN8r4ig/mqdefault.jpg"},{id:"vWSyGIDXIFE",title:"Video 12",thumbnail:"https://img.youtube.com/vi/vWSyGIDXIFE/mqdefault.jpg"},{id:"-VtGmNlCvG8",title:"Video 13",thumbnail:"https://img.youtube.com/vi/-VtGmNlCvG8/mqdefault.jpg"},{id:"ZFYRfryUECE",title:"Video 14",thumbnail:"https://img.youtube.com/vi/ZFYRfryUECE/mqdefault.jpg"},{id:"t1XfAlE_lHk",title:"Video 15",thumbnail:"https://img.youtube.com/vi/t1XfAlE_lHk/mqdefault.jpg"},{id:"63SXG7YV7lc",title:"Video 16",thumbnail:"https://img.youtube.com/vi/63SXG7YV7lc/mqdefault.jpg"},{id:"O8tcQ_77TB4",title:"Video 17",thumbnail:"https://img.youtube.com/vi/O8tcQ_77TB4/mqdefault.jpg"},{id:"yq_7WEBBvKA",title:"Video 18",thumbnail:"https://img.youtube.com/vi/yq_7WEBBvKA/mqdefault.jpg"},{id:"FTsC9j7kRTc",title:"Video 19",thumbnail:"https://img.youtube.com/vi/FTsC9j7kRTc/mqdefault.jpg"},{id:"qpn8Lifa5s4",title:"Video 20",thumbnail:"https://img.youtube.com/vi/qpn8Lifa5s4/mqdefault.jpg"},{id:"vrsoCEUqErk",title:"Video 21",thumbnail:"https://img.youtube.com/vi/vrsoCEUqErk/mqdefault.jpg"},{id:"72Cc1EZl-mM",title:"Video 22",thumbnail:"https://img.youtube.com/vi/72Cc1EZl-mM/mqdefault.jpg"},{id:"J4B7zvHFiQY",title:"Video 23",thumbnail:"https://img.youtube.com/vi/J4B7zvHFiQY/mqdefault.jpg"},{id:"WDKXBSq8pJs",title:"Video 24",thumbnail:"https://img.youtube.com/vi/WDKXBSq8pJs/mqdefault.jpg"},{id:"QmOF0crdyRU",title:"Video 25",thumbnail:"https://img.youtube.com/vi/QmOF0crdyRU/mqdefault.jpg"},{id:"5HNO_JfY2Y0",title:"Video 26",thumbnail:"https://img.youtube.com/vi/5HNO_JfY2Y0/mqdefault.jpg"},{id:"Bh1XdxUTkfw",title:"Video 27",thumbnail:"https://img.youtube.com/vi/Bh1XdxUTkfw/mqdefault.jpg"}],C7=({open:t,onOpenChange:e})=>{const{currentUser:n}=hi(),[r,s]=y.useState(null),[i,o]=y.useState({}),a=y.useRef(null),l=y.useRef(!1),u=n!=null&&n.isGuest?"guest":"google";y.useEffect(()=>{t&&d()},[t]);const d=async()=>{try{const v=await Ri(Kt(at,"videoStats","viewCounts"));v.exists()&&o(v.data())}catch(v){console.error("Error fetching view counts:",v)}},h=async v=>{try{await Yo(Kt(at,"videoStats","viewCounts"),{[v]:UU(1)},{merge:!0}),o(x=>({...x,[v]:(x[v]||0)+1}))}catch(x){console.error("Error incrementing view count:",x)}};y.useEffect(()=>{t&&!l.current&&(AB(u),l.current=!0),t||(l.current=!1)},[t,u]),y.useEffect(()=>()=>{if(r&&a.current){const v=Math.round((Date.now()-a.current)/1e3);v>0&&$u(r.id,r.title,v,u)}},[r,u]);const p=v=>{if(r&&a.current){const x=Math.round((Date.now()-a.current)/1e3);x>0&&$u(r.id,r.title,x,u)}RB(v.id,v.title,u),h(v.id),a.current=Date.now(),s(v)},g=()=>{if(r&&a.current){const v=Math.round((Date.now()-a.current)/1e3);v>0&&$u(r.id,r.title,v,u)}a.current=null,s(null)},T=()=>{if(r&&a.current){const v=Math.round((Date.now()-a.current)/1e3);v>0&&$u(r.id,r.title,v,u)}a.current=null,s(null),e(!1)};return f.jsx(Yg,{open:t,onOpenChange:T,children:f.jsxs(Sh,{className:"max-w-7xl w-[98vw] h-[85vh] max-h-[85vh] p-0 bg-card border-border overflow-hidden",children:[f.jsx(bh,{className:"p-4 pb-2 border-b border-border/50",children:f.jsx(Ih,{className:"font-display text-xl",children:r?f.jsxs("button",{onClick:g,className:"flex items-center gap-2 hover:text-primary transition-colors",children:[f.jsx("span",{className:"text-muted-foreground",children:""}),f.jsx("span",{children:"Back to Videos"})]}):"Media"})}),r?f.jsx("div",{className:"flex-1 p-4",children:f.jsx("div",{className:"aspect-video w-full rounded-lg overflow-hidden bg-black",children:f.jsx("iframe",{src:`https://www.youtube.com/embed/${r.id}?autoplay=1`,title:r.title,allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,className:"w-full h-full"})})}):f.jsx(jf,{className:"flex-1 h-[calc(85vh-80px)]",children:f.jsx("div",{className:"p-4 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:I7.map(v=>f.jsx("button",{onClick:()=>p(v),className:"group relative rounded-lg overflow-hidden bg-secondary/30 border border-border/50 hover:border-primary/50 transition-all hover:scale-[1.02]",children:f.jsxs("div",{className:"aspect-video relative",children:[f.jsx("img",{src:v.thumbnail,alt:v.title,className:"w-full h-full object-cover"}),f.jsx("div",{className:"absolute inset-0 bg-black/40 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity",children:f.jsx("div",{className:"w-14 h-14 rounded-full bg-primary/90 flex items-center justify-center",children:f.jsx(bO,{className:"h-6 w-6 text-primary-foreground ml-1"})})}),f.jsxs("div",{className:"absolute bottom-2 right-2 flex items-center gap-1 bg-black/70 px-2 py-1 rounded text-xs text-white",children:[f.jsx(gO,{className:"h-3 w-3"}),f.jsx("span",{children:i[v.id]||0})]})]})},v.id))})})]})})};var sk={exports:{}},ik={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ka=y;function A7(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var R7=typeof Object.is=="function"?Object.is:A7,P7=ka.useState,k7=ka.useEffect,N7=ka.useLayoutEffect,D7=ka.useDebugValue;function M7(t,e){var n=e(),r=P7({inst:{value:n,getSnapshot:e}}),s=r[0].inst,i=r[1];return N7(function(){s.value=n,s.getSnapshot=e,hm(s)&&i({inst:s})},[t,n,e]),k7(function(){return hm(s)&&i({inst:s}),t(function(){hm(s)&&i({inst:s})})},[t]),D7(n),n}function hm(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!R7(t,n)}catch{return!0}}function O7(t,e){return e()}var L7=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?O7:M7;ik.useSyncExternalStore=ka.useSyncExternalStore!==void 0?ka.useSyncExternalStore:L7;sk.exports=ik;var V7=sk.exports;function j7(){return V7.useSyncExternalStore(F7,()=>!0,()=>!1)}function F7(){return()=>{}}var zw="Avatar",[U7,HW]=tr(zw),[$7,ok]=U7(zw),ak=y.forwardRef((t,e)=>{const{__scopeAvatar:n,...r}=t,[s,i]=y.useState("idle");return f.jsx($7,{scope:n,imageLoadingStatus:s,onImageLoadingStatusChange:i,children:f.jsx(_e.span,{...r,ref:e})})});ak.displayName=zw;var lk="AvatarImage",ck=y.forwardRef((t,e)=>{const{__scopeAvatar:n,src:r,onLoadingStatusChange:s=()=>{},...i}=t,o=ok(lk,n),a=z7(r,i),l=Je(u=>{s(u),o.onImageLoadingStatusChange(u)});return fn(()=>{a!=="idle"&&l(a)},[a,l]),a==="loaded"?f.jsx(_e.img,{...i,ref:e,src:r}):null});ck.displayName=lk;var uk="AvatarFallback",dk=y.forwardRef((t,e)=>{const{__scopeAvatar:n,delayMs:r,...s}=t,i=ok(uk,n),[o,a]=y.useState(r===void 0);return y.useEffect(()=>{if(r!==void 0){const l=window.setTimeout(()=>a(!0),r);return()=>window.clearTimeout(l)}},[r]),o&&i.imageLoadingStatus!=="loaded"?f.jsx(_e.span,{...s,ref:e}):null});dk.displayName=uk;function Cx(t,e){return t?e?(t.src!==e&&(t.src=e),t.complete&&t.naturalWidth>0?"loaded":"loading"):"error":"idle"}function z7(t,{referrerPolicy:e,crossOrigin:n}){const r=j7(),s=y.useRef(null),i=r?(s.current||(s.current=new window.Image),s.current):null,[o,a]=y.useState(()=>Cx(i,t));return fn(()=>{a(Cx(i,t))},[i,t]),fn(()=>{const l=h=>()=>{a(h)};if(!i)return;const u=l("loaded"),d=l("error");return i.addEventListener("load",u),i.addEventListener("error",d),e&&(i.referrerPolicy=e),typeof n=="string"&&(i.crossOrigin=n),()=>{i.removeEventListener("load",u),i.removeEventListener("error",d)}},[i,n,e]),o}var hk=ak,fk=ck,pk=dk;const Ff=y.forwardRef(({className:t,...e},n)=>f.jsx(hk,{ref:n,className:me("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",t),...e}));Ff.displayName=hk.displayName;const Uf=y.forwardRef(({className:t,...e},n)=>f.jsx(fk,{ref:n,className:me("aspect-square h-full w-full",t),referrerPolicy:"no-referrer",...e}));Uf.displayName=fk.displayName;const $f=y.forwardRef(({className:t,...e},n)=>f.jsx(pk,{ref:n,className:me("flex h-full w-full items-center justify-center rounded-full bg-muted",t),...e}));$f.displayName=pk.displayName;const B7=({rank:t,name:e,photoUrl:n,daysCount:r,isActive:s,isCurrentUser:i,isGuest:o,rankChange:a=0,isRecentlyRelapsed:l=!1})=>{const u=()=>{switch(t){case 1:return"bg-gradient-gold glow-gold border-gold/30";case 2:return"bg-gradient-silver border-silver/30";case 3:return"bg-gradient-bronze border-bronze/30";default:return"bg-secondary/30 border-border/50"}},d=()=>t<=3?f.jsx("div",{className:`
          flex items-center justify-center w-8 h-8 rounded-full 
          ${t===1?"bg-gradient-gold":t===2?"bg-gradient-silver":"bg-gradient-bronze"}
        `,children:t===1?f.jsx(wa,{className:"h-4 w-4 text-background"}):f.jsx("span",{className:"text-sm font-bold text-background",children:t})}):f.jsx("div",{className:"flex items-center justify-center w-8 h-8 rounded-full bg-secondary",children:f.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:t})});return f.jsxs("div",{className:`
      relative flex items-center gap-4 p-4 rounded-xl border transition-all duration-300
      ${i?"ring-2 ring-primary/50":""}
      ${t<=3?u():"bg-card/50 border-border/30 hover:bg-card/80"}
    `,children:[d(),f.jsxs(Ff,{className:`h-12 w-12 ${t<=3?"border-2 border-background/30":"border border-border"}`,children:[f.jsx(Uf,{src:n,alt:e}),f.jsx($f,{className:`${t<=3?"bg-background/20 text-background font-semibold":"bg-secondary"}`,children:e.slice(0,2).toUpperCase()})]}),f.jsxs("div",{className:"flex-1 min-w-0",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("span",{className:`font-medium truncate ${t<=3?"text-background":"text-foreground"}`,children:e}),i&&f.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full ${t<=3?"bg-background/20 text-background":"bg-primary/10 text-primary"}`,children:"You"})]}),f.jsx("div",{className:`flex items-center gap-1 text-sm ${t<=3?"text-background/80":"text-muted-foreground"}`,children:s?f.jsxs(f.Fragment,{children:[f.jsx(nv,{className:"h-3 w-3"}),f.jsx("span",{children:"Active streak"})]}):f.jsxs(f.Fragment,{children:[f.jsx(hO,{className:"h-3 w-3"}),f.jsx("span",{children:"Inactive"})]})})]}),a!==0&&f.jsx("div",{className:"flex flex-col items-center justify-center",children:a>0?f.jsx("div",{className:"flex flex-col items-center",children:f.jsx(X_,{className:"h-4 w-4 text-green-500 fill-green-500"})}):f.jsx("div",{className:"flex flex-col items-center",children:f.jsx(X_,{className:"h-4 w-4 text-red-500 fill-red-500 rotate-180"})})}),f.jsxs("div",{className:"text-right",children:[f.jsx("div",{className:`text-2xl font-display font-bold ${l?"text-red-500":t<=3?"text-background":"text-foreground"}`,children:r}),f.jsx("div",{className:`text-xs ${l?"text-red-400":t<=3?"text-background/70":"text-muted-foreground"}`,children:r===1?"day":"days"})]})]})},Ax=t=>{if(!t)return!1;const e=new Date(t);return(new Date().getTime()-e.getTime())/(1e3*60*60)<=24},H7=()=>{const{leaderboard:t,currentUser:e}=hi();y.useEffect(()=>{e&&bB(e.isGuest?"guest":"google")},[e==null?void 0:e.id]);const n=y.useMemo(()=>[...t].sort((s,i)=>{if(s.streak.isActive!==i.streak.isActive)return s.streak.isActive?-1:1;if(i.daysCount!==s.daysCount)return i.daysCount-s.daysCount;const o=s.streak.startDate?new Date(s.streak.startDate).getTime():1/0,a=i.streak.startDate?new Date(i.streak.startDate).getTime():1/0;return o-a}),[t]),r=y.useMemo(()=>{const s=new Map;return n.filter(o=>Ax(o.streak.relapseTime)).forEach(o=>{s.set(o.user.id,-1);const a=o.streak.previousStartDate?new Date(o.streak.previousStartDate).getTime():null,l=o.streak.relapseTime?new Date(o.streak.relapseTime).getTime():null;a&&l&&n.forEach(u=>{if(u.user.id===o.user.id||Ax(u.streak.relapseTime)||!u.streak.startDate||!u.streak.isActive)return;const d=new Date(u.streak.startDate).getTime();d>a&&d<l&&s.set(u.user.id,1)})}),s},[n]);return f.jsxs("div",{className:"card-elevated p-6",children:[f.jsxs("div",{className:"flex items-center justify-between mb-6",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(Ab,{className:"h-5 w-5 text-primary"}),f.jsx("h2",{className:"text-lg font-semibold",children:"Leaderboard"})]}),f.jsxs("div",{className:"flex items-center gap-1.5 text-sm text-muted-foreground",children:[f.jsx(PO,{className:"h-4 w-4"}),f.jsxs("span",{children:[t.length," warriors"]})]})]}),f.jsx(jf,{className:"h-[400px] sm:h-[500px] pr-4 -mr-4",children:f.jsx("div",{className:"space-y-3",children:n.map((s,i)=>f.jsx(B7,{rank:i+1,name:s.user.name,photoUrl:s.user.photoUrl,daysCount:s.daysCount,isActive:s.streak.isActive,isCurrentUser:(e==null?void 0:e.id)===s.user.id,isGuest:s.user.isGuest,rankChange:r.get(s.user.id)||0,isRecentlyRelapsed:s.isRecentlyRelapsed},s.user.id))})}),f.jsx("div",{className:"mt-6 pt-4 border-t border-border/50",children:f.jsxs("p",{className:"text-xs text-center text-muted-foreground",children:[" ",f.jsx("span",{className:"font-medium",children:"Truthfulness to the community"}),"  We honor honest participation"]})})]})};var fm="rovingFocusGroup.onEntryFocus",W7={bubbles:!1,cancelable:!0},Qc="RovingFocusGroup",[Jg,mk,q7]=Yy(Qc),[G7,gk]=tr(Qc,[q7]),[K7,Q7]=G7(Qc),yk=y.forwardRef((t,e)=>f.jsx(Jg.Provider,{scope:t.__scopeRovingFocusGroup,children:f.jsx(Jg.Slot,{scope:t.__scopeRovingFocusGroup,children:f.jsx(Y7,{...t,ref:e})})}));yk.displayName=Qc;var Y7=y.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:l,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...h}=t,p=y.useRef(null),g=Re(e,p),T=Vw(i),[v,x]=Lc({prop:o,defaultProp:a??null,onChange:l,caller:Qc}),[E,_]=y.useState(!1),S=Je(u),C=mk(n),D=y.useRef(!1),[O,I]=y.useState(0);return y.useEffect(()=>{const b=p.current;if(b)return b.addEventListener(fm,S),()=>b.removeEventListener(fm,S)},[S]),f.jsx(K7,{scope:n,orientation:r,dir:T,loop:s,currentTabStopId:v,onItemFocus:y.useCallback(b=>x(b),[x]),onItemShiftTab:y.useCallback(()=>_(!0),[]),onFocusableItemAdd:y.useCallback(()=>I(b=>b+1),[]),onFocusableItemRemove:y.useCallback(()=>I(b=>b-1),[]),children:f.jsx(_e.div,{tabIndex:E||O===0?-1:0,"data-orientation":r,...h,ref:g,style:{outline:"none",...t.style},onMouseDown:J(t.onMouseDown,()=>{D.current=!0}),onFocus:J(t.onFocus,b=>{const A=!D.current;if(b.target===b.currentTarget&&A&&!E){const P=new CustomEvent(fm,W7);if(b.currentTarget.dispatchEvent(P),!P.defaultPrevented){const N=C().filter(Z=>Z.focusable),M=N.find(Z=>Z.active),k=N.find(Z=>Z.id===v),se=[M,k,...N].filter(Boolean).map(Z=>Z.ref.current);_k(se,d)}}D.current=!1}),onBlur:J(t.onBlur,()=>_(!1))})})}),vk="RovingFocusGroupItem",wk=y.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:i,children:o,...a}=t,l=Ui(),u=i||l,d=Q7(vk,n),h=d.currentTabStopId===u,p=mk(n),{onFocusableItemAdd:g,onFocusableItemRemove:T,currentTabStopId:v}=d;return y.useEffect(()=>{if(r)return g(),()=>T()},[r,g,T]),f.jsx(Jg.ItemSlot,{scope:n,id:u,focusable:r,active:s,children:f.jsx(_e.span,{tabIndex:h?0:-1,"data-orientation":d.orientation,...a,ref:e,onMouseDown:J(t.onMouseDown,x=>{r?d.onItemFocus(u):x.preventDefault()}),onFocus:J(t.onFocus,()=>d.onItemFocus(u)),onKeyDown:J(t.onKeyDown,x=>{if(x.key==="Tab"&&x.shiftKey){d.onItemShiftTab();return}if(x.target!==x.currentTarget)return;const E=Z7(x,d.orientation,d.dir);if(E!==void 0){if(x.metaKey||x.ctrlKey||x.altKey||x.shiftKey)return;x.preventDefault();let S=p().filter(C=>C.focusable).map(C=>C.ref.current);if(E==="last")S.reverse();else if(E==="prev"||E==="next"){E==="prev"&&S.reverse();const C=S.indexOf(x.currentTarget);S=d.loop?eH(S,C+1):S.slice(C+1)}setTimeout(()=>_k(S))}}),children:typeof o=="function"?o({isCurrentTabStop:h,hasTabStop:v!=null}):o})})});wk.displayName=vk;var X7={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function J7(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function Z7(t,e,n){const r=J7(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return X7[r]}function _k(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function eH(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var tH=yk,nH=wk,Zg=["Enter"," "],rH=["ArrowDown","PageUp","Home"],Ek=["ArrowUp","PageDown","End"],sH=[...rH,...Ek],iH={ltr:[...Zg,"ArrowRight"],rtl:[...Zg,"ArrowLeft"]},oH={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Yc="Menu",[bc,aH,lH]=Yy(Yc),[ho,xk]=tr(Yc,[lH,ef,gk]),zf=ef(),Tk=gk(),[cH,fo]=ho(Yc),[uH,Xc]=ho(Yc),Sk=t=>{const{__scopeMenu:e,open:n=!1,children:r,dir:s,onOpenChange:i,modal:o=!0}=t,a=zf(e),[l,u]=y.useState(null),d=y.useRef(!1),h=Je(i),p=Vw(s);return y.useEffect(()=>{const g=()=>{d.current=!0,document.addEventListener("pointerdown",T,{capture:!0,once:!0}),document.addEventListener("pointermove",T,{capture:!0,once:!0})},T=()=>d.current=!1;return document.addEventListener("keydown",g,{capture:!0}),()=>{document.removeEventListener("keydown",g,{capture:!0}),document.removeEventListener("pointerdown",T,{capture:!0}),document.removeEventListener("pointermove",T,{capture:!0})}},[]),f.jsx(oI,{...a,children:f.jsx(cH,{scope:e,open:n,onOpenChange:h,content:l,onContentChange:u,children:f.jsx(uH,{scope:e,onClose:y.useCallback(()=>h(!1),[h]),isUsingKeyboardRef:d,dir:p,modal:o,children:r})})})};Sk.displayName=Yc;var dH="MenuAnchor",Bw=y.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,s=zf(n);return f.jsx(aI,{...s,...r,ref:e})});Bw.displayName=dH;var Hw="MenuPortal",[hH,bk]=ho(Hw,{forceMount:void 0}),Ik=t=>{const{__scopeMenu:e,forceMount:n,children:r,container:s}=t,i=fo(Hw,e);return f.jsx(hH,{scope:e,forceMount:n,children:f.jsx(tn,{present:n||i.open,children:f.jsx(Kh,{asChild:!0,container:s,children:r})})})};Ik.displayName=Hw;var An="MenuContent",[fH,Ww]=ho(An),Ck=y.forwardRef((t,e)=>{const n=bk(An,t.__scopeMenu),{forceMount:r=n.forceMount,...s}=t,i=fo(An,t.__scopeMenu),o=Xc(An,t.__scopeMenu);return f.jsx(bc.Provider,{scope:t.__scopeMenu,children:f.jsx(tn,{present:r||i.open,children:f.jsx(bc.Slot,{scope:t.__scopeMenu,children:o.modal?f.jsx(pH,{...s,ref:e}):f.jsx(mH,{...s,ref:e})})})})}),pH=y.forwardRef((t,e)=>{const n=fo(An,t.__scopeMenu),r=y.useRef(null),s=Re(e,r);return y.useEffect(()=>{const i=r.current;if(i)return QR(i)},[]),f.jsx(qw,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:J(t.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),mH=y.forwardRef((t,e)=>{const n=fo(An,t.__scopeMenu);return f.jsx(qw,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),gH=va("MenuContent.ScrollLock"),qw=y.forwardRef((t,e)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:s,onOpenAutoFocus:i,onCloseAutoFocus:o,disableOutsidePointerEvents:a,onEntryFocus:l,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:h,onInteractOutside:p,onDismiss:g,disableOutsideScroll:T,...v}=t,x=fo(An,n),E=Xc(An,n),_=zf(n),S=Tk(n),C=aH(n),[D,O]=y.useState(null),I=y.useRef(null),b=Re(e,I,x.onContentChange),A=y.useRef(0),P=y.useRef(""),N=y.useRef(0),M=y.useRef(null),k=y.useRef("right"),H=y.useRef(0),se=T?Aw:y.Fragment,Z=T?{as:gH,allowPinchZoom:!0}:void 0,oe=V=>{var he,nn;const q=P.current+V,ee=C().filter(Qe=>!Qe.disabled),X=document.activeElement,ce=(he=ee.find(Qe=>Qe.ref.current===X))==null?void 0:he.textValue,ae=ee.map(Qe=>Qe.textValue),Pe=AH(ae,q,ce),Ne=(nn=ee.find(Qe=>Qe.textValue===Pe))==null?void 0:nn.ref.current;(function Qe(gn){P.current=gn,window.clearTimeout(A.current),gn!==""&&(A.current=window.setTimeout(()=>Qe(""),1e3))})(q),Ne&&setTimeout(()=>Ne.focus())};y.useEffect(()=>()=>window.clearTimeout(A.current),[]),UR();const F=y.useCallback(V=>{var ee,X;return k.current===((ee=M.current)==null?void 0:ee.side)&&PH(V,(X=M.current)==null?void 0:X.area)},[]);return f.jsx(fH,{scope:n,searchRef:P,onItemEnter:y.useCallback(V=>{F(V)&&V.preventDefault()},[F]),onItemLeave:y.useCallback(V=>{var q;F(V)||((q=I.current)==null||q.focus(),O(null))},[F]),onTriggerLeave:y.useCallback(V=>{F(V)&&V.preventDefault()},[F]),pointerGraceTimerRef:N,onPointerGraceIntentChange:y.useCallback(V=>{M.current=V},[]),children:f.jsx(se,{...Z,children:f.jsx(Cw,{asChild:!0,trapped:s,onMountAutoFocus:J(i,V=>{var q;V.preventDefault(),(q=I.current)==null||q.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:f.jsx(Oc,{asChild:!0,disableOutsidePointerEvents:a,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:h,onInteractOutside:p,onDismiss:g,children:f.jsx(tH,{asChild:!0,...S,dir:E.dir,orientation:"vertical",loop:r,currentTabStopId:D,onCurrentTabStopIdChange:O,onEntryFocus:J(l,V=>{E.isUsingKeyboardRef.current||V.preventDefault()}),preventScrollOnEntryFocus:!0,children:f.jsx(lI,{role:"menu","aria-orientation":"vertical","data-state":Bk(x.open),"data-radix-menu-content":"",dir:E.dir,..._,...v,ref:b,style:{outline:"none",...v.style},onKeyDown:J(v.onKeyDown,V=>{const ee=V.target.closest("[data-radix-menu-content]")===V.currentTarget,X=V.ctrlKey||V.altKey||V.metaKey,ce=V.key.length===1;ee&&(V.key==="Tab"&&V.preventDefault(),!X&&ce&&oe(V.key));const ae=I.current;if(V.target!==ae||!sH.includes(V.key))return;V.preventDefault();const Ne=C().filter(he=>!he.disabled).map(he=>he.ref.current);Ek.includes(V.key)&&Ne.reverse(),IH(Ne)}),onBlur:J(t.onBlur,V=>{V.currentTarget.contains(V.target)||(window.clearTimeout(A.current),P.current="")}),onPointerMove:J(t.onPointerMove,Ic(V=>{const q=V.target,ee=H.current!==V.clientX;if(V.currentTarget.contains(q)&&ee){const X=V.clientX>H.current?"right":"left";k.current=X,H.current=V.clientX}}))})})})})})})});Ck.displayName=An;var yH="MenuGroup",Gw=y.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return f.jsx(_e.div,{role:"group",...r,ref:e})});Gw.displayName=yH;var vH="MenuLabel",Ak=y.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return f.jsx(_e.div,{...r,ref:e})});Ak.displayName=vH;var Rh="MenuItem",Rx="menu.itemSelect",Bf=y.forwardRef((t,e)=>{const{disabled:n=!1,onSelect:r,...s}=t,i=y.useRef(null),o=Xc(Rh,t.__scopeMenu),a=Ww(Rh,t.__scopeMenu),l=Re(e,i),u=y.useRef(!1),d=()=>{const h=i.current;if(!n&&h){const p=new CustomEvent(Rx,{bubbles:!0,cancelable:!0});h.addEventListener(Rx,g=>r==null?void 0:r(g),{once:!0}),Xy(h,p),p.defaultPrevented?u.current=!1:o.onClose()}};return f.jsx(Rk,{...s,ref:l,disabled:n,onClick:J(t.onClick,d),onPointerDown:h=>{var p;(p=t.onPointerDown)==null||p.call(t,h),u.current=!0},onPointerUp:J(t.onPointerUp,h=>{var p;u.current||(p=h.currentTarget)==null||p.click()}),onKeyDown:J(t.onKeyDown,h=>{const p=a.searchRef.current!=="";n||p&&h.key===" "||Zg.includes(h.key)&&(h.currentTarget.click(),h.preventDefault())})})});Bf.displayName=Rh;var Rk=y.forwardRef((t,e)=>{const{__scopeMenu:n,disabled:r=!1,textValue:s,...i}=t,o=Ww(Rh,n),a=Tk(n),l=y.useRef(null),u=Re(e,l),[d,h]=y.useState(!1),[p,g]=y.useState("");return y.useEffect(()=>{const T=l.current;T&&g((T.textContent??"").trim())},[i.children]),f.jsx(bc.ItemSlot,{scope:n,disabled:r,textValue:s??p,children:f.jsx(nH,{asChild:!0,...a,focusable:!r,children:f.jsx(_e.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...i,ref:u,onPointerMove:J(t.onPointerMove,Ic(T=>{r?o.onItemLeave(T):(o.onItemEnter(T),T.defaultPrevented||T.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:J(t.onPointerLeave,Ic(T=>o.onItemLeave(T))),onFocus:J(t.onFocus,()=>h(!0)),onBlur:J(t.onBlur,()=>h(!1))})})})}),wH="MenuCheckboxItem",Pk=y.forwardRef((t,e)=>{const{checked:n=!1,onCheckedChange:r,...s}=t;return f.jsx(Ok,{scope:t.__scopeMenu,checked:n,children:f.jsx(Bf,{role:"menuitemcheckbox","aria-checked":Ph(n)?"mixed":n,...s,ref:e,"data-state":Qw(n),onSelect:J(s.onSelect,()=>r==null?void 0:r(Ph(n)?!0:!n),{checkForDefaultPrevented:!1})})})});Pk.displayName=wH;var kk="MenuRadioGroup",[_H,EH]=ho(kk,{value:void 0,onValueChange:()=>{}}),Nk=y.forwardRef((t,e)=>{const{value:n,onValueChange:r,...s}=t,i=Je(r);return f.jsx(_H,{scope:t.__scopeMenu,value:n,onValueChange:i,children:f.jsx(Gw,{...s,ref:e})})});Nk.displayName=kk;var Dk="MenuRadioItem",Mk=y.forwardRef((t,e)=>{const{value:n,...r}=t,s=EH(Dk,t.__scopeMenu),i=n===s.value;return f.jsx(Ok,{scope:t.__scopeMenu,checked:i,children:f.jsx(Bf,{role:"menuitemradio","aria-checked":i,...r,ref:e,"data-state":Qw(i),onSelect:J(r.onSelect,()=>{var o;return(o=s.onValueChange)==null?void 0:o.call(s,n)},{checkForDefaultPrevented:!1})})})});Mk.displayName=Dk;var Kw="MenuItemIndicator",[Ok,xH]=ho(Kw,{checked:!1}),Lk=y.forwardRef((t,e)=>{const{__scopeMenu:n,forceMount:r,...s}=t,i=xH(Kw,n);return f.jsx(tn,{present:r||Ph(i.checked)||i.checked===!0,children:f.jsx(_e.span,{...s,ref:e,"data-state":Qw(i.checked)})})});Lk.displayName=Kw;var TH="MenuSeparator",Vk=y.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return f.jsx(_e.div,{role:"separator","aria-orientation":"horizontal",...r,ref:e})});Vk.displayName=TH;var SH="MenuArrow",jk=y.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,s=zf(n);return f.jsx(cI,{...s,...r,ref:e})});jk.displayName=SH;var bH="MenuSub",[WW,Fk]=ho(bH),Cl="MenuSubTrigger",Uk=y.forwardRef((t,e)=>{const n=fo(Cl,t.__scopeMenu),r=Xc(Cl,t.__scopeMenu),s=Fk(Cl,t.__scopeMenu),i=Ww(Cl,t.__scopeMenu),o=y.useRef(null),{pointerGraceTimerRef:a,onPointerGraceIntentChange:l}=i,u={__scopeMenu:t.__scopeMenu},d=y.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return y.useEffect(()=>d,[d]),y.useEffect(()=>{const h=a.current;return()=>{window.clearTimeout(h),l(null)}},[a,l]),f.jsx(Bw,{asChild:!0,...u,children:f.jsx(Rk,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":s.contentId,"data-state":Bk(n.open),...t,ref:Gh(e,s.onTriggerChange),onClick:h=>{var p;(p=t.onClick)==null||p.call(t,h),!(t.disabled||h.defaultPrevented)&&(h.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:J(t.onPointerMove,Ic(h=>{i.onItemEnter(h),!h.defaultPrevented&&!t.disabled&&!n.open&&!o.current&&(i.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{n.onOpenChange(!0),d()},100))})),onPointerLeave:J(t.onPointerLeave,Ic(h=>{var g,T;d();const p=(g=n.content)==null?void 0:g.getBoundingClientRect();if(p){const v=(T=n.content)==null?void 0:T.dataset.side,x=v==="right",E=x?-5:5,_=p[x?"left":"right"],S=p[x?"right":"left"];i.onPointerGraceIntentChange({area:[{x:h.clientX+E,y:h.clientY},{x:_,y:p.top},{x:S,y:p.top},{x:S,y:p.bottom},{x:_,y:p.bottom}],side:v}),window.clearTimeout(a.current),a.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(h),h.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:J(t.onKeyDown,h=>{var g;const p=i.searchRef.current!=="";t.disabled||p&&h.key===" "||iH[r.dir].includes(h.key)&&(n.onOpenChange(!0),(g=n.content)==null||g.focus(),h.preventDefault())})})})});Uk.displayName=Cl;var $k="MenuSubContent",zk=y.forwardRef((t,e)=>{const n=bk(An,t.__scopeMenu),{forceMount:r=n.forceMount,...s}=t,i=fo(An,t.__scopeMenu),o=Xc(An,t.__scopeMenu),a=Fk($k,t.__scopeMenu),l=y.useRef(null),u=Re(e,l);return f.jsx(bc.Provider,{scope:t.__scopeMenu,children:f.jsx(tn,{present:r||i.open,children:f.jsx(bc.Slot,{scope:t.__scopeMenu,children:f.jsx(qw,{id:a.contentId,"aria-labelledby":a.triggerId,...s,ref:u,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{var h;o.isUsingKeyboardRef.current&&((h=l.current)==null||h.focus()),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:J(t.onFocusOutside,d=>{d.target!==a.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:J(t.onEscapeKeyDown,d=>{o.onClose(),d.preventDefault()}),onKeyDown:J(t.onKeyDown,d=>{var g;const h=d.currentTarget.contains(d.target),p=oH[o.dir].includes(d.key);h&&p&&(i.onOpenChange(!1),(g=a.trigger)==null||g.focus(),d.preventDefault())})})})})})});zk.displayName=$k;function Bk(t){return t?"open":"closed"}function Ph(t){return t==="indeterminate"}function Qw(t){return Ph(t)?"indeterminate":t?"checked":"unchecked"}function IH(t){const e=document.activeElement;for(const n of t)if(n===e||(n.focus(),document.activeElement!==e))return}function CH(t,e){return t.map((n,r)=>t[(e+r)%t.length])}function AH(t,e,n){const s=e.length>1&&Array.from(e).every(u=>u===e[0])?e[0]:e,i=n?t.indexOf(n):-1;let o=CH(t,Math.max(i,0));s.length===1&&(o=o.filter(u=>u!==n));const l=o.find(u=>u.toLowerCase().startsWith(s.toLowerCase()));return l!==n?l:void 0}function RH(t,e){const{x:n,y:r}=t;let s=!1;for(let i=0,o=e.length-1;i<e.length;o=i++){const a=e[i],l=e[o],u=a.x,d=a.y,h=l.x,p=l.y;d>r!=p>r&&n<(h-u)*(r-d)/(p-d)+u&&(s=!s)}return s}function PH(t,e){if(!e)return!1;const n={x:t.clientX,y:t.clientY};return RH(n,e)}function Ic(t){return e=>e.pointerType==="mouse"?t(e):void 0}var kH=Sk,NH=Bw,DH=Ik,MH=Ck,OH=Gw,LH=Ak,VH=Bf,jH=Pk,FH=Nk,UH=Mk,$H=Lk,zH=Vk,BH=jk,HH=Uk,WH=zk,Hf="DropdownMenu",[qH,qW]=tr(Hf,[xk]),Bt=xk(),[GH,Hk]=qH(Hf),Wk=t=>{const{__scopeDropdownMenu:e,children:n,dir:r,open:s,defaultOpen:i,onOpenChange:o,modal:a=!0}=t,l=Bt(e),u=y.useRef(null),[d,h]=Lc({prop:s,defaultProp:i??!1,onChange:o,caller:Hf});return f.jsx(GH,{scope:e,triggerId:Ui(),triggerRef:u,contentId:Ui(),open:d,onOpenChange:h,onOpenToggle:y.useCallback(()=>h(p=>!p),[h]),modal:a,children:f.jsx(kH,{...l,open:d,onOpenChange:h,dir:r,modal:a,children:n})})};Wk.displayName=Hf;var qk="DropdownMenuTrigger",Gk=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...s}=t,i=Hk(qk,n),o=Bt(n);return f.jsx(NH,{asChild:!0,...o,children:f.jsx(_e.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...s,ref:Gh(e,i.triggerRef),onPointerDown:J(t.onPointerDown,a=>{!r&&a.button===0&&a.ctrlKey===!1&&(i.onOpenToggle(),i.open||a.preventDefault())}),onKeyDown:J(t.onKeyDown,a=>{r||(["Enter"," "].includes(a.key)&&i.onOpenToggle(),a.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(a.key)&&a.preventDefault())})})})});Gk.displayName=qk;var KH="DropdownMenuPortal",Kk=t=>{const{__scopeDropdownMenu:e,...n}=t,r=Bt(e);return f.jsx(DH,{...r,...n})};Kk.displayName=KH;var Qk="DropdownMenuContent",Yk=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Hk(Qk,n),i=Bt(n),o=y.useRef(!1);return f.jsx(MH,{id:s.contentId,"aria-labelledby":s.triggerId,...i,...r,ref:e,onCloseAutoFocus:J(t.onCloseAutoFocus,a=>{var l;o.current||(l=s.triggerRef.current)==null||l.focus(),o.current=!1,a.preventDefault()}),onInteractOutside:J(t.onInteractOutside,a=>{const l=a.detail.originalEvent,u=l.button===0&&l.ctrlKey===!0,d=l.button===2||u;(!s.modal||d)&&(o.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});Yk.displayName=Qk;var QH="DropdownMenuGroup",YH=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Bt(n);return f.jsx(OH,{...s,...r,ref:e})});YH.displayName=QH;var XH="DropdownMenuLabel",Xk=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Bt(n);return f.jsx(LH,{...s,...r,ref:e})});Xk.displayName=XH;var JH="DropdownMenuItem",Jk=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Bt(n);return f.jsx(VH,{...s,...r,ref:e})});Jk.displayName=JH;var ZH="DropdownMenuCheckboxItem",Zk=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Bt(n);return f.jsx(jH,{...s,...r,ref:e})});Zk.displayName=ZH;var eW="DropdownMenuRadioGroup",tW=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Bt(n);return f.jsx(FH,{...s,...r,ref:e})});tW.displayName=eW;var nW="DropdownMenuRadioItem",eN=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Bt(n);return f.jsx(UH,{...s,...r,ref:e})});eN.displayName=nW;var rW="DropdownMenuItemIndicator",tN=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Bt(n);return f.jsx($H,{...s,...r,ref:e})});tN.displayName=rW;var sW="DropdownMenuSeparator",nN=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Bt(n);return f.jsx(zH,{...s,...r,ref:e})});nN.displayName=sW;var iW="DropdownMenuArrow",oW=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Bt(n);return f.jsx(BH,{...s,...r,ref:e})});oW.displayName=iW;var aW="DropdownMenuSubTrigger",rN=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Bt(n);return f.jsx(HH,{...s,...r,ref:e})});rN.displayName=aW;var lW="DropdownMenuSubContent",sN=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Bt(n);return f.jsx(WH,{...s,...r,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});sN.displayName=lW;var cW=Wk,uW=Gk,dW=Kk,iN=Yk,oN=Xk,aN=Jk,lN=Zk,cN=eN,uN=tN,dN=nN,hN=rN,fN=sN;const hW=cW,fW=uW,pW=y.forwardRef(({className:t,inset:e,children:n,...r},s)=>f.jsxs(hN,{ref:s,className:me("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[state=open]:bg-accent focus:bg-accent",e&&"pl-8",t),...r,children:[n,f.jsx(dO,{className:"ml-auto h-4 w-4"})]}));pW.displayName=hN.displayName;const mW=y.forwardRef(({className:t,...e},n)=>f.jsx(fN,{ref:n,className:me("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...e}));mW.displayName=fN.displayName;const pN=y.forwardRef(({className:t,sideOffset:e=4,...n},r)=>f.jsx(dW,{children:f.jsx(iN,{ref:r,sideOffset:e,className:me("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n})}));pN.displayName=iN.displayName;const ey=y.forwardRef(({className:t,inset:e,...n},r)=>f.jsx(aN,{ref:r,className:me("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e&&"pl-8",t),...n}));ey.displayName=aN.displayName;const gW=y.forwardRef(({className:t,children:e,checked:n,...r},s)=>f.jsxs(lN,{ref:s,className:me("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",t),checked:n,...r,children:[f.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:f.jsx(uN,{children:f.jsx(cO,{className:"h-4 w-4"})})}),e]}));gW.displayName=lN.displayName;const yW=y.forwardRef(({className:t,children:e,...n},r)=>f.jsxs(cN,{ref:r,className:me("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",t),...n,children:[f.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:f.jsx(uN,{children:f.jsx(pO,{className:"h-2 w-2 fill-current"})})}),e]}));yW.displayName=cN.displayName;const vW=y.forwardRef(({className:t,inset:e,...n},r)=>f.jsx(oN,{ref:r,className:me("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",t),...n}));vW.displayName=oN.displayName;const mN=y.forwardRef(({className:t,...e},n)=>f.jsx(dN,{ref:n,className:me("-mx-1 my-1 h-px bg-muted",t),...e}));mN.displayName=dN.displayName;const gN=y.forwardRef(({className:t,...e},n)=>f.jsx("textarea",{className:me("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:n,...e}));gN.displayName="Textarea";const wW=()=>{const{currentUser:t,logout:e,submitFeedback:n}=hi(),{theme:r,toggleTheme:s}=UB(),[i,o]=y.useState(!1),[a,l]=y.useState(!1),[u,d]=y.useState(""),[h,p]=y.useState(!1),[g,T]=y.useState(!1),v=async()=>{if(!u.trim())return;p(!0);const x=await n(u);p(!1),x&&(T(!0),d(""),setTimeout(()=>{l(!1),T(!1)},2e3))};return f.jsxs("header",{className:"sticky top-0 z-50 w-full border-b border-border/40 bg-background/80 backdrop-blur-xl",children:[f.jsxs("div",{className:"container flex h-16 items-center justify-between",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsxs("div",{className:"relative",children:[f.jsx(wa,{className:"h-8 w-8 text-primary crown-shadow"}),f.jsx("div",{className:"absolute inset-0 animate-pulse-glow",children:f.jsx(wa,{className:"h-8 w-8 text-primary opacity-50"})})]}),f.jsxs("span",{className:"font-display text-xl font-bold tracking-tight",children:["LetsGo",f.jsx("span",{className:"text-gradient-gold",children:"Kings"})]})]}),t&&f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsxs(tt,{variant:"ghost",onClick:()=>{o(!0),IB(t.isGuest?"guest":"google")},className:"text-muted-foreground hover:text-foreground text-xs px-2",title:"View Rules",children:[f.jsx(yO,{className:"h-3.5 w-3.5 mr-1"}),"Rules"]}),f.jsx(tt,{variant:"ghost",size:"icon",onClick:s,className:"text-muted-foreground hover:text-foreground",title:r==="dark"?"Switch to light mode":"Switch to dark mode",children:r==="dark"?f.jsx(AO,{className:"h-4 w-4"}):f.jsx(SO,{className:"h-4 w-4"})}),f.jsxs(hW,{children:[f.jsx(fW,{asChild:!0,children:f.jsxs(tt,{variant:"ghost",className:"flex items-center gap-2 px-2 hover:bg-secondary/50",children:[f.jsxs(Ff,{className:"h-8 w-8 border-2 border-primary/30",children:[f.jsx(Uf,{src:t.photoUrl,alt:t.name}),f.jsx($f,{className:"bg-secondary text-xs font-medium",children:t.name.slice(0,2).toUpperCase()})]}),f.jsxs("div",{className:"hidden sm:flex flex-col text-left",children:[f.jsx("span",{className:"text-sm font-medium leading-none",children:t.name}),t.isGuest&&f.jsx("span",{className:"text-xs text-muted-foreground",children:"Guest"})]}),f.jsx(uO,{className:"h-5 w-5 text-muted-foreground",strokeWidth:2.5})]})}),f.jsxs(pN,{align:"end",className:"w-32",children:[f.jsxs(ey,{onClick:()=>l(!0),className:"cursor-pointer",children:[f.jsx(xO,{className:"h-4 w-4 mr-2"}),"Feedback"]}),f.jsx(mN,{}),f.jsxs(ey,{onClick:e,className:"cursor-pointer text-success focus:text-success",children:[f.jsx(_O,{className:"h-4 w-4 mr-2"}),"Logout"]})]})]})]})]}),f.jsx(Yg,{open:i,onOpenChange:o,children:f.jsxs(Sh,{className:"bg-card border-border",children:[f.jsx(bh,{children:f.jsx(Ih,{className:"font-display text-xl",children:"Platform Rules"})}),f.jsxs("div",{className:"space-y-4 py-4",children:[f.jsxs("div",{className:"flex items-start gap-3 p-3 rounded-lg bg-secondary/30 border border-border/30",children:[f.jsx("span",{className:"text-lg",children:"1."}),f.jsx("p",{className:"text-sm text-foreground/90",children:f.jsx("span",{className:"font-semibold",children:"Authenticated users will be move above guest users in the leaderboard."})})]}),f.jsxs("div",{className:"flex items-start gap-3 p-3 rounded-lg bg-secondary/30 border border-border/30",children:[f.jsx("span",{className:"text-lg",children:"2."}),f.jsx("p",{className:"text-sm text-foreground/90",children:f.jsxs("span",{className:"font-semibold",children:["Confirm ",f.jsx("span",{className:"text-success",children:"I am on track"})," within 24 hours to stay active  otherwise, you'll be marked as ",f.jsx("span",{className:"text-destructive",children:"relapsed"}),"."]})})]}),f.jsxs("div",{className:"flex items-start gap-3 p-3 rounded-lg bg-secondary/30 border border-border/30",children:[f.jsx("span",{className:"text-lg",children:"3."}),f.jsx("p",{className:"text-sm text-foreground/90",children:f.jsx("span",{className:"font-semibold",children:"Relapsed warriors will be removed from the leaderboard after 24 hours of inactivity."})})]}),f.jsxs("div",{className:"flex items-start gap-3 p-3 rounded-lg bg-secondary/30 border border-border/30",children:[f.jsx("span",{className:"text-lg",children:"4."}),f.jsx("p",{className:"text-sm text-foreground/90",children:f.jsx("span",{className:"font-semibold",children:"Sign in to keep your streak safe and secure across devices."})})]})]}),f.jsx(Xg,{children:f.jsx(tt,{onClick:()=>o(!1),className:"bg-primary text-primary-foreground",children:"Got it"})})]})}),f.jsx(Yg,{open:a,onOpenChange:l,children:f.jsxs(Sh,{className:"bg-card border-border",children:[f.jsxs(bh,{children:[f.jsx(Ih,{className:"font-display text-xl",children:"Share Your Feedback"}),f.jsx(BP,{children:"Please let us know what we can improve on this platform to serve your journey better."})]}),g?f.jsxs("div",{className:"py-8 text-center",children:[f.jsx("div",{className:"text-4xl mb-3",children:""}),f.jsx("p",{className:"text-lg font-medium text-success",children:"Thank you for your feedback!"}),f.jsx("p",{className:"text-sm text-muted-foreground",children:"We appreciate you helping us improve."})]}):f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"py-4",children:f.jsx(gN,{placeholder:"Share your thoughts, suggestions, or ideas...",value:u,onChange:x=>d(x.target.value),className:"min-h-[120px] resize-none"})}),f.jsxs(Xg,{children:[f.jsx(tt,{variant:"outline",onClick:()=>l(!1),className:"border-border/50",children:"Cancel"}),f.jsx(tt,{onClick:v,disabled:!u.trim()||h,className:"bg-primary text-primary-foreground",children:h?"Submitting...":"Submit Feedback"})]})]})]})})]})},_W=["Remember why you started this journey.","Guard your seed, guard your future.","Hold your energy, rise above urges.","Every urge mastered builds a stronger you.","Do not spend your power on seconds of pleasure.","Control your lust or lust controls your life.","The real flex is disciplined energy.","Retention is self-love in its rawest form.","Sacrifice cheap pleasure for priceless power.","You are stronger than a five-second urge.","Every time you say no, your future says thank you.","Self-mastery begins where instant pleasure ends.","Stop spilling your greatness for pixels.","What you retain, you become.","Choose purpose over porn, always.","Feed your goals, not your urges.","Hold, build, conquer.","Nofap: because your brain deserves better.","Retention sharpens focus like a blade.","Cheap pleasure is the most expensive habit.","You are not your urges; you are your choices.","Turn lust into fuel for greatness.","Every streak is a brick in your new life.","Stop draining your power to a screen.","Seed wasted is potential buried.","The more you retain, the more you attain.","Your future woman deserves your strongest self.","Starve your addiction, feed your ambition.","Hold your seed, hold your standards.","Youre not quitting pleasure, youre choosing power.","Urge resisted, spirit uplifted.","Retention builds the man you pretend to be.","Real kings do not bow to urges.","Do not trade your kingdom for a climax.","Power leaks drop by drop; seal the cracks.","Porn kills drive; retention revives it.","Let your eyes reflect purpose, not addiction.","Nofap: reclaim your mind, reclaim your life.","Your seed is your silent strength.","Save the energy, become the upgrade.","Retention turns chaos into clarity.","A man who controls his lust controls his path.","Every clean day is a victory lap.","Nothing is worth losing your self-respect.","Guard your focus like you guard your phone.","Quit the screen; build the dream.","Retention is the gym for your willpower.","Porn offers illusion; discipline offers evolution.","The longest high is long-term self-mastery.","Resisting once makes resisting twice easier.","Do not let pixels steal your purpose.","Your seed is royal; do not spill it for scraps.","Retention makes your presence louder than your words.","If it drains you, it owns you.","You are here to create, not to consume.","Hold back now to push forward later.","Nofap is not punishment, it is preparation.","Energy preserved is confidence amplified.","Lust fades; legacy remains.","Semen retained, spirit maintained.","Every urge overcome is proof youre changing.","Dont numb your pain; build your power.","Choose discipline when nobody is watching.","Porn is a shortcut to long-term regret.","Retention: less scrolling, more becoming.","Win the battle in your mind, the body will follow.","Your future self is watching your current habits.","Hold your seed; watch your aura grow.","You are not missing out; you are leveling up.","Killing the urge is building the king.","Retention gives your eyes their fire back.","Stop rehearsing pleasure and start practicing power.","A clear mind beats a quick climax.","Trade late-night relapse for early-morning progress.","When you master semen, you master self.","Your seed is the ink writing your destiny.","Real strength is saying no when its hardest.","Protect your energy like the rare currency it is.","Retention turns boys into focused men.","No relapse is worth your rebuilt confidence.","Stop resetting, start rising.","Your seed is meant for creation, not recreation.","Nofap: starve the weakness, feed the warrior.","Every urge you beat is a lifetime skill gained.","Hold the line today, be unstoppable tomorrow.","A man who holds his seed holds his throne.","Retention is the quiet rebellion against mediocrity.","Less ejaculation, more elevation.","Control your seed, rewrite your story."],Px={quotes:_W},EW=()=>{const{currentUser:t,streakData:e,startChallenge:n,relapse:r,confirmActive:s,getDaysCount:i}=hi(),[o,a]=y.useState(!1),[l,u]=y.useState(!1),d=(e==null?void 0:e.isActive)&&(e==null?void 0:e.startDate),h=i(),p=()=>{if(!(e!=null&&e.lastUpdateTime))return!1;const T=new Date(e.lastUpdateTime);return(new Date().getTime()-T.getTime())/(1e3*60*60)>=24},g=()=>{s(),a(!0),setTimeout(()=>a(!1),2e3)};return f.jsxs("div",{className:"min-h-screen bg-gradient-hero",children:[f.jsx(wW,{}),f.jsxs("main",{className:"container py-6 sm:py-8",children:[f.jsxs("div",{className:"mb-8 text-center",children:[f.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 rounded-full bg-primary/10 border border-primary/20 mb-4",children:[f.jsx(wa,{className:"h-4 w-4 text-primary"}),f.jsx("span",{className:"text-sm font-medium text-primary",children:"Rise Above"})]}),f.jsx("h1",{className:"font-display text-2xl sm:text-3xl font-bold mb-2",children:d?f.jsxs(f.Fragment,{children:["Keep Going, ",f.jsx("span",{className:"text-gradient-gold",children:"King"})]}):f.jsxs(f.Fragment,{children:["Your Journey Awaits, ",f.jsx("span",{className:"text-gradient-gold",children:"King"})]})}),f.jsx("p",{className:"text-muted-foreground max-w-md mx-auto",children:d?`${h} days of power. Every moment strengthens your resolve.`:"Semen retention is the answer you are searching for."})]}),f.jsxs("div",{className:"grid lg:grid-cols-2 gap-6 sm:gap-8",children:[f.jsxs("div",{className:"space-y-6",children:[f.jsxs(tt,{onClick:()=>u(!0),variant:"outline",className:"w-full h-12 border-primary/50 text-primary hover:bg-primary/10 hover:border-primary font-medium",children:[f.jsx(vO,{className:"h-5 w-5 mr-2"}),"Media"]}),f.jsx(c7,{}),f.jsxs("div",{className:"card-elevated p-6",children:[f.jsx("h3",{className:"font-semibold mb-4",children:"Actions"}),f.jsx("div",{className:"space-y-3",children:d?f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"flex gap-3",children:[f.jsx(tt,{onClick:g,variant:"outline",className:"flex-1 h-12 border-success/50 text-success hover:bg-success/10 hover:border-success font-medium",children:o?f.jsxs(f.Fragment,{children:[f.jsx(fO,{className:"h-5 w-5 mr-2"}),"Confirmed!"]}):f.jsxs(f.Fragment,{children:[f.jsx(IO,{className:"h-5 w-5 mr-2"}),"I Am On Track"]})}),f.jsxs(o7,{children:[f.jsx(a7,{asChild:!0,children:f.jsxs(tt,{variant:"outline",className:"flex-1 h-12 border-destructive/50 text-destructive hover:bg-destructive/10 hover:border-destructive font-medium",children:[f.jsx(RO,{className:"h-5 w-5 mr-2"}),"I Relapsed"]})}),f.jsxs(OP,{className:"bg-card border-border",children:[f.jsxs(LP,{children:[f.jsx(jP,{className:"font-display",children:"Reset Your Streak?"}),f.jsx(FP,{children:"This will reset your streak to 0 days. Remember, every king falls  what matters is that you rise again. Your honesty strengthens the community."})]}),f.jsxs(VP,{children:[f.jsx($P,{className:"border-border/50",children:"Keep Going"}),f.jsx(UP,{onClick:r,className:"bg-success text-success-foreground hover:bg-success/90",children:"Reset & Rise Again"})]})]})]})]}),p()&&f.jsx("p",{className:"text-xs text-amber-500 text-center",children:" Please confirm your status within 24 hours to stay active"})]}):f.jsx(vI,{children:f.jsxs(kV,{children:[f.jsx(NV,{asChild:!0,children:f.jsx("span",{className:"w-full",children:f.jsxs(tt,{onClick:n,disabled:t==null?void 0:t.isGuest,className:"w-full h-12 bg-gradient-gold text-primary-foreground hover:opacity-90 font-semibold text-base glow-primary disabled:opacity-50 disabled:cursor-not-allowed",children:[f.jsx(nv,{className:"h-5 w-5 mr-2"}),"Start Challenge"]})})}),(t==null?void 0:t.isGuest)&&f.jsx(wI,{className:"px-4 py-2 text-sm",children:f.jsx("p",{children:"Sign in to start your challenge"})})]})})}),d&&f.jsx("div",{className:"mt-4 p-3 rounded-lg bg-secondary/30 border border-border/30",children:f.jsxs("p",{className:"text-xs text-muted-foreground text-center",children:[" ",f.jsx("span",{className:"font-medium",children:"Honesty is power."})," The community respects truthful warriors."]})})]}),d&&f.jsx("div",{className:"overflow-hidden py-4",children:f.jsxs("p",{className:"text-sm italic text-foreground/90 leading-relaxed whitespace-nowrap animate-marquee",children:['"',Px.quotes[Math.max(0,h-1)%Px.quotes.length],'"']})})]}),f.jsx(H7,{})]})]}),f.jsx(C7,{open:l,onOpenChange:u})]})},kx="chat_messages",xW=100,TW=()=>{try{const t=new(window.AudioContext||window.webkitAudioContext),e=t.createOscillator(),n=t.createGain();e.connect(n),n.connect(t.destination),e.frequency.setValueAtTime(800,t.currentTime),e.frequency.setValueAtTime(600,t.currentTime+.1),n.gain.setValueAtTime(.3,t.currentTime),n.gain.exponentialRampToValueAtTime(.01,t.currentTime+.2),e.start(t.currentTime),e.stop(t.currentTime+.2)}catch(t){console.warn("Could not play notification sound:",t)}},SW=()=>{const{currentUser:t}=hi(),[e,n]=y.useState(!1),[r,s]=y.useState(!1),[i,o]=y.useState([]),[a,l]=y.useState(""),[u,d]=y.useState(!1),h=y.useRef(null),p=y.useRef(null),g=y.useRef(!0),T=y.useRef(0);y.useEffect(()=>{const C=hh(Ca(at,kx),BU("createdAt","desc"),HU(xW)),D=Hg(C,O=>{const I=[];O.forEach(A=>{I.push({id:A.id,...A.data()})});const b=I.reverse();if(!g.current&&b.length>T.current){const A=b[b.length-1];A&&t&&A.userId!==t.id&&TW()}g.current=!1,T.current=b.length,o(b)});return()=>D()},[t]),y.useEffect(()=>{h.current&&h.current.scrollIntoView({behavior:"smooth"})},[i]),y.useEffect(()=>{e&&!r&&p.current&&p.current.focus()},[e,r]);const v=async C=>{if(C.preventDefault(),!(!t||!a.trim()||u)&&!t.isGuest){d(!0);try{await qU(Ca(at,kx),{text:a.trim(),userId:t.id,userName:t.name,userPhoto:t.photoUrl||null,createdAt:FU()}),l("")}catch(D){console.error("Error sending message:",D)}finally{d(!1)}}},x=C=>C.split(" ").map(D=>D[0]).join("").toUpperCase().slice(0,2),E=C=>{const D=["#FF6B6B","#4ECDC4","#45B7D1","#96CEB4","#FFEAA7","#DDA0DD","#98D8C8","#F7DC6F","#BB8FCE","#85C1E9","#F8B500","#FF6F61","#6B5B95","#88B04B","#F7CAC9","#92A8D1","#955251","#B565A7","#009B77","#DD4124"];let O=0;for(let I=0;I<C.length;I++)O=C.charCodeAt(I)+((O<<5)-O);return D[Math.abs(O)%D.length]},_=()=>{n(!0),t&&hx(t.isGuest?"guest":"google")},S=()=>{s(!1),t&&hx(t.isGuest?"guest":"google")};return e?f.jsxs("div",{className:`fixed bottom-6 right-6 z-50 flex flex-col bg-background border border-border rounded-lg shadow-2xl transition-all duration-200 ${r?"w-72 h-12":"w-80 sm:w-96 h-[28rem]"}`,children:[f.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-gradient-to-r from-amber-500 to-yellow-500 rounded-t-lg cursor-pointer",onClick:()=>r&&S(),children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(Vp,{className:"h-5 w-5 text-white"}),f.jsx("span",{className:"font-semibold text-white",children:"Live Chat"}),f.jsxs("span",{className:"text-xs text-white/80",children:["(",i.length,")"]})]}),f.jsxs("div",{className:"flex items-center gap-1",children:[f.jsx(tt,{variant:"ghost",size:"icon",className:"h-7 w-7 text-white hover:bg-white/20",onClick:C=>{C.stopPropagation(),r?S():s(!0)},children:r?f.jsx(EO,{className:"h-4 w-4"}):f.jsx(TO,{className:"h-4 w-4"})}),f.jsx(tt,{variant:"ghost",size:"icon",className:"h-7 w-7 text-white hover:bg-white/20",onClick:C=>{C.stopPropagation(),n(!1)},children:f.jsx(lc,{className:"h-4 w-4"})})]})]}),!r&&f.jsxs(f.Fragment,{children:[f.jsx(jf,{className:"flex-1 p-3",children:f.jsxs("div",{className:"space-y-0.5",children:[i.length===0?f.jsxs("div",{className:"text-center text-muted-foreground py-8",children:[f.jsx(Vp,{className:"h-10 w-10 mx-auto mb-2 opacity-50"}),f.jsx("p",{className:"text-sm",children:"No messages yet"}),f.jsx("p",{className:"text-xs",children:"Be the first to say something!"})]}):i.map(C=>f.jsxs("div",{className:"flex items-start gap-1.5 py-0.5 hover:bg-muted/50 px-1 rounded",children:[f.jsxs(Ff,{className:"h-5 w-5 flex-shrink-0 mt-0.5",children:[f.jsx(Uf,{src:C.userPhoto}),f.jsx($f,{className:"text-[10px] bg-amber-100 text-amber-700",children:x(C.userName)})]}),f.jsxs("p",{className:"text-sm leading-relaxed break-words min-w-0",children:[f.jsxs("span",{className:"font-semibold mr-1",style:{color:E(C.userName)},children:[C.userName,":"]}),f.jsx("span",{className:"text-foreground",children:C.text})]})]},C.id)),f.jsx("div",{ref:h})]})}),f.jsx("div",{className:"p-3 border-t border-border",children:t&&!t.isGuest?f.jsxs("form",{onSubmit:v,className:"flex gap-2",children:[f.jsx(xh,{ref:p,value:a,onChange:C=>l(C.target.value),placeholder:"Type a message...",className:"flex-1 h-9 text-sm",maxLength:500,disabled:u}),f.jsx(tt,{type:"submit",size:"icon",className:"h-9 w-9 bg-amber-500 hover:bg-amber-600",disabled:!a.trim()||u,children:f.jsx(CO,{className:"h-4 w-4"})})]}):f.jsx("div",{className:"text-center text-sm text-muted-foreground py-2",children:t!=null&&t.isGuest?"Sign in with Google to chat":"Sign in to join the chat"})})]})]}):f.jsx(tt,{onClick:_,className:"fixed bottom-6 right-6 h-14 w-14 rounded-full shadow-lg bg-gradient-to-r from-amber-500 to-yellow-500 hover:from-amber-600 hover:to-yellow-600 z-50",size:"icon",children:f.jsx(Vp,{className:"h-6 w-6 text-white"})})},bW=()=>{const{currentUser:t,isLoading:e}=hi();return e?f.jsxs("div",{className:"min-h-screen bg-[#0f1419] flex flex-col items-center justify-center",children:[f.jsx(wa,{className:"h-12 w-12 text-yellow-400 animate-pulse mb-4"}),f.jsx("p",{className:"text-gray-400 text-sm",children:"Loading..."})]}):t?f.jsxs(f.Fragment,{children:[f.jsx(EW,{}),f.jsx(SW,{})]}):f.jsx(HB,{})},IW=()=>f.jsx(FB,{children:f.jsx(jB,{children:f.jsx(bW,{})})}),CW=()=>{const t=OI();return y.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",t.pathname)},[t.pathname]),f.jsx("div",{className:"flex min-h-screen items-center justify-center bg-muted",children:f.jsxs("div",{className:"text-center",children:[f.jsx("h1",{className:"mb-4 text-4xl font-bold",children:"404"}),f.jsx("p",{className:"mb-4 text-xl text-muted-foreground",children:"Oops! Page not found"}),f.jsx("a",{href:"/",className:"text-primary underline hover:text-primary/90",children:"Return to Home"})]})})};function AW(){const[t,e]=y.useState(null),[n,r]=y.useState(!1),[s,i]=y.useState(!1);return y.useEffect(()=>{if(window.matchMedia("(display-mode: standalone)").matches){i(!0);return}const a=u=>{u.preventDefault(),e(u),r(!0)},l=()=>{i(!0),r(!1),e(null)};return window.addEventListener("beforeinstallprompt",a),window.addEventListener("appinstalled",l),()=>{window.removeEventListener("beforeinstallprompt",a),window.removeEventListener("appinstalled",l)}},[]),{isInstallable:n,isInstalled:s,install:async()=>{if(!t)return!1;await t.prompt();const{outcome:a}=await t.userChoice;return a==="accepted"?(r(!1),e(null),!0):!1}}}function RW(){return typeof navigator>"u"?!1:/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream}function PW(){return window.matchMedia("(display-mode: standalone)").matches||navigator.standalone===!0}function kW(){const{isInstallable:t,isInstalled:e,install:n}=AW(),[r,s]=y.useState(!1),[i,o]=y.useState(!1);y.useEffect(()=>{if(RW()&&!PW()&&!localStorage.getItem("pwa-ios-dismissed")){const u=setTimeout(()=>o(!0),2e3);return()=>clearTimeout(u)}},[]);const a=()=>{s(!0),i&&(localStorage.setItem("pwa-ios-dismissed","true"),o(!1))};return e||r?null:i?f.jsxs("div",{className:"fixed bottom-4 left-4 right-4 md:left-auto md:right-4 md:w-80 bg-card border border-border rounded-lg p-4 shadow-lg z-50 animate-in slide-in-from-bottom-4",children:[f.jsx("button",{onClick:a,className:"absolute top-2 right-2 text-muted-foreground hover:text-foreground","aria-label":"Dismiss",children:f.jsx(lc,{className:"h-4 w-4"})}),f.jsxs("div",{className:"flex items-start gap-3",children:[f.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-primary/10 rounded-lg flex items-center justify-center",children:f.jsx(jp,{className:"h-5 w-5 text-primary"})}),f.jsxs("div",{className:"flex-1 min-w-0",children:[f.jsx("h3",{className:"font-semibold text-sm",children:"Install LetsGoKings"}),f.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Tap ",f.jsx("span",{className:"inline-flex items-center",children:f.jsx(jp,{className:"h-3 w-3 mx-0.5"})})," then ",f.jsx("strong",{children:'"Add to Home Screen"'})]}),f.jsx("div",{className:"mt-2 flex items-center gap-2 text-xs text-muted-foreground",children:f.jsxs("div",{className:"flex items-center gap-1",children:[f.jsx("span",{className:"w-5 h-5 rounded bg-muted flex items-center justify-center",children:f.jsx(jp,{className:"h-3 w-3"})}),f.jsx("span",{children:""}),f.jsx("span",{className:"px-1.5 py-0.5 rounded bg-muted text-[10px]",children:"Add to Home Screen"})]})})]})]})]}):t?f.jsxs("div",{className:"fixed bottom-4 left-4 right-4 md:left-auto md:right-4 md:w-80 bg-card border border-border rounded-lg p-4 shadow-lg z-50 animate-in slide-in-from-bottom-4",children:[f.jsx("button",{onClick:a,className:"absolute top-2 right-2 text-muted-foreground hover:text-foreground","aria-label":"Dismiss",children:f.jsx(lc,{className:"h-4 w-4"})}),f.jsxs("div",{className:"flex items-start gap-3",children:[f.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-primary/10 rounded-lg flex items-center justify-center",children:f.jsx(mO,{className:"h-5 w-5 text-primary"})}),f.jsxs("div",{className:"flex-1 min-w-0",children:[f.jsx("h3",{className:"font-semibold text-sm",children:"Install LetsGoKings"}),f.jsx("p",{className:"text-xs text-muted-foreground mt-0.5",children:"Add to your home screen for quick access"}),f.jsx(tt,{onClick:()=>{CB("android"),n()},size:"sm",className:"mt-2 w-full",children:"Install App"})]})]})]}):null}const NW=new tj,DW=()=>f.jsx(rj,{client:NW,children:f.jsxs(vI,{children:[f.jsx(hL,{}),f.jsx(HL,{}),f.jsx(kW,{}),f.jsx(zj,{children:f.jsxs(Fj,{children:[f.jsx(Eg,{path:"/",element:f.jsx(IW,{})}),f.jsx(Eg,{path:"*",element:f.jsx(CW,{})})]})})]})});MR.then(t=>{t&&console.log("Google Analytics initialized")});eb(document.getElementById("root")).render(f.jsx(DW,{}));
